!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=764)}([function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(438)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(448)()},function(module,exports){var core=module.exports={version:"2.5.1"};"number"==typeof __e&&(__e=core)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function assert(condition,message){if(!condition)throw new Error(message||"luma.gl: assertion failed.")}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"i",function(){return epsilon}),__webpack_require__.d(__webpack_exports__,"j",function(){return epsilon2}),__webpack_require__.d(__webpack_exports__,"o",function(){return pi}),__webpack_require__.d(__webpack_exports__,"l",function(){return halfPi}),__webpack_require__.d(__webpack_exports__,"q",function(){return quarterPi}),__webpack_require__.d(__webpack_exports__,"w",function(){return tau}),__webpack_require__.d(__webpack_exports__,"h",function(){return degrees}),__webpack_require__.d(__webpack_exports__,"r",function(){return radians}),__webpack_require__.d(__webpack_exports__,"a",function(){return abs}),__webpack_require__.d(__webpack_exports__,"d",function(){return atan}),__webpack_require__.d(__webpack_exports__,"e",function(){return atan2}),__webpack_require__.d(__webpack_exports__,"g",function(){return cos}),__webpack_require__.d(__webpack_exports__,"f",function(){return ceil}),__webpack_require__.d(__webpack_exports__,"k",function(){return exp}),__webpack_require__.d(__webpack_exports__,"n",function(){return log}),__webpack_require__.d(__webpack_exports__,"p",function(){return pow}),__webpack_require__.d(__webpack_exports__,"t",function(){return sin}),__webpack_require__.d(__webpack_exports__,"s",function(){return sign}),__webpack_require__.d(__webpack_exports__,"u",function(){return sqrt}),__webpack_require__.d(__webpack_exports__,"v",function(){return tan}),__webpack_exports__.b=function acos(x){return x>1?0:x<-1?pi:Math.acos(x)},__webpack_exports__.c=function asin(x){return x>1?halfPi:x<-1?-halfPi:Math.asin(x)},__webpack_exports__.m=function haversin(x){return(x=sin(x/2))*x};var epsilon=1e-6,epsilon2=1e-12,pi=Math.PI,halfPi=pi/2,quarterPi=pi/4,tau=2*pi,degrees=180/pi,radians=pi/180,abs=Math.abs,atan=Math.atan,atan2=Math.atan2,cos=Math.cos,ceil=Math.ceil,exp=Math.exp,log=(Math.floor,Math.log),pow=Math.pow,sin=Math.sin,sign=Math.sign||function(x){return x>0?1:x<0?-1:0},sqrt=Math.sqrt,tan=Math.tan},function(module,exports,__webpack_require__){"use strict";var keys=__webpack_require__(324),foreach=__webpack_require__(326),hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol(),toStr=Object.prototype.toString,supportsDescriptors=Object.defineProperty&&function(){var obj={};try{for(var _ in Object.defineProperty(obj,"x",{enumerable:!1,value:obj}),obj)return!1;return obj.x===obj}catch(e){return!1}}(),defineProperty=function(object,name,value,predicate){var fn;name in object&&("function"!=typeof(fn=predicate)||"[object Function]"!==toStr.call(fn)||!predicate())||(supportsDescriptors?Object.defineProperty(object,name,{configurable:!0,enumerable:!1,value:value,writable:!0}):object[name]=value)},defineProperties=function(object,map){var predicates=arguments.length>2?arguments[2]:{},props=keys(map);hasSymbols&&(props=props.concat(Object.getOwnPropertySymbols(map))),foreach(props,function(name){defineProperty(object,name,map[name],predicates[name])})};defineProperties.supportsDescriptors=!!supportsDescriptors,module.exports=defineProperties},function(module,exports,__webpack_require__){var global=__webpack_require__(12),core=__webpack_require__(2),ctx=__webpack_require__(29),hide=__webpack_require__(32),$export=function(type,name,source){var key,own,out,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports.prototype,target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{}).prototype;for(key in IS_GLOBAL&&(source=name),source)(own=!IS_FORCED&&target&&void 0!==target[key])&&key in exports||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(a,b,c){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};return F.prototype=C.prototype,F}(out):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,IS_PROTO&&((exports.virtual||(exports.virtual={}))[key]=out,type&$export.R&&expProto&&!expProto[key]&&hide(expProto,key,out)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _assign2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(81));exports.default=_assign2.default||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _defineProperty2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(148));exports.default=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),(0,_defineProperty2.default)(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}()},function(module,exports,__webpack_require__){var store=__webpack_require__(126)("wks"),uid=__webpack_require__(83),Symbol=__webpack_require__(12).Symbol,USE_SYMBOL="function"==typeof Symbol;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))}).store=store},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__webgl_types__=__webpack_require__(910);__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_0__webgl_types__.c}),__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_0__webgl_types__.b}),__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__webgl_types__.a});var __WEBPACK_IMPORTED_MODULE_1__webgl_checks__=__webpack_require__(563);__webpack_require__.d(__webpack_exports__,"k",function(){return __WEBPACK_IMPORTED_MODULE_1__webgl_checks__.c}),__webpack_require__.d(__webpack_exports__,"l",function(){return __WEBPACK_IMPORTED_MODULE_1__webgl_checks__.d}),__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_1__webgl_checks__.b}),__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_1__webgl_checks__.a});var __WEBPACK_IMPORTED_MODULE_2__request_animation_frame__=__webpack_require__(911);__webpack_require__.d(__webpack_exports__,"n",function(){return __WEBPACK_IMPORTED_MODULE_2__request_animation_frame__.b}),__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_2__request_animation_frame__.a});var __WEBPACK_IMPORTED_MODULE_3__format_glsl_error__=__webpack_require__(912);__webpack_require__.d(__webpack_exports__,"m",function(){return __WEBPACK_IMPORTED_MODULE_3__format_glsl_error__.a});var __WEBPACK_IMPORTED_MODULE_4__get_shader_name__=__webpack_require__(564);__webpack_require__.d(__webpack_exports__,"j",function(){return __WEBPACK_IMPORTED_MODULE_4__get_shader_name__.a});var __WEBPACK_IMPORTED_MODULE_5__typed_array_utils__=__webpack_require__(460);__webpack_require__.d(__webpack_exports__,"g",function(){return __WEBPACK_IMPORTED_MODULE_5__typed_array_utils__.a}),__webpack_require__.d(__webpack_exports__,"o",function(){return __WEBPACK_IMPORTED_MODULE_5__typed_array_utils__.d});var __WEBPACK_IMPORTED_MODULE_6__webgl_utils_constants_to_keys__=__webpack_require__(461);__webpack_require__.d(__webpack_exports__,"i",function(){return __WEBPACK_IMPORTED_MODULE_6__webgl_utils_constants_to_keys__.c}),__webpack_require__.d(__webpack_exports__,"h",function(){return __WEBPACK_IMPORTED_MODULE_6__webgl_utils_constants_to_keys__.a});var __WEBPACK_IMPORTED_MODULE_7__constants__=__webpack_require__(19);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__constants__)},function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_require__.d(__webpack_exports__,"experimental",function(){return experimental});var __WEBPACK_IMPORTED_MODULE_0__webgl_utils_webgl_checks__=__webpack_require__(563);__webpack_require__.d(__webpack_exports__,"isWebGL",function(){return __WEBPACK_IMPORTED_MODULE_0__webgl_utils_webgl_checks__.c}),__webpack_require__.d(__webpack_exports__,"isWebGL2",function(){return __WEBPACK_IMPORTED_MODULE_0__webgl_utils_webgl_checks__.d});var __WEBPACK_IMPORTED_MODULE_1__webgl_utils_constants_to_keys__=__webpack_require__(461);__webpack_require__.d(__webpack_exports__,"getKeyValue",function(){return __WEBPACK_IMPORTED_MODULE_1__webgl_utils_constants_to_keys__.c}),__webpack_require__.d(__webpack_exports__,"getKey",function(){return __WEBPACK_IMPORTED_MODULE_1__webgl_utils_constants_to_keys__.a});var __WEBPACK_IMPORTED_MODULE_2__webgl_context_context__=__webpack_require__(258);__webpack_require__.d(__webpack_exports__,"createGLContext",function(){return __WEBPACK_IMPORTED_MODULE_2__webgl_context_context__.a}),__webpack_require__.d(__webpack_exports__,"destroyGLContext",function(){return __WEBPACK_IMPORTED_MODULE_2__webgl_context_context__.b}),__webpack_require__.d(__webpack_exports__,"resizeGLContext",function(){return __WEBPACK_IMPORTED_MODULE_2__webgl_context_context__.e}),__webpack_require__.d(__webpack_exports__,"pollGLContext",function(){return __WEBPACK_IMPORTED_MODULE_2__webgl_context_context__.d}),__webpack_require__.d(__webpack_exports__,"setContextDefaults",function(){return __WEBPACK_IMPORTED_MODULE_2__webgl_context_context__.f});var __WEBPACK_IMPORTED_MODULE_3__webgl_context__=__webpack_require__(99);__webpack_require__.d(__webpack_exports__,"trackContextCreation",function(){return __WEBPACK_IMPORTED_MODULE_3__webgl_context__.h}),__webpack_require__.d(__webpack_exports__,"trackContextState",function(){return __WEBPACK_IMPORTED_MODULE_3__webgl_context__.i});var __WEBPACK_IMPORTED_MODULE_4__webgl_context_context_state__=__webpack_require__(139);__webpack_require__.d(__webpack_exports__,"resetParameters",function(){return __WEBPACK_IMPORTED_MODULE_4__webgl_context_context_state__.d}),__webpack_require__.d(__webpack_exports__,"getParameter",function(){return __WEBPACK_IMPORTED_MODULE_4__webgl_context_context_state__.b}),__webpack_require__.d(__webpack_exports__,"getParameters",function(){return __WEBPACK_IMPORTED_MODULE_4__webgl_context_context_state__.c}),__webpack_require__.d(__webpack_exports__,"setParameter",function(){return __WEBPACK_IMPORTED_MODULE_4__webgl_context_context_state__.e}),__webpack_require__.d(__webpack_exports__,"setParameters",function(){return __WEBPACK_IMPORTED_MODULE_4__webgl_context_context_state__.f}),__webpack_require__.d(__webpack_exports__,"withParameters",function(){return __WEBPACK_IMPORTED_MODULE_4__webgl_context_context_state__.g}),__webpack_require__.d(__webpack_exports__,"getModifiedParameters",function(){return __WEBPACK_IMPORTED_MODULE_4__webgl_context_context_state__.a});var __WEBPACK_IMPORTED_MODULE_5__webgl_context_context_limits__=__webpack_require__(259);__webpack_require__.d(__webpack_exports__,"getContextInfo",function(){return __WEBPACK_IMPORTED_MODULE_5__webgl_context_context_limits__.a}),__webpack_require__.d(__webpack_exports__,"getGLContextInfo",function(){return __WEBPACK_IMPORTED_MODULE_5__webgl_context_context_limits__.c}),__webpack_require__.d(__webpack_exports__,"getContextLimits",function(){return __WEBPACK_IMPORTED_MODULE_5__webgl_context_context_limits__.b}),__webpack_require__.d(__webpack_exports__,"glGetDebugInfo",function(){return __WEBPACK_IMPORTED_MODULE_5__webgl_context_context_limits__.d});var __WEBPACK_IMPORTED_MODULE_6__webgl_context_context_features__=__webpack_require__(260);__webpack_require__.d(__webpack_exports__,"FEATURES",function(){return __WEBPACK_IMPORTED_MODULE_6__webgl_context_context_features__.a}),__webpack_require__.d(__webpack_exports__,"hasFeature",function(){return __WEBPACK_IMPORTED_MODULE_6__webgl_context_context_features__.d}),__webpack_require__.d(__webpack_exports__,"hasFeatures",function(){return __WEBPACK_IMPORTED_MODULE_6__webgl_context_context_features__.e}),__webpack_require__.d(__webpack_exports__,"getFeatures",function(){return __WEBPACK_IMPORTED_MODULE_6__webgl_context_context_features__.c}),__webpack_require__.d(__webpack_exports__,"canCompileGLGSExtension",function(){return __WEBPACK_IMPORTED_MODULE_6__webgl_context_context_features__.b});var __WEBPACK_IMPORTED_MODULE_7__webgl_context_debug_context__=__webpack_require__(463);__webpack_require__.d(__webpack_exports__,"makeDebugContext",function(){return __WEBPACK_IMPORTED_MODULE_7__webgl_context_debug_context__.a});var __WEBPACK_IMPORTED_MODULE_8__webgl_attribute__=__webpack_require__(570),__WEBPACK_IMPORTED_MODULE_9__webgl_buffer__=__webpack_require__(140);__webpack_require__.d(__webpack_exports__,"Buffer",function(){return __WEBPACK_IMPORTED_MODULE_9__webgl_buffer__.a});var __WEBPACK_IMPORTED_MODULE_10__webgl_shader__=__webpack_require__(261);__webpack_require__.d(__webpack_exports__,"Shader",function(){return __WEBPACK_IMPORTED_MODULE_10__webgl_shader__.b}),__webpack_require__.d(__webpack_exports__,"VertexShader",function(){return __WEBPACK_IMPORTED_MODULE_10__webgl_shader__.c}),__webpack_require__.d(__webpack_exports__,"FragmentShader",function(){return __WEBPACK_IMPORTED_MODULE_10__webgl_shader__.a});var __WEBPACK_IMPORTED_MODULE_11__webgl_program__=__webpack_require__(465);__webpack_require__.d(__webpack_exports__,"Program",function(){return __WEBPACK_IMPORTED_MODULE_11__webgl_program__.a});var __WEBPACK_IMPORTED_MODULE_12__webgl_framebuffer__=__webpack_require__(219);__webpack_require__.d(__webpack_exports__,"Framebuffer",function(){return __WEBPACK_IMPORTED_MODULE_12__webgl_framebuffer__.a});var __WEBPACK_IMPORTED_MODULE_13__webgl_renderbuffer__=__webpack_require__(468);__webpack_require__.d(__webpack_exports__,"Renderbuffer",function(){return __WEBPACK_IMPORTED_MODULE_13__webgl_renderbuffer__.a});var __WEBPACK_IMPORTED_MODULE_14__webgl_texture_2d__=__webpack_require__(467);__webpack_require__.d(__webpack_exports__,"Texture2D",function(){return __WEBPACK_IMPORTED_MODULE_14__webgl_texture_2d__.a});var __WEBPACK_IMPORTED_MODULE_15__webgl_texture_cube__=__webpack_require__(572);__webpack_require__.d(__webpack_exports__,"TextureCube",function(){return __WEBPACK_IMPORTED_MODULE_15__webgl_texture_cube__.a});var __WEBPACK_IMPORTED_MODULE_16__webgl_draw__=__webpack_require__(573);__webpack_require__.d(__webpack_exports__,"draw",function(){return __WEBPACK_IMPORTED_MODULE_16__webgl_draw__.a});var __WEBPACK_IMPORTED_MODULE_17__webgl_clear__=__webpack_require__(262);__webpack_require__.d(__webpack_exports__,"clear",function(){return __WEBPACK_IMPORTED_MODULE_17__webgl_clear__.a}),__webpack_require__.d(__webpack_exports__,"clearBuffer",function(){return __WEBPACK_IMPORTED_MODULE_17__webgl_clear__.b});var __WEBPACK_IMPORTED_MODULE_18__webgl_fence_sync__=__webpack_require__(920);__webpack_require__.d(__webpack_exports__,"FenceSync",function(){return __WEBPACK_IMPORTED_MODULE_18__webgl_fence_sync__.a});var __WEBPACK_IMPORTED_MODULE_19__webgl_query__=__webpack_require__(575);__webpack_require__.d(__webpack_exports__,"Query",function(){return __WEBPACK_IMPORTED_MODULE_19__webgl_query__.a});var __WEBPACK_IMPORTED_MODULE_20__webgl_sampler__=__webpack_require__(571);__webpack_require__.d(__webpack_exports__,"Sampler",function(){return __WEBPACK_IMPORTED_MODULE_20__webgl_sampler__.a});var __WEBPACK_IMPORTED_MODULE_21__webgl_texture_3d__=__webpack_require__(921);__webpack_require__.d(__webpack_exports__,"Texture3D",function(){return __WEBPACK_IMPORTED_MODULE_21__webgl_texture_3d__.a});var __WEBPACK_IMPORTED_MODULE_22__webgl_texture_2d_array__=__webpack_require__(922);__webpack_require__.d(__webpack_exports__,"Texture2DArray",function(){return __WEBPACK_IMPORTED_MODULE_22__webgl_texture_2d_array__.a});var __WEBPACK_IMPORTED_MODULE_23__webgl_transform_feedback__=__webpack_require__(576);__webpack_require__.d(__webpack_exports__,"TransformFeedback",function(){return __WEBPACK_IMPORTED_MODULE_23__webgl_transform_feedback__.a});var __WEBPACK_IMPORTED_MODULE_24__webgl_vertex_array__=__webpack_require__(466);__webpack_require__.d(__webpack_exports__,"VertexArray",function(){return __WEBPACK_IMPORTED_MODULE_24__webgl_vertex_array__.a});var __WEBPACK_IMPORTED_MODULE_25__webgl_uniform_buffer_layout__=__webpack_require__(923);__webpack_require__.d(__webpack_exports__,"UniformBufferLayout",function(){return __WEBPACK_IMPORTED_MODULE_25__webgl_uniform_buffer_layout__.a});var __WEBPACK_IMPORTED_MODULE_26__core_model__=__webpack_require__(220);__webpack_require__.d(__webpack_exports__,"Model",function(){return __WEBPACK_IMPORTED_MODULE_26__core_model__.a});var __WEBPACK_IMPORTED_MODULE_27__core_animation_loop__=__webpack_require__(476);__webpack_require__.d(__webpack_exports__,"AnimationLoop",function(){return __WEBPACK_IMPORTED_MODULE_27__core_animation_loop__.a});var __WEBPACK_IMPORTED_MODULE_28__core_animation_loop_proxy__=__webpack_require__(592);__webpack_require__.d(__webpack_exports__,"AnimationLoopProxy",function(){return __WEBPACK_IMPORTED_MODULE_28__core_animation_loop_proxy__.a});var __WEBPACK_IMPORTED_MODULE_29__core_pick_models__=__webpack_require__(973);__webpack_require__.d(__webpack_exports__,"pickModels",function(){return __WEBPACK_IMPORTED_MODULE_29__core_pick_models__.a});var __WEBPACK_IMPORTED_MODULE_30__core_picking_colors__=__webpack_require__(975);__webpack_require__.d(__webpack_exports__,"encodePickingColor",function(){return __WEBPACK_IMPORTED_MODULE_30__core_picking_colors__.b}),__webpack_require__.d(__webpack_exports__,"decodePickingColor",function(){return __WEBPACK_IMPORTED_MODULE_30__core_picking_colors__.a}),__webpack_require__.d(__webpack_exports__,"getNullPickingColor",function(){return __WEBPACK_IMPORTED_MODULE_30__core_picking_colors__.c});var __WEBPACK_IMPORTED_MODULE_31__packages_events__=__webpack_require__(976);__webpack_require__.d(__webpack_exports__,"addEvents",function(){return __WEBPACK_IMPORTED_MODULE_31__packages_events__.a});var __WEBPACK_IMPORTED_MODULE_32__geometry_geometry__=__webpack_require__(100);__webpack_require__.d(__webpack_exports__,"Geometry",function(){return __WEBPACK_IMPORTED_MODULE_32__geometry_geometry__.a});var __WEBPACK_IMPORTED_MODULE_33__geometry_cone_geometry__=__webpack_require__(593);__webpack_require__.d(__webpack_exports__,"ConeGeometry",function(){return __WEBPACK_IMPORTED_MODULE_33__geometry_cone_geometry__.a});var __WEBPACK_IMPORTED_MODULE_34__geometry_cube_geometry__=__webpack_require__(594);__webpack_require__.d(__webpack_exports__,"CubeGeometry",function(){return __WEBPACK_IMPORTED_MODULE_34__geometry_cube_geometry__.a});var __WEBPACK_IMPORTED_MODULE_35__geometry_cylinder_geometry__=__webpack_require__(595);__webpack_require__.d(__webpack_exports__,"CylinderGeometry",function(){return __WEBPACK_IMPORTED_MODULE_35__geometry_cylinder_geometry__.a});var __WEBPACK_IMPORTED_MODULE_36__geometry_ico_sphere_geometry__=__webpack_require__(596);__webpack_require__.d(__webpack_exports__,"IcoSphereGeometry",function(){return __WEBPACK_IMPORTED_MODULE_36__geometry_ico_sphere_geometry__.a});var __WEBPACK_IMPORTED_MODULE_37__geometry_plane_geometry__=__webpack_require__(597);__webpack_require__.d(__webpack_exports__,"PlaneGeometry",function(){return __WEBPACK_IMPORTED_MODULE_37__geometry_plane_geometry__.a});var __WEBPACK_IMPORTED_MODULE_38__geometry_sphere_geometry__=__webpack_require__(598);__webpack_require__.d(__webpack_exports__,"SphereGeometry",function(){return __WEBPACK_IMPORTED_MODULE_38__geometry_sphere_geometry__.a});var __WEBPACK_IMPORTED_MODULE_39__geometry_truncated_cone_geometry__=__webpack_require__(266);__webpack_require__.d(__webpack_exports__,"TruncatedConeGeometry",function(){return __WEBPACK_IMPORTED_MODULE_39__geometry_truncated_cone_geometry__.a});var __WEBPACK_IMPORTED_MODULE_40__models_cone__=__webpack_require__(978);__webpack_require__.d(__webpack_exports__,"Cone",function(){return __WEBPACK_IMPORTED_MODULE_40__models_cone__.a});var __WEBPACK_IMPORTED_MODULE_41__models_cube__=__webpack_require__(979);__webpack_require__.d(__webpack_exports__,"Cube",function(){return __WEBPACK_IMPORTED_MODULE_41__models_cube__.a});var __WEBPACK_IMPORTED_MODULE_42__models_cylinder__=__webpack_require__(980);__webpack_require__.d(__webpack_exports__,"Cylinder",function(){return __WEBPACK_IMPORTED_MODULE_42__models_cylinder__.a});var __WEBPACK_IMPORTED_MODULE_43__models_ico_sphere__=__webpack_require__(981);__webpack_require__.d(__webpack_exports__,"IcoSphere",function(){return __WEBPACK_IMPORTED_MODULE_43__models_ico_sphere__.a});var __WEBPACK_IMPORTED_MODULE_44__models_plane__=__webpack_require__(982);__webpack_require__.d(__webpack_exports__,"Plane",function(){return __WEBPACK_IMPORTED_MODULE_44__models_plane__.a});var __WEBPACK_IMPORTED_MODULE_45__models_sphere__=__webpack_require__(983);__webpack_require__.d(__webpack_exports__,"Sphere",function(){return __WEBPACK_IMPORTED_MODULE_45__models_sphere__.a});var __WEBPACK_IMPORTED_MODULE_46__models_truncated_cone__=__webpack_require__(984);__webpack_require__.d(__webpack_exports__,"TruncatedCone",function(){return __WEBPACK_IMPORTED_MODULE_46__models_truncated_cone__.a});var __WEBPACK_IMPORTED_MODULE_47__models_clip_space_quad__=__webpack_require__(985);__webpack_require__.d(__webpack_exports__,"ClipSpaceQuad",function(){return __WEBPACK_IMPORTED_MODULE_47__models_clip_space_quad__.a});var __WEBPACK_IMPORTED_MODULE_48__io__=__webpack_require__(986);__webpack_require__.d(__webpack_exports__,"setPathPrefix",function(){return __WEBPACK_IMPORTED_MODULE_48__io__.i}),__webpack_require__.d(__webpack_exports__,"loadFile",function(){return __WEBPACK_IMPORTED_MODULE_48__io__.a}),__webpack_require__.d(__webpack_exports__,"loadImage",function(){return __WEBPACK_IMPORTED_MODULE_48__io__.c}),__webpack_require__.d(__webpack_exports__,"loadFiles",function(){return __WEBPACK_IMPORTED_MODULE_48__io__.b}),__webpack_require__.d(__webpack_exports__,"loadImages",function(){return __WEBPACK_IMPORTED_MODULE_48__io__.d}),__webpack_require__.d(__webpack_exports__,"loadTextures",function(){return __WEBPACK_IMPORTED_MODULE_48__io__.g}),__webpack_require__.d(__webpack_exports__,"loadProgram",function(){return __WEBPACK_IMPORTED_MODULE_48__io__.f}),__webpack_require__.d(__webpack_exports__,"loadModel",function(){return __WEBPACK_IMPORTED_MODULE_48__io__.e}),__webpack_require__.d(__webpack_exports__,"parseModel",function(){return __WEBPACK_IMPORTED_MODULE_48__io__.h});var __WEBPACK_IMPORTED_MODULE_49__shadertools_lib_shader_cache__=__webpack_require__(591);__webpack_require__.d(__webpack_exports__,"ShaderCache",function(){return __WEBPACK_IMPORTED_MODULE_49__shadertools_lib_shader_cache__.a});var __WEBPACK_IMPORTED_MODULE_50__shadertools_lib_assemble_shaders__=__webpack_require__(590);__webpack_require__.d(__webpack_exports__,"assembleShaders",function(){return __WEBPACK_IMPORTED_MODULE_50__shadertools_lib_assemble_shaders__.a});var __WEBPACK_IMPORTED_MODULE_51__shadertools_lib_shader_modules__=__webpack_require__(474);__webpack_require__.d(__webpack_exports__,"registerShaderModules",function(){return __WEBPACK_IMPORTED_MODULE_51__shadertools_lib_shader_modules__.b}),__webpack_require__.d(__webpack_exports__,"setDefaultShaderModules",function(){return __WEBPACK_IMPORTED_MODULE_51__shadertools_lib_shader_modules__.d});var __WEBPACK_IMPORTED_MODULE_52__shadertools_modules_fp32_fp32__=__webpack_require__(988);__webpack_require__.d(__webpack_exports__,"fp32",function(){return __WEBPACK_IMPORTED_MODULE_52__shadertools_modules_fp32_fp32__.a});var __WEBPACK_IMPORTED_MODULE_53__shadertools_modules_fp64_fp64__=__webpack_require__(989);__webpack_require__.d(__webpack_exports__,"fp64",function(){return __WEBPACK_IMPORTED_MODULE_53__shadertools_modules_fp64_fp64__.a});var __WEBPACK_IMPORTED_MODULE_54__shadertools_modules_project_project__=__webpack_require__(601);__webpack_require__.d(__webpack_exports__,"project",function(){return __WEBPACK_IMPORTED_MODULE_54__shadertools_modules_project_project__.a});var __WEBPACK_IMPORTED_MODULE_55__shadertools_modules_lighting_lighting__=__webpack_require__(993);__webpack_require__.d(__webpack_exports__,"lighting",function(){return __WEBPACK_IMPORTED_MODULE_55__shadertools_modules_lighting_lighting__.a});var __WEBPACK_IMPORTED_MODULE_56__shadertools_modules_dirlight_dirlight__=__webpack_require__(997);__webpack_require__.d(__webpack_exports__,"dirlight",function(){return __WEBPACK_IMPORTED_MODULE_56__shadertools_modules_dirlight_dirlight__.a});var __WEBPACK_IMPORTED_MODULE_57__shadertools_modules_picking_picking__=__webpack_require__(998);__webpack_require__.d(__webpack_exports__,"picking",function(){return __WEBPACK_IMPORTED_MODULE_57__shadertools_modules_picking_picking__.a});var __WEBPACK_IMPORTED_MODULE_58__shadertools_modules_diffuse_diffuse__=__webpack_require__(999);__webpack_require__.d(__webpack_exports__,"diffuse",function(){return __WEBPACK_IMPORTED_MODULE_58__shadertools_modules_diffuse_diffuse__.a});var __WEBPACK_IMPORTED_MODULE_59__core_experimental_transform__=__webpack_require__(1e3),__WEBPACK_IMPORTED_MODULE_60__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_60__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_60__constants__);__webpack_require__.d(__webpack_exports__,"GL",function(){return __WEBPACK_IMPORTED_MODULE_60__constants___default.a});var __WEBPACK_IMPORTED_MODULE_61__deprecated_gl_constants__=__webpack_require__(1001);__webpack_require__.d(__webpack_exports__,"glGet",function(){return __WEBPACK_IMPORTED_MODULE_61__deprecated_gl_constants__.a}),__webpack_require__.d(__webpack_exports__,"glKey",function(){return __WEBPACK_IMPORTED_MODULE_61__deprecated_gl_constants__.b}),__webpack_require__.d(__webpack_exports__,"deleteGLContext",function(){return __WEBPACK_IMPORTED_MODULE_2__webgl_context_context__.b}),__webpack_require__.d(__webpack_exports__,"pollContext",function(){return __WEBPACK_IMPORTED_MODULE_2__webgl_context_context__.d});var __WEBPACK_IMPORTED_MODULE_62_math_gl__=__webpack_require__(17);__webpack_require__.d(__webpack_exports__,"radians",function(){return __WEBPACK_IMPORTED_MODULE_62_math_gl__.k}),__webpack_require__.d(__webpack_exports__,"degrees",function(){return __WEBPACK_IMPORTED_MODULE_62_math_gl__.g}),__webpack_require__.d(__webpack_exports__,"Vector2",function(){return __WEBPACK_IMPORTED_MODULE_62_math_gl__.c}),__webpack_require__.d(__webpack_exports__,"Vector3",function(){return __WEBPACK_IMPORTED_MODULE_62_math_gl__.d}),__webpack_require__.d(__webpack_exports__,"Vector4",function(){return __WEBPACK_IMPORTED_MODULE_62_math_gl__.e}),__webpack_require__.d(__webpack_exports__,"Matrix4",function(){return __WEBPACK_IMPORTED_MODULE_62_math_gl__.a}),__webpack_require__.d(__webpack_exports__,"Quaternion",function(){return __WEBPACK_IMPORTED_MODULE_62_math_gl__.b});var __WEBPACK_IMPORTED_MODULE_63__webgl_functions__=__webpack_require__(574);__webpack_require__.d(__webpack_exports__,"readPixels",function(){return __WEBPACK_IMPORTED_MODULE_63__webgl_functions__.a}),__webpack_require__.d(__webpack_exports__,"FramebufferObject",function(){return __WEBPACK_IMPORTED_MODULE_12__webgl_framebuffer__.a}),__webpack_require__(561);var experimental={clearBuffer:__WEBPACK_IMPORTED_MODULE_17__webgl_clear__.b,Transform:__WEBPACK_IMPORTED_MODULE_59__core_experimental_transform__.a,Attribute:__WEBPACK_IMPORTED_MODULE_8__webgl_attribute__.a}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__is_browser__=__webpack_require__(257);__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_0__is_browser__.a});var __WEBPACK_IMPORTED_MODULE_1__is_old_ie__=__webpack_require__(913);__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_1__is_old_ie__.a});__webpack_require__(914);var __WEBPACK_IMPORTED_MODULE_3__utils__=__webpack_require__(915);__webpack_require__.d(__webpack_exports__,"h",function(){return __WEBPACK_IMPORTED_MODULE_3__utils__.c}),__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_3__utils__.b}),__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_3__utils__.a});var __WEBPACK_IMPORTED_MODULE_4__log__=__webpack_require__(562);__webpack_require__.d(__webpack_exports__,"g",function(){return __WEBPACK_IMPORTED_MODULE_4__log__.a});var __WEBPACK_IMPORTED_MODULE_5__format_value__=__webpack_require__(916);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_5__format_value__.a});var __WEBPACK_IMPORTED_MODULE_6__assert__=__webpack_require__(3);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_6__assert__.a})},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"i",function(){return experimental});var __WEBPACK_IMPORTED_MODULE_0__vector2__=__webpack_require__(578);__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_0__vector2__.a});var __WEBPACK_IMPORTED_MODULE_1__vector3__=__webpack_require__(221);__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_1__vector3__.a});var __WEBPACK_IMPORTED_MODULE_2__vector4__=__webpack_require__(582);__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_2__vector4__.a});var __WEBPACK_IMPORTED_MODULE_3__matrix4__=__webpack_require__(471);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_3__matrix4__.a});var __WEBPACK_IMPORTED_MODULE_4__quaternion__=__webpack_require__(584);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_4__quaternion__.a});var __WEBPACK_IMPORTED_MODULE_5__lib_common__=__webpack_require__(56);__webpack_require__.d(__webpack_exports__,"k",function(){return __WEBPACK_IMPORTED_MODULE_5__lib_common__.h}),__webpack_require__.d(__webpack_exports__,"g",function(){return __WEBPACK_IMPORTED_MODULE_5__lib_common__.d}),__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_5__lib_common__.b}),__webpack_require__.d(__webpack_exports__,"j",function(){return __WEBPACK_IMPORTED_MODULE_5__lib_common__.g}),__webpack_require__.d(__webpack_exports__,"h",function(){return __WEBPACK_IMPORTED_MODULE_5__lib_common__.e});var __WEBPACK_IMPORTED_MODULE_6__spherical_coordinates__=__webpack_require__(963),__WEBPACK_IMPORTED_MODULE_7__pose__=__webpack_require__(964),__WEBPACK_IMPORTED_MODULE_8__euler__=__webpack_require__(589),__WEBPACK_IMPORTED_MODULE_9__addons_polygon__=__webpack_require__(965),experimental={SphericalCoordinates:__WEBPACK_IMPORTED_MODULE_6__spherical_coordinates__.a,Euler:__WEBPACK_IMPORTED_MODULE_8__euler__.a,Pose:__WEBPACK_IMPORTED_MODULE_7__pose__.a,Polygon:__WEBPACK_IMPORTED_MODULE_9__addons_polygon__.a}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function assert(condition,message){if(!condition)throw new Error(message||"deck.gl: assertion failed.")}},function(module,exports){module.exports={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,FUNC_ADD:32774,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,BLEND_COLOR:32773,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,VENDOR:7936,RENDERER:7937,VERSION:7938,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,BROWSER_DEFAULT_WEBGL:37444,STATIC_DRAW:35044,STREAM_DRAW:35040,DYNAMIC_DRAW:35048,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,CULL_FACE:2884,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,BLEND:3042,DEPTH_TEST:2929,DITHER:3024,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,SCISSOR_TEST:3089,STENCIL_TEST:2960,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CONTEXT_LOST_WEBGL:37442,CW:2304,CCW:2305,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,COMPILE_STATUS:35713,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_ATTRIBUTES:35721,ACTIVE_UNIFORMS:35718,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,ALWAYS:519,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,GEQUAL:518,NOTEQUAL:517,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,TEXTURE_WIDTH:4096,TEXTURE_HEIGHT:4097,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,MAX_3D_TEXTURE_SIZE:32883,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,MAX_TEXTURE_LOD_BIAS:34045,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,RASTERIZER_DISCARD:35977,VERTEX_ARRAY_BINDING:34229,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,MAX_ELEMENT_INDEX:36203,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,RGB9_E5:35901,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2UI:36975,TEXTURE_IMMUTABLE_FORMAT:37167,TEXTURE_IMMUTABLE_LEVELS:33503,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,INT_2_10_10_10_REV:36255,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,MAX_SAMPLES:36183,SAMPLER_BINDING:35097,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,UNSIGNED_NORMALIZED:35863,SIGNED_NORMALIZED:36764,VERTEX_ATTRIB_ARRAY_INTEGER:35069,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,DEPTH24_STENCIL8:35056,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,COLOR:6144,DEPTH:6145,STENCIL:6146,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,INVALID_INDEX:4294967295,TIMEOUT_IGNORED:-1,MAX_CLIENT_WAIT_TIMEOUT_WEBGL:37447,VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,UNMASKED_VENDOR_WEBGL:37445,UNMASKED_RENDERER_WEBGL:37446,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047,TEXTURE_MAX_ANISOTROPY_EXT:34046,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35986,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,UNSIGNED_INT_24_8_WEBGL:34042,HALF_FLOAT_OES:36193,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863,MIN_EXT:32775,MAX_EXT:32776,SRGB_EXT:35904,SRGB_ALPHA_EXT:35906,SRGB8_ALPHA8_EXT:35907,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT:33296,FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723,COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067,COLOR_ATTACHMENT4_WEBGL:36068,COLOR_ATTACHMENT5_WEBGL:36069,COLOR_ATTACHMENT6_WEBGL:36070,COLOR_ATTACHMENT7_WEBGL:36071,COLOR_ATTACHMENT8_WEBGL:36072,COLOR_ATTACHMENT9_WEBGL:36073,COLOR_ATTACHMENT10_WEBGL:36074,COLOR_ATTACHMENT11_WEBGL:36075,COLOR_ATTACHMENT12_WEBGL:36076,COLOR_ATTACHMENT13_WEBGL:36077,COLOR_ATTACHMENT14_WEBGL:36078,COLOR_ATTACHMENT15_WEBGL:36079,DRAW_BUFFER0_WEBGL:34853,DRAW_BUFFER1_WEBGL:34854,DRAW_BUFFER2_WEBGL:34855,DRAW_BUFFER3_WEBGL:34856,DRAW_BUFFER4_WEBGL:34857,DRAW_BUFFER5_WEBGL:34858,DRAW_BUFFER6_WEBGL:34859,DRAW_BUFFER7_WEBGL:34860,DRAW_BUFFER8_WEBGL:34861,DRAW_BUFFER9_WEBGL:34862,DRAW_BUFFER10_WEBGL:34863,DRAW_BUFFER11_WEBGL:34864,DRAW_BUFFER12_WEBGL:34865,DRAW_BUFFER13_WEBGL:34866,DRAW_BUFFER14_WEBGL:34867,DRAW_BUFFER15_WEBGL:34868,MAX_COLOR_ATTACHMENTS_WEBGL:36063,MAX_DRAW_BUFFERS_WEBGL:34852,VERTEX_ARRAY_BINDING_OES:34229,QUERY_COUNTER_BITS_EXT:34916,CURRENT_QUERY_EXT:34917,QUERY_RESULT_EXT:34918,QUERY_RESULT_AVAILABLE_EXT:34919,TIME_ELAPSED_EXT:35007,TIMESTAMP_EXT:36392,GPU_DISJOINT_EXT:36795}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(21),IE8_DOM_DEFINE=__webpack_require__(200),toPrimitive=__webpack_require__(121),dP=Object.defineProperty;exports.f=__webpack_require__(26)?Object.defineProperty:function defineProperty(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(16);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(413),__esModule:!0}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _typeof3=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(95));exports.default=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==(void 0===call?"undefined":(0,_typeof3.default)(call))&&"function"!=typeof call?self:call}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _setPrototypeOf2=_interopRequireDefault(__webpack_require__(423)),_create2=_interopRequireDefault(__webpack_require__(427)),_typeof3=_interopRequireDefault(__webpack_require__(95));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+(void 0===superClass?"undefined":(0,_typeof3.default)(superClass)));subClass.prototype=(0,_create2.default)(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(_setPrototypeOf2.default?(0,_setPrototypeOf2.default)(subClass,superClass):subClass.__proto__=superClass)}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(329);module.exports=Function.prototype.bind||implementation},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(33)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_require__.d(__webpack_exports__,"experimental",function(){return experimental});__webpack_require__(900),__webpack_require__(560);var __WEBPACK_IMPORTED_MODULE_2__lib_constants__=__webpack_require__(224);__webpack_require__.d(__webpack_exports__,"COORDINATE_SYSTEM",function(){return __WEBPACK_IMPORTED_MODULE_2__lib_constants__.a});var __WEBPACK_IMPORTED_MODULE_3__lib_deck__=__webpack_require__(1014);__webpack_require__.d(__webpack_exports__,"Deck",function(){return __WEBPACK_IMPORTED_MODULE_3__lib_deck__.a});var __WEBPACK_IMPORTED_MODULE_4__lib_layer_manager__=__webpack_require__(608);__webpack_require__.d(__webpack_exports__,"LayerManager",function(){return __WEBPACK_IMPORTED_MODULE_4__lib_layer_manager__.a});var __WEBPACK_IMPORTED_MODULE_5__lib_attribute_manager__=__webpack_require__(609);__webpack_require__.d(__webpack_exports__,"AttributeManager",function(){return __WEBPACK_IMPORTED_MODULE_5__lib_attribute_manager__.a});var __WEBPACK_IMPORTED_MODULE_6__lib_layer__=__webpack_require__(478);__webpack_require__.d(__webpack_exports__,"Layer",function(){return __WEBPACK_IMPORTED_MODULE_6__lib_layer__.a});var __WEBPACK_IMPORTED_MODULE_7__lib_composite_layer__=__webpack_require__(1038);__webpack_require__.d(__webpack_exports__,"CompositeLayer",function(){return __WEBPACK_IMPORTED_MODULE_7__lib_composite_layer__.a});var __WEBPACK_IMPORTED_MODULE_8__viewports_viewport__=__webpack_require__(41);__webpack_require__.d(__webpack_exports__,"Viewport",function(){return __WEBPACK_IMPORTED_MODULE_8__viewports_viewport__.a});var __WEBPACK_IMPORTED_MODULE_9__viewports_web_mercator_viewport__=__webpack_require__(481);__webpack_require__.d(__webpack_exports__,"WebMercatorViewport",function(){return __WEBPACK_IMPORTED_MODULE_9__viewports_web_mercator_viewport__.a});var __WEBPACK_IMPORTED_MODULE_10__shaderlib_project_project__=__webpack_require__(223);__webpack_require__.d(__webpack_exports__,"project",function(){return __WEBPACK_IMPORTED_MODULE_10__shaderlib_project_project__.a});var __WEBPACK_IMPORTED_MODULE_11__shaderlib_project64_project64__=__webpack_require__(606);__webpack_require__.d(__webpack_exports__,"project64",function(){return __WEBPACK_IMPORTED_MODULE_11__shaderlib_project64_project64__.a});var __WEBPACK_IMPORTED_MODULE_12__shaderlib_lighting_lighting__=__webpack_require__(607);__webpack_require__.d(__webpack_exports__,"lighting",function(){return __WEBPACK_IMPORTED_MODULE_12__shaderlib_lighting_lighting__.a});var __WEBPACK_IMPORTED_MODULE_13__views_view__=__webpack_require__(101);__webpack_require__.d(__webpack_exports__,"View",function(){return __WEBPACK_IMPORTED_MODULE_13__views_view__.a});var __WEBPACK_IMPORTED_MODULE_14__views_map_view__=__webpack_require__(615);__webpack_require__.d(__webpack_exports__,"MapView",function(){return __WEBPACK_IMPORTED_MODULE_14__views_map_view__.a});var __WEBPACK_IMPORTED_MODULE_15__views_first_person_view__=__webpack_require__(1039);__webpack_require__.d(__webpack_exports__,"FirstPersonView",function(){return __WEBPACK_IMPORTED_MODULE_15__views_first_person_view__.a});var __WEBPACK_IMPORTED_MODULE_16__views_third_person_view__=__webpack_require__(1040);__webpack_require__.d(__webpack_exports__,"ThirdPersonView",function(){return __WEBPACK_IMPORTED_MODULE_16__views_third_person_view__.a});var __WEBPACK_IMPORTED_MODULE_17__views_orbit_view__=__webpack_require__(1041);__webpack_require__.d(__webpack_exports__,"OrbitView",function(){return __WEBPACK_IMPORTED_MODULE_17__views_orbit_view__.a});var __WEBPACK_IMPORTED_MODULE_18__views_perspective_view__=__webpack_require__(1042);__webpack_require__.d(__webpack_exports__,"PerspectiveView",function(){return __WEBPACK_IMPORTED_MODULE_18__views_perspective_view__.a});var __WEBPACK_IMPORTED_MODULE_19__views_orthographic_view__=__webpack_require__(1043);__webpack_require__.d(__webpack_exports__,"OrthographicView",function(){return __WEBPACK_IMPORTED_MODULE_19__views_orthographic_view__.a});var __WEBPACK_IMPORTED_MODULE_20__controllers_controller__=__webpack_require__(269);__webpack_require__.d(__webpack_exports__,"Controller",function(){return __WEBPACK_IMPORTED_MODULE_20__controllers_controller__.a});var __WEBPACK_IMPORTED_MODULE_21__controllers_map_controller__=__webpack_require__(619);__webpack_require__.d(__webpack_exports__,"MapController",function(){return __WEBPACK_IMPORTED_MODULE_21__controllers_map_controller__.b});var __WEBPACK_IMPORTED_MODULE_22__controllers_first_person_controller__=__webpack_require__(1044),__WEBPACK_IMPORTED_MODULE_23__controllers_orbit_controller__=__webpack_require__(1045),__WEBPACK_IMPORTED_MODULE_24__experimental_lib_effect_manager__=__webpack_require__(616),__WEBPACK_IMPORTED_MODULE_25__experimental_lib_effect__=__webpack_require__(482),__WEBPACK_IMPORTED_MODULE_26__controllers_transition_manager__=__webpack_require__(621),__WEBPACK_IMPORTED_MODULE_27__transitions_linear_interpolator__=__webpack_require__(484),__WEBPACK_IMPORTED_MODULE_28__transitions_viewport_fly_to_interpolator__=__webpack_require__(1046),__WEBPACK_IMPORTED_MODULE_29__experimental_reflection_effect_reflection_effect__=__webpack_require__(1047),__WEBPACK_IMPORTED_MODULE_30__utils_log__=__webpack_require__(28);__webpack_require__.d(__webpack_exports__,"log",function(){return __WEBPACK_IMPORTED_MODULE_30__utils_log__.a});var __WEBPACK_IMPORTED_MODULE_31__utils_bin_sorter__=__webpack_require__(1050),__WEBPACK_IMPORTED_MODULE_32__utils_color_utils__=__webpack_require__(1051),__WEBPACK_IMPORTED_MODULE_33__utils_scale_utils__=__webpack_require__(1052),__WEBPACK_IMPORTED_MODULE_34__utils_flatten__=__webpack_require__(227),__WEBPACK_IMPORTED_MODULE_35__deprecated_perspective_viewport__=__webpack_require__(1053);__webpack_require__.d(__webpack_exports__,"PerspectiveViewport",function(){return __WEBPACK_IMPORTED_MODULE_35__deprecated_perspective_viewport__.a});var __WEBPACK_IMPORTED_MODULE_36__deprecated_orthographic_viewport__=__webpack_require__(1054);__webpack_require__.d(__webpack_exports__,"OrthographicViewport",function(){return __WEBPACK_IMPORTED_MODULE_36__deprecated_orthographic_viewport__.a});var __WEBPACK_IMPORTED_MODULE_37__deprecated_first_person_viewport__=__webpack_require__(1055),__WEBPACK_IMPORTED_MODULE_38__deprecated_third_person_viewport__=__webpack_require__(1056),__WEBPACK_IMPORTED_MODULE_39__deprecated_orbit_viewport__=__webpack_require__(623),experimental={FirstPersonController:__WEBPACK_IMPORTED_MODULE_22__controllers_first_person_controller__.a,OrbitController:__WEBPACK_IMPORTED_MODULE_23__controllers_orbit_controller__.a,FirstPersonViewport:__WEBPACK_IMPORTED_MODULE_37__deprecated_first_person_viewport__.a,ThirdPersonViewport:__WEBPACK_IMPORTED_MODULE_38__deprecated_third_person_viewport__.a,OrbitViewport:__WEBPACK_IMPORTED_MODULE_39__deprecated_orbit_viewport__.a,EffectManager:__WEBPACK_IMPORTED_MODULE_24__experimental_lib_effect_manager__.a,Effect:__WEBPACK_IMPORTED_MODULE_25__experimental_lib_effect__.a,TRANSITION_EVENTS:__WEBPACK_IMPORTED_MODULE_26__controllers_transition_manager__.a,LinearInterpolator:__WEBPACK_IMPORTED_MODULE_27__transitions_linear_interpolator__.a,ViewportFlyToInterpolator:__WEBPACK_IMPORTED_MODULE_28__transitions_viewport_fly_to_interpolator__.a,BinSorter:__WEBPACK_IMPORTED_MODULE_31__utils_bin_sorter__.a,linearScale:__WEBPACK_IMPORTED_MODULE_33__utils_scale_utils__.c,getLinearScale:__WEBPACK_IMPORTED_MODULE_33__utils_scale_utils__.a,quantizeScale:__WEBPACK_IMPORTED_MODULE_33__utils_scale_utils__.d,getQuantizeScale:__WEBPACK_IMPORTED_MODULE_33__utils_scale_utils__.b,defaultColorRange:__WEBPACK_IMPORTED_MODULE_32__utils_color_utils__.a,flattenVertices:__WEBPACK_IMPORTED_MODULE_34__utils_flatten__.c,fillArray:__WEBPACK_IMPORTED_MODULE_34__utils_flatten__.a,ReflectionEffect:__WEBPACK_IMPORTED_MODULE_29__experimental_reflection_effect_reflection_effect__.a}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_probe_gl__=__webpack_require__(256);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_probe_gl__);__webpack_exports__.a=new __WEBPACK_IMPORTED_MODULE_0_probe_gl__.Log({id:"deck"})},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(63);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports,__webpack_require__){var store=__webpack_require__(108)("wks"),uid=__webpack_require__(60),Symbol=__webpack_require__(30).Symbol,USE_SYMBOL="function"==typeof Symbol;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))}).store=store},function(module,exports,__webpack_require__){var dP=__webpack_require__(20),createDesc=__webpack_require__(64);module.exports=__webpack_require__(26)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){var bind=__webpack_require__(25);module.exports=bind.call(Function.call,Object.prototype.hasOwnProperty)},function(module,exports,__webpack_require__){var IObject=__webpack_require__(122),defined=__webpack_require__(123);module.exports=function(it){return IObject(defined(it))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__TemplateTag__=__webpack_require__(803);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__TemplateTag__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__trimResultTransformer__=__webpack_require__(804);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__trimResultTransformer__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function newInterval(floori,offseti,count,field){function interval(date){return floori(date=new Date(+date)),date}interval.floor=interval;interval.ceil=function(date){return floori(date=new Date(date-1)),offseti(date,1),floori(date),date};interval.round=function(date){var d0=interval(date),d1=interval.ceil(date);return date-d0<d1-date?d0:d1};interval.offset=function(date,step){return offseti(date=new Date(+date),null==step?1:Math.floor(step)),date};interval.range=function(start,stop,step){var previous,range=[];if(start=interval.ceil(start),step=null==step?1:Math.floor(step),!(start<stop&&step>0))return range;do{range.push(previous=new Date(+start)),offseti(start,step),floori(start)}while(previous<start&&start<stop);return range};interval.filter=function(test){return newInterval(function(date){if(date>=date)for(;floori(date),!test(date);)date.setTime(date-1)},function(date,step){if(date>=date)if(step<0)for(;++step<=0;)for(;offseti(date,-1),!test(date););else for(;--step>=0;)for(;offseti(date,1),!test(date););})};count&&(interval.count=function(start,end){return t0.setTime(+start),t1.setTime(+end),floori(t0),floori(t1),Math.floor(count(t0,t1))},interval.every=function(step){return step=Math.floor(step),isFinite(step)&&step>0?step>1?interval.filter(field?function(d){return field(d)%step==0}:function(d){return interval.count(0,d)%step==0}):interval:null});return interval};var t0=new Date,t1=new Date},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Viewport});var __WEBPACK_IMPORTED_MODULE_0__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_1__utils_math_utils__=__webpack_require__(480),__WEBPACK_IMPORTED_MODULE_2_math_gl__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_scale__=__webpack_require__(159),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_scale___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_gl_mat4_scale__),__WEBPACK_IMPORTED_MODULE_4_gl_mat4_translate__=__webpack_require__(160),__WEBPACK_IMPORTED_MODULE_4_gl_mat4_translate___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_gl_mat4_translate__),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_multiply__=__webpack_require__(158),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_multiply___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_gl_mat4_multiply__),__WEBPACK_IMPORTED_MODULE_6_gl_mat4_invert__=__webpack_require__(472),__WEBPACK_IMPORTED_MODULE_6_gl_mat4_invert___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_gl_mat4_invert__),__WEBPACK_IMPORTED_MODULE_7_viewport_mercator_project__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_8__utils_assert__=__webpack_require__(18);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var DEGREES_TO_RADIANS=Math.PI/180,IDENTITY=Object(__WEBPACK_IMPORTED_MODULE_1__utils_math_utils__.a)(),ZERO_VECTOR=[0,0,0],DEFAULT_DISTANCE_SCALES={pixelsPerMeter:[1,1,1],metersPerPixel:[1,1,1],pixelsPerDegree:[1,1,1],degreesPerPixel:[1,1,1]},Viewport=function(){function Viewport(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,Viewport);var _opts$id=opts.id,id=void 0===_opts$id?null:_opts$id,_opts$x=opts.x,x=void 0===_opts$x?0:_opts$x,_opts$y=opts.y,y=void 0===_opts$y?0:_opts$y,_opts$width=opts.width,width=void 0===_opts$width?1:_opts$width,_opts$height=opts.height,height=void 0===_opts$height?1:_opts$height;this.id=id||this.constructor.displayName||"viewport",this.x=x,this.y=y,this.width=width||1,this.height=height||1,this._initViewMatrix(opts),this._initProjectionMatrix(opts),this._initPixelMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this),this.getMatrices=this.getMatrices.bind(this)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Viewport,[{key:"equals",value:function equals(viewport){return!!_instanceof(viewport,Viewport)&&(viewport.width===this.width&&viewport.height===this.height&&Object(__WEBPACK_IMPORTED_MODULE_2_math_gl__.h)(viewport.projectionMatrix,this.projectionMatrix)&&Object(__WEBPACK_IMPORTED_MODULE_2_math_gl__.h)(viewport.viewMatrix,this.viewMatrix))}},{key:"project",value:function project(xyz){var _ref$topLeft=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).topLeft,topLeft=void 0===_ref$topLeft||_ref$topLeft,_xyz=_slicedToArray(xyz,3),x0=_xyz[0],y0=_xyz[1],_xyz$=_xyz[2],z0=void 0===_xyz$?0:_xyz$,_this$projectFlat2=_slicedToArray(this.projectFlat([x0,y0]),2),X=_this$projectFlat2[0],Y=_this$projectFlat2[1],coord=Object(__WEBPACK_IMPORTED_MODULE_7_viewport_mercator_project__.m)([X,Y,z0],this.pixelProjectionMatrix),_coord=_slicedToArray(coord,2),x=_coord[0],y=_coord[1],y2=topLeft?y:this.height-y;return 2===xyz.length?[x,y2]:[x,y2,coord[2]]}},{key:"unproject",value:function unproject(xyz){var _ref2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref2$topLeft=_ref2.topLeft,topLeft=void 0===_ref2$topLeft||_ref2$topLeft,targetZ=_ref2.targetZ,_xyz2=_slicedToArray(xyz,3),x=_xyz2[0],y=_xyz2[1],z=_xyz2[2],y2=topLeft?y:this.height-y,coord=Object(__WEBPACK_IMPORTED_MODULE_7_viewport_mercator_project__.k)([x,y2,z],this.pixelUnprojectionMatrix,targetZ),_this$unprojectFlat2=_slicedToArray(this.unprojectFlat(coord),2),X=_this$unprojectFlat2[0],Y=_this$unprojectFlat2[1];return Number.isFinite(z)?[X,Y,coord[2]]:Number.isFinite(targetZ)?[X,Y,targetZ]:[X,Y]}},{key:"projectFlat",value:function projectFlat(_ref3){var _ref4=_slicedToArray(_ref3,2);_ref4[0],_ref4[1],arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return this._projectFlat.apply(this,arguments)}},{key:"unprojectFlat",value:function unprojectFlat(xyz){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return this._unprojectFlat.apply(this,arguments)}},{key:"_projectFlat",value:function _projectFlat(xyz){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return xyz}},{key:"_unprojectFlat",value:function _unprojectFlat(xyz){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return xyz}},{key:"getMercatorParams",value:function getMercatorParams(){var lngLat=this._addMetersToLngLat([this.longitude||0,this.latitude||0],this.meterOffset);return{longitude:lngLat[0],latitude:lngLat[1]}}},{key:"isMapSynched",value:function isMapSynched(){return!1}},{key:"getDistanceScales",value:function getDistanceScales(){var coordinateOrigin=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return coordinateOrigin?Object(__WEBPACK_IMPORTED_MODULE_7_viewport_mercator_project__.d)({longitude:coordinateOrigin[0],latitude:coordinateOrigin[1],scale:this.scale,highPrecision:!0}):this.distanceScales}},{key:"getMatrices",value:function getMatrices(){var _ref5$modelMatrix=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).modelMatrix,modelMatrix=void 0===_ref5$modelMatrix?null:_ref5$modelMatrix,modelViewProjectionMatrix=this.viewProjectionMatrix,pixelProjectionMatrix=this.pixelProjectionMatrix,pixelUnprojectionMatrix=this.pixelUnprojectionMatrix;return modelMatrix&&(modelViewProjectionMatrix=__WEBPACK_IMPORTED_MODULE_5_gl_mat4_multiply___default()([],this.viewProjectionMatrix,modelMatrix),pixelProjectionMatrix=__WEBPACK_IMPORTED_MODULE_5_gl_mat4_multiply___default()([],this.pixelProjectionMatrix,modelMatrix),pixelUnprojectionMatrix=__WEBPACK_IMPORTED_MODULE_6_gl_mat4_invert___default()([],pixelProjectionMatrix)),Object.assign({modelViewProjectionMatrix:modelViewProjectionMatrix,viewProjectionMatrix:this.viewProjectionMatrix,viewMatrix:this.viewMatrix,projectionMatrix:this.projectionMatrix,pixelProjectionMatrix:pixelProjectionMatrix,pixelUnprojectionMatrix:pixelUnprojectionMatrix,width:this.width,height:this.height,scale:this.scale})}},{key:"getCameraPosition",value:function getCameraPosition(){return this.cameraPosition}},{key:"getCameraDirection",value:function getCameraDirection(){return this.cameraDirection}},{key:"getCameraUp",value:function getCameraUp(){return this.cameraUp}},{key:"_addMetersToLngLat",value:function _addMetersToLngLat(lngLatZ,xyz){var _lngLatZ=_slicedToArray(lngLatZ,3),lng=_lngLatZ[0],lat=_lngLatZ[1],_lngLatZ$=_lngLatZ[2],Z=void 0===_lngLatZ$?0:_lngLatZ$,_this$_metersToLngLat2=_slicedToArray(this._metersToLngLatDelta(xyz),3),deltaLng=_this$_metersToLngLat2[0],deltaLat=_this$_metersToLngLat2[1],_this$_metersToLngLat3=_this$_metersToLngLat2[2],deltaZ=void 0===_this$_metersToLngLat3?0:_this$_metersToLngLat3;return 2===lngLatZ.length?[lng+deltaLng,lat+deltaLat]:[lng+deltaLng,lat+deltaLat,Z+deltaZ]}},{key:"_metersToLngLatDelta",value:function _metersToLngLatDelta(xyz){var _xyz3=_slicedToArray(xyz,3),x=_xyz3[0],y=_xyz3[1],_xyz3$=_xyz3[2],z=void 0===_xyz3$?0:_xyz3$;Object(__WEBPACK_IMPORTED_MODULE_8__utils_assert__.a)(Number.isFinite(x)&&Number.isFinite(y)&&Number.isFinite(z),"Illegal argument to Viewport");var _this$distanceScales=this.distanceScales,pixelsPerMeter=_this$distanceScales.pixelsPerMeter,degreesPerPixel=_this$distanceScales.degreesPerPixel,deltaLng=x*pixelsPerMeter[0]*degreesPerPixel[0],deltaLat=y*pixelsPerMeter[1]*degreesPerPixel[1];return 2===xyz.length?[deltaLng,deltaLat]:[deltaLng,deltaLat,z]}},{key:"_createProjectionMatrix",value:function _createProjectionMatrix(_ref6){var orthographic=_ref6.orthographic,fovyRadians=_ref6.fovyRadians,aspect=_ref6.aspect,focalDistance=_ref6.focalDistance,near=_ref6.near,far=_ref6.far;return Object(__WEBPACK_IMPORTED_MODULE_8__utils_assert__.a)(Number.isFinite(fovyRadians)),orthographic?(new __WEBPACK_IMPORTED_MODULE_2_math_gl__.a).orthographic({fovy:fovyRadians,aspect:aspect,focalDistance:focalDistance,near:near,far:far}):(new __WEBPACK_IMPORTED_MODULE_2_math_gl__.a).perspective({fovy:fovyRadians,aspect:aspect,near:near,far:far})}},{key:"_initViewMatrix",value:function _initViewMatrix(opts){var _opts$viewMatrix=opts.viewMatrix,viewMatrix=void 0===_opts$viewMatrix?IDENTITY:_opts$viewMatrix,_opts$longitude=opts.longitude,longitude=void 0===_opts$longitude?null:_opts$longitude,_opts$latitude=opts.latitude,latitude=void 0===_opts$latitude?null:_opts$latitude,_opts$zoom=opts.zoom,zoom=void 0===_opts$zoom?null:_opts$zoom,_opts$position=opts.position,position=void 0===_opts$position?null:_opts$position,_opts$modelMatrix=opts.modelMatrix,modelMatrix=void 0===_opts$modelMatrix?null:_opts$modelMatrix,_opts$focalDistance=opts.focalDistance,focalDistance=void 0===_opts$focalDistance?1:_opts$focalDistance,_opts$distanceScales=opts.distanceScales,distanceScales=void 0===_opts$distanceScales?null:_opts$distanceScales;this.isGeospatial=Number.isFinite(latitude)&&Number.isFinite(longitude),this.zoom=zoom,Number.isFinite(this.zoom)||(this.zoom=this.isGeospatial?Object(__WEBPACK_IMPORTED_MODULE_7_viewport_mercator_project__.e)({latitude:latitude})+Math.log2(focalDistance):0),this.scale=Math.pow(2,this.zoom),this.distanceScales=this.isGeospatial?Object(__WEBPACK_IMPORTED_MODULE_7_viewport_mercator_project__.d)({latitude:latitude,longitude:longitude,scale:this.scale}):distanceScales||DEFAULT_DISTANCE_SCALES,this.focalDistance=focalDistance,this.distanceScales.metersPerPixel=new __WEBPACK_IMPORTED_MODULE_2_math_gl__.d(this.distanceScales.metersPerPixel),this.distanceScales.pixelsPerMeter=new __WEBPACK_IMPORTED_MODULE_2_math_gl__.d(this.distanceScales.pixelsPerMeter),this.position=ZERO_VECTOR,this.meterOffset=ZERO_VECTOR,position&&(this.position=position,this.modelMatrix=modelMatrix,this.meterOffset=modelMatrix?modelMatrix.transformVector(position):position),this.viewMatrixUncentered=viewMatrix,this.isGeospatial?(this.center=Object(__WEBPACK_IMPORTED_MODULE_7_viewport_mercator_project__.h)({longitude:longitude,latitude:latitude,scale:this.scale,distanceScales:this.distanceScales,meterOffset:this.meterOffset}),this.viewMatrix=(new __WEBPACK_IMPORTED_MODULE_2_math_gl__.a).multiplyRight(this.viewMatrixUncentered).scale([1,-1,1]).translate(new __WEBPACK_IMPORTED_MODULE_2_math_gl__.d(this.center||ZERO_VECTOR).negate())):(this.center=position,this.viewMatrix=viewMatrix)}},{key:"_initProjectionMatrix",value:function _initProjectionMatrix(opts){var _opts$projectionMatri=opts.projectionMatrix,projectionMatrix=void 0===_opts$projectionMatri?null:_opts$projectionMatri,_opts$orthographic=opts.orthographic,orthographic=void 0!==_opts$orthographic&&_opts$orthographic,fovyRadians=opts.fovyRadians,fovyDegrees=opts.fovyDegrees,fovy=opts.fovy,_opts$near=opts.near,near=void 0===_opts$near?.1:_opts$near,_opts$far=opts.far,far=void 0===_opts$far?1e3:_opts$far,_opts$focalDistance2=opts.focalDistance,focalDistance=void 0===_opts$focalDistance2?1:_opts$focalDistance2,orthographicFocalDistance=opts.orthographicFocalDistance,radians=fovyRadians||(fovyDegrees||fovy||75)*DEGREES_TO_RADIANS;this.projectionMatrix=projectionMatrix||this._createProjectionMatrix({orthographic:orthographic,fovyRadians:radians,aspect:this.width/this.height,focalDistance:orthographicFocalDistance||focalDistance,near:near,far:far})}},{key:"_initPixelMatrices",value:function _initPixelMatrices(){var vpm=Object(__WEBPACK_IMPORTED_MODULE_1__utils_math_utils__.a)();__WEBPACK_IMPORTED_MODULE_5_gl_mat4_multiply___default()(vpm,vpm,this.projectionMatrix),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_multiply___default()(vpm,vpm,this.viewMatrix),this.viewProjectionMatrix=vpm,this.viewMatrixInverse=__WEBPACK_IMPORTED_MODULE_6_gl_mat4_invert___default()([],this.viewMatrix)||this.viewMatrix;var _extractCameraVectors=Object(__WEBPACK_IMPORTED_MODULE_1__utils_math_utils__.b)({viewMatrix:this.viewMatrix,viewMatrixInverse:this.viewMatrixInverse}),eye=_extractCameraVectors.eye,direction=_extractCameraVectors.direction,up=_extractCameraVectors.up;this.cameraPosition=eye,this.cameraDirection=direction,this.cameraUp=up;var m=Object(__WEBPACK_IMPORTED_MODULE_1__utils_math_utils__.a)();__WEBPACK_IMPORTED_MODULE_3_gl_mat4_scale___default()(m,m,[this.width/2,-this.height/2,1]),__WEBPACK_IMPORTED_MODULE_4_gl_mat4_translate___default()(m,m,[1,-1,0]),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_multiply___default()(m,m,this.viewProjectionMatrix),this.pixelProjectionMatrix=m,this.pixelUnprojectionMatrix=__WEBPACK_IMPORTED_MODULE_6_gl_mat4_invert___default()(Object(__WEBPACK_IMPORTED_MODULE_1__utils_math_utils__.a)(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||__WEBPACK_IMPORTED_MODULE_0__utils_log__.a.warn("Pixel project matrix not invertible")()}}]),Viewport}();Viewport.displayName="Viewport"},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(75)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){var dP=__webpack_require__(44),createDesc=__webpack_require__(77);module.exports=__webpack_require__(42)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(76),IE8_DOM_DEFINE=__webpack_require__(168),toPrimitive=__webpack_require__(107),dP=Object.defineProperty;exports.f=__webpack_require__(42)?Object.defineProperty:function defineProperty(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__webpack_require__){var IObject=__webpack_require__(298),defined=__webpack_require__(172);module.exports=function(it){return IObject(defined(it))}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(188)},function(module,exports,__webpack_require__){"use strict";(function(global){var origSymbol=global.Symbol,hasSymbolSham=__webpack_require__(374);module.exports=function hasNativeSymbols(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&hasSymbolSham())))}}).call(exports,__webpack_require__(13))},function(module,exports,__webpack_require__){var defined=__webpack_require__(123);module.exports=function(it){return Object(defined(it))}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(392),__esModule:!0}},function(module,exports){module.exports={}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_bisect__=__webpack_require__(642);__webpack_require__.d(__webpack_exports__,"bisect",function(){return __WEBPACK_IMPORTED_MODULE_0__src_bisect__.c}),__webpack_require__.d(__webpack_exports__,"bisectRight",function(){return __WEBPACK_IMPORTED_MODULE_0__src_bisect__.b}),__webpack_require__.d(__webpack_exports__,"bisectLeft",function(){return __WEBPACK_IMPORTED_MODULE_0__src_bisect__.a});var __WEBPACK_IMPORTED_MODULE_1__src_ascending__=__webpack_require__(161);__webpack_require__.d(__webpack_exports__,"ascending",function(){return __WEBPACK_IMPORTED_MODULE_1__src_ascending__.a});var __WEBPACK_IMPORTED_MODULE_2__src_bisector__=__webpack_require__(643);__webpack_require__.d(__webpack_exports__,"bisector",function(){return __WEBPACK_IMPORTED_MODULE_2__src_bisector__.a});var __WEBPACK_IMPORTED_MODULE_3__src_cross__=__webpack_require__(1129);__webpack_require__.d(__webpack_exports__,"cross",function(){return __WEBPACK_IMPORTED_MODULE_3__src_cross__.a});var __WEBPACK_IMPORTED_MODULE_4__src_descending__=__webpack_require__(1130);__webpack_require__.d(__webpack_exports__,"descending",function(){return __WEBPACK_IMPORTED_MODULE_4__src_descending__.a});var __WEBPACK_IMPORTED_MODULE_5__src_deviation__=__webpack_require__(645);__webpack_require__.d(__webpack_exports__,"deviation",function(){return __WEBPACK_IMPORTED_MODULE_5__src_deviation__.a});var __WEBPACK_IMPORTED_MODULE_6__src_extent__=__webpack_require__(647);__webpack_require__.d(__webpack_exports__,"extent",function(){return __WEBPACK_IMPORTED_MODULE_6__src_extent__.a});var __WEBPACK_IMPORTED_MODULE_7__src_histogram__=__webpack_require__(1131);__webpack_require__.d(__webpack_exports__,"histogram",function(){return __WEBPACK_IMPORTED_MODULE_7__src_histogram__.a});var __WEBPACK_IMPORTED_MODULE_8__src_threshold_freedmanDiaconis__=__webpack_require__(1134);__webpack_require__.d(__webpack_exports__,"thresholdFreedmanDiaconis",function(){return __WEBPACK_IMPORTED_MODULE_8__src_threshold_freedmanDiaconis__.a});var __WEBPACK_IMPORTED_MODULE_9__src_threshold_scott__=__webpack_require__(1135);__webpack_require__.d(__webpack_exports__,"thresholdScott",function(){return __WEBPACK_IMPORTED_MODULE_9__src_threshold_scott__.a});var __WEBPACK_IMPORTED_MODULE_10__src_threshold_sturges__=__webpack_require__(651);__webpack_require__.d(__webpack_exports__,"thresholdSturges",function(){return __WEBPACK_IMPORTED_MODULE_10__src_threshold_sturges__.a});var __WEBPACK_IMPORTED_MODULE_11__src_max__=__webpack_require__(1136);__webpack_require__.d(__webpack_exports__,"max",function(){return __WEBPACK_IMPORTED_MODULE_11__src_max__.a});var __WEBPACK_IMPORTED_MODULE_12__src_mean__=__webpack_require__(1137);__webpack_require__.d(__webpack_exports__,"mean",function(){return __WEBPACK_IMPORTED_MODULE_12__src_mean__.a});var __WEBPACK_IMPORTED_MODULE_13__src_median__=__webpack_require__(1138);__webpack_require__.d(__webpack_exports__,"median",function(){return __WEBPACK_IMPORTED_MODULE_13__src_median__.a});var __WEBPACK_IMPORTED_MODULE_14__src_merge__=__webpack_require__(1139);__webpack_require__.d(__webpack_exports__,"merge",function(){return __WEBPACK_IMPORTED_MODULE_14__src_merge__.a});var __WEBPACK_IMPORTED_MODULE_15__src_min__=__webpack_require__(652);__webpack_require__.d(__webpack_exports__,"min",function(){return __WEBPACK_IMPORTED_MODULE_15__src_min__.a});var __WEBPACK_IMPORTED_MODULE_16__src_pairs__=__webpack_require__(644);__webpack_require__.d(__webpack_exports__,"pairs",function(){return __WEBPACK_IMPORTED_MODULE_16__src_pairs__.a});var __WEBPACK_IMPORTED_MODULE_17__src_permute__=__webpack_require__(1140);__webpack_require__.d(__webpack_exports__,"permute",function(){return __WEBPACK_IMPORTED_MODULE_17__src_permute__.a});var __WEBPACK_IMPORTED_MODULE_18__src_quantile__=__webpack_require__(489);__webpack_require__.d(__webpack_exports__,"quantile",function(){return __WEBPACK_IMPORTED_MODULE_18__src_quantile__.a});var __WEBPACK_IMPORTED_MODULE_19__src_range__=__webpack_require__(649);__webpack_require__.d(__webpack_exports__,"range",function(){return __WEBPACK_IMPORTED_MODULE_19__src_range__.a});var __WEBPACK_IMPORTED_MODULE_20__src_scan__=__webpack_require__(1141);__webpack_require__.d(__webpack_exports__,"scan",function(){return __WEBPACK_IMPORTED_MODULE_20__src_scan__.a});var __WEBPACK_IMPORTED_MODULE_21__src_shuffle__=__webpack_require__(1142);__webpack_require__.d(__webpack_exports__,"shuffle",function(){return __WEBPACK_IMPORTED_MODULE_21__src_shuffle__.a});var __WEBPACK_IMPORTED_MODULE_22__src_sum__=__webpack_require__(1143);__webpack_require__.d(__webpack_exports__,"sum",function(){return __WEBPACK_IMPORTED_MODULE_22__src_sum__.a});var __WEBPACK_IMPORTED_MODULE_23__src_ticks__=__webpack_require__(650);__webpack_require__.d(__webpack_exports__,"ticks",function(){return __WEBPACK_IMPORTED_MODULE_23__src_ticks__.a}),__webpack_require__.d(__webpack_exports__,"tickIncrement",function(){return __WEBPACK_IMPORTED_MODULE_23__src_ticks__.b}),__webpack_require__.d(__webpack_exports__,"tickStep",function(){return __WEBPACK_IMPORTED_MODULE_23__src_ticks__.c});var __WEBPACK_IMPORTED_MODULE_24__src_transpose__=__webpack_require__(653);__webpack_require__.d(__webpack_exports__,"transpose",function(){return __WEBPACK_IMPORTED_MODULE_24__src_transpose__.a});var __WEBPACK_IMPORTED_MODULE_25__src_variance__=__webpack_require__(646);__webpack_require__.d(__webpack_exports__,"variance",function(){return __WEBPACK_IMPORTED_MODULE_25__src_variance__.a});var __WEBPACK_IMPORTED_MODULE_26__src_zip__=__webpack_require__(1144);__webpack_require__.d(__webpack_exports__,"zip",function(){return __WEBPACK_IMPORTED_MODULE_26__src_zip__.a})},function(module,exports,__webpack_require__){var $keys=__webpack_require__(201),enumBugKeys=__webpack_require__(127);module.exports=Object.keys||function keys(O){return $keys(O,enumBugKeys)}},function(module,exports,__webpack_require__){(function(global){var win;win="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{},module.exports=win}).call(exports,__webpack_require__(13))},function(module,exports,__webpack_require__){"use strict";var $at=__webpack_require__(398)(!0);__webpack_require__(149)(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _defineProperty2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(148));exports.default=function(obj,key,value){return key in obj?(0,_defineProperty2.default)(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return config}),__webpack_exports__.a=function checkNumber(value){if(!Number.isFinite(value))throw new Error("Invalid number ".concat(value));return value},__webpack_exports__.f=function formatValue(value){var _ref$precision=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).precision,precision=void 0===_ref$precision?config.precision||4:_ref$precision;return value=round(value),parseFloat(value.toPrecision(precision))},__webpack_exports__.h=function radians(degrees){return map(degrees,function(degrees){return degrees/180*Math.PI})},__webpack_exports__.d=degrees,__webpack_exports__.b=function clamp(value,min,max){return map(value,function(value){return Math.max(min,Math.min(max,value))})},__webpack_exports__.g=function lerp(a,b,t){if(Array.isArray(a))return a.map(function(ai,i){return lerp(ai,b[i],t)});return t*b+(1-t)*a},__webpack_exports__.e=function equals(a,b){if(Array.isArray(a)&&Array.isArray(b)){if(a===b)return!0;if(a.length!==b.length)return!1;for(var i=0;i<a.length;++i)if(!equals(a[i],b[i]))return!1;return!0}return Math.abs(a-b)<=config.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};var config={};function round(value){return Math.round(value/config.EPSILON)*config.EPSILON}function map(value,func){if(function isArray(value){return Array.isArray(value)||ArrayBuffer.isView(value)&&void 0!==value.length}(value)){for(var result=function clone(array){return array.clone?array.clone():new Array(array)}(value),i=0;i<result.length;++i)result[i]=func(result[i],i,result);return result}return func(value)}function degrees(radians){return map(radians,function(radians){return 180*radians/Math.PI})}config.EPSILON=1e-12,config.debug=!0,config.precision=4,config.printTypes=!1,config.printDegrees=!1,config.printRowMajor=!0},,function(module,exports){var core=module.exports={version:"2.5.5"};"number"==typeof __e&&(__e=core)},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},function(module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},function(module,exports,__webpack_require__){"use strict";var fnToStr=Function.prototype.toString,constructorRegex=/^\s*class /,isES6ClassFn=function isES6ClassFn(value){try{var spaceStripped=fnToStr.call(value).replace(/\/\/.*\n/g,"").replace(/\/\*[.\s\S]*\*\//g,"").replace(/\n/gm," ").replace(/ {2}/g," ");return constructorRegex.test(spaceStripped)}catch(e){return!1}},toStr=Object.prototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function isCallable(value){if(!value)return!1;if("function"!=typeof value&&"object"!=typeof value)return!1;if(hasToStringTag)return function tryFunctionObject(value){try{return!isES6ClassFn(value)&&(fnToStr.call(value),!0)}catch(e){return!1}}(value);if(isES6ClassFn(value))return!1;var strClass=toStr.call(value);return"[object Function]"===strClass||"[object GeneratorFunction]"===strClass}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__webpack_require__){var def=__webpack_require__(20).f,has=__webpack_require__(34),TAG=__webpack_require__(10)("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},function(module,exports,__webpack_require__){__webpack_require__(400);for(var global=__webpack_require__(12),hide=__webpack_require__(32),Iterators=__webpack_require__(50),TO_STRING_TAG=__webpack_require__(10)("toStringTag"),DOMIterables="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<DOMIterables.length;i++){var NAME=DOMIterables[i],Collection=global[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=Iterators.Array}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__inlineArrayTransformer__=__webpack_require__(810);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__inlineArrayTransformer__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Resource});var __WEBPACK_IMPORTED_MODULE_0__init__=__webpack_require__(561),__WEBPACK_IMPORTED_MODULE_1__webgl_context__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_2__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_3__utils__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_4__utils_assert__=__webpack_require__(3);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ERR_RESOURCE_METHOD_UNDEFINED="Resource subclass must define virtual methods",Resource=function(){function Resource(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Resource),Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.e)(gl);var id=opts.id,_opts$userData=opts.userData,userData=void 0===_opts$userData?{}:_opts$userData;this.gl=gl,this.ext=Object(__WEBPACK_IMPORTED_MODULE_1__webgl_context__.e)(gl),this.id=id||Object(__WEBPACK_IMPORTED_MODULE_3__utils__.h)(this.constructor.name),this.userData=userData,this.opts=opts,this._handle=opts.handle,void 0===this._handle&&(this._handle=this._createHandle()),this._addStats()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Resource,[{key:"toString",value:function toString(){return"".concat(this.constructor.name,"(").concat(this.id,")")}},{key:"delete",value:function _delete(){var _ref$deleteChildren=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).deleteChildren,deleteChildren=void 0!==_ref$deleteChildren&&_ref$deleteChildren,children=this._handle&&this._deleteHandle(this._handle);return this._handle=null,this._removeStats(),children&&deleteChildren&&children.filter(Boolean).forEach(function(child){child.delete()}),this}},{key:"unbind",value:function unbind(){this.bind(null)}},{key:"getParameter",value:function getParameter(pname){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};pname=Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.i)(this.gl,pname),Object(__WEBPACK_IMPORTED_MODULE_4__utils_assert__.a)(pname);var parameter=(this.constructor.PARAMETERS||{})[pname];if(parameter){var isWebgl2=Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.l)(this.gl);if(!((!("webgl2"in parameter)||isWebgl2)&&(!("extension"in parameter)||this.gl.getExtension(parameter.extension)))){var webgl1Default=parameter.webgl1,webgl2Default="webgl2"in parameter?parameter.webgl2:parameter.webgl1;return isWebgl2?webgl2Default:webgl1Default}}return this._getParameter(pname,opts)}},{key:"getParameters",value:function getParameters(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref2={},parameters=_ref2.parameters,keys=_ref2.keys,PARAMETERS=this.constructor.PARAMETERS||{},isWebgl2=Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.l)(this.gl),values={},parameterKeys=parameters||Object.keys(PARAMETERS),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=parameterKeys[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var pname=_step.value,parameter=PARAMETERS[pname];if(parameter&&(!("webgl2"in parameter)||isWebgl2)&&(!("extension"in parameter)||this.gl.getExtension(parameter.extension))){var key=keys?Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.h)(this.gl,pname):pname;values[key]=this.getParameter(pname,opts),keys&&"GLenum"===parameter.type&&(values[key]=Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.h)(this.gl,values[key]))}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return values}},{key:"setParameter",value:function setParameter(pname,value){pname=Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.i)(this.gl,pname),Object(__WEBPACK_IMPORTED_MODULE_4__utils_assert__.a)(pname);var parameter=(this.constructor.PARAMETERS||{})[pname];if(parameter){var isWebgl2=Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.l)(this.gl);if(!((!("webgl2"in parameter)||isWebgl2)&&(!("extension"in parameter)||this.gl.getExtension(parameter.extension))))throw new Error("Parameter not available on this platform");"GLenum"===parameter.type&&(value=Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.i)(value))}return this._setParameter(pname,value),this}},{key:"setParameters",value:function setParameters(parameters){for(var pname in parameters)this.setParameter(pname,parameters[pname]);return this}},{key:"initialize",value:function initialize(opts){}},{key:"_createHandle",value:function _createHandle(){throw new Error(ERR_RESOURCE_METHOD_UNDEFINED)}},{key:"_deleteHandle",value:function _deleteHandle(){throw new Error(ERR_RESOURCE_METHOD_UNDEFINED)}},{key:"_getOptsFromHandle",value:function _getOptsFromHandle(){throw new Error(ERR_RESOURCE_METHOD_UNDEFINED)}},{key:"_getParameter",value:function _getParameter(pname,opts){throw new Error(ERR_RESOURCE_METHOD_UNDEFINED)}},{key:"_setParameter",value:function _setParameter(pname,value){throw new Error(ERR_RESOURCE_METHOD_UNDEFINED)}},{key:"_context",value:function _context(){return this.gl.luma=this.gl.luma||{},this.gl.luma}},{key:"_addStats",value:function _addStats(){var name=this.constructor.name,stats=__WEBPACK_IMPORTED_MODULE_0__init__.default.stats;stats.resourceCount=stats.resourceCount||0,stats.resourceMap=stats.resourceMap||{},stats.resourceCount++,stats.resourceMap[name]=stats.resourceMap[name]||{created:0,active:0},stats.resourceMap[name].created++,stats.resourceMap[name].active++}},{key:"_removeStats",value:function _removeStats(){var name=this.constructor.name;__WEBPACK_IMPORTED_MODULE_0__init__.default.stats.resourceMap[name].active--}},{key:"handle",get:function get(){return this._handle}}]),Resource}()},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports,__webpack_require__){var ctx=__webpack_require__(29),call=__webpack_require__(204),isArrayIter=__webpack_require__(205),anObject=__webpack_require__(21),toLength=__webpack_require__(82),getIterFn=__webpack_require__(133),BREAK={},RETURN={};(exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var length,step,iterator,result,iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn)){for(length=toLength(iterable.length);length>index;index++)if((result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]))===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)if((result=call(iterator,f,step.value,entries))===BREAK||result===RETURN)return result}).BREAK=BREAK,exports.RETURN=RETURN},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__web_mercator_viewport__=__webpack_require__(225);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__web_mercator_viewport__.a});var __WEBPACK_IMPORTED_MODULE_1__fit_bounds__=__webpack_require__(603);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_1__fit_bounds__.a});var __WEBPACK_IMPORTED_MODULE_2__normalize_viewport_props__=__webpack_require__(1007);__webpack_require__.d(__webpack_exports__,"j",function(){return __WEBPACK_IMPORTED_MODULE_2__normalize_viewport_props__.a});var __WEBPACK_IMPORTED_MODULE_3__fly_to_viewport__=__webpack_require__(1008);__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_3__fly_to_viewport__.a});var __WEBPACK_IMPORTED_MODULE_4__web_mercator_utils__=__webpack_require__(226);__webpack_require__.d(__webpack_exports__,"i",function(){return __WEBPACK_IMPORTED_MODULE_4__web_mercator_utils__.g}),__webpack_require__.d(__webpack_exports__,"l",function(){return __WEBPACK_IMPORTED_MODULE_4__web_mercator_utils__.j}),__webpack_require__.d(__webpack_exports__,"m",function(){return __WEBPACK_IMPORTED_MODULE_4__web_mercator_utils__.k}),__webpack_require__.d(__webpack_exports__,"k",function(){return __WEBPACK_IMPORTED_MODULE_4__web_mercator_utils__.h}),__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_4__web_mercator_utils__.b}),__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_4__web_mercator_utils__.a}),__webpack_require__.d(__webpack_exports__,"h",function(){return __WEBPACK_IMPORTED_MODULE_4__web_mercator_utils__.f}),__webpack_require__.d(__webpack_exports__,"g",function(){return __WEBPACK_IMPORTED_MODULE_4__web_mercator_utils__.e}),__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_4__web_mercator_utils__.d})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function projection(project){return projectionMutator(function(){return project})()},__webpack_exports__.b=projectionMutator;var __WEBPACK_IMPORTED_MODULE_0__clip_antimeridian__=__webpack_require__(680),__WEBPACK_IMPORTED_MODULE_1__clip_circle__=__webpack_require__(686),__WEBPACK_IMPORTED_MODULE_2__clip_rectangle__=__webpack_require__(279),__WEBPACK_IMPORTED_MODULE_3__compose__=__webpack_require__(679),__WEBPACK_IMPORTED_MODULE_4__identity__=__webpack_require__(500),__WEBPACK_IMPORTED_MODULE_5__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_6__rotation__=__webpack_require__(278),__WEBPACK_IMPORTED_MODULE_7__transform__=__webpack_require__(280),__WEBPACK_IMPORTED_MODULE_8__fit__=__webpack_require__(503),__WEBPACK_IMPORTED_MODULE_9__resample__=__webpack_require__(1220),transformRadians=Object(__WEBPACK_IMPORTED_MODULE_7__transform__.b)({point:function(x,y){this.stream.point(x*__WEBPACK_IMPORTED_MODULE_5__math__.r,y*__WEBPACK_IMPORTED_MODULE_5__math__.r)}});function scaleTranslateRotate(k,dx,dy,alpha){var cosAlpha=Object(__WEBPACK_IMPORTED_MODULE_5__math__.g)(alpha),sinAlpha=Object(__WEBPACK_IMPORTED_MODULE_5__math__.t)(alpha),a=cosAlpha*k,b=sinAlpha*k,ai=cosAlpha/k,bi=sinAlpha/k,ci=(sinAlpha*dy-cosAlpha*dx)/k,fi=(sinAlpha*dx+cosAlpha*dy)/k;function transform(x,y){return[a*x-b*y+dx,dy-b*x-a*y]}return transform.invert=function(x,y){return[ai*x-bi*y+ci,fi-bi*x-ai*y]},transform}function projectionMutator(projectAt){var project,rotate,y0,x1,y1,projectResample,projectTransform,projectRotateTransform,cache,cacheStream,k=150,x=480,y=250,lambda=0,phi=0,deltaLambda=0,deltaPhi=0,deltaGamma=0,alpha=0,theta=null,preclip=__WEBPACK_IMPORTED_MODULE_0__clip_antimeridian__.a,x0=null,postclip=__WEBPACK_IMPORTED_MODULE_4__identity__.a,delta2=.5;function projection(point){return projectRotateTransform(point[0]*__WEBPACK_IMPORTED_MODULE_5__math__.r,point[1]*__WEBPACK_IMPORTED_MODULE_5__math__.r)}function invert(point){return(point=projectRotateTransform.invert(point[0],point[1]))&&[point[0]*__WEBPACK_IMPORTED_MODULE_5__math__.h,point[1]*__WEBPACK_IMPORTED_MODULE_5__math__.h]}function recenter(){var center=scaleTranslateRotate(k,0,0,alpha).apply(null,project(lambda,phi)),transform=(alpha?scaleTranslateRotate:function scaleTranslate(k,dx,dy){function transform(x,y){return[dx+k*x,dy-k*y]}return transform.invert=function(x,y){return[(x-dx)/k,(dy-y)/k]},transform})(k,x-center[0],y-center[1],alpha);return rotate=Object(__WEBPACK_IMPORTED_MODULE_6__rotation__.b)(deltaLambda,deltaPhi,deltaGamma),projectTransform=Object(__WEBPACK_IMPORTED_MODULE_3__compose__.a)(project,transform),projectRotateTransform=Object(__WEBPACK_IMPORTED_MODULE_3__compose__.a)(rotate,projectTransform),projectResample=Object(__WEBPACK_IMPORTED_MODULE_9__resample__.a)(projectTransform,delta2),reset()}function reset(){return cache=cacheStream=null,projection}return projection.stream=function(stream){return cache&&cacheStream===stream?cache:cache=transformRadians(function transformRotate(rotate){return Object(__WEBPACK_IMPORTED_MODULE_7__transform__.b)({point:function(x,y){var r=rotate(x,y);return this.stream.point(r[0],r[1])}})}(rotate)(preclip(projectResample(postclip(cacheStream=stream)))))},projection.preclip=function(_){return arguments.length?(preclip=_,theta=void 0,reset()):preclip},projection.postclip=function(_){return arguments.length?(postclip=_,x0=y0=x1=y1=null,reset()):postclip},projection.clipAngle=function(_){return arguments.length?(preclip=+_?Object(__WEBPACK_IMPORTED_MODULE_1__clip_circle__.a)(theta=_*__WEBPACK_IMPORTED_MODULE_5__math__.r):(theta=null,__WEBPACK_IMPORTED_MODULE_0__clip_antimeridian__.a),reset()):theta*__WEBPACK_IMPORTED_MODULE_5__math__.h},projection.clipExtent=function(_){return arguments.length?(postclip=null==_?(x0=y0=x1=y1=null,__WEBPACK_IMPORTED_MODULE_4__identity__.a):Object(__WEBPACK_IMPORTED_MODULE_2__clip_rectangle__.a)(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reset()):null==x0?null:[[x0,y0],[x1,y1]]},projection.scale=function(_){return arguments.length?(k=+_,recenter()):k},projection.translate=function(_){return arguments.length?(x=+_[0],y=+_[1],recenter()):[x,y]},projection.center=function(_){return arguments.length?(lambda=_[0]%360*__WEBPACK_IMPORTED_MODULE_5__math__.r,phi=_[1]%360*__WEBPACK_IMPORTED_MODULE_5__math__.r,recenter()):[lambda*__WEBPACK_IMPORTED_MODULE_5__math__.h,phi*__WEBPACK_IMPORTED_MODULE_5__math__.h]},projection.rotate=function(_){return arguments.length?(deltaLambda=_[0]%360*__WEBPACK_IMPORTED_MODULE_5__math__.r,deltaPhi=_[1]%360*__WEBPACK_IMPORTED_MODULE_5__math__.r,deltaGamma=_.length>2?_[2]%360*__WEBPACK_IMPORTED_MODULE_5__math__.r:0,recenter()):[deltaLambda*__WEBPACK_IMPORTED_MODULE_5__math__.h,deltaPhi*__WEBPACK_IMPORTED_MODULE_5__math__.h,deltaGamma*__WEBPACK_IMPORTED_MODULE_5__math__.h]},projection.angle=function(_){return arguments.length?(alpha=_%360*__WEBPACK_IMPORTED_MODULE_5__math__.r,recenter()):alpha*__WEBPACK_IMPORTED_MODULE_5__math__.h},projection.precision=function(_){return arguments.length?(projectResample=Object(__WEBPACK_IMPORTED_MODULE_9__resample__.a)(projectTransform,delta2=_*_),reset()):Object(__WEBPACK_IMPORTED_MODULE_5__math__.u)(delta2)},projection.fitExtent=function(extent,object){return Object(__WEBPACK_IMPORTED_MODULE_8__fit__.a)(projection,extent,object)},projection.fitSize=function(size,object){return Object(__WEBPACK_IMPORTED_MODULE_8__fit__.c)(projection,size,object)},projection.fitWidth=function(width,object){return Object(__WEBPACK_IMPORTED_MODULE_8__fit__.d)(projection,width,object)},projection.fitHeight=function(height,object){return Object(__WEBPACK_IMPORTED_MODULE_8__fit__.b)(projection,height,object)},function(){return project=projectAt.apply(this,arguments),projection.invert=project.invert&&invert,recenter()}}},,function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(59);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports,__webpack_require__){var global=__webpack_require__(30),hide=__webpack_require__(43),has=__webpack_require__(35),SRC=__webpack_require__(60)("src"),$toString=Function.toString,TPL=(""+$toString).split("toString");__webpack_require__(58).inspectSource=function(it){return $toString.call(it)},(module.exports=function(O,key,val,safe){var isFunction="function"==typeof val;isFunction&&(has(val,"name")||hide(val,"name",key)),O[key]!==val&&(isFunction&&(has(val,SRC)||hide(val,SRC,O[key]?""+O[key]:TPL.join(String(key)))),O===global?O[key]=val:safe?O[key]?O[key]=val:hide(O,key,val):(delete O[key],hide(O,key,val)))})(Function.prototype,"toString",function toString(){return"function"==typeof this&&this[SRC]||$toString.call(this)})},function(module,exports,__webpack_require__){"use strict";var assign=__webpack_require__(80),ES5=__webpack_require__(190),ES2015=__webpack_require__(195),ES2016=__webpack_require__(196),ES={ES5:ES5,ES6:ES2015,ES2015:ES2015,ES7:ES2016,ES2016:ES2016,ES2017:__webpack_require__(382)};assign(ES,ES5),delete ES.CheckObjectCoercible,assign(ES,ES2015),module.exports=ES},function(module,exports,__webpack_require__){var has=__webpack_require__(25).call(Function.call,Object.prototype.hasOwnProperty),$assign=Object.assign;module.exports=function assign(target,source){if($assign)return $assign(target,source);for(var key in source)has(source,key)&&(target[key]=source[key]);return target}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(388),__esModule:!0}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(124),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},function(module,exports){module.exports=!0},function(module,exports,__webpack_require__){var META=__webpack_require__(83)("meta"),isObject=__webpack_require__(16),has=__webpack_require__(34),setDesc=__webpack_require__(20).f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!__webpack_require__(33)(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},meta=module.exports={KEY:META,NEED:!1,fastKey:function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak:function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze:function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it}}},function(module,exports,__webpack_require__){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map(function(n){return test2[n]}).join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}()?Object.assign:function(target,source){for(var from,symbols,to=function toObject(val){if(null===val||void 0===val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}(target),s=1;s<arguments.length;s++){for(var key in from=Object(arguments[s]))hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__stripIndentTransformer__=__webpack_require__(805);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__stripIndentTransformer__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__geometry__=__webpack_require__(100);__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_0__geometry__.a});var __WEBPACK_IMPORTED_MODULE_1__cone_geometry__=__webpack_require__(593);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_1__cone_geometry__.a});var __WEBPACK_IMPORTED_MODULE_2__cube_geometry__=__webpack_require__(594);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_2__cube_geometry__.a});var __WEBPACK_IMPORTED_MODULE_3__cylinder_geometry__=__webpack_require__(595);__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_3__cylinder_geometry__.a});var __WEBPACK_IMPORTED_MODULE_4__ico_sphere_geometry__=__webpack_require__(596);__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_4__ico_sphere_geometry__.a});var __WEBPACK_IMPORTED_MODULE_5__plane_geometry__=__webpack_require__(597);__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_5__plane_geometry__.a});var __WEBPACK_IMPORTED_MODULE_6__sphere_geometry__=__webpack_require__(598);__webpack_require__.d(__webpack_exports__,"g",function(){return __WEBPACK_IMPORTED_MODULE_6__sphere_geometry__.a});var __WEBPACK_IMPORTED_MODULE_7__truncated_cone_geometry__=__webpack_require__(266);__webpack_require__.d(__webpack_exports__,"h",function(){return __WEBPACK_IMPORTED_MODULE_7__truncated_cone_geometry__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return durationSecond}),__webpack_require__.d(__webpack_exports__,"c",function(){return durationMinute}),__webpack_require__.d(__webpack_exports__,"b",function(){return durationHour}),__webpack_require__.d(__webpack_exports__,"a",function(){return durationDay}),__webpack_require__.d(__webpack_exports__,"e",function(){return durationWeek});var durationSecond=1e3,durationMinute=6e4,durationHour=36e5,durationDay=864e5,durationWeek=6048e5},,,function(module,exports,__webpack_require__){var anObject=__webpack_require__(21),dPs=__webpack_require__(243),enumBugKeys=__webpack_require__(127),IE_PROTO=__webpack_require__(125)("IE_PROTO"),Empty=function(){},createDict=function(){var iframeDocument,iframe=__webpack_require__(120)("iframe"),i=enumBugKeys.length;for(iframe.style.display="none",__webpack_require__(202).appendChild(iframe),iframe.src="javascript:",(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict.prototype[enumBugKeys[i]];return createDict()};module.exports=Object.create||function create(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}},function(module,exports,__webpack_require__){var cof=__webpack_require__(65),TAG=__webpack_require__(10)("toStringTag"),ARG="Arguments"==cof(function(){return arguments}());module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=function(it,key){try{return it[key]}catch(e){}}(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _from2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(246));exports.default=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return(0,_from2.default)(arr)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _iterator2=_interopRequireDefault(__webpack_require__(415)),_symbol2=_interopRequireDefault(__webpack_require__(249)),_typeof="function"==typeof _symbol2.default&&"symbol"==typeof _iterator2.default?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof _symbol2.default&&obj.constructor===_symbol2.default&&obj!==_symbol2.default.prototype?"symbol":typeof obj};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default="function"==typeof _symbol2.default&&"symbol"===_typeof(_iterator2.default)?function(obj){return void 0===obj?"undefined":_typeof(obj)}:function(obj){return obj&&"function"==typeof _symbol2.default&&obj.constructor===_symbol2.default&&obj!==_symbol2.default.prototype?"symbol":void 0===obj?"undefined":_typeof(obj)}},function(module,exports,__webpack_require__){"use strict";function makeEmptyFunction(arg){return function(){return arg}}var emptyFunction=function emptyFunction(){};emptyFunction.thatReturns=makeEmptyFunction,emptyFunction.thatReturnsFalse=makeEmptyFunction(!1),emptyFunction.thatReturnsTrue=makeEmptyFunction(!0),emptyFunction.thatReturnsNull=makeEmptyFunction(null),emptyFunction.thatReturnsThis=function(){return this},emptyFunction.thatReturnsArgument=function(arg){return arg},module.exports=emptyFunction},function(module,exports,__webpack_require__){"use strict";!function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(err){console.error(err)}}(),module.exports=__webpack_require__(439)},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__context__=__webpack_require__(258);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_0__context__.a}),__webpack_require__.d(__webpack_exports__,"g",function(){return __WEBPACK_IMPORTED_MODULE_0__context__.e});var __WEBPACK_IMPORTED_MODULE_1__context_state__=__webpack_require__(139);__webpack_require__.d(__webpack_exports__,"j",function(){return __WEBPACK_IMPORTED_MODULE_1__context_state__.g}),__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_1__context_state__.d});__webpack_require__(259);var __WEBPACK_IMPORTED_MODULE_3__create_canvas__=__webpack_require__(566);__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_3__create_canvas__.d}),__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_3__create_canvas__.c}),__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_3__create_canvas__.a});__webpack_require__(565);var __WEBPACK_IMPORTED_MODULE_5__create_browser_context__=__webpack_require__(567);__webpack_require__.d(__webpack_exports__,"h",function(){return __WEBPACK_IMPORTED_MODULE_5__create_browser_context__.b});var __WEBPACK_IMPORTED_MODULE_6__polyfill_context__=__webpack_require__(569);__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_6__polyfill_context__.a});var __WEBPACK_IMPORTED_MODULE_7__track_context_state__=__webpack_require__(462);__webpack_require__.d(__webpack_exports__,"i",function(){return __WEBPACK_IMPORTED_MODULE_7__track_context_state__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=getDrawMode,__webpack_require__.d(__webpack_exports__,"a",function(){return Geometry});var __WEBPACK_IMPORTED_MODULE_0__utils__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_1__utils_assert__=__webpack_require__(3);function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var DRAW_MODE={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};function getDrawMode(drawMode){var mode="string"==typeof drawMode?DRAW_MODE[drawMode]||DRAW_MODE.TRIANGLES:drawMode;return Object(__WEBPACK_IMPORTED_MODULE_1__utils_assert__.a)(mode>=0&&mode<=DRAW_MODE.TRIANGLE_FAN,"Illegal drawMode"),mode}var Geometry=function(){function Geometry(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,Geometry);var id=opts.id,_opts$drawMode=opts.drawMode,drawMode=void 0===_opts$drawMode?DRAW_MODE.TRIANGLES:_opts$drawMode,_opts$vertexCount=opts.vertexCount,vertexCount=void 0===_opts$vertexCount?void 0:_opts$vertexCount,attributes=opts.attributes;this.id=id||Object(__WEBPACK_IMPORTED_MODULE_0__utils__.h)(this.constructor.name),this.drawMode=getDrawMode(drawMode),this.vertexCount=vertexCount,this.attributes={},this.needsRedraw=!0,this.userData={},Object.seal(this),attributes&&this.setAttributes(attributes)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Geometry,[{key:"setNeedsRedraw",value:function setNeedsRedraw(){var redraw=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.needsRedraw=redraw,this}},{key:"getNeedsRedraw",value:function getNeedsRedraw(){var _ref$clearRedrawFlags=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).clearRedrawFlags,clearRedrawFlags=void 0!==_ref$clearRedrawFlags&&_ref$clearRedrawFlags,redraw=!1;return redraw=redraw||this.needsRedraw,this.needsRedraw=this.needsRedraw&&!clearRedrawFlags,redraw}},{key:"setVertexCount",value:function setVertexCount(vertexCount){this.vertexCount=vertexCount}},{key:"getVertexCount",value:function getVertexCount(){return void 0!==this.vertexCount?this.vertexCount:this.attributes.indices?this.attributes.indices.value.length:this.attributes.vertices?this.attributes.vertices.value.length/3:!!this.attributes.positions&&this.attributes.positions.value.length/3}},{key:"hasAttribute",value:function hasAttribute(attributeName){return Boolean(this.attributes[attributeName])}},{key:"getAttribute",value:function getAttribute(attributeName){var attribute=this.attributes[attributeName];return Object(__WEBPACK_IMPORTED_MODULE_1__utils_assert__.a)(attribute),attribute.value}},{key:"getArray",value:function getArray(attributeName){var attribute=this.attributes[attributeName];return Object(__WEBPACK_IMPORTED_MODULE_1__utils_assert__.a)(attribute),attribute.value}},{key:"getAttributes",value:function getAttributes(){return this.attributes}},{key:"setAttributes",value:function setAttributes(attributes){for(var attributeName in attributes){var attribute=attributes[attributeName];attribute=ArrayBuffer.isView(attribute)?{value:attribute}:attribute,Object(__WEBPACK_IMPORTED_MODULE_1__utils_assert__.a)(ArrayBuffer.isView(attribute.value),"".concat(this._print(attributeName),": must be typed array or object with value as typed array")),this._autoDetectAttribute(attributeName,attribute),this.attributes[attributeName]=Object.assign({},attribute,{instanced:attribute.instanced||0})}return this.setNeedsRedraw(),this}},{key:"_autoDetectAttribute",value:function _autoDetectAttribute(attributeName,attribute){var category;switch(attributeName){case"indices":category=category||"indices";break;case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":category="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":category="vectors"}switch(category){case"vectors":attribute.size=attribute.size||3;break;case"uvs":attribute.size=attribute.size||2;break;case"indices":attribute.size=attribute.size||1,attribute.isIndexed=void 0===attribute.isIndexed||attribute.isIndexed,Object(__WEBPACK_IMPORTED_MODULE_1__utils_assert__.a)(_instanceof(attribute.value,Uint16Array)||_instanceof(attribute.value,Uint32Array),'attribute array for "indices" must be of integer type')}Object(__WEBPACK_IMPORTED_MODULE_1__utils_assert__.a)(attribute.size,"attribute ".concat(attributeName," needs size"))}},{key:"_print",value:function _print(attributeName){return"Geometry ".concat(this.id," attribute ").concat(attributeName)}}]),Geometry}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return View});var __WEBPACK_IMPORTED_MODULE_0__viewports_viewport__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_1__utils_positions__=__webpack_require__(1027),__WEBPACK_IMPORTED_MODULE_2__utils_deep_equal__=__webpack_require__(614),__WEBPACK_IMPORTED_MODULE_3__utils_assert__=__webpack_require__(18);function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var View=function(){function View(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,View);var _props$id=props.id,id=void 0===_props$id?null:_props$id,_props$x=props.x,x=void 0===_props$x?0:_props$x,_props$y=props.y,y=void 0===_props$y?0:_props$y,_props$width=props.width,width=void 0===_props$width?"100%":_props$width,_props$height=props.height,height=void 0===_props$height?"100%":_props$height,_props$projectionMatr=props.projectionMatrix,projectionMatrix=void 0===_props$projectionMatr?null:_props$projectionMatr,_props$fovy=props.fovy,fovy=void 0===_props$fovy?75:_props$fovy,_props$near=props.near,near=void 0===_props$near?.1:_props$near,_props$far=props.far,far=void 0===_props$far?1e3:_props$far,_props$modelMatrix=props.modelMatrix,modelMatrix=void 0===_props$modelMatrix?null:_props$modelMatrix,_props$viewportInstan=props.viewportInstance,viewportInstance=void 0===_props$viewportInstan?null:_props$viewportInstan,_props$type=props.type,type=void 0===_props$type?__WEBPACK_IMPORTED_MODULE_0__viewports_viewport__.a:_props$type;Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(!viewportInstance||_instanceof(viewportInstance,__WEBPACK_IMPORTED_MODULE_0__viewports_viewport__.a)),this.viewportInstance=viewportInstance,this.id=id||this.constructor.displayName||"view",this.type=type,this.props=Object.assign({},props,{projectionMatrix:projectionMatrix,fovy:fovy,near:near,far:far,modelMatrix:modelMatrix}),this._parseDimensions({x:x,y:y,width:width,height:height}),this.equals=this.equals.bind(this),Object.seal(this)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(View,[{key:"equals",value:function equals(view){return this===view||(this.viewportInstance?view.viewportInstance&&this.viewportInstance.equals(view.viewportInstance):Object(__WEBPACK_IMPORTED_MODULE_2__utils_deep_equal__.a)(this,view))}},{key:"makeViewport",value:function makeViewport(_ref){var width=_ref.width,height=_ref.height,viewState=_ref.viewState;if(this.viewportInstance)return this.viewportInstance;var viewportDimensions=this.getDimensions({width:width,height:height}),props=Object.assign({viewState:viewState},viewState,this.props,viewportDimensions);return this._getViewport(props)}},{key:"getDimensions",value:function getDimensions(_ref2){var width=_ref2.width,height=_ref2.height;return{x:Object(__WEBPACK_IMPORTED_MODULE_1__utils_positions__.a)(this._x,width),y:Object(__WEBPACK_IMPORTED_MODULE_1__utils_positions__.a)(this._y,height),width:Object(__WEBPACK_IMPORTED_MODULE_1__utils_positions__.a)(this._width,width),height:Object(__WEBPACK_IMPORTED_MODULE_1__utils_positions__.a)(this._height,height)}}},{key:"_getViewport",value:function _getViewport(props){return new(0,this.type)(props)}},{key:"_parseDimensions",value:function _parseDimensions(_ref3){var x=_ref3.x,y=_ref3.y,width=_ref3.width,height=_ref3.height;this._x=Object(__WEBPACK_IMPORTED_MODULE_1__utils_positions__.b)(x),this._y=Object(__WEBPACK_IMPORTED_MODULE_1__utils_positions__.b)(y),this._width=Object(__WEBPACK_IMPORTED_MODULE_1__utils_positions__.b)(width),this._height=Object(__WEBPACK_IMPORTED_MODULE_1__utils_positions__.b)(height)}}]),View}()},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_color__=__webpack_require__(491);__webpack_require__.d(__webpack_exports__,"color",function(){return __WEBPACK_IMPORTED_MODULE_0__src_color__.e}),__webpack_require__.d(__webpack_exports__,"rgb",function(){return __WEBPACK_IMPORTED_MODULE_0__src_color__.g}),__webpack_require__.d(__webpack_exports__,"hsl",function(){return __WEBPACK_IMPORTED_MODULE_0__src_color__.f});var __WEBPACK_IMPORTED_MODULE_1__src_lab__=__webpack_require__(1150);__webpack_require__.d(__webpack_exports__,"lab",function(){return __WEBPACK_IMPORTED_MODULE_1__src_lab__.a}),__webpack_require__.d(__webpack_exports__,"hcl",function(){return __WEBPACK_IMPORTED_MODULE_1__src_lab__.b});var __WEBPACK_IMPORTED_MODULE_2__src_cubehelix__=__webpack_require__(1151);__webpack_require__.d(__webpack_exports__,"cubehelix",function(){return __WEBPACK_IMPORTED_MODULE_2__src_cubehelix__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function noop(){}},,,,function(module,exports,__webpack_require__){var isObject=__webpack_require__(59);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports,__webpack_require__){var global=__webpack_require__(30),store=global["__core-js_shared__"]||(global["__core-js_shared__"]={});module.exports=function(key){return store[key]||(store[key]={})}},function(module,exports,__webpack_require__){var def=__webpack_require__(44).f,has=__webpack_require__(35),TAG=__webpack_require__(31)("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},function(module,exports){module.exports=!1},function(module,exports,__webpack_require__){var $keys=__webpack_require__(171),enumBugKeys=__webpack_require__(114);module.exports=Object.keys||function keys(O){return $keys(O,enumBugKeys)}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__webpack_require__){var shared=__webpack_require__(108)("keys"),uid=__webpack_require__(60);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports){var has=Object.prototype.hasOwnProperty;module.exports=function assign(target,source){if(Object.assign)return Object.assign(target,source);for(var key in source)has.call(source,key)&&(target[key]=source[key]);return target}},function(module,exports,__webpack_require__){"use strict";module.exports=function requirePromise(){if("function"!=typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.")}},function(module,exports,__webpack_require__){"use strict";var ES2016=__webpack_require__(188),assign=__webpack_require__(116),ES2017=assign(assign({},ES2016),{ToIndex:function ToIndex(value){if(void 0===value)return 0;var integerIndex=this.ToInteger(value);if(integerIndex<0)throw new RangeError("index must be >= 0");var index=this.ToLength(integerIndex);if(!this.SameValueZero(integerIndex,index))throw new RangeError("index must be >= 0 and < 2 ** 53 - 1");return index}});delete ES2017.EnumerableOwnNames,module.exports=ES2017},function(module,exports,__webpack_require__){"use strict";var ThrowTypeError=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,getProto=Object.getPrototypeOf||function(x){return x.__proto__},asyncGenIterator=void 0,TypedArray="undefined"==typeof Uint8Array?void 0:getProto(Uint8Array),INTRINSICS={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":asyncGenIterator&&hasSymbols&&Symbol.asyncIterator?asyncGenIterator[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols?getProto((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols?getProto((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":hasSymbols?Symbol:void 0,"$ %SymbolPrototype%":hasSymbols?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":ThrowTypeError,"$ %TypedArray%":TypedArray,"$ %TypedArrayPrototype%":TypedArray?TypedArray.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};module.exports=function GetIntrinsic(name,allowMissing){if(arguments.length>1&&"boolean"!=typeof allowMissing)throw new TypeError('"allowMissing" argument must be a boolean');var key="$ "+name;if(!(key in INTRINSICS))throw new SyntaxError("intrinsic "+name+" does not exist!");if(void 0===INTRINSICS[key]&&!allowMissing)throw new TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!");return INTRINSICS[key]}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(16),document=__webpack_require__(12).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(16);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports,__webpack_require__){var cof=__webpack_require__(65);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports){module.exports=function(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports,__webpack_require__){var shared=__webpack_require__(126)("keys"),uid=__webpack_require__(83);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports,__webpack_require__){var global=__webpack_require__(12),store=global["__core-js_shared__"]||(global["__core-js_shared__"]={});module.exports=function(key){return store[key]||(store[key]={})}},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AddonStore=void 0;var _keys2=_interopRequireDefault(__webpack_require__(49)),_classCallCheck3=_interopRequireDefault(__webpack_require__(8)),_createClass3=_interopRequireDefault(__webpack_require__(9));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AddonStore=exports.AddonStore=function(){function AddonStore(){(0,_classCallCheck3.default)(this,AddonStore),this.loaders={},this.panels={},this.channel=null,this.preview=null,this.database=null}return(0,_createClass3.default)(AddonStore,[{key:"getChannel",value:function getChannel(){if(!this.channel)throw new Error("Accessing nonexistent addons channel, see https://storybook.js.org/basics/faq/#why-is-there-no-addons-channel");return this.channel}},{key:"setChannel",value:function setChannel(channel){this.channel=channel}},{key:"getPreview",value:function getPreview(){return this.preview}},{key:"setPreview",value:function setPreview(preview){this.preview=preview}},{key:"getDatabase",value:function getDatabase(){return this.database}},{key:"setDatabase",value:function setDatabase(database){this.database=database}},{key:"getPanels",value:function getPanels(){return this.panels}},{key:"addPanel",value:function addPanel(name,panel){this.panels[name]=panel}},{key:"register",value:function register(name,loader){this.loaders[name]=loader}},{key:"loadAddons",value:function loadAddons(api){var _this=this;(0,_keys2.default)(this.loaders).map(function(name){return _this.loaders[name]}).forEach(function(loader){return loader(api)})}}]),AddonStore}();exports.default=new AddonStore},function(module,exports,__webpack_require__){var $export=__webpack_require__(6),core=__webpack_require__(2),fails=__webpack_require__(33);module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},function(module,exports){},function(module,exports){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||void 0!==forbiddenField&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it}},function(module,exports,__webpack_require__){var classof=__webpack_require__(93),ITERATOR=__webpack_require__(10)("iterator"),Iterators=__webpack_require__(50);module.exports=__webpack_require__(2).getIteratorMethod=function(it){if(void 0!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},function(module,exports,__webpack_require__){"use strict";var aFunction=__webpack_require__(63);module.exports.f=function(C){return new function PromiseCapability(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)}(C)}},function(module,exports,__webpack_require__){var hide=__webpack_require__(32);module.exports=function(target,src,safe){for(var key in src)safe&&target[key]?target[key]=src[key]:hide(target,key,src[key]);return target}},function(module,exports,__webpack_require__){exports.f=__webpack_require__(10)},function(module,exports,__webpack_require__){var global=__webpack_require__(12),core=__webpack_require__(2),LIBRARY=__webpack_require__(84),wksExt=__webpack_require__(136),defineProperty=__webpack_require__(20).f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__replaceResultTransformer__=__webpack_require__(806);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__replaceResultTransformer__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.f=setParameters,__webpack_exports__.g=function withParameters(gl,parameters,func){if(Object(__WEBPACK_IMPORTED_MODULE_3__utils__.d)(parameters))return func(gl);var value,_parameters$nocatch=parameters.nocatch,nocatch=void 0===_parameters$nocatch||_parameters$nocatch;if(Object(__WEBPACK_IMPORTED_MODULE_4__utils_assert__.a)(!parameters.frameBuffer),Object(__WEBPACK_IMPORTED_MODULE_1__webgl_context_track_context_state__.c)(gl),setParameters(gl,parameters),nocatch)value=func(gl),Object(__WEBPACK_IMPORTED_MODULE_1__webgl_context_track_context_state__.b)(gl);else try{value=func(gl)}finally{Object(__WEBPACK_IMPORTED_MODULE_1__webgl_context_track_context_state__.b)(gl)}return value};var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__webgl_context_track_context_state__=__webpack_require__(462),__WEBPACK_IMPORTED_MODULE_2__webgl_context_set_parameters__=__webpack_require__(568),__WEBPACK_IMPORTED_MODULE_3__utils__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_4__utils_assert__=__webpack_require__(3);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_2__webgl_context_set_parameters__.c}),__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_2__webgl_context_set_parameters__.d}),__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_2__webgl_context_set_parameters__.f}),__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_2__webgl_context_set_parameters__.e}),__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_2__webgl_context_set_parameters__.b});var LUMA_SETTERS={framebuffer:function framebuffer(gl,_framebuffer){var handle=_framebuffer&&_framebuffer.handle?_framebuffer.handle:_framebuffer;return gl.bindFramebuffer(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAMEBUFFER,handle)},blend:function blend(gl,value){return value?gl.enable(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND):gl.disable(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND)},blendColor:function blendColor(gl,value){return gl.blendColor.apply(gl,_toConsumableArray(value))},blendEquation:function blendEquation(gl,args){args=isArray(args)?args:[args,args],gl.blendEquationSeparate.apply(gl,_toConsumableArray(args))},blendFunc:function blendFunc(gl,args){args=isArray(args)&&2===args.length?_toConsumableArray(args).concat(_toConsumableArray(args)):args,gl.blendFuncSeparate.apply(gl,_toConsumableArray(args))},clearColor:function clearColor(gl,value){return gl.clearColor.apply(gl,_toConsumableArray(value))},clearDepth:function clearDepth(gl,value){return gl.clearDepth(value)},clearStencil:function clearStencil(gl,value){return gl.clearStencil(value)},colorMask:function colorMask(gl,value){return gl.colorMask.apply(gl,_toConsumableArray(value))},cull:function cull(gl,value){return value?gl.enable(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.CULL_FACE):gl.disable(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.CULL_FACE)},cullFace:function cullFace(gl,value){return gl.cullFace(value)},depthTest:function depthTest(gl,value){return value?gl.enable(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_TEST):gl.disable(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_TEST)},depthFunc:function depthFunc(gl,value){return gl.depthFunc(value)},depthMask:function depthMask(gl,value){return gl.depthMask(value)},depthRange:function depthRange(gl,value){return gl.depthRange.apply(gl,_toConsumableArray(value))},dither:function dither(gl,value){return value?gl.enable(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DITHER):gl.disable(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DITHER)},derivativeHint:function derivativeHint(gl,value){gl.hint(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAGMENT_SHADER_DERIVATIVE_HINT,value)},frontFace:function frontFace(gl,value){return gl.frontFace(value)},mipmapHint:function mipmapHint(gl,value){return gl.hint(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.GENERATE_MIPMAP_HINT,value)},lineWidth:function lineWidth(gl,value){return gl.lineWidth(value)},polygonOffsetFill:function polygonOffsetFill(gl,value){return value?gl.enable(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.POLYGON_OFFSET_FILL):gl.disable(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.POLYGON_OFFSET_FILL)},polygonOffset:function polygonOffset(gl,value){return gl.polygonOffset.apply(gl,_toConsumableArray(value))},sampleCoverage:function sampleCoverage(gl,value){return gl.sampleCoverage.apply(gl,_toConsumableArray(value))},scissorTest:function scissorTest(gl,value){return value?gl.enable(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SCISSOR_TEST):gl.disable(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SCISSOR_TEST)},scissor:function scissor(gl,value){return gl.scissor.apply(gl,_toConsumableArray(value))},stencilTest:function stencilTest(gl,value){return value?gl.enable(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_TEST):gl.disable(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_TEST)},stencilMask:function stencilMask(gl,value){var _value2=_slicedToArray(value=isArray(value)?value:[value,value],2),mask=_value2[0],backMask=_value2[1];gl.stencilMaskSeparate(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT,mask),gl.stencilMaskSeparate(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BACK,backMask)},stencilFunc:function stencilFunc(gl,args){var _args2=_slicedToArray(args=isArray(args)&&3===args.length?_toConsumableArray(args).concat(_toConsumableArray(args)):args,6),func=_args2[0],ref=_args2[1],mask=_args2[2],backFunc=_args2[3],backRef=_args2[4],backMask=_args2[5];gl.stencilFuncSeparate(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT,func,ref,mask),gl.stencilFuncSeparate(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BACK,backFunc,backRef,backMask)},stencilOp:function stencilOp(gl,args){var _args4=_slicedToArray(args=isArray(args)&&3===args.length?_toConsumableArray(args).concat(_toConsumableArray(args)):args,6),sfail=_args4[0],dpfail=_args4[1],dppass=_args4[2],backSfail=_args4[3],backDpfail=_args4[4],backDppass=_args4[5];gl.stencilOpSeparate(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT,sfail,dpfail,dppass),gl.stencilOpSeparate(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BACK,backSfail,backDpfail,backDppass)},viewport:function viewport(gl,value){return gl.viewport.apply(gl,_toConsumableArray(value))}};function isArray(array){return Array.isArray(array)||ArrayBuffer.isView(array)}function setParameters(gl,parameters){for(var key in Object(__WEBPACK_IMPORTED_MODULE_2__webgl_context_set_parameters__.g)(gl,parameters),parameters){var setter=LUMA_SETTERS[key];setter&&setter(gl,parameters[key],key)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Buffer});var __WEBPACK_IMPORTED_MODULE_0__resource__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_1__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_2__webgl_utils_typed_array_utils__=__webpack_require__(460),__WEBPACK_IMPORTED_MODULE_3__utils_assert__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}var GL_COPY_READ_BUFFER=36662,GL_ARRAY_BUFFER=34962,Buffer=function(_Resource){function Buffer(gl){var _this,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,Buffer),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(Buffer.__proto__||Object.getPrototypeOf(Buffer)).call(this,gl,opts))).target=opts.target||(_this.gl.webgl2?GL_COPY_READ_BUFFER:GL_ARRAY_BUFFER),_this.setData(opts),Object.seal(_assertThisInitialized(_this)),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Buffer,__WEBPACK_IMPORTED_MODULE_0__resource__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Buffer,[{key:"setDataLayout",value:function setDataLayout(_ref2){var layout=_ref2.layout,type=_ref2.type,_ref2$size=_ref2.size,size=void 0===_ref2$size?1:_ref2$size,_ref2$offset=_ref2.offset,offset=void 0===_ref2$offset?0:_ref2$offset,_ref2$stride=_ref2.stride,stride=void 0===_ref2$stride?0:_ref2$stride,_ref2$normalized=_ref2.normalized,normalized=void 0!==_ref2$normalized&&_ref2$normalized,_ref2$integer=_ref2.integer,integer=void 0!==_ref2$integer&&_ref2$integer,_ref2$instanced=_ref2.instanced,instanced=void 0===_ref2$instanced?0:_ref2$instanced;return this.layout=layout||new function BufferLayout(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},type=_ref.type,_ref$size=_ref.size,size=void 0===_ref$size?1:_ref$size,_ref$offset=_ref.offset,offset=void 0===_ref$offset?0:_ref$offset,_ref$stride=_ref.stride,stride=void 0===_ref$stride?0:_ref$stride,_ref$normalized=_ref.normalized,normalized=void 0!==_ref$normalized&&_ref$normalized,_ref$integer=_ref.integer,integer=void 0!==_ref$integer&&_ref$integer,_ref$instanced=_ref.instanced,instanced=void 0===_ref$instanced?0:_ref$instanced;_classCallCheck(this,BufferLayout),this.type=type,this.size=size,this.offset=offset,this.stride=stride,this.normalized=normalized,this.integer=integer,this.instanced=instanced}({type:type||this.type,size:size,offset:offset,stride:stride,normalized:normalized,integer:integer,instanced:instanced}),this}},{key:"updateLayout",value:function updateLayout(opts){Object.assign(this.layout,opts)}},{key:"initialize",value:function initialize(){var _ref3=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},data=_ref3.data,bytes=_ref3.bytes,_ref3$usage=_ref3.usage,usage=void 0===_ref3$usage?35044:_ref3$usage,type=(_ref3.layout,_ref3.type),_ref3$index=(_ref3.size,_ref3.offset,_ref3.stride,_ref3.normalized,_ref3.integer,_ref3.instanced,_ref3.index),index=void 0===_ref3$index?null:_ref3$index,opts=arguments[0];data?(type=type||Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils_typed_array_utils__.b)(data),bytes=data.byteLength,Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(type)):(type=type||5126,bytes&&0!==bytes||(bytes=0,data=new Float32Array(0))),this.bytes=bytes,this.bytesUsed=bytes,this.data=data,this.type=type,this.usage=usage,this.index=index,this.setDataLayout(Object.assign(opts));var target=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(target,this.handle),this.gl.bufferData(target,data||bytes,usage),this.gl.bindBuffer(target,null),this}},{key:"setData",value:function setData(options){return this.initialize(options)}},{key:"subData",value:function subData(){var _ref4=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},data=_ref4.data,_ref4$offset=_ref4.offset,offset=void 0===_ref4$offset?0:_ref4$offset,_ref4$srcOffset=_ref4.srcOffset,srcOffset=void 0===_ref4$srcOffset?0:_ref4$srcOffset,length=_ref4.length;Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(data);var target=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(target,this.handle),0!==srcOffset||void 0!==length?(Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.d)(this.gl),this.gl.bufferSubData(this.target,offset,data,srcOffset,length||0)):this.gl.bufferSubData(target,offset,data),this.gl.bindBuffer(target,null),this}},{key:"copyData",value:function copyData(_ref5){var sourceBuffer=_ref5.sourceBuffer,_ref5$readOffset=_ref5.readOffset,readOffset=void 0===_ref5$readOffset?0:_ref5$readOffset,_ref5$writeOffset=_ref5.writeOffset,writeOffset=void 0===_ref5$writeOffset?0:_ref5$writeOffset,size=_ref5.size;return Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.d)(this.gl),this.gl.bindBuffer(GL_COPY_READ_BUFFER,sourceBuffer.handle),this.gl.bindBuffer(36663,this.handle),this.gl.copyBufferSubData(GL_COPY_READ_BUFFER,36663,readOffset,writeOffset,size),this.gl.bindBuffer(GL_COPY_READ_BUFFER,null),this.gl.bindBuffer(36663,null),this}},{key:"getData",value:function getData(){var _ref6=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref6$dstData=_ref6.dstData,dstData=void 0===_ref6$dstData?null:_ref6$dstData,_ref6$srcByteOffset=_ref6.srcByteOffset,srcByteOffset=void 0===_ref6$srcByteOffset?0:_ref6$srcByteOffset,_ref6$dstOffset=_ref6.dstOffset,dstOffset=void 0===_ref6$dstOffset?0:_ref6$dstOffset,_ref6$length=_ref6.length,length=void 0===_ref6$length?0:_ref6$length;Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.d)(this.gl);var dstAvailableElementCount,dstElementCount,ArrayType=Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils_typed_array_utils__.c)(this.type,{clamped:!1}),sourceAvailableElementCount=this._getAvailableElementCount(srcByteOffset),dstElementOffset=dstOffset;dstData?dstAvailableElementCount=(dstElementCount=dstData.length)-dstElementOffset:dstElementCount=dstElementOffset+(dstAvailableElementCount=Math.min(sourceAvailableElementCount,length||sourceAvailableElementCount));var copyElementCount=Math.min(sourceAvailableElementCount,dstAvailableElementCount);return length=length||copyElementCount,Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(length<=copyElementCount,"Invalid srcByteOffset, dstOffset and length combination"),dstData=dstData||new ArrayType(dstElementCount),this.gl.bindBuffer(GL_COPY_READ_BUFFER,this.handle),this.gl.getBufferSubData(GL_COPY_READ_BUFFER,srcByteOffset,dstData,dstOffset,length),this.gl.bindBuffer(GL_COPY_READ_BUFFER,null),dstData}},{key:"bind",value:function bind(){var _ref7=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref7$target=_ref7.target,target=void 0===_ref7$target?this.target:_ref7$target,_ref7$index=_ref7.index,index=void 0===_ref7$index?this.index:_ref7$index,_ref7$offset=_ref7.offset,offset=void 0===_ref7$offset?0:_ref7$offset,size=_ref7.size;switch(35345===target||35982===target?void 0!==size?"ranged":"indexed":"non-indexed"){case"non-indexed":this.gl.bindBuffer(target,this.handle);break;case"indexed":Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.d)(this.gl),Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(0===offset),this.gl.bindBufferBase(target,index,this.handle);break;case"ranged":Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.d)(this.gl),this.gl.bindBufferRange(target,index,this.handle,offset,size);break;default:Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(!1)}return this}},{key:"unbind",value:function unbind(){var _ref8=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref8$target=_ref8.target,target=void 0===_ref8$target?this.target:_ref8$target,_ref8$index=_ref8.index,index=void 0===_ref8$index?this.index:_ref8$index;return 35345===target||35982===target?this.gl.bindBufferBase(target,index,null):this.gl.bindBuffer(target,null),this}},{key:"getIndexedParameter",value:function getIndexedParameter(binding,index){var target=this.gl.webgl2?GL_COPY_READ_BUFFER:this.target;return this.gl.bindBuffer(target,index),this.gl.getIndexedParameter(binding,index)}},{key:"_createHandle",value:function _createHandle(){return this.gl.createBuffer()}},{key:"_deleteHandle",value:function _deleteHandle(){this.gl.deleteBuffer(this.handle)}},{key:"_getParameter",value:function _getParameter(pname){this.gl.bindBuffer(this.target,this.handle);var value=this.gl.getBufferParameter(this.target,pname);return this.gl.bindBuffer(this.target,null),value}},{key:"_getAvailableElementCount",value:function _getAvailableElementCount(srcByteOffset){var ArrayType=Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils_typed_array_utils__.c)(this.type,{clamped:!1});return this.bytes/ArrayType.BYTES_PER_ELEMENT-srcByteOffset/ArrayType.BYTES_PER_ELEMENT}}]),Buffer}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(476),__webpack_require__(592);var __WEBPACK_IMPORTED_MODULE_2__model__=__webpack_require__(220);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_2__model__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1_prop_types__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__webpack_require__(1)),__WEBPACK_IMPORTED_MODULE_1_prop_types___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__),__WEBPACK_IMPORTED_MODULE_2_viewport_mercator_project__=__webpack_require__(72),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var propTypes={captureScroll:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,captureDrag:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,captureClick:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,captureDoubleClick:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool},contextTypes={viewport:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.instanceOf(__WEBPACK_IMPORTED_MODULE_2_viewport_mercator_project__.a),isDragging:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,eventManager:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object},EVENT_MAP={captureScroll:"wheel",captureDrag:"panstart",captureClick:"click",captureDoubleClick:"dblclick"},BaseControl=function(_Component){function BaseControl(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseControl);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(BaseControl.__proto__||Object.getPrototypeOf(BaseControl)).call(this,props));return _this._events=null,_this._onContainerLoad=_this._onContainerLoad.bind(_this),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(BaseControl,__WEBPACK_IMPORTED_MODULE_0_react__["Component"]),_createClass(BaseControl,[{key:"_onContainerLoad",value:function _onContainerLoad(ref){var eventManager=this.context.eventManager;if(eventManager){var events=this._events;if(events&&(eventManager.off(events),events=null),ref){for(var propName in events={},EVENT_MAP){this.props[propName]&&(events[EVENT_MAP[propName]]=this._captureEvent)}eventManager.on(events,ref)}this._events=events}}},{key:"_captureEvent",value:function _captureEvent(evt){evt.stopPropagation()}},{key:"render",value:function render(){return null}}]),BaseControl}();__webpack_exports__.a=BaseControl,BaseControl.propTypes=propTypes,BaseControl.defaultProps={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0},BaseControl.contextTypes=contextTypes},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return map}),__webpack_require__.d(__webpack_exports__,"b",function(){return slice});var array=Array.prototype,map=array.map,slice=array.slice},function(module,__webpack_exports__,__webpack_require__){"use strict";function streamGeometry(geometry,stream){geometry&&streamGeometryType.hasOwnProperty(geometry.type)&&streamGeometryType[geometry.type](geometry,stream)}var streamObjectType={Feature:function(object,stream){streamGeometry(object.geometry,stream)},FeatureCollection:function(object,stream){for(var features=object.features,i=-1,n=features.length;++i<n;)streamGeometry(features[i].geometry,stream)}},streamGeometryType={Sphere:function(object,stream){stream.sphere()},Point:function(object,stream){object=object.coordinates,stream.point(object[0],object[1],object[2])},MultiPoint:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)object=coordinates[i],stream.point(object[0],object[1],object[2])},LineString:function(object,stream){streamLine(object.coordinates,stream,0)},MultiLineString:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)streamLine(coordinates[i],stream,0)},Polygon:function(object,stream){streamPolygon(object.coordinates,stream)},MultiPolygon:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)streamPolygon(coordinates[i],stream)},GeometryCollection:function(object,stream){for(var geometries=object.geometries,i=-1,n=geometries.length;++i<n;)streamGeometry(geometries[i],stream)}};function streamLine(coordinates,stream,closed){var coordinate,i=-1,n=coordinates.length-closed;for(stream.lineStart();++i<n;)coordinate=coordinates[i],stream.point(coordinate[0],coordinate[1],coordinate[2]);stream.lineEnd()}function streamPolygon(coordinates,stream){var i=-1,n=coordinates.length;for(stream.polygonStart();++i<n;)streamLine(coordinates[i],stream,1);stream.polygonEnd()}__webpack_exports__.a=function(object,stream){object&&streamObjectType.hasOwnProperty(object.type)?streamObjectType[object.type](object,stream):streamGeometry(object,stream)}},,,,function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(394),__esModule:!0}},function(module,exports,__webpack_require__){"use strict";var LIBRARY=__webpack_require__(84),$export=__webpack_require__(6),redefine=__webpack_require__(150),hide=__webpack_require__(32),has=__webpack_require__(34),Iterators=__webpack_require__(50),$iterCreate=__webpack_require__(399),setToStringTag=__webpack_require__(66),getPrototypeOf=__webpack_require__(203),ITERATOR=__webpack_require__(10)("iterator"),BUGGY=!([].keys&&"next"in[].keys()),returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case"keys":return function keys(){return new Constructor(this,kind)};case"values":return function values(){return new Constructor(this,kind)}}return function entries(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES="values"==DEFAULT,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto["@@iterator"]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME&&proto.entries||$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)))!==Object.prototype&&IteratorPrototype.next&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||has(IteratorPrototype,ITERATOR)||hide(IteratorPrototype,ITERATOR,returnThis)),DEF_VALUES&&$native&&"values"!==$native.name&&(VALUES_BUG=!0,$default=function values(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod("values"),keys:IS_SET?$default:getMethod("keys"),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(32)},function(module,exports,__webpack_require__){var pIE=__webpack_require__(70),createDesc=__webpack_require__(64),toIObject=__webpack_require__(37),toPrimitive=__webpack_require__(121),has=__webpack_require__(34),IE8_DOM_DEFINE=__webpack_require__(200),gOPD=Object.getOwnPropertyDescriptor;exports.f=__webpack_require__(26)?gOPD:function getOwnPropertyDescriptor(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},function(module,exports,__webpack_require__){"use strict";var emptyObject={};module.exports=emptyObject},function(module,exports,__webpack_require__){"use strict";(function(process,global){Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},isBrowser="object"!==(void 0===process?"undefined":_typeof(process))||"[object process]"!=process+""||process.browser,window_="undefined"==typeof window?global:window,document_="undefined"==typeof document?{}:document,global_=void 0===global?window:global,process_="object"===(void 0===process?"undefined":_typeof(process))?process:{};exports.window=window_,exports.document=document_,exports.global=global_,exports.process=process_,exports.console=console,exports.isBrowser=isBrowser,exports.VERSION="1.0.2"}).call(exports,__webpack_require__(61),__webpack_require__(13))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(11);var __WEBPACK_IMPORTED_MODULE_1__webgl_context_context__=__webpack_require__(258);__webpack_require__.d(__webpack_exports__,"i",function(){return __WEBPACK_IMPORTED_MODULE_1__webgl_context_context__.c});__webpack_require__(139);var __WEBPACK_IMPORTED_MODULE_3__webgl_context_context_limits__=__webpack_require__(259);__webpack_require__.d(__webpack_exports__,"h",function(){return __WEBPACK_IMPORTED_MODULE_3__webgl_context_context_limits__.a});var __WEBPACK_IMPORTED_MODULE_4__attribute__=__webpack_require__(570);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_4__attribute__.a});var __WEBPACK_IMPORTED_MODULE_5__buffer__=__webpack_require__(140);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_5__buffer__.a});__webpack_require__(261);var __WEBPACK_IMPORTED_MODULE_7__program__=__webpack_require__(465);__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_7__program__.a});var __WEBPACK_IMPORTED_MODULE_8__framebuffer__=__webpack_require__(219);__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_8__framebuffer__.a});__webpack_require__(468);var __WEBPACK_IMPORTED_MODULE_10__texture_2d__=__webpack_require__(467);__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_10__texture_2d__.a});__webpack_require__(572),__webpack_require__(573);var __WEBPACK_IMPORTED_MODULE_13__clear__=__webpack_require__(262);__webpack_require__.d(__webpack_exports__,"g",function(){return __WEBPACK_IMPORTED_MODULE_13__clear__.a});__webpack_require__(574);var __WEBPACK_IMPORTED_MODULE_15__uniforms__=__webpack_require__(469);__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_15__uniforms__.b});__webpack_require__(466)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Texture});var _TEXTURE_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__resource__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_2__buffer__=__webpack_require__(140),__WEBPACK_IMPORTED_MODULE_3__webgl_context_context_state__=__webpack_require__(139),__WEBPACK_IMPORTED_MODULE_4__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_5__utils__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_6__utils_assert__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var NPOT_MIN_FILTERS=[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.LINEAR,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.NEAREST],TEXTURE_FORMATS=(_defineProperty(_TEXTURE_FORMATS={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGB,{dataFormat:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGB,types:[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_BYTE,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_SHORT_5_6_5]}),_defineProperty(_TEXTURE_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA,{dataFormat:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA,types:[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_BYTE,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_SHORT_4_4_4_4,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_SHORT_5_5_5_1]}),_defineProperty(_TEXTURE_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ALPHA,{dataFormat:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ALPHA,types:[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_BYTE]}),_defineProperty(_TEXTURE_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.LUMINANCE,{dataFormat:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.LUMINANCE,types:[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_BYTE]}),_defineProperty(_TEXTURE_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.LUMINANCE_ALPHA,{dataFormat:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.LUMINANCE_ALPHA,types:[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_BYTE]}),_TEXTURE_FORMATS);var Texture=function(_Resource){function Texture(gl,opts){var _this;!function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,Texture);var _opts$id=opts.id,id=void 0===_opts$id?Object(__WEBPACK_IMPORTED_MODULE_5__utils__.h)("texture"):_opts$id,handle=opts.handle,target=opts.target;return(_this=_possibleConstructorReturn(this,(Texture.__proto__||Object.getPrototypeOf(Texture)).call(this,gl,{id:id,handle:handle}))).target=target,_this.hasFloatTexture=gl.getExtension("OES_texture_float"),_this.textureUnit=void 0,_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Texture,__WEBPACK_IMPORTED_MODULE_1__resource__["a"]),_createClass(Texture,null,[{key:"isSupported",value:function isSupported(gl){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},format=_ref.format,linearFiltering=_ref.linearFiltering,supported=!0;return format&&(supported=(supported=supported&&function isFormatSupported(gl,format){var info=TEXTURE_FORMATS[format];if(!info)return!1;if(void 0===info.gl1&&void 0===info.gl2)return!0;var value=Object(__WEBPACK_IMPORTED_MODULE_4__webgl_utils__.l)(gl)&&info.gl2||info.gl1;return"string"==typeof value?gl.getExtension(value):value}(gl,format))&&(!linearFiltering||function isLinearFilteringSupported(gl,format){var info=TEXTURE_FORMATS[format];switch(info&&info.types[0]){case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.FLOAT:return gl.getExtension("OES_texture_float_linear");case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.HALF_FLOAT:return gl.getExtension("OES_texture_half_float_linear");default:return!0}}(gl,format))),supported}}]),_createClass(Texture,[{key:"toString",value:function toString(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}},{key:"initialize",value:function initialize(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},data=opts.data,_opts$pixels=opts.pixels,pixels=void 0===_opts$pixels?null:_opts$pixels,_opts$format=opts.format,format=void 0===_opts$format?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA:_opts$format,_opts$type=opts.type,type=void 0===_opts$type?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_BYTE:_opts$type,_opts$border=opts.border,border=void 0===_opts$border?0:_opts$border,_opts$recreate=opts.recreate,recreate=void 0!==_opts$recreate&&_opts$recreate,_opts$parameters=opts.parameters,parameters=void 0===_opts$parameters?{}:_opts$parameters,_opts$pixelStore=opts.pixelStore,pixelStore=void 0===_opts$pixelStore?{}:_opts$pixelStore,_opts$unpackFlipY=opts.unpackFlipY,unpackFlipY=void 0===_opts$unpackFlipY||_opts$unpackFlipY,_opts$mipmaps=opts.mipmaps,mipmaps=void 0===_opts$mipmaps||_opts$mipmaps;data||(data=pixels);var width=opts.width,height=opts.height,dataFormat=opts.dataFormat,_deduceParameters2=this._deduceParameters({format:format,type:type,dataFormat:dataFormat,compressed:!1,data:data,width:width,height:height});width=_deduceParameters2.width,height=_deduceParameters2.height,dataFormat=_deduceParameters2.dataFormat,this.width=width,this.height=height,this.format=format,this.type=type,this.dataFormat=dataFormat,this.border=border,this.mipmaps=mipmaps;var DEFAULT_TEXTURE_SETTINGS=_defineProperty({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_FLIP_Y_WEBGL,unpackFlipY),glSettings=Object.assign({},DEFAULT_TEXTURE_SETTINGS,pixelStore);this._isNPOT()&&(__WEBPACK_IMPORTED_MODULE_5__utils__.g.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),mipmaps=!1,this._updateForNPOT(parameters)),this.setImageData({data:data,width:width,height:height,format:format,type:type,dataFormat:dataFormat,border:border,mipmaps:mipmaps,parameters:glSettings}),mipmaps&&this.generateMipmap(),this.setParameters(parameters),recreate&&(this.data=data)}},{key:"resize",value:function resize(_ref2){var width=_ref2.width,height=_ref2.height;return width!==this.width||height!==this.height?this.initialize({width:width,height:height,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:!1}):this}},{key:"generateMipmap",value:function generateMipmap(){var _this2=this,params=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindTexture(this.target,this.handle),Object(__WEBPACK_IMPORTED_MODULE_3__webgl_context_context_state__.g)(this.gl,params,function(){_this2.gl.generateMipmap(_this2.target)}),this.gl.bindTexture(this.target,null),this}},{key:"setImageData",value:function setImageData(_ref3){var _this3=this,_ref3$target=_ref3.target,target=void 0===_ref3$target?this.target:_ref3$target,_ref3$pixels=_ref3.pixels,pixels=void 0===_ref3$pixels?null:_ref3$pixels,_ref3$data=_ref3.data,data=void 0===_ref3$data?null:_ref3$data,width=_ref3.width,height=_ref3.height,_ref3$level=_ref3.level,level=void 0===_ref3$level?0:_ref3$level,_ref3$format=_ref3.format,format=void 0===_ref3$format?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA:_ref3$format,type=_ref3.type,dataFormat=_ref3.dataFormat,_ref3$offset=_ref3.offset,offset=void 0===_ref3$offset?0:_ref3$offset,_ref3$border=_ref3.border,border=void 0===_ref3$border?0:_ref3$border,_ref3$compressed=_ref3.compressed,compressed=void 0!==_ref3$compressed&&_ref3$compressed,_ref3$parameters=_ref3.parameters,parameters=void 0===_ref3$parameters?{}:_ref3$parameters;data||(data=pixels);var _deduceParameters3=this._deduceParameters({format:format,type:type,dataFormat:dataFormat,compressed:compressed,data:data,width:width,height:height});type=_deduceParameters3.type,dataFormat=_deduceParameters3.dataFormat,compressed=_deduceParameters3.compressed,width=_deduceParameters3.width,height=_deduceParameters3.height;var gl=this.gl;gl.bindTexture(this.target,this.handle);var dataType,_getDataType2=this._getDataType({data:data,compressed:compressed});data=_getDataType2.data,dataType=_getDataType2.dataType,Object(__WEBPACK_IMPORTED_MODULE_3__webgl_context_context_state__.g)(this.gl,parameters,function(){switch(dataType){case"null":gl.texImage2D(target,level,format,width,height,border,dataFormat,type,data);break;case"typed-array":gl.texImage2D(target,level,format,width,height,border,dataFormat,type,data,offset);break;case"buffer":Object(__WEBPACK_IMPORTED_MODULE_4__webgl_utils__.d)(gl),gl.bindBuffer(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.PIXEL_UNPACK_BUFFER,data.handle||data),gl.texImage2D(target,level,format,width,height,border,format,type,offset);break;case"browser-object":gl.texImage2D(target,level,format,format,type,data);break;case"compressed":gl.compressedTexImage2D(_this3.target,level,format,width,height,border,data);break;default:Object(__WEBPACK_IMPORTED_MODULE_6__utils_assert__.a)(!1,"Unknown image data type")}})}},{key:"setSubImageData",value:function setSubImageData(_ref4){var _this4=this,_ref4$target=_ref4.target,target=void 0===_ref4$target?this.target:_ref4$target,_ref4$pixels=_ref4.pixels,pixels=void 0===_ref4$pixels?null:_ref4$pixels,_ref4$data=_ref4.data,data=void 0===_ref4$data?null:_ref4$data,_ref4$x=_ref4.x,x=void 0===_ref4$x?0:_ref4$x,_ref4$y=_ref4.y,y=void 0===_ref4$y?0:_ref4$y,width=_ref4.width,height=_ref4.height,_ref4$level=_ref4.level,level=void 0===_ref4$level?0:_ref4$level,_ref4$format=_ref4.format,format=void 0===_ref4$format?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA:_ref4$format,type=_ref4.type,dataFormat=_ref4.dataFormat,_ref4$compressed=_ref4.compressed,compressed=void 0!==_ref4$compressed&&_ref4$compressed,_ref4$offset=_ref4.offset,offset=void 0===_ref4$offset?0:_ref4$offset,_ref4$border=_ref4.border,border=void 0===_ref4$border?0:_ref4$border,_ref4$parameters=_ref4.parameters,parameters=void 0===_ref4$parameters?{}:_ref4$parameters,_deduceParameters4=this._deduceParameters({format:format,type:type,dataFormat:dataFormat,compressed:compressed,data:data,width:width,height:height});if(type=_deduceParameters4.type,dataFormat=_deduceParameters4.dataFormat,compressed=_deduceParameters4.compressed,width=_deduceParameters4.width,height=_deduceParameters4.height,data||(data=pixels),data&&data.data){var ndarray=data;data=ndarray.data,width=ndarray.shape[0],height=ndarray.shape[1]}_instanceof(data,__WEBPACK_IMPORTED_MODULE_2__buffer__.a)&&(data=data.handle),this.gl.bindTexture(this.target,this.handle),Object(__WEBPACK_IMPORTED_MODULE_3__webgl_context_context_state__.g)(this.gl,parameters,function(){compressed?_this4.gl.compressedTexSubImage2D(target,level,x,y,width,height,format,data):null===data?_this4.gl.texSubImage2D(target,level,format,width,height,border,dataFormat,type,null):ArrayBuffer.isView(data)?_this4.gl.texSubImage2D(target,level,x,y,width,height,format,type,data,offset):_instanceof(data,__WEBPACK_IMPORTED_MODULE_4__webgl_utils__.b)?(Object(__WEBPACK_IMPORTED_MODULE_4__webgl_utils__.d)(_this4.gl),_this4.gl.bindBuffer(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.PIXEL_UNPACK_BUFFER,data),_this4.gl.texSubImage2D(target,level,format,width,height,border,format,type,offset),_this4.gl.bindBuffer(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.GL_PIXEL_UNPACK_BUFFER,null)):_this4.gl.texSubImage2D(target,level,x,y,format,type,data)}),this.gl.bindTexture(this.target,null)}},{key:"copyFramebuffer",value:function copyFramebuffer(_ref5){var _ref5$target=_ref5.target,framebuffer=(void 0===_ref5$target&&this.target,_ref5.framebuffer),_ref5$x=(_ref5.offset,_ref5.x),x=void 0===_ref5$x?0:_ref5$x,_ref5$y=_ref5.y,y=void 0===_ref5$y?0:_ref5$y,width=_ref5.width,height=_ref5.height,_ref5$level=_ref5.level,level=void 0===_ref5$level?0:_ref5$level,_ref5$internalFormat=_ref5.internalFormat,internalFormat=void 0===_ref5$internalFormat?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA:_ref5$internalFormat,_ref5$border=_ref5.border,border=void 0===_ref5$border?0:_ref5$border;framebuffer&&framebuffer.bind(),this.bind(),this.gl.copyTexImage2D(this.target,level,internalFormat,x,y,width,height,border),this.unbind(),framebuffer&&framebuffer.unbind()}},{key:"getActiveUnit",value:function getActiveUnit(){return this.gl.getParameter(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ACTIVE_TEXTURE)-__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE0}},{key:"bind",value:function bind(){var textureUnit=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;if(void 0===textureUnit)throw new Error("Texture.bind: must specify texture unit");return this.textureUnit=textureUnit,this.gl.activeTexture(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE0+textureUnit),this.gl.bindTexture(this.target,this.handle),textureUnit}},{key:"unbind",value:function unbind(){if(void 0===this.textureUnit)throw new Error("Texture.unbind: texture unit not specified");return this.gl.activeTexture(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE0+this.textureUnit),this.gl.bindTexture(this.target,null),this.textureUnit}},{key:"_getDataType",value:function _getDataType(_ref6){var data=_ref6.data,_ref6$compressed=_ref6.compressed;return void 0!==_ref6$compressed&&_ref6$compressed?{data:data,dataType:"compressed"}:null===data?{data:data,dataType:"null"}:ArrayBuffer.isView(data)?{data:data,dataType:"typed-array"}:_instanceof(data,__WEBPACK_IMPORTED_MODULE_2__buffer__.a)?{data:data.handle,dataType:"buffer"}:_instanceof(data,__WEBPACK_IMPORTED_MODULE_4__webgl_utils__.b)?{data:data,dataType:"buffer"}:{data:data,dataType:"browser-object"}}},{key:"setImage3D",value:function setImage3D(_ref7){var _ref7$level=_ref7.level,level=void 0===_ref7$level?0:_ref7$level,_ref7$internalformat=_ref7.internalformat,internalformat=void 0===_ref7$internalformat?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA:_ref7$internalformat,width=_ref7.width,height=_ref7.height,_ref7$depth=_ref7.depth,depth=void 0===_ref7$depth?1:_ref7$depth,_ref7$border=_ref7.border,border=void 0===_ref7$border?0:_ref7$border,format=_ref7.format,_ref7$type=_ref7.type,type=void 0===_ref7$type?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_BYTE:_ref7$type,_ref7$offset=_ref7.offset,offset=void 0===_ref7$offset?0:_ref7$offset,pixels=_ref7.pixels;return ArrayBuffer.isView(pixels)?(this.gl.texImage3D(this.target,level,internalformat,width,height,depth,border,format,type,pixels),this):(_instanceof(pixels,__WEBPACK_IMPORTED_MODULE_2__buffer__.a)&&(this.gl.bindBuffer(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.PIXEL_UNPACK_BUFFER,pixels.handle),this.gl.texImage3D(this.target,level,internalformat,width,height,depth,border,format,type,offset)),this)}},{key:"_deduceParameters",value:function _deduceParameters(opts){var format=opts.format,data=opts.data,width=opts.width,height=opts.height,dataFormat=opts.dataFormat,type=opts.type,compressed=opts.compressed,textureFormat=TEXTURE_FORMATS[format];dataFormat=dataFormat||textureFormat&&textureFormat.dataFormat,type=type||textureFormat&&textureFormat.types[0],compressed=compressed||textureFormat&&textureFormat.compressed;var _deduceImageSize2=this._deduceImageSize({data:data,width:width,height:height});return{dataFormat:dataFormat,type:type,compressed:compressed,width:width=_deduceImageSize2.width,height:height=_deduceImageSize2.height,format:format,data:data}}},{key:"_deduceImageSize",value:function _deduceImageSize(_ref8){var size,data=_ref8.data,width=_ref8.width,height=_ref8.height;return size="undefined"!=typeof ImageData&&_instanceof(data,ImageData)?{width:data.width,height:data.height}:"undefined"!=typeof HTMLImageElement&&_instanceof(data,HTMLImageElement)?{width:data.naturalWidth,height:data.naturalHeight}:"undefined"!=typeof HTMLCanvasElement&&_instanceof(data,HTMLCanvasElement)?{width:data.width,height:data.height}:"undefined"!=typeof HTMLVideoElement&&_instanceof(data,HTMLVideoElement)?{width:data.videoWidth,height:data.videoHeight}:data?{width:width,height:height}:{width:width>=0?width:1,height:height>=0?height:1},Object(__WEBPACK_IMPORTED_MODULE_6__utils_assert__.a)(size,"Could not deduced texture size"),Object(__WEBPACK_IMPORTED_MODULE_6__utils_assert__.a)(void 0===width||size.width===width,"Deduced texture width does not match supplied width"),Object(__WEBPACK_IMPORTED_MODULE_6__utils_assert__.a)(void 0===height||size.height===height,"Deduced texture height does not match supplied height"),size}},{key:"_createHandle",value:function _createHandle(){return this.gl.createTexture()}},{key:"_deleteHandle",value:function _deleteHandle(){this.gl.deleteTexture(this.handle)}},{key:"_getParameter",value:function _getParameter(pname){switch(pname){case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_WIDTH:return this.width;case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_HEIGHT:return this.height;default:this.gl.bindTexture(this.target,this.handle);var value=this.gl.getTexParameter(this.target,pname);return this.gl.bindTexture(this.target,null),value}}},{key:"_setParameter",value:function _setParameter(pname,param){switch(this.gl.bindTexture(this.target,this.handle),param=this._getNPOTParam(pname,param),pname){case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_MIN_LOD:case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_MAX_LOD:this.gl.texParameterf(this.handle,pname,param);break;case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_WIDTH:case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_HEIGHT:throw new Error("Cannot set emulated parameter");default:this.gl.texParameteri(this.target,pname,param)}return this.gl.bindTexture(this.target,null),this}},{key:"_isNPOT",value:function _isNPOT(){return!(Object(__WEBPACK_IMPORTED_MODULE_4__webgl_utils__.l)(this.gl)||Object(__WEBPACK_IMPORTED_MODULE_5__utils__.f)(this.width)&&Object(__WEBPACK_IMPORTED_MODULE_5__utils__.f)(this.height))}},{key:"_updateForNPOT",value:function _updateForNPOT(parameters){void 0===parameters[this.gl.TEXTURE_MIN_FILTER]&&(__WEBPACK_IMPORTED_MODULE_5__utils__.g.warn("texture: ".concat(this," is Non-Power-Of-Two, forcing TEXTURE_MIN_FILTER to LINEAR"))(),parameters[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===parameters[this.gl.TEXTURE_WRAP_S]&&(__WEBPACK_IMPORTED_MODULE_5__utils__.g.warn("texture: ".concat(this," is Non-Power-Of-Two, forcing TEXTURE_WRAP_S to CLAMP_TO_EDGE"))(),parameters[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===parameters[this.gl.TEXTURE_WRAP_T]&&(__WEBPACK_IMPORTED_MODULE_5__utils__.g.warn("texture: ".concat(this," is Non-Power-Of-Two, forcing TEXTURE_WRAP_T to CLAMP_TO_EDGE"))(),parameters[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}},{key:"_getNPOTParam",value:function _getNPOTParam(pname,param){if(this._isNPOT())switch(pname){case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_MIN_FILTER:-1===NPOT_MIN_FILTERS.indexOf(param)&&(__WEBPACK_IMPORTED_MODULE_5__utils__.g.warn("texture: ".concat(this," is Non-Power-Of-Two, forcing TEXTURE_MIN_FILTER to LINEAR"))(),param=__WEBPACK_IMPORTED_MODULE_0__constants___default.a.LINEAR);break;case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_WRAP_S:case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_WRAP_T:param!==__WEBPACK_IMPORTED_MODULE_0__constants___default.a.CLAMP_TO_EDGE&&(__WEBPACK_IMPORTED_MODULE_5__utils__.g.warn("texture: ".concat(this," is Non-Power-Of-Two, ").concat(Object(__WEBPACK_IMPORTED_MODULE_4__webgl_utils__.h)(this.gl,pname)," to CLAMP_TO_EDGE"))(),param=__WEBPACK_IMPORTED_MODULE_0__constants___default.a.CLAMP_TO_EDGE)}return param}}]),Texture}()},function(module,exports,__webpack_require__){var identity=__webpack_require__(933);module.exports=function lookAt(out,eye,center,up){var x0,x1,x2,y0,y1,y2,z0,z1,z2,len,eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],centerx=center[0],centery=center[1],centerz=center[2];if(Math.abs(eyex-centerx)<1e-6&&Math.abs(eyey-centery)<1e-6&&Math.abs(eyez-centerz)<1e-6)return identity(out);z0=eyex-centerx,z1=eyey-centery,z2=eyez-centerz,len=1/Math.sqrt(z0*z0+z1*z1+z2*z2),x0=upy*(z2*=len)-upz*(z1*=len),x1=upz*(z0*=len)-upx*z2,x2=upx*z1-upy*z0,(len=Math.sqrt(x0*x0+x1*x1+x2*x2))?(x0*=len=1/len,x1*=len,x2*=len):(x0=0,x1=0,x2=0);y0=z1*x2-z2*x1,y1=z2*x0-z0*x2,y2=z0*x1-z1*x0,(len=Math.sqrt(y0*y0+y1*y1+y2*y2))?(y0*=len=1/len,y1*=len,y2*=len):(y0=0,y1=0,y2=0);return out[0]=x0,out[1]=y0,out[2]=z0,out[3]=0,out[4]=x1,out[5]=y1,out[6]=z1,out[7]=0,out[8]=x2,out[9]=y2,out[10]=z2,out[11]=0,out[12]=-(x0*eyex+x1*eyey+x2*eyez),out[13]=-(y0*eyex+y1*eyey+y2*eyez),out[14]=-(z0*eyex+z1*eyey+z2*eyez),out[15]=1,out}},function(module,exports){module.exports=function perspective(out,fovy,aspect,near,far){var f=1/Math.tan(fovy/2),nf=1/(near-far);return out[0]=f/aspect,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=f,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=(far+near)*nf,out[11]=-1,out[12]=0,out[13]=0,out[14]=2*far*near*nf,out[15]=0,out}},function(module,exports){module.exports=function multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=b0*a00+b1*a10+b2*a20+b3*a30,out[1]=b0*a01+b1*a11+b2*a21+b3*a31,out[2]=b0*a02+b1*a12+b2*a22+b3*a32,out[3]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[4],b1=b[5],b2=b[6],b3=b[7],out[4]=b0*a00+b1*a10+b2*a20+b3*a30,out[5]=b0*a01+b1*a11+b2*a21+b3*a31,out[6]=b0*a02+b1*a12+b2*a22+b3*a32,out[7]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[8],b1=b[9],b2=b[10],b3=b[11],out[8]=b0*a00+b1*a10+b2*a20+b3*a30,out[9]=b0*a01+b1*a11+b2*a21+b3*a31,out[10]=b0*a02+b1*a12+b2*a22+b3*a32,out[11]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[12],b1=b[13],b2=b[14],b3=b[15],out[12]=b0*a00+b1*a10+b2*a20+b3*a30,out[13]=b0*a01+b1*a11+b2*a21+b3*a31,out[14]=b0*a02+b1*a12+b2*a22+b3*a32,out[15]=b0*a03+b1*a13+b2*a23+b3*a33,out}},function(module,exports){module.exports=function scale(out,a,v){var x=v[0],y=v[1],z=v[2];return out[0]=a[0]*x,out[1]=a[1]*x,out[2]=a[2]*x,out[3]=a[3]*x,out[4]=a[4]*y,out[5]=a[5]*y,out[6]=a[6]*y,out[7]=a[7]*y,out[8]=a[8]*z,out[9]=a[9]*z,out[10]=a[10]*z,out[11]=a[11]*z,out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}},function(module,exports){module.exports=function translate(out,a,v){var a00,a01,a02,a03,a10,a11,a12,a13,a20,a21,a22,a23,x=v[0],y=v[1],z=v[2];a===out?(out[12]=a[0]*x+a[4]*y+a[8]*z+a[12],out[13]=a[1]*x+a[5]*y+a[9]*z+a[13],out[14]=a[2]*x+a[6]*y+a[10]*z+a[14],out[15]=a[3]*x+a[7]*y+a[11]*z+a[15]):(a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a03,out[4]=a10,out[5]=a11,out[6]=a12,out[7]=a13,out[8]=a20,out[9]=a21,out[10]=a22,out[11]=a23,out[12]=a00*x+a10*y+a20*z+a[12],out[13]=a01*x+a11*y+a21*z+a[13],out[14]=a02*x+a12*y+a22*z+a[14],out[15]=a03*x+a13*y+a23*z+a[15]);return out}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}},function(module,__webpack_exports__,__webpack_require__){"use strict";function Adder(){this.reset()}__webpack_exports__.a=function(){return new Adder},Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(y){add(temp,y,this.t),add(this,temp.s,this.s),this.s?this.t+=temp.t:this.s=temp.t},valueOf:function(){return this.s}};var temp=new Adder;function add(adder,a,b){var x=adder.s=a+b,bv=x-a,av=x-bv;adder.t=a-av+(b-bv)}},,,,,function(module,exports,__webpack_require__){var global=__webpack_require__(30),core=__webpack_require__(58),hide=__webpack_require__(43),redefine=__webpack_require__(78),ctx=__webpack_require__(293),$export=function(type,name,source){var key,own,out,exp,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,target=IS_GLOBAL?global:IS_STATIC?global[name]||(global[name]={}):(global[name]||{}).prototype,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports.prototype||(exports.prototype={});for(key in IS_GLOBAL&&(source=name),source)out=((own=!IS_FORCED&&target&&void 0!==target[key])?target:source)[key],exp=IS_BIND&&own?ctx(out,global):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,target&&redefine(target,key,out,type&$export.U),exports[key]!=out&&hide(exports,key,exp),IS_PROTO&&expProto[key]!=out&&(expProto[key]=out)};global.core=core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(42)&&!__webpack_require__(75)(function(){return 7!=Object.defineProperty(__webpack_require__(169)("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(59),document=__webpack_require__(30).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__webpack_require__){exports.f=__webpack_require__(31)},function(module,exports,__webpack_require__){var has=__webpack_require__(35),toIObject=__webpack_require__(45),arrayIndexOf=__webpack_require__(299)(!1),IE_PROTO=__webpack_require__(113)("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports){module.exports=function(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){var anObject=__webpack_require__(76),dPs=__webpack_require__(303),enumBugKeys=__webpack_require__(114),IE_PROTO=__webpack_require__(113)("IE_PROTO"),Empty=function(){},createDict=function(){var iframeDocument,iframe=__webpack_require__(169)("iframe"),i=enumBugKeys.length;for(iframe.style.display="none",__webpack_require__(304).appendChild(iframe),iframe.src="javascript:",(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict.prototype[enumBugKeys[i]];return createDict()};module.exports=Object.create||function create(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(171),hiddenKeys=__webpack_require__(114).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return $keys(O,hiddenKeys)}},function(module,exports){module.exports={}},function(module,exports){module.exports="string"==typeof function foo(){}.name},function(module,exports,__webpack_require__){"use strict";var has=__webpack_require__(36),toPrimitive=__webpack_require__(180),toStr=Object.prototype.toString,hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,$isNaN=__webpack_require__(182),$isFinite=__webpack_require__(183),MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,assign=__webpack_require__(116),sign=__webpack_require__(184),mod=__webpack_require__(185),isPrimitive=__webpack_require__(337),parseInteger=parseInt,bind=__webpack_require__(25),arraySlice=bind.call(Function.call,Array.prototype.slice),strSlice=bind.call(Function.call,String.prototype.slice),isBinary=bind.call(Function.call,RegExp.prototype.test,/^0b[01]+$/i),isOctal=bind.call(Function.call,RegExp.prototype.test,/^0o[0-7]+$/i),regexExec=bind.call(Function.call,RegExp.prototype.exec),nonWS=["","​","￾"].join(""),nonWSregex=new RegExp("["+nonWS+"]","g"),hasNonWS=bind.call(Function.call,RegExp.prototype.test,nonWSregex),isInvalidHexLiteral=bind.call(Function.call,RegExp.prototype.test,/^[-+]0x[0-9a-f]+$/i),ws=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),trimRegex=new RegExp("(^["+ws+"]+)|(["+ws+"]+$)","g"),replace=bind.call(Function.call,String.prototype.replace),ES5=__webpack_require__(338),hasRegExpMatcher=__webpack_require__(187),ES6=assign(assign({},ES5),{Call:function Call(F,V){var args=arguments.length>2?arguments[2]:[];if(!this.IsCallable(F))throw new TypeError(F+" is not a function");return F.apply(V,args)},ToPrimitive:toPrimitive,ToNumber:function ToNumber(argument){var value=isPrimitive(argument)?argument:toPrimitive(argument,Number);if("symbol"==typeof value)throw new TypeError("Cannot convert a Symbol value to a number");if("string"==typeof value){if(isBinary(value))return this.ToNumber(parseInteger(strSlice(value,2),2));if(isOctal(value))return this.ToNumber(parseInteger(strSlice(value,2),8));if(hasNonWS(value)||isInvalidHexLiteral(value))return NaN;var trimmed=function(value){return replace(value,trimRegex,"")}(value);if(trimmed!==value)return this.ToNumber(trimmed)}return Number(value)},ToInt16:function ToInt16(argument){var int16bit=this.ToUint16(argument);return int16bit>=32768?int16bit-65536:int16bit},ToInt8:function ToInt8(argument){var int8bit=this.ToUint8(argument);return int8bit>=128?int8bit-256:int8bit},ToUint8:function ToUint8(argument){var number=this.ToNumber(argument);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*Math.floor(Math.abs(number));return mod(posInt,256)},ToUint8Clamp:function ToUint8Clamp(argument){var number=this.ToNumber(argument);if($isNaN(number)||number<=0)return 0;if(number>=255)return 255;var f=Math.floor(argument);return f+.5<number?f+1:number<f+.5?f:f%2!=0?f+1:f},ToString:function ToString(argument){if("symbol"==typeof argument)throw new TypeError("Cannot convert a Symbol value to a string");return String(argument)},ToObject:function ToObject(value){return this.RequireObjectCoercible(value),Object(value)},ToPropertyKey:function ToPropertyKey(argument){var key=this.ToPrimitive(argument,String);return"symbol"==typeof key?key:this.ToString(key)},ToLength:function ToLength(argument){var len=this.ToInteger(argument);return len<=0?0:len>MAX_SAFE_INTEGER?MAX_SAFE_INTEGER:len},CanonicalNumericIndexString:function CanonicalNumericIndexString(argument){if("[object String]"!==toStr.call(argument))throw new TypeError("must be a string");if("-0"===argument)return-0;var n=this.ToNumber(argument);return this.SameValue(this.ToString(n),argument)?n:void 0},RequireObjectCoercible:ES5.CheckObjectCoercible,IsArray:Array.isArray||function IsArray(argument){return"[object Array]"===toStr.call(argument)},IsConstructor:function IsConstructor(argument){return"function"==typeof argument&&!!argument.prototype},IsExtensible:function IsExtensible(obj){return!Object.preventExtensions||!isPrimitive(obj)&&Object.isExtensible(obj)},IsInteger:function IsInteger(argument){if("number"!=typeof argument||$isNaN(argument)||!$isFinite(argument))return!1;var abs=Math.abs(argument);return Math.floor(abs)===abs},IsPropertyKey:function IsPropertyKey(argument){return"string"==typeof argument||"symbol"==typeof argument},IsRegExp:function IsRegExp(argument){if(!argument||"object"!=typeof argument)return!1;if(hasSymbols){var isRegExp=argument[Symbol.match];if(void 0!==isRegExp)return ES5.ToBoolean(isRegExp)}return hasRegExpMatcher(argument)},SameValueZero:function SameValueZero(x,y){return x===y||$isNaN(x)&&$isNaN(y)},GetV:function GetV(V,P){if(!this.IsPropertyKey(P))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");return this.ToObject(V)[P]},GetMethod:function GetMethod(O,P){if(!this.IsPropertyKey(P))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");var func=this.GetV(O,P);if(null!=func){if(!this.IsCallable(func))throw new TypeError(P+"is not a function");return func}},Get:function Get(O,P){if("Object"!==this.Type(O))throw new TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");return O[P]},Type:function Type(x){return"symbol"==typeof x?"Symbol":ES5.Type(x)},SpeciesConstructor:function SpeciesConstructor(O,defaultConstructor){if("Object"!==this.Type(O))throw new TypeError("Assertion failed: Type(O) is not Object");var C=O.constructor;if(void 0===C)return defaultConstructor;if("Object"!==this.Type(C))throw new TypeError("O.constructor is not an Object");var S=hasSymbols&&Symbol.species?C[Symbol.species]:void 0;if(null==S)return defaultConstructor;if(this.IsConstructor(S))return S;throw new TypeError("no constructor found")},CompletePropertyDescriptor:function CompletePropertyDescriptor(Desc){if(!this.IsPropertyDescriptor(Desc))throw new TypeError("Desc must be a Property Descriptor");return this.IsGenericDescriptor(Desc)||this.IsDataDescriptor(Desc)?(has(Desc,"[[Value]]")||(Desc["[[Value]]"]=void 0),has(Desc,"[[Writable]]")||(Desc["[[Writable]]"]=!1)):(has(Desc,"[[Get]]")||(Desc["[[Get]]"]=void 0),has(Desc,"[[Set]]")||(Desc["[[Set]]"]=void 0)),has(Desc,"[[Enumerable]]")||(Desc["[[Enumerable]]"]=!1),has(Desc,"[[Configurable]]")||(Desc["[[Configurable]]"]=!1),Desc},Set:function Set(O,P,V,Throw){if("Object"!==this.Type(O))throw new TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new TypeError("P must be a Property Key");if("Boolean"!==this.Type(Throw))throw new TypeError("Throw must be a Boolean");if(Throw)return O[P]=V,!0;try{O[P]=V}catch(e){return!1}},HasOwnProperty:function HasOwnProperty(O,P){if("Object"!==this.Type(O))throw new TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new TypeError("P must be a Property Key");return has(O,P)},HasProperty:function HasProperty(O,P){if("Object"!==this.Type(O))throw new TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new TypeError("P must be a Property Key");return P in O},IsConcatSpreadable:function IsConcatSpreadable(O){if("Object"!==this.Type(O))return!1;if(hasSymbols&&"symbol"==typeof Symbol.isConcatSpreadable){var spreadable=this.Get(O,Symbol.isConcatSpreadable);if(void 0!==spreadable)return this.ToBoolean(spreadable)}return this.IsArray(O)},Invoke:function Invoke(O,P){if(!this.IsPropertyKey(P))throw new TypeError("P must be a Property Key");var argumentsList=arraySlice(arguments,2),func=this.GetV(O,P);return this.Call(func,O,argumentsList)},CreateIterResultObject:function CreateIterResultObject(value,done){if("Boolean"!==this.Type(done))throw new TypeError("Assertion failed: Type(done) is not Boolean");return{value:value,done:done}},RegExpExec:function RegExpExec(R,S){if("Object"!==this.Type(R))throw new TypeError("R must be an Object");if("String"!==this.Type(S))throw new TypeError("S must be a String");var exec=this.Get(R,"exec");if(this.IsCallable(exec)){var result=this.Call(exec,R,[S]);if(null===result||"Object"===this.Type(result))return result;throw new TypeError('"exec" method must return `null` or an Object')}return regexExec(R,S)},ArraySpeciesCreate:function ArraySpeciesCreate(originalArray,length){if(!this.IsInteger(length)||length<0)throw new TypeError("Assertion failed: length must be an integer >= 0");var C,len=0===length?0:length;if(this.IsArray(originalArray)&&(C=this.Get(originalArray,"constructor"),"Object"===this.Type(C)&&hasSymbols&&Symbol.species&&null===(C=this.Get(C,Symbol.species))&&(C=void 0)),void 0===C)return Array(len);if(!this.IsConstructor(C))throw new TypeError("C must be a constructor");return new C(len)},CreateDataProperty:function CreateDataProperty(O,P,V){if("Object"!==this.Type(O))throw new TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");var oldDesc=Object.getOwnPropertyDescriptor(O,P),extensible=oldDesc||"function"!=typeof Object.isExtensible||Object.isExtensible(O);if(oldDesc&&(!oldDesc.writable||!oldDesc.configurable)||!extensible)return!1;var newDesc={configurable:!0,enumerable:!0,value:V,writable:!0};return Object.defineProperty(O,P,newDesc),!0},CreateDataPropertyOrThrow:function CreateDataPropertyOrThrow(O,P,V){if("Object"!==this.Type(O))throw new TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");var success=this.CreateDataProperty(O,P,V);if(!success)throw new TypeError("unable to create data property");return success},AdvanceStringIndex:function AdvanceStringIndex(S,index,unicode){if("String"!==this.Type(S))throw new TypeError("Assertion failed: Type(S) is not String");if(!this.IsInteger(index))throw new TypeError("Assertion failed: length must be an integer >= 0 and <= (2**53 - 1)");if(index<0||index>MAX_SAFE_INTEGER)throw new RangeError("Assertion failed: length must be an integer >= 0 and <= (2**53 - 1)");if("Boolean"!==this.Type(unicode))throw new TypeError("Assertion failed: Type(unicode) is not Boolean");if(!unicode)return index+1;if(index+1>=S.length)return index+1;var first=S.charCodeAt(index);if(first<55296||first>56319)return index+1;var second=S.charCodeAt(index+1);return second<56320||second>57343?index+1:index+2}});delete ES6.CheckObjectCoercible,module.exports=ES6},function(module,exports,__webpack_require__){"use strict";var hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,isPrimitive=__webpack_require__(181),isCallable=__webpack_require__(62),isDate=__webpack_require__(335),isSymbol=__webpack_require__(336);module.exports=function ToPrimitive(input,PreferredType){if(isPrimitive(input))return input;var exoticToPrim,hint="default";if(arguments.length>1&&(PreferredType===String?hint="string":PreferredType===Number&&(hint="number")),hasSymbols&&(Symbol.toPrimitive?exoticToPrim=function GetMethod(O,P){var func=O[P];if(null!==func&&void 0!==func){if(!isCallable(func))throw new TypeError(func+" returned for property "+P+" of object "+O+" is not a function");return func}}(input,Symbol.toPrimitive):isSymbol(input)&&(exoticToPrim=Symbol.prototype.valueOf)),void 0!==exoticToPrim){var result=exoticToPrim.call(input,hint);if(isPrimitive(result))return result;throw new TypeError("unable to convert exotic object to primitive")}return"default"===hint&&(isDate(input)||isSymbol(input))&&(hint="string"),function OrdinaryToPrimitive(O,hint){if(void 0===O||null===O)throw new TypeError("Cannot call method on "+O);if("string"!=typeof hint||"number"!==hint&&"string"!==hint)throw new TypeError('hint must be "string" or "number"');var method,result,i,methodNames="string"===hint?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<methodNames.length;++i)if(method=O[methodNames[i]],isCallable(method)&&(result=method.call(O),isPrimitive(result)))return result;throw new TypeError("No default value")}(input,"default"===hint?"number":hint)}},function(module,exports){module.exports=function isPrimitive(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},function(module,exports){module.exports=Number.isNaN||function isNaN(a){return a!=a}},function(module,exports){var $isNaN=Number.isNaN||function(a){return a!=a};module.exports=Number.isFinite||function(x){return"number"==typeof x&&!$isNaN(x)&&x!==1/0&&x!==-1/0}},function(module,exports){module.exports=function sign(number){return number>=0?1:-1}},function(module,exports){module.exports=function mod(number,modulo){var remain=number%modulo;return Math.floor(remain>=0?remain:remain+modulo)}},function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString,isPrimitive=__webpack_require__(181),isCallable=__webpack_require__(62),ES_internalSlots__DefaultValue_=function(O,hint){var actualHint=hint||("[object Date]"===toStr.call(O)?String:Number);if(actualHint===String||actualHint===Number){var value,i,methods=actualHint===String?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<methods.length;++i)if(isCallable(O[methods[i]])&&(value=O[methods[i]](),isPrimitive(value)))return value;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};module.exports=function ToPrimitive(input,PreferredType){return isPrimitive(input)?input:ES_internalSlots__DefaultValue_(input,PreferredType)}},function(module,exports,__webpack_require__){"use strict";var has=__webpack_require__(36),regexExec=RegExp.prototype.exec,gOPD=Object.getOwnPropertyDescriptor,toStr=Object.prototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function isRegex(value){if(!value||"object"!=typeof value)return!1;if(!hasToStringTag)return"[object RegExp]"===toStr.call(value);var descriptor=gOPD(value,"lastIndex");return!(!descriptor||!has(descriptor,"value"))&&function tryRegexExec(value){try{var lastIndex=value.lastIndex;return value.lastIndex=0,regexExec.call(value),!0}catch(e){return!1}finally{value.lastIndex=lastIndex}}(value)}},function(module,exports,__webpack_require__){"use strict";var ES2015=__webpack_require__(179),assign=__webpack_require__(116),ES2016=assign(assign({},ES2015),{SameValueNonNumber:function SameValueNonNumber(x,y){if("number"==typeof x||typeof x!=typeof y)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(x,y)}});module.exports=ES2016},function(module,exports,__webpack_require__){"use strict";var getInferredName;try{getInferredName=Function("s","return { [s]() {} }[s].name;")}catch(e){}module.exports=getInferredName&&"inferred"===function(){}.name?getInferredName:null},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(119),$Object=GetIntrinsic("%Object%"),$TypeError=GetIntrinsic("%TypeError%"),$String=GetIntrinsic("%String%"),$isNaN=__webpack_require__(191),$isFinite=__webpack_require__(192),sign=__webpack_require__(193),mod=__webpack_require__(194),IsCallable=__webpack_require__(62),toPrimitive=__webpack_require__(186),has=__webpack_require__(36),ES5={ToPrimitive:toPrimitive,ToBoolean:function ToBoolean(value){return!!value},ToNumber:function ToNumber(value){return+value},ToInteger:function ToInteger(value){var number=this.ToNumber(value);return $isNaN(number)?0:0!==number&&$isFinite(number)?sign(number)*Math.floor(Math.abs(number)):number},ToInt32:function ToInt32(x){return this.ToNumber(x)>>0},ToUint32:function ToUint32(x){return this.ToNumber(x)>>>0},ToUint16:function ToUint16(value){var number=this.ToNumber(value);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*Math.floor(Math.abs(number));return mod(posInt,65536)},ToString:function ToString(value){return $String(value)},ToObject:function ToObject(value){return this.CheckObjectCoercible(value),$Object(value)},CheckObjectCoercible:function CheckObjectCoercible(value,optMessage){if(null==value)throw new $TypeError(optMessage||"Cannot call method on "+value);return value},IsCallable:IsCallable,SameValue:function SameValue(x,y){return x===y?0!==x||1/x==1/y:$isNaN(x)&&$isNaN(y)},Type:function Type(x){return null===x?"Null":void 0===x?"Undefined":"function"==typeof x||"object"==typeof x?"Object":"number"==typeof x?"Number":"boolean"==typeof x?"Boolean":"string"==typeof x?"String":void 0},IsPropertyDescriptor:function IsPropertyDescriptor(Desc){if("Object"!==this.Type(Desc))return!1;var allowed={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var key in Desc)if(has(Desc,key)&&!allowed[key])return!1;var isData=has(Desc,"[[Value]]"),IsAccessor=has(Desc,"[[Get]]")||has(Desc,"[[Set]]");if(isData&&IsAccessor)throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function IsAccessorDescriptor(Desc){if(void 0===Desc)return!1;if(!this.IsPropertyDescriptor(Desc))throw new $TypeError("Desc must be a Property Descriptor");return!(!has(Desc,"[[Get]]")&&!has(Desc,"[[Set]]"))},IsDataDescriptor:function IsDataDescriptor(Desc){if(void 0===Desc)return!1;if(!this.IsPropertyDescriptor(Desc))throw new $TypeError("Desc must be a Property Descriptor");return!(!has(Desc,"[[Value]]")&&!has(Desc,"[[Writable]]"))},IsGenericDescriptor:function IsGenericDescriptor(Desc){if(void 0===Desc)return!1;if(!this.IsPropertyDescriptor(Desc))throw new $TypeError("Desc must be a Property Descriptor");return!this.IsAccessorDescriptor(Desc)&&!this.IsDataDescriptor(Desc)},FromPropertyDescriptor:function FromPropertyDescriptor(Desc){if(void 0===Desc)return Desc;if(!this.IsPropertyDescriptor(Desc))throw new $TypeError("Desc must be a Property Descriptor");if(this.IsDataDescriptor(Desc))return{value:Desc["[[Value]]"],writable:!!Desc["[[Writable]]"],enumerable:!!Desc["[[Enumerable]]"],configurable:!!Desc["[[Configurable]]"]};if(this.IsAccessorDescriptor(Desc))return{get:Desc["[[Get]]"],set:Desc["[[Set]]"],enumerable:!!Desc["[[Enumerable]]"],configurable:!!Desc["[[Configurable]]"]};throw new $TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function ToPropertyDescriptor(Obj){if("Object"!==this.Type(Obj))throw new $TypeError("ToPropertyDescriptor requires an object");var desc={};if(has(Obj,"enumerable")&&(desc["[[Enumerable]]"]=this.ToBoolean(Obj.enumerable)),has(Obj,"configurable")&&(desc["[[Configurable]]"]=this.ToBoolean(Obj.configurable)),has(Obj,"value")&&(desc["[[Value]]"]=Obj.value),has(Obj,"writable")&&(desc["[[Writable]]"]=this.ToBoolean(Obj.writable)),has(Obj,"get")){var getter=Obj.get;if(void 0!==getter&&!this.IsCallable(getter))throw new TypeError("getter must be a function");desc["[[Get]]"]=getter}if(has(Obj,"set")){var setter=Obj.set;if(void 0!==setter&&!this.IsCallable(setter))throw new $TypeError("setter must be a function");desc["[[Set]]"]=setter}if((has(desc,"[[Get]]")||has(desc,"[[Set]]"))&&(has(desc,"[[Value]]")||has(desc,"[[Writable]]")))throw new $TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return desc}};module.exports=ES5},function(module,exports){module.exports=Number.isNaN||function isNaN(a){return a!=a}},function(module,exports){var $isNaN=Number.isNaN||function(a){return a!=a};module.exports=Number.isFinite||function(x){return"number"==typeof x&&!$isNaN(x)&&x!==1/0&&x!==-1/0}},function(module,exports){module.exports=function sign(number){return number>=0?1:-1}},function(module,exports){module.exports=function mod(number,modulo){var remain=number%modulo;return Math.floor(remain>=0?remain:remain+modulo)}},function(module,exports,__webpack_require__){"use strict";var has=__webpack_require__(36),toPrimitive=__webpack_require__(180),GetIntrinsic=__webpack_require__(119),$TypeError=GetIntrinsic("%TypeError%"),$SyntaxError=GetIntrinsic("%SyntaxError%"),$Array=GetIntrinsic("%Array%"),$String=GetIntrinsic("%String%"),$Object=GetIntrinsic("%Object%"),$Number=GetIntrinsic("%Number%"),$Symbol=GetIntrinsic("%Symbol%",!0),$RegExp=GetIntrinsic("%RegExp%"),hasSymbols=!!$Symbol,$isNaN=__webpack_require__(191),$isFinite=__webpack_require__(192),MAX_SAFE_INTEGER=$Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,assign=__webpack_require__(80),sign=__webpack_require__(193),mod=__webpack_require__(194),isPrimitive=__webpack_require__(381),parseInteger=parseInt,bind=__webpack_require__(25),arraySlice=bind.call(Function.call,$Array.prototype.slice),strSlice=bind.call(Function.call,$String.prototype.slice),isBinary=bind.call(Function.call,$RegExp.prototype.test,/^0b[01]+$/i),isOctal=bind.call(Function.call,$RegExp.prototype.test,/^0o[0-7]+$/i),regexExec=bind.call(Function.call,$RegExp.prototype.exec),nonWSregex=new $RegExp("["+["","​","￾"].join("")+"]","g"),hasNonWS=bind.call(Function.call,$RegExp.prototype.test,nonWSregex),isInvalidHexLiteral=bind.call(Function.call,$RegExp.prototype.test,/^[-+]0x[0-9a-f]+$/i),$charCodeAt=bind.call(Function.call,$String.prototype.charCodeAt),toStr=bind.call(Function.call,Object.prototype.toString),$floor=Math.floor,$abs=Math.abs,$ObjectCreate=Object.create,$gOPD=$Object.getOwnPropertyDescriptor,$isExtensible=$Object.isExtensible,ws=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),trimRegex=new RegExp("(^["+ws+"]+)|(["+ws+"]+$)","g"),replace=bind.call(Function.call,$String.prototype.replace),ES5=__webpack_require__(190),hasRegExpMatcher=__webpack_require__(187),ES6=assign(assign({},ES5),{Call:function Call(F,V){var args=arguments.length>2?arguments[2]:[];if(!this.IsCallable(F))throw new $TypeError(F+" is not a function");return F.apply(V,args)},ToPrimitive:toPrimitive,ToNumber:function ToNumber(argument){var value=isPrimitive(argument)?argument:toPrimitive(argument,$Number);if("symbol"==typeof value)throw new $TypeError("Cannot convert a Symbol value to a number");if("string"==typeof value){if(isBinary(value))return this.ToNumber(parseInteger(strSlice(value,2),2));if(isOctal(value))return this.ToNumber(parseInteger(strSlice(value,2),8));if(hasNonWS(value)||isInvalidHexLiteral(value))return NaN;var trimmed=function(value){return replace(value,trimRegex,"")}(value);if(trimmed!==value)return this.ToNumber(trimmed)}return $Number(value)},ToInt16:function ToInt16(argument){var int16bit=this.ToUint16(argument);return int16bit>=32768?int16bit-65536:int16bit},ToInt8:function ToInt8(argument){var int8bit=this.ToUint8(argument);return int8bit>=128?int8bit-256:int8bit},ToUint8:function ToUint8(argument){var number=this.ToNumber(argument);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*$floor($abs(number));return mod(posInt,256)},ToUint8Clamp:function ToUint8Clamp(argument){var number=this.ToNumber(argument);if($isNaN(number)||number<=0)return 0;if(number>=255)return 255;var f=$floor(argument);return f+.5<number?f+1:number<f+.5?f:f%2!=0?f+1:f},ToString:function ToString(argument){if("symbol"==typeof argument)throw new $TypeError("Cannot convert a Symbol value to a string");return $String(argument)},ToObject:function ToObject(value){return this.RequireObjectCoercible(value),$Object(value)},ToPropertyKey:function ToPropertyKey(argument){var key=this.ToPrimitive(argument,$String);return"symbol"==typeof key?key:this.ToString(key)},ToLength:function ToLength(argument){var len=this.ToInteger(argument);return len<=0?0:len>MAX_SAFE_INTEGER?MAX_SAFE_INTEGER:len},CanonicalNumericIndexString:function CanonicalNumericIndexString(argument){if("[object String]"!==toStr(argument))throw new $TypeError("must be a string");if("-0"===argument)return-0;var n=this.ToNumber(argument);return this.SameValue(this.ToString(n),argument)?n:void 0},RequireObjectCoercible:ES5.CheckObjectCoercible,IsArray:$Array.isArray||function IsArray(argument){return"[object Array]"===toStr(argument)},IsConstructor:function IsConstructor(argument){return"function"==typeof argument&&!!argument.prototype},IsExtensible:Object.preventExtensions?function IsExtensible(obj){return!isPrimitive(obj)&&$isExtensible(obj)}:function isExtensible(obj){return!0},IsInteger:function IsInteger(argument){if("number"!=typeof argument||$isNaN(argument)||!$isFinite(argument))return!1;var abs=$abs(argument);return $floor(abs)===abs},IsPropertyKey:function IsPropertyKey(argument){return"string"==typeof argument||"symbol"==typeof argument},IsRegExp:function IsRegExp(argument){if(!argument||"object"!=typeof argument)return!1;if(hasSymbols){var isRegExp=argument[$Symbol.match];if(void 0!==isRegExp)return ES5.ToBoolean(isRegExp)}return hasRegExpMatcher(argument)},SameValueZero:function SameValueZero(x,y){return x===y||$isNaN(x)&&$isNaN(y)},GetV:function GetV(V,P){if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return this.ToObject(V)[P]},GetMethod:function GetMethod(O,P){if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var func=this.GetV(O,P);if(null!=func){if(!this.IsCallable(func))throw new $TypeError(P+"is not a function");return func}},Get:function Get(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return O[P]},Type:function Type(x){return"symbol"==typeof x?"Symbol":ES5.Type(x)},SpeciesConstructor:function SpeciesConstructor(O,defaultConstructor){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");var C=O.constructor;if(void 0===C)return defaultConstructor;if("Object"!==this.Type(C))throw new $TypeError("O.constructor is not an Object");var S=hasSymbols&&$Symbol.species?C[$Symbol.species]:void 0;if(null==S)return defaultConstructor;if(this.IsConstructor(S))return S;throw new $TypeError("no constructor found")},CompletePropertyDescriptor:function CompletePropertyDescriptor(Desc){if(!this.IsPropertyDescriptor(Desc))throw new $TypeError("Desc must be a Property Descriptor");return this.IsGenericDescriptor(Desc)||this.IsDataDescriptor(Desc)?(has(Desc,"[[Value]]")||(Desc["[[Value]]"]=void 0),has(Desc,"[[Writable]]")||(Desc["[[Writable]]"]=!1)):(has(Desc,"[[Get]]")||(Desc["[[Get]]"]=void 0),has(Desc,"[[Set]]")||(Desc["[[Set]]"]=void 0)),has(Desc,"[[Enumerable]]")||(Desc["[[Enumerable]]"]=!1),has(Desc,"[[Configurable]]")||(Desc["[[Configurable]]"]=!1),Desc},Set:function Set(O,P,V,Throw){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");if("Boolean"!==this.Type(Throw))throw new $TypeError("Throw must be a Boolean");if(Throw)return O[P]=V,!0;try{O[P]=V}catch(e){return!1}},HasOwnProperty:function HasOwnProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");return has(O,P)},HasProperty:function HasProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");return P in O},IsConcatSpreadable:function IsConcatSpreadable(O){if("Object"!==this.Type(O))return!1;if(hasSymbols&&"symbol"==typeof $Symbol.isConcatSpreadable){var spreadable=this.Get(O,Symbol.isConcatSpreadable);if(void 0!==spreadable)return this.ToBoolean(spreadable)}return this.IsArray(O)},Invoke:function Invoke(O,P){if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");var argumentsList=arraySlice(arguments,2),func=this.GetV(O,P);return this.Call(func,O,argumentsList)},GetIterator:function GetIterator(obj,method){if(!hasSymbols)throw new SyntaxError("ES.GetIterator depends on native iterator support.");var actualMethod=method;arguments.length<2&&(actualMethod=this.GetMethod(obj,$Symbol.iterator));var iterator=this.Call(actualMethod,obj);if("Object"!==this.Type(iterator))throw new $TypeError("iterator must return an object");return iterator},IteratorNext:function IteratorNext(iterator,value){var result=this.Invoke(iterator,"next",arguments.length<2?[]:[value]);if("Object"!==this.Type(result))throw new $TypeError("iterator next must return an object");return result},IteratorComplete:function IteratorComplete(iterResult){if("Object"!==this.Type(iterResult))throw new $TypeError("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(iterResult,"done"))},IteratorValue:function IteratorValue(iterResult){if("Object"!==this.Type(iterResult))throw new $TypeError("Assertion failed: Type(iterResult) is not Object");return this.Get(iterResult,"value")},IteratorStep:function IteratorStep(iterator){var result=this.IteratorNext(iterator);return!0!==this.IteratorComplete(result)&&result},IteratorClose:function IteratorClose(iterator,completion){if("Object"!==this.Type(iterator))throw new $TypeError("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(completion))throw new $TypeError("Assertion failed: completion is not a thunk for a Completion Record");var completionRecord,completionThunk=completion,iteratorReturn=this.GetMethod(iterator,"return");if(void 0===iteratorReturn)return completionThunk();try{var innerResult=this.Call(iteratorReturn,iterator,[])}catch(e){throw completionRecord=completionThunk(),completionThunk=null,e}if(completionRecord=completionThunk(),completionThunk=null,"Object"!==this.Type(innerResult))throw new $TypeError("iterator .return must return an object");return completionRecord},CreateIterResultObject:function CreateIterResultObject(value,done){if("Boolean"!==this.Type(done))throw new $TypeError("Assertion failed: Type(done) is not Boolean");return{value:value,done:done}},RegExpExec:function RegExpExec(R,S){if("Object"!==this.Type(R))throw new $TypeError("R must be an Object");if("String"!==this.Type(S))throw new $TypeError("S must be a String");var exec=this.Get(R,"exec");if(this.IsCallable(exec)){var result=this.Call(exec,R,[S]);if(null===result||"Object"===this.Type(result))return result;throw new $TypeError('"exec" method must return `null` or an Object')}return regexExec(R,S)},ArraySpeciesCreate:function ArraySpeciesCreate(originalArray,length){if(!this.IsInteger(length)||length<0)throw new $TypeError("Assertion failed: length must be an integer >= 0");var C,len=0===length?0:length;if(this.IsArray(originalArray)&&(C=this.Get(originalArray,"constructor"),"Object"===this.Type(C)&&hasSymbols&&$Symbol.species&&null===(C=this.Get(C,$Symbol.species))&&(C=void 0)),void 0===C)return $Array(len);if(!this.IsConstructor(C))throw new $TypeError("C must be a constructor");return new C(len)},CreateDataProperty:function CreateDataProperty(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var oldDesc=$gOPD(O,P),extensible=oldDesc||"function"!=typeof $isExtensible||$isExtensible(O);if(oldDesc&&(!oldDesc.writable||!oldDesc.configurable)||!extensible)return!1;var newDesc={configurable:!0,enumerable:!0,value:V,writable:!0};return Object.defineProperty(O,P,newDesc),!0},CreateDataPropertyOrThrow:function CreateDataPropertyOrThrow(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var success=this.CreateDataProperty(O,P,V);if(!success)throw new $TypeError("unable to create data property");return success},ObjectCreate:function ObjectCreate(proto,internalSlotsList){if(null!==proto&&"Object"!==this.Type(proto))throw new $TypeError("Assertion failed: proto must be null or an object");if((arguments.length<2?[]:internalSlotsList).length>0)throw new $SyntaxError("es-abstract does not yet support internal slots");if(null===proto&&!$ObjectCreate)throw new $SyntaxError("native Object.create support is required to create null objects");return $ObjectCreate(proto)},AdvanceStringIndex:function AdvanceStringIndex(S,index,unicode){if("String"!==this.Type(S))throw new $TypeError("S must be a String");if(!this.IsInteger(index)||index<0||index>MAX_SAFE_INTEGER)throw new $TypeError("Assertion failed: length must be an integer >= 0 and <= 2**53");if("Boolean"!==this.Type(unicode))throw new $TypeError("Assertion failed: unicode must be a Boolean");if(!unicode)return index+1;if(index+1>=S.length)return index+1;var first=$charCodeAt(S,index);if(first<55296||first>56319)return index+1;var second=$charCodeAt(S,index+1);return second<56320||second>57343?index+1:index+2}});delete ES6.CheckObjectCoercible,module.exports=ES6},function(module,exports,__webpack_require__){"use strict";var ES2015=__webpack_require__(195),assign=__webpack_require__(80),ES2016=assign(assign({},ES2015),{SameValueNonNumber:function SameValueNonNumber(x,y){if("number"==typeof x||typeof x!=typeof y)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(x,y)}});module.exports=ES2016},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(79),flagsGetter=__webpack_require__(383),RegExpStringIterator=__webpack_require__(385),OrigRegExp=RegExp;module.exports=function MatchAllIterator(R,O){var matcher,global,fullUnicode,flags,S=ES.ToString(O);if(ES.IsRegExp(R)){var C=ES.SpeciesConstructor(R,OrigRegExp);matcher="string"==typeof(flags=ES.Get(R,"flags"))?new C(R,flags):new C(C===OrigRegExp?R.source:R,flagsGetter(R)),global=ES.ToBoolean(ES.Get(matcher,"global")),fullUnicode=ES.ToBoolean(ES.Get(matcher,"unicode"));var lastIndex=ES.ToLength(ES.Get(R,"lastIndex"));ES.Set(matcher,"lastIndex",lastIndex,!0)}else if(matcher=new OrigRegExp(R,flags="g"),global=!0,fullUnicode=!1,0!==ES.Get(matcher,"lastIndex"))throw new TypeError("Assertion failed: newly constructed RegExp had a lastIndex !== 0. Please report this!");return new RegExpStringIterator(matcher,S,global,fullUnicode)}},function(module,exports,__webpack_require__){"use strict";var toObject=Object,TypeErr=TypeError;module.exports=function flags(){if(null!=this&&this!==toObject(this))throw new TypeErr("RegExp.prototype.flags getter called on non-object");var result="";return this.global&&(result+="g"),this.ignoreCase&&(result+="i"),this.multiline&&(result+="m"),this.dotAll&&(result+="s"),this.unicode&&(result+="u"),this.sticky&&(result+="y"),result}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(198),supportsDescriptors=__webpack_require__(5).supportsDescriptors,gOPD=Object.getOwnPropertyDescriptor,TypeErr=TypeError;module.exports=function getPolyfill(){if(!supportsDescriptors)throw new TypeErr("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var descriptor=gOPD(RegExp.prototype,"flags");if(descriptor&&"function"==typeof descriptor.get&&"boolean"==typeof/a/.dotAll)return descriptor.get}return implementation}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(26)&&!__webpack_require__(33)(function(){return 7!=Object.defineProperty(__webpack_require__(120)("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){var has=__webpack_require__(34),toIObject=__webpack_require__(37),arrayIndexOf=__webpack_require__(390)(!1),IE_PROTO=__webpack_require__(125)("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports,__webpack_require__){var document=__webpack_require__(12).document;module.exports=document&&document.documentElement},function(module,exports,__webpack_require__){var has=__webpack_require__(34),toObject=__webpack_require__(48),IE_PROTO=__webpack_require__(125)("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(21);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator.return;throw void 0!==ret&&anObject(ret.call(iterator)),e}}},function(module,exports,__webpack_require__){var Iterators=__webpack_require__(50),ITERATOR=__webpack_require__(10)("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(21),aFunction=__webpack_require__(63),SPECIES=__webpack_require__(10)("species");module.exports=function(O,D){var S,C=anObject(O).constructor;return void 0===C||void 0==(S=anObject(C)[SPECIES])?D:aFunction(S)}},function(module,exports,__webpack_require__){var defer,channel,port,ctx=__webpack_require__(29),invoke=__webpack_require__(403),html=__webpack_require__(202),cel=__webpack_require__(120),global=__webpack_require__(12),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,Dispatch=global.Dispatch,counter=0,queue={},run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function(event){run.call(event.data)};setTask&&clearTask||(setTask=function setImmediate(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function clearImmediate(id){delete queue[id]},"process"==__webpack_require__(65)(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(ctx(run,id,1))}:MessageChannel?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):defer="onreadystatechange"in cel("script")?function(id){html.appendChild(cel("script")).onreadystatechange=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}},function(module,exports){module.exports=function(exec){try{return{e:!1,v:exec()}}catch(e){return{e:!0,v:e}}}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(21),isObject=__webpack_require__(16),newPromiseCapability=__webpack_require__(134);module.exports=function(C,x){if(anObject(C),isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);return(0,promiseCapability.resolve)(x),promiseCapability.promise}},function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(10)("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},function(module,exports,__webpack_require__){var cof=__webpack_require__(65);module.exports=Array.isArray||function isArray(arg){return"Array"==cof(arg)}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(201),hiddenKeys=__webpack_require__(127).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return $keys(O,hiddenKeys)}},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,hexTable=function(){for(var array=[],i=0;i<256;++i)array.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return array}();exports.arrayToObject=function arrayToObject(source,options){for(var obj=options&&options.plainObjects?Object.create(null):{},i=0;i<source.length;++i)void 0!==source[i]&&(obj[i]=source[i]);return obj},exports.merge=function merge(target,source,options){if(!source)return target;if("object"!=typeof source){if(Array.isArray(target))target.push(source);else{if("object"!=typeof target)return[target,source];(options.plainObjects||options.allowPrototypes||!has.call(Object.prototype,source))&&(target[source]=!0)}return target}if("object"!=typeof target)return[target].concat(source);var mergeTarget=target;return Array.isArray(target)&&!Array.isArray(source)&&(mergeTarget=exports.arrayToObject(target,options)),Array.isArray(target)&&Array.isArray(source)?(source.forEach(function(item,i){has.call(target,i)?target[i]&&"object"==typeof target[i]?target[i]=exports.merge(target[i],item,options):target.push(item):target[i]=item}),target):Object.keys(source).reduce(function(acc,key){var value=source[key];return has.call(acc,key)?acc[key]=exports.merge(acc[key],value,options):acc[key]=value,acc},mergeTarget)},exports.assign=function assignSingleSource(target,source){return Object.keys(source).reduce(function(acc,key){return acc[key]=source[key],acc},target)},exports.decode=function(str){try{return decodeURIComponent(str.replace(/\+/g," "))}catch(e){return str}},exports.encode=function encode(str){if(0===str.length)return str;for(var string="string"==typeof str?str:String(str),out="",i=0;i<string.length;++i){var c=string.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?out+=string.charAt(i):c<128?out+=hexTable[c]:c<2048?out+=hexTable[192|c>>6]+hexTable[128|63&c]:c<55296||c>=57344?out+=hexTable[224|c>>12]+hexTable[128|c>>6&63]+hexTable[128|63&c]:(i+=1,c=65536+((1023&c)<<10|1023&string.charCodeAt(i)),out+=hexTable[240|c>>18]+hexTable[128|c>>12&63]+hexTable[128|c>>6&63]+hexTable[128|63&c])}return out},exports.compact=function compact(value){for(var queue=[{obj:{o:value},prop:"o"}],refs=[],i=0;i<queue.length;++i)for(var item=queue[i],obj=item.obj[item.prop],keys=Object.keys(obj),j=0;j<keys.length;++j){var key=keys[j],val=obj[key];"object"==typeof val&&null!==val&&-1===refs.indexOf(val)&&(queue.push({obj:obj,prop:key}),refs.push(val))}return function compactQueue(queue){for(var obj;queue.length;){var item=queue.pop();if(obj=item.obj[item.prop],Array.isArray(obj)){for(var compacted=[],j=0;j<obj.length;++j)void 0!==obj[j]&&compacted.push(obj[j]);item.obj[item.prop]=compacted}}return obj}(queue)},exports.isRegExp=function isRegExp(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},exports.isBuffer=function isBuffer(obj){return null!==obj&&void 0!==obj&&!!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj))}},function(module,exports,__webpack_require__){"use strict";var replace=String.prototype.replace,percentTwenties=/%20/g;module.exports={default:"RFC3986",formatters:{RFC1738:function(value){return replace.call(value,percentTwenties,"+")},RFC3986:function(value){return value}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(module,exports,__webpack_require__){var ctx=__webpack_require__(29),IObject=__webpack_require__(122),toObject=__webpack_require__(48),toLength=__webpack_require__(82),asc=__webpack_require__(452);module.exports=function(TYPE,$create){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX,create=$create||asc;return function($this,callbackfn,that){for(var val,res,O=toObject($this),self=IObject(O),f=ctx(callbackfn,that,3),length=toLength(self.length),index=0,result=IS_MAP?create($this,length):IS_FILTER?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(res=f(val=self[index],index,O),TYPE))if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return!0;case 5:return val;case 6:return index;case 2:result.push(val)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(16);module.exports=function(it,TYPE){if(!isObject(it)||it._t!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required!");return it}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_require__.d(__webpack_exports__,"experimental",function(){return experimental});var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27);__webpack_require__.d(__webpack_exports__,"COORDINATE_SYSTEM",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.COORDINATE_SYSTEM}),__webpack_require__.d(__webpack_exports__,"Deck",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.Deck}),__webpack_require__.d(__webpack_exports__,"Layer",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.Layer}),__webpack_require__.d(__webpack_exports__,"CompositeLayer",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.CompositeLayer}),__webpack_require__.d(__webpack_exports__,"View",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.View}),__webpack_require__.d(__webpack_exports__,"MapView",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.MapView}),__webpack_require__.d(__webpack_exports__,"FirstPersonView",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.FirstPersonView}),__webpack_require__.d(__webpack_exports__,"ThirdPersonView",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.ThirdPersonView}),__webpack_require__.d(__webpack_exports__,"OrbitView",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.OrbitView}),__webpack_require__.d(__webpack_exports__,"PerspectiveView",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.PerspectiveView}),__webpack_require__.d(__webpack_exports__,"OrthographicView",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.OrthographicView}),__webpack_require__.d(__webpack_exports__,"Viewport",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.Viewport}),__webpack_require__.d(__webpack_exports__,"WebMercatorViewport",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.WebMercatorViewport}),__webpack_require__.d(__webpack_exports__,"PerspectiveViewport",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.PerspectiveViewport}),__webpack_require__.d(__webpack_exports__,"OrthographicViewport",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.OrthographicViewport}),__webpack_require__.d(__webpack_exports__,"Controller",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.Controller}),__webpack_require__.d(__webpack_exports__,"MapController",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.MapController}),__webpack_require__.d(__webpack_exports__,"AttributeManager",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.AttributeManager}),__webpack_require__.d(__webpack_exports__,"project",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.project}),__webpack_require__.d(__webpack_exports__,"project64",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.project64}),__webpack_require__.d(__webpack_exports__,"lighting",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.lighting}),__webpack_require__.d(__webpack_exports__,"LayerManager",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.LayerManager}),__webpack_require__.d(__webpack_exports__,"log",function(){return __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.log});var __WEBPACK_IMPORTED_MODULE_1__deck_gl_layers__=__webpack_require__(1057);__webpack_require__.d(__webpack_exports__,"ArcLayer",function(){return __WEBPACK_IMPORTED_MODULE_1__deck_gl_layers__.a}),__webpack_require__.d(__webpack_exports__,"IconLayer",function(){return __WEBPACK_IMPORTED_MODULE_1__deck_gl_layers__.g}),__webpack_require__.d(__webpack_exports__,"LineLayer",function(){return __WEBPACK_IMPORTED_MODULE_1__deck_gl_layers__.h}),__webpack_require__.d(__webpack_exports__,"PointCloudLayer",function(){return __WEBPACK_IMPORTED_MODULE_1__deck_gl_layers__.j}),__webpack_require__.d(__webpack_exports__,"ScatterplotLayer",function(){return __WEBPACK_IMPORTED_MODULE_1__deck_gl_layers__.l}),__webpack_require__.d(__webpack_exports__,"ScreenGridLayer",function(){return __WEBPACK_IMPORTED_MODULE_1__deck_gl_layers__.m}),__webpack_require__.d(__webpack_exports__,"GridLayer",function(){return __WEBPACK_IMPORTED_MODULE_1__deck_gl_layers__.d}),__webpack_require__.d(__webpack_exports__,"GridCellLayer",function(){return __WEBPACK_IMPORTED_MODULE_1__deck_gl_layers__.c}),__webpack_require__.d(__webpack_exports__,"HexagonLayer",function(){return __WEBPACK_IMPORTED_MODULE_1__deck_gl_layers__.f}),__webpack_require__.d(__webpack_exports__,"HexagonCellLayer",function(){return __WEBPACK_IMPORTED_MODULE_1__deck_gl_layers__.e}),__webpack_require__.d(__webpack_exports__,"PathLayer",function(){return __WEBPACK_IMPORTED_MODULE_1__deck_gl_layers__.i}),__webpack_require__.d(__webpack_exports__,"PolygonLayer",function(){return __WEBPACK_IMPORTED_MODULE_1__deck_gl_layers__.k}),__webpack_require__.d(__webpack_exports__,"GeoJsonLayer",function(){return __WEBPACK_IMPORTED_MODULE_1__deck_gl_layers__.b}),__webpack_require__.d(__webpack_exports__,"TextLayer",function(){return __WEBPACK_IMPORTED_MODULE_1__deck_gl_layers__.n});var __WEBPACK_IMPORTED_MODULE_2__deck_gl_react__=__webpack_require__(630),__WEBPACK_IMPORTED_MODULE_2__deck_gl_react___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__deck_gl_react__);__webpack_require__.d(__webpack_exports__,"default",function(){return __WEBPACK_IMPORTED_MODULE_2__deck_gl_react___default.a}),__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_2__deck_gl_react__,"DeckGL")&&__webpack_require__.d(__webpack_exports__,"DeckGL",function(){return __WEBPACK_IMPORTED_MODULE_2__deck_gl_react__.DeckGL});var experimental={},OrbitController=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.OrbitController,FirstPersonController=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.FirstPersonController,FirstPersonViewport=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.FirstPersonViewport,OrbitViewport=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.OrbitViewport,ThirdPersonViewport=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.ThirdPersonViewport,TRANSITION_EVENTS=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.TRANSITION_EVENTS,LinearInterpolator=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.LinearInterpolator,ViewportFlyToInterpolator=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.ViewportFlyToInterpolator,EffectManager=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.EffectManager,Effect=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.Effect;Object.assign(experimental,{OrbitController:OrbitController,FirstPersonController:FirstPersonController,FirstPersonViewport:FirstPersonViewport,OrbitViewport:OrbitViewport,ThirdPersonViewport:ThirdPersonViewport,TRANSITION_EVENTS:TRANSITION_EVENTS,LinearInterpolator:LinearInterpolator,ViewportFlyToInterpolator:ViewportFlyToInterpolator,EffectManager:EffectManager,Effect:Effect});var BinSorter=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.BinSorter,linearScale=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.linearScale,getLinearScale=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.getLinearScale,quantizeScale=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.quantizeScale,getQuantizeScale=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.getQuantizeScale,defaultColorRange=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.defaultColorRange,flattenVertices=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.flattenVertices,fillArray=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.fillArray,ReflectionEffect=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.ReflectionEffect;Object.assign(experimental,{BinSorter:BinSorter,linearScale:linearScale,getLinearScale:getLinearScale,quantizeScale:quantizeScale,getQuantizeScale:getQuantizeScale,defaultColorRange:defaultColorRange,flattenVertices:flattenVertices,fillArray:fillArray,ReflectionEffect:ReflectionEffect}),Object.assign(experimental,{ViewportController:__WEBPACK_IMPORTED_MODULE_2__deck_gl_react__.ViewportController})},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){__webpack_require__.d(__webpack_exports__,"b",function(){return window_}),__webpack_require__.d(__webpack_exports__,"a",function(){return global_});var globals={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==global&&global,document:"undefined"!=typeof document&&document},window_=globals.window||globals.self||globals.global,global_=globals.global||globals.self||globals.window}).call(__webpack_exports__,__webpack_require__(13))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Framebuffer});var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__resource__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_2__texture_2d__=__webpack_require__(467),__WEBPACK_IMPORTED_MODULE_3__renderbuffer__=__webpack_require__(468),__WEBPACK_IMPORTED_MODULE_4__buffer__=__webpack_require__(140),__WEBPACK_IMPORTED_MODULE_5__clear__=__webpack_require__(262),__WEBPACK_IMPORTED_MODULE_6__webgl_context__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_7__webgl_context_context_features__=__webpack_require__(260),__WEBPACK_IMPORTED_MODULE_8__webgl_utils_typed_array_utils__=__webpack_require__(460),__WEBPACK_IMPORTED_MODULE_9__webgl_utils_format_utils__=__webpack_require__(918),__WEBPACK_IMPORTED_MODULE_10__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_11__utils__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_12__utils_assert__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var GL_COLOR_ATTACHMENT0=36064,GL_TEXTURE_CUBE_MAP_POSITIVE_X=34069,Framebuffer=function(_Resource){function Framebuffer(gl){var _this,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,Framebuffer),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(Framebuffer.__proto__||Object.getPrototypeOf(Framebuffer)).call(this,gl,opts))).width=null,_this.height=null,_this.attachments={},_this.readBuffer=GL_COLOR_ATTACHMENT0,_this.drawBuffers=[GL_COLOR_ATTACHMENT0],_this.initialize(opts),Object.seal(_assertThisInitialized(_this)),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Framebuffer,__WEBPACK_IMPORTED_MODULE_1__resource__["a"]),_createClass(Framebuffer,[{key:"MAX_COLOR_ATTACHMENTS",get:function get(){return this.gl.getParameter(this.gl.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function get(){return this.gl.getParameter(this.gl.MAX_DRAW_BUFFERS)}}],[{key:"isSupported",value:function isSupported(gl){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},colorBufferFloat=_ref.colorBufferFloat,colorBufferHalfFloat=_ref.colorBufferHalfFloat;return colorBufferFloat&&gl.getExtension(Object(__WEBPACK_IMPORTED_MODULE_10__webgl_utils__.l)(gl)?"EXT_color_buffer_float":"WEBGL_color_buffer_float"),colorBufferHalfFloat&&gl.getExtension(Object(__WEBPACK_IMPORTED_MODULE_10__webgl_utils__.l)(gl)?"EXT_color_buffer_float":"EXT_color_buffer_half_float")}},{key:"getDefaultFramebuffer",value:function getDefaultFramebuffer(gl){return gl.luma=gl.luma||{},gl.luma.defaultFramebuffer||(gl.luma.defaultFramebuffer=new Framebuffer(gl,{handle:null,attachments:{}})),gl.luma.defaultFramebuffer}}]),_createClass(Framebuffer,[{key:"initialize",value:function initialize(_ref2){var _ref2$width=_ref2.width,width=void 0===_ref2$width?1:_ref2$width,_ref2$height=_ref2.height,height=void 0===_ref2$height?1:_ref2$height,_ref2$attachments=_ref2.attachments,attachments=void 0===_ref2$attachments?null:_ref2$attachments,_ref2$color=_ref2.color,color=void 0===_ref2$color||_ref2$color,_ref2$depth=_ref2.depth,depth=void 0===_ref2$depth||_ref2$depth,_ref2$stencil=_ref2.stencil,stencil=void 0!==_ref2$stencil&&_ref2$stencil,_ref2$check=_ref2.check,check=void 0===_ref2$check||_ref2$check,readBuffer=_ref2.readBuffer,drawBuffers=_ref2.drawBuffers;if(Object(__WEBPACK_IMPORTED_MODULE_12__utils_assert__.a)(width>=0&&height>=0,"Width and height need to be integers"),this.width=width,this.height=height,attachments)for(var attachment in attachments){var target=attachments[attachment];(Array.isArray(target)?target[0]:target).resize({width:width,height:height})}else attachments=this._createDefaultAttachments({color:color,depth:depth,stencil:stencil,width:width,height:height});this.update({clearAttachments:!0,attachments:attachments,readBuffer:readBuffer,drawBuffers:drawBuffers}),attachments&&check&&this.checkStatus()}},{key:"update",value:function update(_ref3){var _ref3$attachments=_ref3.attachments,attachments=void 0===_ref3$attachments?{}:_ref3$attachments,readBuffer=_ref3.readBuffer,drawBuffers=_ref3.drawBuffers,_ref3$clearAttachment=_ref3.clearAttachments,clearAttachments=void 0!==_ref3$clearAttachment&&_ref3$clearAttachment;this.attach(attachments,{clearAttachments:clearAttachments});var gl=this.gl,prevHandle=gl.bindFramebuffer(36160,this.handle);return readBuffer&&this._setReadBuffer(readBuffer),drawBuffers&&this._setDrawBuffers(drawBuffers),gl.bindFramebuffer(36160,prevHandle||null),this}},{key:"resize",value:function resize(){var _ref4=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},width=_ref4.width,height=_ref4.height;if(null===this.handle)return Object(__WEBPACK_IMPORTED_MODULE_12__utils_assert__.a)(void 0===width&&void 0===height),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;for(var attachmentPoint in void 0===width&&(width=this.gl.drawingBufferWidth),void 0===height&&(height=this.gl.drawingBufferHeight),width!==this.width&&height!==this.height&&__WEBPACK_IMPORTED_MODULE_11__utils__.g.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(width,"x").concat(height)),this.attachments)this.attachments[attachmentPoint].resize({width:width,height:height});return this.width=width,this.height=height,this}},{key:"attach",value:function attach(attachments){var _this2=this,_ref5$clearAttachment=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clearAttachments,newAttachments={};void 0!==_ref5$clearAttachment&&_ref5$clearAttachment&&Object.keys(this.attachments).forEach(function(key){newAttachments[key]=null}),Object.assign(newAttachments,attachments);var prevHandle=this.gl.bindFramebuffer(36160,this.handle);for(var attachment in newAttachments){Object(__WEBPACK_IMPORTED_MODULE_12__utils_assert__.a)("undefined"!==attachment,"Misspelled framebuffer binding point?");var descriptor=newAttachments[attachment],object=descriptor;if(object)if(_instanceof(object,__WEBPACK_IMPORTED_MODULE_3__renderbuffer__.a))this._attachRenderbuffer({attachment:attachment,renderbuffer:object});else if(Array.isArray(descriptor)){var _descriptor=_slicedToArray(descriptor,3),texture=_descriptor[0],_descriptor$=_descriptor[1],layer=void 0===_descriptor$?0:_descriptor$,_descriptor$2=_descriptor[2],level=void 0===_descriptor$2?0:_descriptor$2;object=texture,this._attachTexture({attachment:attachment,texture:texture,layer:layer,level:level})}else this._attachTexture({attachment:attachment,texture:object,layer:0,level:0});else this._unattach({attachment:attachment});object&&object.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,prevHandle||null),Object.assign(this.attachments,attachments),Object.keys(this.attachments).filter(function(key){return!_this2.attachments[key]}).forEach(function(key){delete _this2.attachments[key]})}},{key:"checkStatus",value:function checkStatus(){var gl=this.gl,prevHandle=gl.bindFramebuffer(36160,this.handle),status=gl.checkFramebufferStatus(36160);if(gl.bindFramebuffer(36160,prevHandle||null),status!==gl.FRAMEBUFFER_COMPLETE)throw new Error(_getFrameBufferStatus(status));return this}},{key:"clear",value:function clear(){var _ref6=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},color=_ref6.color,depth=_ref6.depth,stencil=_ref6.stencil,_ref6$drawBuffers=_ref6.drawBuffers,drawBuffers=void 0===_ref6$drawBuffers?[]:_ref6$drawBuffers,prevHandle=this.gl.bindFramebuffer(36160,this.handle);return(color||depth||stencil)&&Object(__WEBPACK_IMPORTED_MODULE_5__clear__.a)(this.gl,{color:color,depth:depth,stencil:stencil}),drawBuffers.forEach(function(value,drawBuffer){Object(__WEBPACK_IMPORTED_MODULE_5__clear__.b)({drawBuffer:drawBuffer,value:value})}),this.gl.bindFramebuffer(36160,prevHandle||null),this}},{key:"readPixels",value:function readPixels(_ref7){var _ref7$x=_ref7.x,x=void 0===_ref7$x?0:_ref7$x,_ref7$y=_ref7.y,y=void 0===_ref7$y?0:_ref7$y,_ref7$width=_ref7.width,width=void 0===_ref7$width?this.width:_ref7$width,_ref7$height=_ref7.height,height=void 0===_ref7$height?this.height:_ref7$height,_ref7$format=_ref7.format,format=void 0===_ref7$format?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA:_ref7$format,type=_ref7.type,_ref7$pixelArray=_ref7.pixelArray,pixelArray=void 0===_ref7$pixelArray?null:_ref7$pixelArray,_ref7$attachment=_ref7.attachment,attachment=void 0===_ref7$attachment?GL_COLOR_ATTACHMENT0:_ref7$attachment,gl=this.gl;if(attachment===__WEBPACK_IMPORTED_MODULE_0__constants___default.a.COLOR_ATTACHMENT0&&null===this.handle&&(attachment=__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT),!pixelArray){type=type||gl.UNSIGNED_BYTE;var ArrayType=Object(__WEBPACK_IMPORTED_MODULE_8__webgl_utils_typed_array_utils__.c)(type,{clamped:!1}),components=Object(__WEBPACK_IMPORTED_MODULE_9__webgl_utils_format_utils__.a)(format);pixelArray=pixelArray||new ArrayType(width*height*components)}type=type||Object(__WEBPACK_IMPORTED_MODULE_8__webgl_utils_typed_array_utils__.b)(pixelArray);var prevHandle=this.gl.bindFramebuffer(36160,this.handle);return this.gl.readPixels(x,y,width,height,format,type,pixelArray),this.gl.bindFramebuffer(36160,prevHandle||null),pixelArray}},{key:"readPixelsToBuffer",value:function readPixelsToBuffer(_ref8){var _ref8$x=_ref8.x,x=void 0===_ref8$x?0:_ref8$x,_ref8$y=_ref8.y,y=void 0===_ref8$y?0:_ref8$y,_ref8$width=_ref8.width,width=void 0===_ref8$width?this.width:_ref8$width,_ref8$height=_ref8.height,height=void 0===_ref8$height?this.height:_ref8$height,_ref8$format=_ref8.format,format=void 0===_ref8$format?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA:_ref8$format,type=_ref8.type,_ref8$buffer=_ref8.buffer,buffer=void 0===_ref8$buffer?null:_ref8$buffer,_ref8$byteOffset=_ref8.byteOffset,byteOffset=void 0===_ref8$byteOffset?0:_ref8$byteOffset,gl=this.gl;if(Object(__WEBPACK_IMPORTED_MODULE_10__webgl_utils__.d)(gl),type=type||(buffer?buffer.type:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_BYTE),!buffer){var components=Object(__WEBPACK_IMPORTED_MODULE_9__webgl_utils_format_utils__.a)(format),byteCount=Object(__WEBPACK_IMPORTED_MODULE_9__webgl_utils_format_utils__.b)(type),bytes=byteOffset+width*height*components*byteCount;buffer=new __WEBPACK_IMPORTED_MODULE_4__buffer__.a(gl,{bytes:bytes,type:type,size:components})}return buffer.bind({target:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.PIXEL_PACK_BUFFER}),Object(__WEBPACK_IMPORTED_MODULE_6__webgl_context__.j)(gl,{framebuffer:this},function(){gl.readPixels(x,y,width,height,format,type,byteOffset)}),buffer.unbind({target:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.PIXEL_PACK_BUFFER}),buffer}},{key:"copyToDataUrl",value:function copyToDataUrl(){for(var _ref9=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref9$attachment=_ref9.attachment,attachment=void 0===_ref9$attachment?GL_COLOR_ATTACHMENT0:_ref9$attachment,_ref9$maxHeight=_ref9.maxHeight,maxHeight=void 0===_ref9$maxHeight?Number.MAX_SAFE_INTEGER:_ref9$maxHeight,data=this.readPixels({attachment:attachment}),width=this.width,height=this.height;height>maxHeight;){var _scalePixels=Object(__WEBPACK_IMPORTED_MODULE_10__webgl_utils__.o)({data:data,width:width,height:height});data=_scalePixels.data,width=_scalePixels.width,height=_scalePixels.height}Object(__WEBPACK_IMPORTED_MODULE_10__webgl_utils__.g)({data:data,width:width,height:height});var canvas=document.createElement("canvas");canvas.width=width,canvas.height=height;var context=canvas.getContext("2d"),imageData=context.createImageData(width,height);return imageData.data.set(data),context.putImageData(imageData,0,0),canvas.toDataURL()}},{key:"copyToImage",value:function copyToImage(){var _ref10=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref10$image=_ref10.image,image=void 0===_ref10$image?null:_ref10$image,_ref10$attachment=_ref10.attachment,attachment=void 0===_ref10$attachment?GL_COLOR_ATTACHMENT0:_ref10$attachment,_ref10$maxHeight=_ref10.maxHeight,dataUrl=(void 0===_ref10$maxHeight&&Number.MAX_SAFE_INTEGER,this.readDataUrl({attachment:attachment}));return(image=image||new Image).src=dataUrl,image}},{key:"copyToTexture",value:function copyToTexture(_ref11){var texture=_ref11.texture,target=_ref11.target,_ref11$xoffset=_ref11.xoffset,xoffset=void 0===_ref11$xoffset?0:_ref11$xoffset,_ref11$yoffset=_ref11.yoffset,yoffset=void 0===_ref11$yoffset?0:_ref11$yoffset,_ref11$zoffset=_ref11.zoffset,zoffset=void 0===_ref11$zoffset?0:_ref11$zoffset,_ref11$mipmapLevel=_ref11.mipmapLevel,mipmapLevel=void 0===_ref11$mipmapLevel?0:_ref11$mipmapLevel,_ref11$attachment=_ref11.attachment,attachment=void 0===_ref11$attachment?GL_COLOR_ATTACHMENT0:_ref11$attachment,_ref11$x=_ref11.x,x=void 0===_ref11$x?0:_ref11$x,_ref11$y=_ref11.y,y=void 0===_ref11$y?0:_ref11$y,width=_ref11.width,height=_ref11.height,gl=this.gl,prevHandle=gl.bindFramebuffer(36160,this.handle),prevBuffer=gl.readBuffer(attachment);switch(width=Number.isFinite(width)?width:texture.width,height=Number.isFinite(height)?height:texture.height,texture.target){case 3553:case 34067:gl.copyTexSubImage2D(target||texture.target,mipmapLevel,xoffset,yoffset,x,y,width,height);break;case 35866:case 32879:gl.copyTexSubImage3D(target||texture.target,mipmapLevel,xoffset,yoffset,zoffset,x,y,width,height)}return gl.readBuffer(prevBuffer),gl.bindFramebuffer(36160,prevHandle||null),texture}},{key:"blit",value:function blit(_ref12){var srcFramebuffer=_ref12.srcFramebuffer,_ref12$attachment=_ref12.attachment,attachment=void 0===_ref12$attachment?GL_COLOR_ATTACHMENT0:_ref12$attachment,_ref12$srcX=_ref12.srcX0,srcX0=void 0===_ref12$srcX?0:_ref12$srcX,_ref12$srcY=_ref12.srcY0,srcY0=void 0===_ref12$srcY?0:_ref12$srcY,srcX1=_ref12.srcX1,srcY1=_ref12.srcY1,_ref12$dstX=_ref12.dstX0,dstX0=void 0===_ref12$dstX?0:_ref12$dstX,_ref12$dstY=_ref12.dstY0,dstY0=void 0===_ref12$dstY?0:_ref12$dstY,dstX1=_ref12.dstX1,dstY1=_ref12.dstY1,_ref12$color=_ref12.color,color=void 0===_ref12$color||_ref12$color,_ref12$depth=_ref12.depth,depth=void 0!==_ref12$depth&&_ref12$depth,_ref12$stencil=_ref12.stencil,stencil=void 0!==_ref12$stencil&&_ref12$stencil,_ref12$mask=_ref12.mask,mask=void 0===_ref12$mask?0:_ref12$mask,_ref12$filter=_ref12.filter,filter=void 0===_ref12$filter?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.NEAREST:_ref12$filter,gl=this.gl;Object(__WEBPACK_IMPORTED_MODULE_10__webgl_utils__.d)(gl),srcFramebuffer.handle||attachment!==GL_COLOR_ATTACHMENT0||(attachment=__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT),color&&(mask|=16384),depth&&(mask|=256),stencil&&(mask|=1024),Object(__WEBPACK_IMPORTED_MODULE_12__utils_assert__.a)(mask),srcX1=void 0===srcX1?srcFramebuffer.width:srcX1,srcY1=void 0===srcY1?srcFramebuffer.height:srcY1,dstX1=void 0===dstX1?this.width:dstX1,dstY1=void 0===dstY1?this.height:dstY1;var prevDrawHandle=gl.bindFramebuffer(36008,this.handle),prevReadHandle=gl.bindFramebuffer(36009,srcFramebuffer.handle);return gl.readBuffer(attachment),gl.blitFramebuffer(srcX0,srcY0,srcX1,srcY1,dstX0,dstY0,dstX1,dstY1,mask,filter),gl.readBuffer(this.readBuffer),gl.bindFramebuffer(36009,prevReadHandle||null),gl.bindFramebuffer(36008,prevDrawHandle||null),this}},{key:"invalidate",value:function invalidate(_ref13){var _ref13$attachments=_ref13.attachments,attachments=void 0===_ref13$attachments?[]:_ref13$attachments,_ref13$x=_ref13.x,x=void 0===_ref13$x?0:_ref13$x,_ref13$y=_ref13.y,y=void 0===_ref13$y?0:_ref13$y,width=_ref13.width,height=_ref13.height,gl=this.gl;Object(__WEBPACK_IMPORTED_MODULE_10__webgl_utils__.d)(gl);var prevHandle=gl.bindFramebuffer(36009,this.handle);return 0===x&&0===y&&void 0===width&&void 0===height?gl.invalidateFramebuffer(36009,attachments):gl.invalidateFramebuffer(36009,attachments,x,y,width,height),gl.bindFramebuffer(36009,prevHandle),this}},{key:"getAttachmentParameter",value:function getAttachmentParameter(){var _ref14=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref14$attachment=_ref14.attachment,attachment=void 0===_ref14$attachment?GL_COLOR_ATTACHMENT0:_ref14$attachment,pname=_ref14.pname,value=this._getAttachmentParameterFallback(pname);return null===value&&(this.gl.bindTexture(36160,this.handle),value=this.gl.getFramebufferAttachmentParameter(36160,attachment,pname),this.gl.bindTexture(36160,null)),value}},{key:"getAttachmentParameters",value:function getAttachmentParameters(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var parameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.ATTACHMENT_PARAMETERS||{},values={};for(var pname in parameters)values[pname]=this.getAttachmentParameter(pname);return this}},{key:"show",value:function show(){return"undefined"!=typeof window&&window.open(this.copyToDataUrl(),"luma-debug-texture"),this}},{key:"log",value:function log(){var _ref15=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref15$priority=_ref15.priority,priority=void 0===_ref15$priority?0:_ref15$priority,_ref15$message=_ref15.message,message=void 0===_ref15$message?"":_ref15$message;if(priority>__WEBPACK_IMPORTED_MODULE_11__utils__.g.priority||"undefined"==typeof window)return this;message=message||"Framebuffer ".concat(this.id);var image=this.copyToDataUrl({maxHeight:100});return __WEBPACK_IMPORTED_MODULE_11__utils__.g.image({priority:priority,message:message,image:image},message)(),this}},{key:"bind",value:function bind(){var _ref16$target=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).target,target=void 0===_ref16$target?36160:_ref16$target;return this.gl.bindFramebuffer(target,this.handle),this}},{key:"unbind",value:function unbind(){var _ref17$target=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).target,target=void 0===_ref17$target?36160:_ref17$target;return this.gl.bindFramebuffer(target,null),this}},{key:"_createDefaultAttachments",value:function _createDefaultAttachments(_ref18){var _parameters,color=_ref18.color,depth=_ref18.depth,width=(_ref18.stencil,_ref18.width),height=_ref18.height,defaultAttachments=null;color&&((defaultAttachments=defaultAttachments||{})[GL_COLOR_ATTACHMENT0]=new __WEBPACK_IMPORTED_MODULE_2__texture_2d__.a(this.gl,{pixels:null,format:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA,type:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_BYTE,width:width,height:height,mipmaps:!1,parameters:(_parameters={},_defineProperty(_parameters,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_MIN_FILTER,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.NEAREST),_defineProperty(_parameters,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_MAG_FILTER,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.NEAREST),_defineProperty(_parameters,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_WRAP_S,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.CLAMP_TO_EDGE),_defineProperty(_parameters,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_WRAP_T,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.CLAMP_TO_EDGE),_parameters)}));return depth&&((defaultAttachments=defaultAttachments||{})[36096]=new __WEBPACK_IMPORTED_MODULE_3__renderbuffer__.a(this.gl,{format:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_COMPONENT16,width:width,height:height})),defaultAttachments}},{key:"_unattach",value:function _unattach(_ref19){var attachment=_ref19.attachment;this.gl.bindRenderbuffer(36161,this.handle),this.gl.framebufferRenderbuffer(36160,attachment,36161,null),delete this.attachments[attachment]}},{key:"_attachRenderbuffer",value:function _attachRenderbuffer(_ref20){var _ref20$attachment=_ref20.attachment,attachment=void 0===_ref20$attachment?GL_COLOR_ATTACHMENT0:_ref20$attachment,renderbuffer=_ref20.renderbuffer;this.gl.framebufferRenderbuffer(36160,attachment,36161,renderbuffer.handle),this.attachments[attachment]=renderbuffer}},{key:"_attachTexture",value:function _attachTexture(_ref21){var _ref21$attachment=_ref21.attachment,attachment=void 0===_ref21$attachment?GL_COLOR_ATTACHMENT0:_ref21$attachment,texture=_ref21.texture,layer=_ref21.layer,level=_ref21.level,gl=this.gl;switch(gl.bindTexture(texture.target,texture.handle),texture.target){case 35866:case 32879:gl.framebufferTextureLayer(36160,attachment,texture.target,level,layer);break;case 34067:var face=function mapIndexToCubeMapFace(layer){return layer<GL_TEXTURE_CUBE_MAP_POSITIVE_X?layer+GL_TEXTURE_CUBE_MAP_POSITIVE_X:layer}(layer);gl.framebufferTexture2D(36160,attachment,face,texture.handle,level);break;case 3553:gl.framebufferTexture2D(36160,attachment,3553,texture.handle,level);break;default:Object(__WEBPACK_IMPORTED_MODULE_12__utils_assert__.a)(!1,"Illegal texture type")}gl.bindTexture(texture.target,null),this.attachments[attachment]=texture}},{key:"_setReadBuffer",value:function _setReadBuffer(gl,readBuffer){Object(__WEBPACK_IMPORTED_MODULE_10__webgl_utils__.l)(gl)?gl.readBuffer(readBuffer):Object(__WEBPACK_IMPORTED_MODULE_12__utils_assert__.a)(readBuffer===GL_COLOR_ATTACHMENT0||readBuffer===__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BACK,"Multiple render targets not supported"),this.readBuffer=readBuffer}},{key:"_setDrawBuffers",value:function _setDrawBuffers(gl,drawBuffers){if(Object(__WEBPACK_IMPORTED_MODULE_10__webgl_utils__.l)(gl))gl.drawBuffers(drawBuffers);else{var ext=gl.getExtension("WEBGL_draw_buffers");ext?ext.drawBuffersWEBGL(drawBuffers):Object(__WEBPACK_IMPORTED_MODULE_12__utils_assert__.a)(1===drawBuffers.length&&(drawBuffers[0]===GL_COLOR_ATTACHMENT0||drawBuffers[0]===__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BACK),"Multiple render targets not supported")}this.drawBuffers=drawBuffers}},{key:"_getAttachmentParameterFallback",value:function _getAttachmentParameterFallback(pname){var caps=Object(__WEBPACK_IMPORTED_MODULE_7__webgl_context_context_features__.c)(this.gl);switch(pname){case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:return caps.webgl2?null:0;case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAMEBUFFER_ATTACHMENT_RED_SIZE:case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:return caps.webgl2?null:8;case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:return caps.webgl2?null:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_INT;case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:return caps.webgl2||caps.EXT_sRGB?null:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.LINEAR;default:return null}}},{key:"_createHandle",value:function _createHandle(){return this.gl.createFramebuffer()}},{key:"_deleteHandle",value:function _deleteHandle(){this.gl.deleteFramebuffer(this.handle)}},{key:"color",get:function get(){return this.attachments[GL_COLOR_ATTACHMENT0]||null}},{key:"texture",get:function get(){return this.attachments[GL_COLOR_ATTACHMENT0]||null}},{key:"depth",get:function get(){return this.attachments[36096]||null}},{key:"stencil",get:function get(){return this.attachments[36128]||null}}]),Framebuffer}();function _getFrameBufferStatus(status){return(Framebuffer.STATUS||{})[status]||"Framebuffer error ".concat(status)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Model});var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__webgl__=__webpack_require__(154),__WEBPACK_IMPORTED_MODULE_2__webgl_query__=__webpack_require__(575),__WEBPACK_IMPORTED_MODULE_3__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_4__webgl_uniforms__=__webpack_require__(469),__WEBPACK_IMPORTED_MODULE_5__geometry_geometry__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_6__core_object_3d__=__webpack_require__(577),__WEBPACK_IMPORTED_MODULE_7__shadertools_shaders__=__webpack_require__(966),__WEBPACK_IMPORTED_MODULE_8__shadertools__=__webpack_require__(969),__WEBPACK_IMPORTED_MODULE_9__debug_seer_integration__=__webpack_require__(972),__WEBPACK_IMPORTED_MODULE_10__utils__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_11__utils_assert__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var DEPRECATED_PICKING_UNIFORMS=["renderPickingBuffer","pickingEnabled"],Model=function(_Object3D){function Model(gl){var _this,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,Model),_this=_possibleConstructorReturn(this,(Model.__proto__||Object.getPrototypeOf(Model)).call(this,opts)),Object(__WEBPACK_IMPORTED_MODULE_11__utils_assert__.a)(Object(__WEBPACK_IMPORTED_MODULE_3__webgl_utils__.k)(gl)),_this.gl=gl,_this.init(opts),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Model,__WEBPACK_IMPORTED_MODULE_6__core_object_3d__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Model,[{key:"init",value:function init(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$vs=_ref.vs,vs=void 0===_ref$vs?null:_ref$vs,_ref$fs=_ref.fs,fs=void 0===_ref$fs?null:_ref$fs,_ref$modules=_ref.modules,modules=void 0===_ref$modules?null:_ref$modules,_ref$defines=_ref.defines,defines=void 0===_ref$defines?{}:_ref$defines,_ref$moduleSettings=_ref.moduleSettings,moduleSettings=void 0===_ref$moduleSettings?{}:_ref$moduleSettings,defaultUniforms=_ref.defaultUniforms,_ref$program=_ref.program,program=void 0===_ref$program?null:_ref$program,_ref$shaderCache=_ref.shaderCache,shaderCache=void 0===_ref$shaderCache?null:_ref$shaderCache,_ref$isInstanced=_ref.isInstanced,isInstanced=void 0!==_ref$isInstanced&&_ref$isInstanced,instanced=_ref.instanced,_ref$vertexCount=_ref.vertexCount,vertexCount=void 0===_ref$vertexCount?void 0:_ref$vertexCount,_ref$instanceCount=_ref.instanceCount,instanceCount=void 0===_ref$instanceCount?0:_ref$instanceCount,drawMode=_ref.drawMode,_ref$uniforms=_ref.uniforms,uniforms=void 0===_ref$uniforms?{}:_ref$uniforms,_ref$attributes=_ref.attributes,attributes=void 0===_ref$attributes?{}:_ref$attributes,_ref$geometry=_ref.geometry,geometry=void 0===_ref$geometry?null:_ref$geometry,_ref$pickable=_ref.pickable,pickable=void 0===_ref$pickable||_ref$pickable,_ref$pick=_ref.pick,pick=void 0===_ref$pick?null:_ref$pick,_ref$onBeforeRender=(_ref.render,_ref.onBeforeRender),onBeforeRender=void 0===_ref$onBeforeRender?function(){}:_ref$onBeforeRender,_ref$onAfterRender=_ref.onAfterRender,onAfterRender=void 0===_ref$onAfterRender?function(){}:_ref$onAfterRender,_ref$varyings=_ref.varyings,varyings=void 0===_ref$varyings?null:_ref$varyings,_ref$bufferMode=_ref.bufferMode,bufferMode=void 0===_ref$bufferMode?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SEPARATE_ATTRIBS:_ref$bufferMode,_ref$timerQueryEnable=_ref.timerQueryEnabled,timerQueryEnabled=void 0!==_ref$timerQueryEnable&&_ref$timerQueryEnable;this._initializeProgram({vs:vs,fs:fs,modules:modules,defines:defines,moduleSettings:moduleSettings,defaultUniforms:defaultUniforms,program:program,shaderCache:shaderCache,varyings:varyings,bufferMode:bufferMode}),this.uniforms={},uniforms=Object.assign({},this.program.defaultUniforms,uniforms),this.setUniforms(uniforms),this.setUniforms(this.getModuleUniforms()),this.setUniforms(this.getModuleUniforms(moduleSettings)),instanced&&(console.warn('Warning: Model constructor: parameter "instanced" renamed to "isInstanced".\nThis will become a hard error in a future version of luma.gl.'),isInstanced=isInstanced||instanced),this._attributes={},this.attributes={},this.samplers={},this.userData={},this.drawParams={},this.dynamic=!1,this.needsRedraw=!0,geometry&&this.setGeometry(geometry),this.setAttributes(attributes),void 0!==drawMode&&(this.drawMode=Object(__WEBPACK_IMPORTED_MODULE_5__geometry_geometry__.b)(drawMode)),void 0!==vertexCount&&(this.vertexCount=vertexCount),this.isInstanced=isInstanced,this.instanceCount=instanceCount,this.pickable=Boolean(pickable),this.pick=pick||function(){return!1},this.onBeforeRender=onBeforeRender,this.onAfterRender=onAfterRender,Object(__WEBPACK_IMPORTED_MODULE_11__utils_assert__.a)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount"),this.timerQueryEnabled=timerQueryEnabled&&__WEBPACK_IMPORTED_MODULE_2__webgl_query__.a.isSupported(this.gl,{timer:!0}),this.timeElapsedQuery=void 0,this.lastQueryReturned=!0,this.stats={accumulatedFrameTime:0,averageFrameTime:0,profileFrameCount:0}}},{key:"delete",value:function _delete(){for(var key in this._attributes)this._attributes[key]!==this.attributes[key]&&this._attributes[key].delete();this.program.delete(),Object(__WEBPACK_IMPORTED_MODULE_9__debug_seer_integration__.d)(this.id)}},{key:"destroy",value:function destroy(){this.delete()}},{key:"setNeedsRedraw",value:function setNeedsRedraw(){var redraw=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.needsRedraw=redraw,this}},{key:"getNeedsRedraw",value:function getNeedsRedraw(){var _ref2$clearRedrawFlag=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).clearRedrawFlags,clearRedrawFlags=void 0!==_ref2$clearRedrawFlag&&_ref2$clearRedrawFlag,redraw=!1;return redraw=redraw||this.needsRedraw,this.needsRedraw=this.needsRedraw&&!clearRedrawFlags,this.geometry&&(redraw=redraw||this.geometry.getNeedsRedraw({clearRedrawFlags:clearRedrawFlags})),redraw}},{key:"setDrawMode",value:function setDrawMode(drawMode){return this.drawMode=Object(__WEBPACK_IMPORTED_MODULE_5__geometry_geometry__.b)(drawMode),this}},{key:"getDrawMode",value:function getDrawMode(){return this.drawMode}},{key:"setVertexCount",value:function setVertexCount(vertexCount){return Object(__WEBPACK_IMPORTED_MODULE_11__utils_assert__.a)(Number.isFinite(vertexCount)),this.vertexCount=vertexCount,this}},{key:"getVertexCount",value:function getVertexCount(){return this.vertexCount}},{key:"setInstanceCount",value:function setInstanceCount(instanceCount){return Object(__WEBPACK_IMPORTED_MODULE_11__utils_assert__.a)(Number.isFinite(instanceCount)),this.instanceCount=instanceCount,this}},{key:"getInstanceCount",value:function getInstanceCount(){return this.instanceCount}},{key:"getProgram",value:function getProgram(){return this.program}},{key:"setGeometry",value:function setGeometry(geometry){return this.geometry=geometry,this.vertexCount=geometry.getVertexCount(),this.drawMode=geometry.drawMode,this._createBuffersFromAttributeDescriptors(this.geometry.getAttributes()),this.setNeedsRedraw(),this}},{key:"getAttributes",value:function getAttributes(){return this.attributes}},{key:"setAttributes",value:function setAttributes(){var attributes=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(__WEBPACK_IMPORTED_MODULE_10__utils__.d)(attributes)?this:(Object.assign(this.attributes,attributes),this._createBuffersFromAttributeDescriptors(attributes),this.setNeedsRedraw(),this)}},{key:"getUniforms",value:function getUniforms(){return this.uniforms}},{key:"setUniforms",value:function setUniforms(){var uniforms=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},somethingChanged=!1;for(var key in uniforms)if(!Object(__WEBPACK_IMPORTED_MODULE_4__webgl_uniforms__.a)(this.uniforms[key],uniforms[key])){somethingChanged=!0;break}return somethingChanged&&(Object(__WEBPACK_IMPORTED_MODULE_1__webgl__.f)(uniforms,this.id),Object.assign(this.uniforms,uniforms),this.setNeedsRedraw()),this}},{key:"updateModuleSettings",value:function updateModuleSettings(opts){var uniforms=this.getModuleUniforms(opts);return this.setUniforms(uniforms)}},{key:"draw",value:function draw(){var _ref3=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref3$moduleSettings=_ref3.moduleSettings,moduleSettings=void 0===_ref3$moduleSettings?null:_ref3$moduleSettings,_ref3$uniforms=_ref3.uniforms,uniforms=void 0===_ref3$uniforms?{}:_ref3$uniforms,_ref3$attributes=_ref3.attributes,attributes=void 0===_ref3$attributes?{}:_ref3$attributes,_ref3$samplers=_ref3.samplers,samplers=void 0===_ref3$samplers?{}:_ref3$samplers,_ref3$parameters=_ref3.parameters,parameters=void 0===_ref3$parameters?{}:_ref3$parameters,settings=_ref3.settings,_ref3$framebuffer=_ref3.framebuffer,framebuffer=void 0===_ref3$framebuffer?null:_ref3$framebuffer,_ref3$vertexArray=_ref3.vertexArray,vertexArray=void 0===_ref3$vertexArray?null:_ref3$vertexArray,_ref3$transformFeedba=_ref3.transformFeedback,transformFeedback=void 0===_ref3$transformFeedba?null:_ref3$transformFeedba;return settings&&(__WEBPACK_IMPORTED_MODULE_10__utils__.g.deprecated("settings","parameters")(),parameters=settings),moduleSettings&&this.updateModuleSettings(moduleSettings),framebuffer&&(parameters=Object.assign(parameters,{framebuffer:framebuffer})),this.render(uniforms,attributes,samplers,transformFeedback,parameters,vertexArray),framebuffer&&framebuffer.log({priority:2,message:"Rendered to ".concat(framebuffer.id)}),this}},{key:"render",value:function render(){var uniforms=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},attributes=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},samplers=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},transformFeedback=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,parameters=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},vertexArray=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;Object(__WEBPACK_IMPORTED_MODULE_9__debug_seer_integration__.a)(this);var resolvedUniforms=this.addViewUniforms(uniforms);Object(__WEBPACK_IMPORTED_MODULE_9__debug_seer_integration__.b)(this.id,resolvedUniforms),this.setUniforms(resolvedUniforms),this.setAttributes(attributes),Object.assign(this.samplers,samplers),__WEBPACK_IMPORTED_MODULE_10__utils__.g.group(2,">>> RENDERING MODEL ".concat(this.id),{collapsed:__WEBPACK_IMPORTED_MODULE_10__utils__.g.priority<=2})(),this.setProgramState({vertexArray:vertexArray}),this._logAttributesAndUniforms(2,resolvedUniforms),this.onBeforeRender();var drawParams=this.drawParams;drawParams.isInstanced&&!this.isInstanced&&__WEBPACK_IMPORTED_MODULE_10__utils__.g.warn("Found instanced attributes on non-instanced model")();var isIndexed=drawParams.isIndexed,indexType=drawParams.indexType,isInstanced=this.isInstanced,instanceCount=this.instanceCount;return this._timerQueryStart(),this.program.draw({parameters:parameters,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:vertexArray,transformFeedback:transformFeedback,isIndexed:isIndexed,indexType:indexType,isInstanced:isInstanced,instanceCount:instanceCount}),this._timerQueryEnd(),this.onAfterRender(),this.unsetProgramState(),this.setNeedsRedraw(!1),__WEBPACK_IMPORTED_MODULE_10__utils__.g.groupEnd(2,">>> RENDERING MODEL ".concat(this.id))(),this}},{key:"setProgramState",value:function setProgramState(){var _ref4$vertexArray=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).vertexArray,vertexArray=void 0===_ref4$vertexArray?null:_ref4$vertexArray,program=this.program;return program.use(),this.drawParams={},program.setAttributes(this._attributes,{drawParams:this.drawParams}),program.checkAttributeBindings({vertexArray:vertexArray}),program.setUniforms(this.uniforms,this.samplers),this}},{key:"unsetProgramState",value:function unsetProgramState(){return this.program.unsetBuffers(),this}},{key:"addViewUniforms",value:function addViewUniforms(uniforms){var camera=uniforms.camera,viewMatrix=uniforms.viewMatrix,modelMatrix=uniforms.modelMatrix,cameraUniforms=camera?camera.getUniforms():{},viewUniforms=viewMatrix?this.getCoordinateUniforms(viewMatrix,modelMatrix):{};return Object.assign({},uniforms,cameraUniforms,viewUniforms)}},{key:"_initializeProgram",value:function _initializeProgram(_ref5){var vs=_ref5.vs,fs=_ref5.fs,modules=_ref5.modules,defines=_ref5.defines,program=(_ref5.moduleSettings,_ref5.defaultUniforms,_ref5.program),shaderCache=_ref5.shaderCache,varyings=_ref5.varyings,bufferMode=_ref5.bufferMode;if(this.getModuleUniforms=function(x){},!program){vs||(vs=__WEBPACK_IMPORTED_MODULE_7__shadertools_shaders__.a.vs),fs||(fs=__WEBPACK_IMPORTED_MODULE_7__shadertools_shaders__.a.fs);var assembleResult=Object(__WEBPACK_IMPORTED_MODULE_8__shadertools__.a)(this.gl,{vs:vs,fs:fs,modules:modules,defines:defines});vs=assembleResult.vs,fs=assembleResult.fs,program=shaderCache?shaderCache.getProgram(this.gl,{vs:vs,fs:fs,id:this.id}):new __WEBPACK_IMPORTED_MODULE_1__webgl__.d(this.gl,{vs:vs,fs:fs,varyings:varyings,bufferMode:bufferMode});var getUniforms=assembleResult.getUniforms;this.getModuleUniforms=getUniforms||function(x){}}this.program=program,Object(__WEBPACK_IMPORTED_MODULE_11__utils_assert__.a)(_instanceof(this.program,__WEBPACK_IMPORTED_MODULE_1__webgl__.d),"Model needs a program")}},{key:"_checkForDeprecatedUniforms",value:function _checkForDeprecatedUniforms(uniforms){DEPRECATED_PICKING_UNIFORMS.forEach(function(uniform){uniform in uniforms&&__WEBPACK_IMPORTED_MODULE_10__utils__.g.deprecated(uniform,"use picking shader module and Model class updateModuleSettings()")()})}},{key:"_timerQueryStart",value:function _timerQueryStart(){!0===this.timerQueryEnabled&&(this.timeElapsedQuery||(this.timeElapsedQuery=new __WEBPACK_IMPORTED_MODULE_2__webgl_query__.a(this.gl)),this.lastQueryReturned&&(this.lastQueryReturned=!1,this.timeElapsedQuery.beginTimeElapsedQuery()))}},{key:"_timerQueryEnd",value:function _timerQueryEnd(){if(!0===this.timerQueryEnabled&&(this.timeElapsedQuery.end(),this.timeElapsedQuery.isResultAvailable())){this.lastQueryReturned=!0;var elapsedTime=this.timeElapsedQuery.getResult();this.stats.lastFrameTime=elapsedTime,this.stats.accumulatedFrameTime+=elapsedTime,this.stats.profileFrameCount++,this.stats.averageFrameTime=this.stats.accumulatedFrameTime/this.stats.profileFrameCount,__WEBPACK_IMPORTED_MODULE_10__utils__.g.log(2,"GPU time ".concat(this.program.id,": ").concat(this.stats.lastFrameTime,"ms average ").concat(this.stats.averageFrameTime,"ms accumulated: ").concat(this.stats.accumulatedFrameTime,"ms count: ").concat(this.stats.profileFrameCount))()}}},{key:"_createBuffersFromAttributeDescriptors",value:function _createBuffersFromAttributeDescriptors(attributes){var gl=this.program.gl;for(var attributeName in attributes){var descriptor=attributes[attributeName],attribute=this._attributes[attributeName];_instanceof(descriptor,__WEBPACK_IMPORTED_MODULE_1__webgl__.a)?attribute=descriptor:_instanceof(descriptor,__WEBPACK_IMPORTED_MODULE_1__webgl__.b)?(attribute=attribute||new __WEBPACK_IMPORTED_MODULE_1__webgl__.a(gl,Object.assign({},descriptor.layout,{id:attributeName}))).update({isGeneric:!1,buffer:descriptor}):attribute?attribute.update(descriptor):attribute=new __WEBPACK_IMPORTED_MODULE_1__webgl__.a(gl,descriptor),this._attributes[attributeName]=attribute}return this}},{key:"_logAttributesAndUniforms",value:function _logAttributesAndUniforms(priority){var uniforms=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(__WEBPACK_IMPORTED_MODULE_10__utils__.g.priority>=priority){var attributeTable=this._getAttributesTable({header:"".concat(this.id," attributes"),program:this.program,attributes:this._attributes});__WEBPACK_IMPORTED_MODULE_10__utils__.g.table(priority,attributeTable)();var _getUniformsTable=Object(__WEBPACK_IMPORTED_MODULE_4__webgl_uniforms__.d)({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.uniforms,uniforms)}),table=_getUniformsTable.table,unusedTable=_getUniformsTable.unusedTable,unusedCount=_getUniformsTable.unusedCount;__WEBPACK_IMPORTED_MODULE_10__utils__.g.table(priority,table)(),__WEBPACK_IMPORTED_MODULE_10__utils__.g.log(priority,"".concat(unusedCount||"No"," unused uniforms "),unusedTable)()}else{var _getUniformsTable2=Object(__WEBPACK_IMPORTED_MODULE_4__webgl_uniforms__.d)({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.uniforms,uniforms),undefinedOnly:!0}),_table=_getUniformsTable2.table;_getUniformsTable2.count>0&&__WEBPACK_IMPORTED_MODULE_10__utils__.g.table(priority,_table)()}Object(__WEBPACK_IMPORTED_MODULE_9__debug_seer_integration__.c)(this,uniforms)}},{key:"_getAttributesTable",value:function _getAttributesTable(){var _ref6=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},attributes=_ref6.attributes,_ref6$header=_ref6.header,header=void 0===_ref6$header?"Attributes":_ref6$header,program=(_ref6.instanced,_ref6.program);Object(__WEBPACK_IMPORTED_MODULE_11__utils_assert__.a)(program);var attributeLocations=program._attributeToLocationMap,table={};for(var attributeName in attributes){var attribute=attributes[attributeName];attribute.isIndexed&&this._createAttributeEntry(attribute,"ELEMENT_ARRAY_BUFFER",header)}for(var _attributeName in attributeLocations){var _attribute=attributes[_attributeName],location=attributeLocations[_attributeName];table[_attributeName]=this._createAttributeEntry(_attribute,location,header)}for(var _attributeName2 in attributes){var _attribute2=attributes[_attributeName2];table[_attributeName2]||(table[_attributeName2]=this._createAttributeEntry(_attribute2,null,header))}return table}},{key:"_createAttributeEntry",value:function _createAttributeEntry(attribute,location,header){var _ref7,type="NOT PROVIDED",instanced=0,size="N/A",verts="N/A",bytes="N/A",value="N/A";attribute&&null===location&&(location=attribute.isIndexed?"ELEMENT_ARRAY_BUFFER":"NOT USED"),attribute&&(type=attribute.type,instanced=attribute.instanced,size=attribute.size,attribute.externalBuffer?(value=attribute.externalBuffer.data,verts=(bytes=attribute.externalBuffer.bytes)/value.BYTES_PER_ELEMENT):attribute.value&&(verts=function round(num){return Math.round(10*num)/10}((value=attribute.value).length/size),bytes=value.length*value.BYTES_PER_ELEMENT));var isInteger=-1!==(type=String(type).replace("Array","")).indexOf("nt");return _defineProperty(_ref7={},header,Object(__WEBPACK_IMPORTED_MODULE_10__utils__.b)(value,{size:size,isInteger:isInteger})),_defineProperty(_ref7,"Memory Size and Layout","".concat(instanced?"I ":"P "," ").concat(verts," (x").concat(size,"=").concat(bytes,"bytes ").concat(type,") loc=").concat(location)),_ref7}},{key:"isPickable",value:function isPickable(){return this.pickable}},{key:"setPickable",value:function setPickable(){var pickable=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.pickable=Boolean(pickable),this}},{key:"getGeometry",value:function getGeometry(){return this.geometry}},{key:"varyingMap",get:function get(){return this.program.varyingMap}}]),Model}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Vector3});var __WEBPACK_IMPORTED_MODULE_0__lib_vector__=__webpack_require__(470),__WEBPACK_IMPORTED_MODULE_1__lib_common__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_2_gl_vec3_angle__=__webpack_require__(925),__WEBPACK_IMPORTED_MODULE_2_gl_vec3_angle___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_gl_vec3_angle__),__WEBPACK_IMPORTED_MODULE_3_gl_vec3_cross__=__webpack_require__(581),__WEBPACK_IMPORTED_MODULE_3_gl_vec3_cross___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_gl_vec3_cross__),__WEBPACK_IMPORTED_MODULE_4_gl_vec3_rotateX__=__webpack_require__(927),__WEBPACK_IMPORTED_MODULE_4_gl_vec3_rotateX___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_gl_vec3_rotateX__),__WEBPACK_IMPORTED_MODULE_5_gl_vec3_rotateY__=__webpack_require__(928),__WEBPACK_IMPORTED_MODULE_5_gl_vec3_rotateY___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_gl_vec3_rotateY__),__WEBPACK_IMPORTED_MODULE_6_gl_vec3_rotateZ__=__webpack_require__(929),__WEBPACK_IMPORTED_MODULE_6_gl_vec3_rotateZ___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_gl_vec3_rotateZ__);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var ORIGIN=[0,0,0],Vector3=function(_Vector){function Vector3(){var _this,x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,Vector3),_this=_possibleConstructorReturn(this,(Vector3.__proto__||Object.getPrototypeOf(Vector3)).call(this)),Array.isArray(x)&&1===arguments.length?_this.copy(x):_this.set(x,y,z),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Vector3,__WEBPACK_IMPORTED_MODULE_0__lib_vector__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Vector3,[{key:"angle",value:function angle(vector){return __WEBPACK_IMPORTED_MODULE_2_gl_vec3_angle___default()(this,vector)}},{key:"cross",value:function cross(vector){return __WEBPACK_IMPORTED_MODULE_3_gl_vec3_cross___default()(this,this,vector),this.check()}},{key:"rotateX",value:function rotateX(_ref){var radians=_ref.radians,_ref$origin=_ref.origin,origin=void 0===_ref$origin?ORIGIN:_ref$origin;return __WEBPACK_IMPORTED_MODULE_4_gl_vec3_rotateX___default()(this,this,origin,radians),this.check()}},{key:"rotateY",value:function rotateY(_ref2){var radians=_ref2.radians,_ref2$origin=_ref2.origin,origin=void 0===_ref2$origin?ORIGIN:_ref2$origin;return __WEBPACK_IMPORTED_MODULE_5_gl_vec3_rotateY___default()(this,this,origin,radians),this.check()}},{key:"rotateZ",value:function rotateZ(_ref3){var radians=_ref3.radians,_ref3$origin=_ref3.origin,origin=void 0===_ref3$origin?ORIGIN:_ref3$origin;return __WEBPACK_IMPORTED_MODULE_6_gl_vec3_rotateZ___default()(this,this,origin,radians),this.check()}},{key:"operation",value:function operation(_operation){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return _operation.apply(void 0,[this,this].concat(args)),this.check()}},{key:"ELEMENTS",get:function get(){return 3}},{key:"x",get:function get(){return this[0]},set:function set(value){return this[0]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"y",get:function get(){return this[1]},set:function set(value){return this[1]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"z",get:function get(){return this[2]},set:function set(value){return this[2]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}}]),Vector3}()},function(module,exports){module.exports=function transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=a[3];return out[0]=m[0]*x+m[4]*y+m[8]*z+m[12]*w,out[1]=m[1]*x+m[5]*y+m[9]*z+m[13]*w,out[2]=m[2]*x+m[6]*y+m[10]*z+m[14]*w,out[3]=m[3]*x+m[7]*y+m[11]*z+m[15]*w,out}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_1__project_glsl__=__webpack_require__(1002),__WEBPACK_IMPORTED_MODULE_2__deprecated_shaderlib_project_project_deprecated_glsl__=__webpack_require__(1003),__WEBPACK_IMPORTED_MODULE_3__viewport_uniforms__=__webpack_require__(1004),INITIAL_MODULE_OPTIONS={};__webpack_exports__.a={name:"project",dependencies:[__WEBPACK_IMPORTED_MODULE_0_luma_gl__.fp32],vs:"".concat(__WEBPACK_IMPORTED_MODULE_1__project_glsl__.a).concat(__WEBPACK_IMPORTED_MODULE_2__deprecated_shaderlib_project_project_deprecated_glsl__.a),getUniforms:function getUniforms(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:INITIAL_MODULE_OPTIONS;return opts.viewport?Object(__WEBPACK_IMPORTED_MODULE_3__viewport_uniforms__.a)(opts):{}},deprecations:[{type:"uniform vec3",old:"selectedPickingColor",new:"luma.gl's picking module"},{type:"uniform float",old:"renderPickingBuffer",new:"luma.gl's picking module"},{type:"uniform float",old:"pickingEnabled",new:"luma.gl's picking module"},{type:"uniform float",old:"projectionMode",new:"project_uCoordinateSystem"},{type:"uniform vec4",old:"projectionCenter",new:"project_uCenter"},{type:"uniform vec2",old:"projectionOrigin"},{type:"uniform mat4",old:"modelMatrix",new:"project_uModelMatrix"},{type:"uniform mat4",old:"viewMatrix"},{type:"uniform mat4",old:"projectionMatrix",new:"project_uViewProjectionMatrix"},{type:"uniform vec3",old:"projectionPixelsPerUnit",new:"project_uPixelsPerUnit"},{type:"uniform float",old:"projectionScale",new:"project_uScale"},{type:"uniform vec2",old:"viewportSize",new:"project_uViewportSize"},{type:"uniform float",old:"devicePixelRatio",new:"project_uDevicePixelRatio"},{type:"uniform vec3",old:"cameraPos",new:"project_uCameraPosition"},{type:"function",old:"scale",new:"project_scale",deprecated:1},{type:"function",old:"preproject",new:"project_position",deprecated:1},{type:"function",old:"project",new:"project_to_clipspace",deprecated:1}]}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return COORDINATE_SYSTEM});var COORDINATE_SYSTEM={LNGLAT:1,METER_OFFSETS:2,METERS:2,LNGLAT_OFFSETS:3,IDENTITY:0}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return WebMercatorViewport});var __WEBPACK_IMPORTED_MODULE_0__viewport__=__webpack_require__(1005),__WEBPACK_IMPORTED_MODULE_1__web_mercator_utils__=__webpack_require__(226),__WEBPACK_IMPORTED_MODULE_2__fit_bounds__=__webpack_require__(603),__WEBPACK_IMPORTED_MODULE_3_gl_vec2_add__=__webpack_require__(604),__WEBPACK_IMPORTED_MODULE_3_gl_vec2_add___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_gl_vec2_add__),__WEBPACK_IMPORTED_MODULE_4_gl_vec2_negate__=__webpack_require__(605),__WEBPACK_IMPORTED_MODULE_4_gl_vec2_negate___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_gl_vec2_negate__);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var WebMercatorViewport=function(_Viewport){function WebMercatorViewport(){var _this,_ref=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},width=_ref.width,height=_ref.height,_ref$latitude=_ref.latitude,latitude=void 0===_ref$latitude?0:_ref$latitude,_ref$longitude=_ref.longitude,longitude=void 0===_ref$longitude?0:_ref$longitude,_ref$zoom=_ref.zoom,zoom=void 0===_ref$zoom?0:_ref$zoom,_ref$pitch=_ref.pitch,pitch=void 0===_ref$pitch?0:_ref$pitch,_ref$bearing=_ref.bearing,bearing=void 0===_ref$bearing?0:_ref$bearing,_ref$altitude=_ref.altitude,altitude=void 0===_ref$altitude?1.5:_ref$altitude,_ref$farZMultiplier=_ref.farZMultiplier,farZMultiplier=void 0===_ref$farZMultiplier?10:_ref$farZMultiplier;_classCallCheck(this,WebMercatorViewport),width=width||1,height=height||1;var scale=Object(__WEBPACK_IMPORTED_MODULE_1__web_mercator_utils__.l)(zoom);altitude=Math.max(.75,altitude);var center=Object(__WEBPACK_IMPORTED_MODULE_1__web_mercator_utils__.f)({longitude:longitude,latitude:latitude,scale:scale}),projectionMatrix=Object(__WEBPACK_IMPORTED_MODULE_1__web_mercator_utils__.c)({width:width,height:height,pitch:pitch,bearing:bearing,altitude:altitude,farZMultiplier:farZMultiplier}),viewMatrix=Object(__WEBPACK_IMPORTED_MODULE_1__web_mercator_utils__.e)({height:height,center:center,pitch:pitch,bearing:bearing,altitude:altitude,flipY:!0});return(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(WebMercatorViewport.__proto__||Object.getPrototypeOf(WebMercatorViewport)).call(this,{width:width,height:height,viewMatrix:viewMatrix,projectionMatrix:projectionMatrix}))).latitude=latitude,_this.longitude=longitude,_this.zoom=zoom,_this.pitch=pitch,_this.bearing=bearing,_this.altitude=altitude,_this.scale=scale,_this.center=center,Object.freeze(_assertThisInitialized(_this)),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(WebMercatorViewport,__WEBPACK_IMPORTED_MODULE_0__viewport__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(WebMercatorViewport,[{key:"projectFlat",value:function projectFlat(lngLat){var scale=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.scale;return Object(__WEBPACK_IMPORTED_MODULE_1__web_mercator_utils__.g)(lngLat,scale)}},{key:"unprojectFlat",value:function unprojectFlat(xy){var scale=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.scale;return Object(__WEBPACK_IMPORTED_MODULE_1__web_mercator_utils__.j)(xy,scale)}},{key:"getMapCenterByLngLatPosition",value:function getMapCenterByLngLatPosition(_ref2){var lngLat=_ref2.lngLat,pos=_ref2.pos,fromLocation=Object(__WEBPACK_IMPORTED_MODULE_1__web_mercator_utils__.h)(pos,this.pixelUnprojectionMatrix),toLocation=Object(__WEBPACK_IMPORTED_MODULE_1__web_mercator_utils__.g)(lngLat,this.scale),translate=__WEBPACK_IMPORTED_MODULE_3_gl_vec2_add___default()([],toLocation,__WEBPACK_IMPORTED_MODULE_4_gl_vec2_negate___default()([],fromLocation)),newCenter=__WEBPACK_IMPORTED_MODULE_3_gl_vec2_add___default()([],this.center,translate);return Object(__WEBPACK_IMPORTED_MODULE_1__web_mercator_utils__.j)(newCenter,this.scale)}},{key:"getLocationAtPoint",value:function getLocationAtPoint(_ref3){var lngLat=_ref3.lngLat,pos=_ref3.pos;return this.getMapCenterByLngLatPosition({lngLat:lngLat,pos:pos})}},{key:"fitBounds",value:function fitBounds(bounds){var options=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},width=this.width,height=this.height,_fitBounds2=Object(__WEBPACK_IMPORTED_MODULE_2__fit_bounds__.a)(Object.assign({width:width,height:height,bounds:bounds},options));return new WebMercatorViewport({width:width,height:height,longitude:_fitBounds2.longitude,latitude:_fitBounds2.latitude,zoom:_fitBounds2.zoom})}}]),WebMercatorViewport}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.l=zoomToScale,__webpack_exports__.i=scaleToZoom,__webpack_exports__.g=lngLatToWorld,__webpack_exports__.j=function worldToLngLat(_ref3,scale){var _ref4=_slicedToArray(_ref3,2),x=_ref4[0],y=_ref4[1],lambda2=x/(scale*=TILE_SIZE)*(2*PI)-PI,phi2=2*(Math.atan(Math.exp(PI-y/scale*(2*PI)))-PI_4);return[lambda2*RADIANS_TO_DEGREES,phi2*RADIANS_TO_DEGREES]},__webpack_exports__.b=function getMeterZoom(_ref5){var latitude=_ref5.latitude;Object(__WEBPACK_IMPORTED_MODULE_8__assert__.a)(Number.isFinite(latitude));var latCosine=Math.cos(latitude*DEGREES_TO_RADIANS);return scaleToZoom(EARTH_CIRCUMFERENCE*latCosine)-9},__webpack_exports__.a=getDistanceScales,__webpack_exports__.f=function getWorldPosition(_ref7){var longitude=_ref7.longitude,latitude=_ref7.latitude,zoom=_ref7.zoom,scale=_ref7.scale,meterOffset=_ref7.meterOffset,_ref7$distanceScales=_ref7.distanceScales,distanceScales=void 0===_ref7$distanceScales?null:_ref7$distanceScales;scale=void 0===scale?zoomToScale(zoom):scale;var center2d=lngLatToWorld([longitude,latitude],scale),center=new __WEBPACK_IMPORTED_MODULE_0_math_gl__.d(center2d[0],center2d[1],0);if(meterOffset){distanceScales=distanceScales||getDistanceScales({latitude:latitude,longitude:longitude,scale:scale});var pixelPosition=new __WEBPACK_IMPORTED_MODULE_0_math_gl__.d(meterOffset).scale(distanceScales.pixelsPerMeter).scale([1,-1,1]);center.add(pixelPosition)}return center},__webpack_exports__.e=function getViewMatrix(_ref8){var height=_ref8.height,pitch=_ref8.pitch,bearing=_ref8.bearing,altitude=_ref8.altitude,_ref8$center=_ref8.center,center=void 0===_ref8$center?null:_ref8$center,_ref8$flipY=_ref8.flipY,vm=Object(__WEBPACK_IMPORTED_MODULE_1__math_utils__.a)();return __WEBPACK_IMPORTED_MODULE_4_gl_mat4_translate___default()(vm,vm,[0,0,-altitude]),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_scale___default()(vm,vm,[1,1,1/height]),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_rotateX___default()(vm,vm,-pitch*DEGREES_TO_RADIANS),__WEBPACK_IMPORTED_MODULE_6_gl_mat4_rotateZ___default()(vm,vm,bearing*DEGREES_TO_RADIANS),void 0!==_ref8$flipY&&_ref8$flipY&&__WEBPACK_IMPORTED_MODULE_3_gl_mat4_scale___default()(vm,vm,[1,-1,1]),center&&__WEBPACK_IMPORTED_MODULE_4_gl_mat4_translate___default()(vm,vm,new __WEBPACK_IMPORTED_MODULE_0_math_gl__.d(center).negate()),vm},__webpack_exports__.d=getProjectionParameters,__webpack_exports__.c=function getProjectionMatrix(_ref10){var width=_ref10.width,height=_ref10.height,pitch=_ref10.pitch,altitude=_ref10.altitude,_ref10$farZMultiplier=_ref10.farZMultiplier,_getProjectionParamet=getProjectionParameters({width:width,height:height,altitude:altitude,pitch:pitch,farZMultiplier:void 0===_ref10$farZMultiplier?10:_ref10$farZMultiplier}),fov=_getProjectionParamet.fov,aspect=_getProjectionParamet.aspect,near=_getProjectionParamet.near,far=_getProjectionParamet.far;return __WEBPACK_IMPORTED_MODULE_2_gl_mat4_perspective___default()([],fov,aspect,near,far)},__webpack_exports__.k=function worldToPixels(xyz,pixelProjectionMatrix){var _NumberisFinite2=Number.isFinite,_xyz=_slicedToArray(xyz,3),x=_xyz[0],y=_xyz[1],_xyz$=_xyz[2],z=void 0===_xyz$?0:_xyz$;return Object(__WEBPACK_IMPORTED_MODULE_8__assert__.a)(_NumberisFinite2(x)&&_NumberisFinite2(y)&&_NumberisFinite2(z)),Object(__WEBPACK_IMPORTED_MODULE_1__math_utils__.d)(pixelProjectionMatrix,[x,y,z,1])},__webpack_exports__.h=function pixelsToWorld(xyz,pixelUnprojectionMatrix){var _NumberisFinite3=Number.isFinite,targetZ=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,_xyz2=_slicedToArray(xyz,3),x=_xyz2[0],y=_xyz2[1],z=_xyz2[2];if(Object(__WEBPACK_IMPORTED_MODULE_8__assert__.a)(_NumberisFinite3(x)&&_NumberisFinite3(y)),_NumberisFinite3(z)){var coord=Object(__WEBPACK_IMPORTED_MODULE_1__math_utils__.d)(pixelUnprojectionMatrix,[x,y,z,1]);return coord}var coord0=Object(__WEBPACK_IMPORTED_MODULE_1__math_utils__.d)(pixelUnprojectionMatrix,[x,y,0,1]),coord1=Object(__WEBPACK_IMPORTED_MODULE_1__math_utils__.d)(pixelUnprojectionMatrix,[x,y,1,1]),z0=coord0[2],z1=coord1[2],t=z0===z1?0:((targetZ||0)-z0)/(z1-z0);return __WEBPACK_IMPORTED_MODULE_7_gl_vec2_lerp___default()([],coord0,coord1,t)};var __WEBPACK_IMPORTED_MODULE_0_math_gl__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_1__math_utils__=__webpack_require__(267),__WEBPACK_IMPORTED_MODULE_2_gl_mat4_perspective__=__webpack_require__(157),__WEBPACK_IMPORTED_MODULE_2_gl_mat4_perspective___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_gl_mat4_perspective__),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_scale__=__webpack_require__(159),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_scale___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_gl_mat4_scale__),__WEBPACK_IMPORTED_MODULE_4_gl_mat4_translate__=__webpack_require__(160),__WEBPACK_IMPORTED_MODULE_4_gl_mat4_translate___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_gl_mat4_translate__),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_rotateX__=__webpack_require__(264),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_rotateX___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_gl_mat4_rotateX__),__WEBPACK_IMPORTED_MODULE_6_gl_mat4_rotateZ__=__webpack_require__(265),__WEBPACK_IMPORTED_MODULE_6_gl_mat4_rotateZ___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_gl_mat4_rotateZ__),__WEBPACK_IMPORTED_MODULE_7_gl_vec2_lerp__=__webpack_require__(1006),__WEBPACK_IMPORTED_MODULE_7_gl_vec2_lerp___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_gl_vec2_lerp__),__WEBPACK_IMPORTED_MODULE_8__assert__=__webpack_require__(602);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var PI=Math.PI,PI_4=PI/4,DEGREES_TO_RADIANS=PI/180,RADIANS_TO_DEGREES=180/PI,TILE_SIZE=512,EARTH_CIRCUMFERENCE=4003e4,DEFAULT_ALTITUDE=1.5;function zoomToScale(zoom){return Math.pow(2,zoom)}function scaleToZoom(scale){return Math.log2(scale)}function lngLatToWorld(_ref,scale){var _ref2=_slicedToArray(_ref,2),lng=_ref2[0],lat=_ref2[1];return[(scale*=TILE_SIZE)*(lng*DEGREES_TO_RADIANS+PI)/(2*PI),scale*(PI-Math.log(Math.tan(PI_4+lat*DEGREES_TO_RADIANS*.5)))/(2*PI)]}function getDistanceScales(_ref6){var _NumberisFinite=Number.isFinite,latitude=_ref6.latitude,longitude=_ref6.longitude,zoom=_ref6.zoom,scale=_ref6.scale,_ref6$highPrecision=_ref6.highPrecision;scale=void 0===scale?zoomToScale(zoom):scale,Object(__WEBPACK_IMPORTED_MODULE_8__assert__.a)(_NumberisFinite(latitude)&&_NumberisFinite(longitude)&&_NumberisFinite(scale));var result={},worldSize=TILE_SIZE*scale,latCosine=Math.cos(latitude*DEGREES_TO_RADIANS),pixelsPerDegreeX=worldSize/360,pixelsPerDegreeY=pixelsPerDegreeX/latCosine,altPixelsPerMeter=worldSize/EARTH_CIRCUMFERENCE/latCosine;if(result.pixelsPerMeter=[altPixelsPerMeter,altPixelsPerMeter,altPixelsPerMeter],result.metersPerPixel=[1/altPixelsPerMeter,1/altPixelsPerMeter,1/altPixelsPerMeter],result.pixelsPerDegree=[pixelsPerDegreeX,pixelsPerDegreeY,altPixelsPerMeter],result.degreesPerPixel=[1/pixelsPerDegreeX,1/pixelsPerDegreeY,1/altPixelsPerMeter],void 0!==_ref6$highPrecision&&_ref6$highPrecision){var latCosine2=DEGREES_TO_RADIANS*Math.tan(latitude*DEGREES_TO_RADIANS)/latCosine,altPixelsPerDegree2=worldSize/EARTH_CIRCUMFERENCE*latCosine2,altPixelsPerMeter2=altPixelsPerDegree2/pixelsPerDegreeY*altPixelsPerMeter;result.pixelsPerDegree2=[0,pixelsPerDegreeX*latCosine2/2,altPixelsPerDegree2],result.pixelsPerMeter2=[altPixelsPerMeter2,0,altPixelsPerMeter2]}return result}function getProjectionParameters(_ref9){var _MathPI=Math.PI,_Mathsin=Math.sin,_Mathatan=Math.atan,width=_ref9.width,height=_ref9.height,_ref9$altitude=_ref9.altitude,altitude=void 0===_ref9$altitude?DEFAULT_ALTITUDE:_ref9$altitude,_ref9$pitch=_ref9.pitch,pitch=void 0===_ref9$pitch?0:_ref9$pitch,_ref9$farZMultiplier=_ref9.farZMultiplier,farZMultiplier=void 0===_ref9$farZMultiplier?1:_ref9$farZMultiplier,pitchRadians=pitch*DEGREES_TO_RADIANS,halfFov=_Mathatan(.5/altitude),topHalfSurfaceDistance=_Mathsin(halfFov)*altitude/_Mathsin(_MathPI/2-pitchRadians-halfFov),farZ=Math.cos(_MathPI/2-pitchRadians)*topHalfSurfaceDistance+altitude;return{fov:2*_Mathatan(height/2/altitude),aspect:width/height,focalDistance:altitude,near:.1,far:farZ*farZMultiplier}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=function flatten(array){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$filter=_ref.filter,filter=void 0===_ref$filter?function(){return!0}:_ref$filter,_ref$map=_ref.map,map=void 0===_ref$map?function(x){return x}:_ref$map,_ref$result=_ref.result,result=void 0===_ref$result?[]:_ref$result;if(!Array.isArray(array))return filter(array)?[map(array)]:[];return function flattenArray(array,filter,map,result){var index=-1;for(;++index<array.length;){var value=array[index];Array.isArray(value)?flattenArray(value,filter,map,result):filter(value)&&result.push(map(value))}return result}(array,filter,map,result)},__webpack_exports__.c=function flattenVertices(nestedArray){var _ref2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref2$result=_ref2.result,result=void 0===_ref2$result?[]:_ref2$result,_ref2$dimensions=_ref2.dimensions,dimensions=void 0===_ref2$dimensions?3:_ref2$dimensions;var index=-1;var vertexLength=0;for(;++index<nestedArray.length;){var value=nestedArray[index];Array.isArray(value)||ArrayBuffer.isView(value)?flattenVertices(value,{result:result,dimensions:dimensions}):vertexLength<dimensions&&(result.push(value),vertexLength++)}vertexLength>0&&vertexLength<dimensions&&result.push(0);return result},__webpack_exports__.a=function fillArray(_ref3){for(var target=_ref3.target,source=_ref3.source,_ref3$start=_ref3.start,start=void 0===_ref3$start?0:_ref3$start,_ref3$count=_ref3.count,count=void 0===_ref3$count?1:_ref3$count,length=source.length,total=count*length,copied=0,i=start;copied<length;copied++)target[i++]=source[copied];for(;copied<total;)copied<total-copied?(target.copyWithin(start+copied,start,start+copied),copied*=2):(target.copyWithin(start+copied,start,start+total-copied),copied=total);return target}},function(module,exports,__webpack_require__){"use strict";(function(global){function compare(a,b){if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0}function isBuffer(b){return global.Buffer&&"function"==typeof global.Buffer.isBuffer?global.Buffer.isBuffer(b):!(null==b||!b._isBuffer)}var util=__webpack_require__(1107),hasOwn=Object.prototype.hasOwnProperty,pSlice=Array.prototype.slice,functionsHaveNames="foo"===function foo(){}.name;function pToString(obj){return Object.prototype.toString.call(obj)}function isView(arrbuf){return!isBuffer(arrbuf)&&("function"==typeof global.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(arrbuf):!!arrbuf&&(arrbuf instanceof DataView||!!(arrbuf.buffer&&arrbuf.buffer instanceof ArrayBuffer))))}var assert=module.exports=ok,regex=/\s*function\s+([^\(\s]*)\s*/;function getName(func){if(util.isFunction(func)){if(functionsHaveNames)return func.name;var match=func.toString().match(regex);return match&&match[1]}}function truncate(s,n){return"string"==typeof s?s.length<n?s:s.slice(0,n):s}function inspect(something){if(functionsHaveNames||!util.isFunction(something))return util.inspect(something);var rawname=getName(something);return"[Function"+(rawname?": "+rawname:"")+"]"}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}function ok(value,message){value||fail(value,!0,message,"==",assert.ok)}function _deepEqual(actual,expected,strict,memos){if(actual===expected)return!0;if(isBuffer(actual)&&isBuffer(expected))return 0===compare(actual,expected);if(util.isDate(actual)&&util.isDate(expected))return actual.getTime()===expected.getTime();if(util.isRegExp(actual)&&util.isRegExp(expected))return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase;if(null!==actual&&"object"==typeof actual||null!==expected&&"object"==typeof expected){if(isView(actual)&&isView(expected)&&pToString(actual)===pToString(expected)&&!(actual instanceof Float32Array||actual instanceof Float64Array))return 0===compare(new Uint8Array(actual.buffer),new Uint8Array(expected.buffer));if(isBuffer(actual)!==isBuffer(expected))return!1;var actualIndex=(memos=memos||{actual:[],expected:[]}).actual.indexOf(actual);return-1!==actualIndex&&actualIndex===memos.expected.indexOf(expected)||(memos.actual.push(actual),memos.expected.push(expected),function objEquiv(a,b,strict,actualVisitedObjects){if(null===a||void 0===a||null===b||void 0===b)return!1;if(util.isPrimitive(a)||util.isPrimitive(b))return a===b;if(strict&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;var aIsArgs=isArguments(a),bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return!1;if(aIsArgs)return a=pSlice.call(a),b=pSlice.call(b),_deepEqual(a,b,strict);var key,i,ka=objectKeys(a),kb=objectKeys(b);if(ka.length!==kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!==kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!_deepEqual(a[key],b[key],strict,actualVisitedObjects))return!1;return!0}(actual,expected,strict,memos))}return strict?actual===expected:actual==expected}function isArguments(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function expectedException(actual,expected){if(!actual||!expected)return!1;if("[object RegExp]"==Object.prototype.toString.call(expected))return expected.test(actual);try{if(actual instanceof expected)return!0}catch(e){}return!Error.isPrototypeOf(expected)&&!0===expected.call({},actual)}function _throws(shouldThrow,block,expected,message){var actual;if("function"!=typeof block)throw new TypeError('"block" argument must be a function');"string"==typeof expected&&(message=expected,expected=null),actual=function _tryBlock(block){var error;try{block()}catch(e){error=e}return error}(block),message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:"."),shouldThrow&&!actual&&fail(actual,expected,"Missing expected exception"+message);var userProvidedMessage="string"==typeof message,isUnwantedException=!shouldThrow&&util.isError(actual),isUnexpectedException=!shouldThrow&&actual&&!expected;if((isUnwantedException&&userProvidedMessage&&expectedException(actual,expected)||isUnexpectedException)&&fail(actual,expected,"Got unwanted exception"+message),shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual)throw actual}assert.AssertionError=function AssertionError(options){this.name="AssertionError",this.actual=options.actual,this.expected=options.expected,this.operator=options.operator,options.message?(this.message=options.message,this.generatedMessage=!1):(this.message=function getMessage(self){return truncate(inspect(self.actual),128)+" "+self.operator+" "+truncate(inspect(self.expected),128)}(this),this.generatedMessage=!0);var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,stackStartFunction);else{var err=new Error;if(err.stack){var out=err.stack,fn_name=getName(stackStartFunction),idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function equal(actual,expected,message){actual!=expected&&fail(actual,expected,message,"==",assert.equal)},assert.notEqual=function notEqual(actual,expected,message){actual==expected&&fail(actual,expected,message,"!=",assert.notEqual)},assert.deepEqual=function deepEqual(actual,expected,message){_deepEqual(actual,expected,!1)||fail(actual,expected,message,"deepEqual",assert.deepEqual)},assert.deepStrictEqual=function deepStrictEqual(actual,expected,message){_deepEqual(actual,expected,!0)||fail(actual,expected,message,"deepStrictEqual",assert.deepStrictEqual)},assert.notDeepEqual=function notDeepEqual(actual,expected,message){_deepEqual(actual,expected,!1)&&fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)},assert.notDeepStrictEqual=function notDeepStrictEqual(actual,expected,message){_deepEqual(actual,expected,!0)&&fail(actual,expected,message,"notDeepStrictEqual",notDeepStrictEqual)},assert.strictEqual=function strictEqual(actual,expected,message){actual!==expected&&fail(actual,expected,message,"===",assert.strictEqual)},assert.notStrictEqual=function notStrictEqual(actual,expected,message){actual===expected&&fail(actual,expected,message,"!==",assert.notStrictEqual)},assert.throws=function(block,error,message){_throws(!0,block,error,message)},assert.doesNotThrow=function(block,error,message){_throws(!1,block,error,message)},assert.ifError=function(err){if(err)throw err};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)hasOwn.call(obj,key)&&keys.push(key);return keys}}).call(exports,__webpack_require__(13))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return null===x?NaN:+x}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=linearish,__webpack_exports__.a=function linear(){var scale=Object(__WEBPACK_IMPORTED_MODULE_2__continuous__.b)(__WEBPACK_IMPORTED_MODULE_2__continuous__.c,__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.interpolateNumber);scale.copy=function(){return Object(__WEBPACK_IMPORTED_MODULE_2__continuous__.a)(scale,linear())};return linearish(scale)};var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(51),__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__=__webpack_require__(273),__WEBPACK_IMPORTED_MODULE_2__continuous__=__webpack_require__(275),__WEBPACK_IMPORTED_MODULE_3__tickFormat__=__webpack_require__(1164);function linearish(scale){var domain=scale.domain;return scale.ticks=function(count){var d=domain();return Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.ticks)(d[0],d[d.length-1],null==count?10:count)},scale.tickFormat=function(count,specifier){return Object(__WEBPACK_IMPORTED_MODULE_3__tickFormat__.a)(domain(),count,specifier)},scale.nice=function(count){null==count&&(count=10);var step,d=domain(),i0=0,i1=d.length-1,start=d[i0],stop=d[i1];return stop<start&&(step=start,start=stop,stop=step,step=i0,i0=i1,i1=step),(step=Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.tickIncrement)(start,stop,count))>0?(start=Math.floor(start/step)*step,stop=Math.ceil(stop/step)*step,step=Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.tickIncrement)(start,stop,count)):step<0&&(start=Math.ceil(start*step)/step,stop=Math.floor(stop*step)/step,step=Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.tickIncrement)(start,stop,count)),step>0?(d[i0]=Math.floor(start/step)*step,d[i1]=Math.ceil(stop/step)*step,domain(d)):step<0&&(d[i0]=Math.ceil(start*step)/step,d[i1]=Math.floor(stop*step)/step,domain(d)),scale},scale}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.c=function hue(a,b){var d=b-a;return d?linear(a,d>180||d<-180?d-360*Math.round(d/360):d):Object(__WEBPACK_IMPORTED_MODULE_0__constant__.a)(isNaN(a)?b:a)},__webpack_exports__.b=function gamma(y){return 1==(y=+y)?nogamma:function(a,b){return b-a?function exponential(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}(a,b,y):Object(__WEBPACK_IMPORTED_MODULE_0__constant__.a)(isNaN(a)?b:a)}},__webpack_exports__.a=nogamma;var __WEBPACK_IMPORTED_MODULE_0__constant__=__webpack_require__(660);function linear(a,d){return function(t){return a+t*d}}function nogamma(a,b){var d=b-a;return d?linear(a,d):Object(__WEBPACK_IMPORTED_MODULE_0__constant__.a)(isNaN(a)?b:a)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.g=function spherical(cartesian){return[Object(__WEBPACK_IMPORTED_MODULE_0__math__.e)(cartesian[1],cartesian[0]),Object(__WEBPACK_IMPORTED_MODULE_0__math__.c)(cartesian[2])]},__webpack_exports__.a=function cartesian(spherical){var lambda=spherical[0],phi=spherical[1],cosPhi=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(phi);return[cosPhi*Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(lambda),cosPhi*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(lambda),Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(phi)]},__webpack_exports__.d=function cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},__webpack_exports__.c=function cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]},__webpack_exports__.b=function cartesianAddInPlace(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]},__webpack_exports__.f=function cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*k]},__webpack_exports__.e=function cartesianNormalizeInPlace(d){var l=Object(__WEBPACK_IMPORTED_MODULE_0__math__.u)(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l,d[1]/=l,d[2]/=l};var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=function azimuthalRaw(scale){return function(x,y){var cx=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(x),cy=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(y),k=scale(cx*cy);return[k*cy*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(x),k*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(y)]}},__webpack_exports__.a=function azimuthalInvert(angle){return function(x,y){var z=Object(__WEBPACK_IMPORTED_MODULE_0__math__.u)(x*x+y*y),c=angle(z),sc=Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(c),cc=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(c);return[Object(__WEBPACK_IMPORTED_MODULE_0__math__.e)(x*sc,z*cc),Object(__WEBPACK_IMPORTED_MODULE_0__math__.c)(z&&y*sc/z)]}};var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4)},,,,,,,function(module,exports){module.exports=function(originalModule){if(!originalModule.webpackPolyfill){var module=Object.create(originalModule);module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),Object.defineProperty(module,"exports",{enumerable:!0}),module.webpackPolyfill=1}return module}},function(module,exports,__webpack_require__){"use strict";var getKeys=__webpack_require__(52),gOPS=__webpack_require__(128),pIE=__webpack_require__(70),toObject=__webpack_require__(48),IObject=__webpack_require__(122),$assign=Object.assign;module.exports=!$assign||__webpack_require__(33)(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function assign(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;aLen>index;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;length>j;)isEnum.call(S,key=keys[j++])&&(T[key]=S[key]);return T}:$assign},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(397),__esModule:!0}},function(module,exports,__webpack_require__){var dP=__webpack_require__(20),anObject=__webpack_require__(21),getKeys=__webpack_require__(52);module.exports=__webpack_require__(26)?Object.defineProperties:function defineProperties(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},function(module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(12),core=__webpack_require__(2),dP=__webpack_require__(20),DESCRIPTORS=__webpack_require__(26),SPECIES=__webpack_require__(10)("species");module.exports=function(KEY){var C="function"==typeof core[KEY]?core[KEY]:global[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&dP.f(C,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(408),__esModule:!0}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.features=void 0,exports.isModifierPressed=isModifierPressed,exports.default=handle,exports.handleKeyboardShortcuts=function handleKeyboardShortcuts(channel){return function(event){var parsedEvent=handle(event);parsedEvent&&channel.emit("applyShortcut",{event:parsedEvent})}};var _keycode2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(412));var features=exports.features={FULLSCREEN:"FULLSCREEN",ADDON_PANEL:"ADDON_PANEL",STORIES_PANEL:"STORIES_PANEL",SHORTCUTS_HELP:"SHORTCUTS_HELP",ESCAPE:"ESCAPE",NEXT_STORY:"NEXT_STORY",PREV_STORY:"PREV_STORY",SHOW_SEARCH:"SHOW_SEARCH",ADDON_PANEL_IN_RIGHT:"ADDON_PANEL_IN_RIGHT"};function isModifierPressed(e){return(e.ctrlKey||91===e.keyCode||e.metaKey)&&e.shiftKey}function handle(e){if(e.keyCode===(0,_keycode2.default)("escape"))return features.ESCAPE;if(function focusInInput(e){return/input|textarea/i.test(e.target.tagName)||null!==e.target.getAttribute("contenteditable")}(e))return!1;if(!isModifierPressed(e))return!1;switch(e.keyCode){case(0,_keycode2.default)("F"):return e.preventDefault(),features.FULLSCREEN;case(0,_keycode2.default)("C"):case(0,_keycode2.default)("D"):return e.preventDefault(),features.ADDON_PANEL;case(0,_keycode2.default)("X"):case(0,_keycode2.default)("L"):return e.preventDefault(),features.STORIES_PANEL;case(0,_keycode2.default)("right"):return e.preventDefault(),features.NEXT_STORY;case(0,_keycode2.default)("left"):return e.preventDefault(),features.PREV_STORY;case(0,_keycode2.default)("O"):case(0,_keycode2.default)("P"):return e.preventDefault(),features.SHOW_SEARCH;case(0,_keycode2.default)("G"):case(0,_keycode2.default)("J"):return e.preventDefault(),features.ADDON_PANEL_IN_RIGHT;default:return!1}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setInitialStory=function setInitialStory(storyKindList){return{type:types.SET_INITIAL_STORY,storyKindList:storyKindList}},exports.setError=function setError(error){return{type:types.SET_ERROR,error:error}},exports.clearError=function clearError(){return{type:types.CLEAR_ERROR}},exports.selectStory=function selectStory(kind,story){return{type:types.SELECT_STORY,kind:kind,story:story}};var types=exports.types={SET_ERROR:"PREVIEW_SET_ERROR",CLEAR_ERROR:"PREVIEW_CLEAR_ERROR",SELECT_STORY:"PREVIEW_SELECT_STORY",SET_INITIAL_STORY:"PREVIEW_SET_INITIAL_STORY"}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(417),__esModule:!0}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _isIterable3=_interopRequireDefault(__webpack_require__(431)),_getIterator3=_interopRequireDefault(__webpack_require__(251));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(){return function(arr,i){if(Array.isArray(arr))return arr;if((0,_isIterable3.default)(Object(arr)))return function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=(0,_getIterator3.default)(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(434),__esModule:!0}},function(module,exports,__webpack_require__){"use strict";var stringify=__webpack_require__(436),parse=__webpack_require__(437),formats=__webpack_require__(214);module.exports={formats:formats,parse:parse,stringify:stringify}},function(module,exports,__webpack_require__){"use strict";var validateFormat=function validateFormat(format){};module.exports=function invariant(condition,format,a,b,c,d,e,f){if(validateFormat(format),!condition){var error;if(void 0===format)error=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;(error=new Error(format.replace(/%s/g,function(){return args[argIndex++]}))).name="Invariant Violation"}throw error.framesToPop=1,error}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.omitProperty=exports.typeReplacer=exports.typeReviver=exports.prepareArguments=exports.muteProperty=exports.isObject=exports.getPropertiesList=exports.canConfigureName=void 0;var _canConfigureName3=_interopRequireDefault(__webpack_require__(552)),_getPropertiesList3=_interopRequireDefault(__webpack_require__(853)),_isObject3=_interopRequireDefault(__webpack_require__(854)),_muteProperty3=_interopRequireDefault(__webpack_require__(855)),_prepareArguments3=_interopRequireDefault(__webpack_require__(856)),_typeReviver3=_interopRequireDefault(__webpack_require__(891)),_typeReplacer3=_interopRequireDefault(__webpack_require__(892)),_omitProperty3=_interopRequireDefault(__webpack_require__(893));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.canConfigureName=_canConfigureName3.default,exports.getPropertiesList=_getPropertiesList3.default,exports.isObject=_isObject3.default,exports.muteProperty=_muteProperty3.default,exports.prepareArguments=_prepareArguments3.default,exports.typeReviver=_typeReviver3.default,exports.typeReplacer=_typeReplacer3.default,exports.omitProperty=_omitProperty3.default},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(450),__esModule:!0}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.experimental=exports.Stats=exports.COLOR=exports.Log=exports.VERSION=void 0;var _globals=__webpack_require__(153);Object.defineProperty(exports,"VERSION",{enumerable:!0,get:function get(){return _globals.VERSION}});var _log=__webpack_require__(902);Object.defineProperty(exports,"Log",{enumerable:!0,get:function get(){return _interopRequireDefault(_log).default}});var _color=__webpack_require__(559);Object.defineProperty(exports,"COLOR",{enumerable:!0,get:function get(){return _color.COLOR}});var _stats=__webpack_require__(906);Object.defineProperty(exports,"Stats",{enumerable:!0,get:function get(){return _interopRequireDefault(_stats).default}}),__webpack_require__(907);var _logToDom=__webpack_require__(908),_log2=_interopRequireDefault(_log);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.experimental={enableDOMLogging:_logToDom.enableDOMLogging};exports.default=new _log2.default({id:"probe.gl"})},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(process){var __WEBPACK_IMPORTED_MODULE_0__is_electron__=__webpack_require__(909);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var isBrowser=!("object"===(void 0===process?"undefined":_typeof(process))&&"[object process]"===String(process)&&!process.browser)||__WEBPACK_IMPORTED_MODULE_0__is_electron__.a;__webpack_exports__.a=isBrowser}).call(__webpack_exports__,__webpack_require__(61))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.c=isWebGL,__webpack_exports__.f=function setContextDefaults(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(contextDefaults,{width:1,height:1},opts)},__webpack_exports__.a=function createGLContext(){var gl,opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_opts=opts=Object.assign({},contextDefaults,opts),canvas=_opts.canvas,width=_opts.width,height=_opts.height,throwOnError=_opts.throwOnError,manageState=_opts.manageState,debug=_opts.debug;function onError(message){if(throwOnError)throw new Error(message);return null}if(__WEBPACK_IMPORTED_MODULE_8__utils__.c){var targetCanvas=Object(__WEBPACK_IMPORTED_MODULE_2__create_canvas__.b)({canvas:canvas,width:width,height:height,onError:onError});gl=Object(__WEBPACK_IMPORTED_MODULE_3__create_browser_context__.a)({canvas:targetCanvas,opts:opts})}else gl=Object(__WEBPACK_IMPORTED_MODULE_1__create_headless_context__.a)({width:width,height:height,opts:opts,onError:onError});if(!gl)return null;manageState&&Object(__WEBPACK_IMPORTED_MODULE_4__track_context_state__.a)(gl,{copyState:!1,log:function log(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return __WEBPACK_IMPORTED_MODULE_8__utils__.g.log.apply(__WEBPACK_IMPORTED_MODULE_8__utils__.g,[1].concat(args))()}});__WEBPACK_IMPORTED_MODULE_8__utils__.c&&debug&&(gl=Object(__WEBPACK_IMPORTED_MODULE_5__debug_context__.a)(gl,{debug:debug}),__WEBPACK_IMPORTED_MODULE_8__utils__.g.priority=Math.max(__WEBPACK_IMPORTED_MODULE_8__utils__.g.priority,1));return function logInfo(gl){var webGL=isWebGL2(gl)?"WebGL2":"WebGL1",info=Object(__WEBPACK_IMPORTED_MODULE_6__context_limits__.d)(gl),driver=info?"(".concat(info.vendor,",").concat(info.renderer,")"):"",debug=gl.debug?" debug":"";__WEBPACK_IMPORTED_MODULE_8__utils__.g.once(0,"".concat(webGL).concat(debug," context ").concat(driver))()}(gl),gl},__webpack_exports__.b=function destroyGLContext(gl){var ext=gl.getExtension("STACKGL_destroy_context");ext&&ext.destroy()},__webpack_exports__.e=function resizeGLContext(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(gl.canvas){var devicePixelRatio=opts.useDevicePixels&&window.devicePixelRatio||1,width="width"in opts?opts.width:gl.canvas.clientWidth,height="height"in opts?opts.height:gl.canvas.clientHeight;return gl.canvas.width=width*devicePixelRatio,void(gl.canvas.height=height*devicePixelRatio)}var ext=gl.getExtension("STACKGL_resize_drawingbuffer");ext&&"width"in opts&&"height"in opts&&ext.resize(opts.width,opts.height)},__webpack_exports__.d=function pollGLContext(gl){__WEBPACK_IMPORTED_MODULE_7__webgl_utils_query_manager__.a.poll(gl)};var __WEBPACK_IMPORTED_MODULE_0__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_1__create_headless_context__=__webpack_require__(565),__WEBPACK_IMPORTED_MODULE_2__create_canvas__=__webpack_require__(566),__WEBPACK_IMPORTED_MODULE_3__create_browser_context__=__webpack_require__(567),__WEBPACK_IMPORTED_MODULE_4__track_context_state__=__webpack_require__(462),__WEBPACK_IMPORTED_MODULE_5__debug_context__=__webpack_require__(463),__WEBPACK_IMPORTED_MODULE_6__context_limits__=__webpack_require__(259),__WEBPACK_IMPORTED_MODULE_7__webgl_utils_query_manager__=__webpack_require__(464),__WEBPACK_IMPORTED_MODULE_8__utils__=__webpack_require__(15);__webpack_require__(3);function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}var GL_ARRAY_BUFFER=34962,GL_TEXTURE_BINDING_3D=32874;function isWebGL(gl){return Boolean(gl&&(_instanceof(gl,__WEBPACK_IMPORTED_MODULE_0__webgl_utils__.c)||gl.ARRAY_BUFFER===GL_ARRAY_BUFFER))}function isWebGL2(gl){return Boolean(gl&&(_instanceof(gl,__WEBPACK_IMPORTED_MODULE_0__webgl_utils__.a)||gl.TEXTURE_BINDING_3D===GL_TEXTURE_BINDING_3D))}var contextDefaults={webgl2:!0,webgl1:!0,throwOnFailure:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=getContextLimits,__webpack_exports__.c=getGLContextInfo,__webpack_exports__.a=function getContextInfo(gl){var limits=getContextLimits(gl),info=getGLContextInfo(gl);return{vendor:info[GL_UNMASKED_VENDOR_WEBGL]||info[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.VENDOR],renderer:info[GL_UNMASKED_RENDERER_WEBGL]||info[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RENDERER],version:info[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.VERSION],shadingLanguageVersion:info[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SHADING_LANGUAGE_VERSION],info:info,limits:limits,webgl1MinLimits:gl.luma.webgl1MinLimits,webgl2MinLimits:gl.luma.webgl2MinLimits}},__webpack_exports__.d=function glGetDebugInfo(gl){return function getGLContextInfo2(gl){var vendorMasked=gl.getParameter(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.VENDOR),rendererMasked=gl.getParameter(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RENDERER),ext=gl.getExtension("WEBGL_debug_renderer_info"),vendorUnmasked=ext&&gl.getParameter(ext.UNMASKED_VENDOR_WEBGL||__WEBPACK_IMPORTED_MODULE_0__constants___default.a.VENDOR),rendererUnmasked=ext&&gl.getParameter(ext.UNMASKED_RENDERER_WEBGL||__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RENDERER);return{vendor:vendorUnmasked||vendorMasked,renderer:rendererUnmasked||rendererMasked,vendorMasked:vendorMasked,rendererMasked:rendererMasked,version:gl.getParameter(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.VERSION),shadingLanguageVersion:gl.getParameter(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SHADING_LANGUAGE_VERSION)}}(gl)};var _WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__webgl_utils__=__webpack_require__(11);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var WEBGL_LIMITS=(_defineProperty(_WEBGL_LIMITS={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ALIASED_LINE_WIDTH_RANGE,{gl1:new Float32Array([1,1])}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ALIASED_POINT_SIZE_RANGE,{gl1:new Float32Array([1,1])}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_TEXTURE_SIZE,{gl1:64,gl2:2048}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_CUBE_MAP_TEXTURE_SIZE,{gl1:16}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_TEXTURE_IMAGE_UNITS,{gl1:8}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_COMBINED_TEXTURE_IMAGE_UNITS,{gl1:8}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_VERTEX_TEXTURE_IMAGE_UNITS,{gl1:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_RENDERBUFFER_SIZE,{gl1:1}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_VARYING_VECTORS,{gl1:8}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_VERTEX_ATTRIBS,{gl1:8}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_VERTEX_UNIFORM_VECTORS,{gl1:128}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_FRAGMENT_UNIFORM_VECTORS,{gl1:16}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_VIEWPORT_DIMS,{gl1:new Int32Array([0,0])}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_3D_TEXTURE_SIZE,{gl1:0,gl2:256}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_ARRAY_TEXTURE_LAYERS,{gl1:0,gl2:256}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_CLIENT_WAIT_TIMEOUT_WEBGL,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_COLOR_ATTACHMENTS,{gl1:0,gl2:4}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_COMBINED_UNIFORM_BLOCKS,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_DRAW_BUFFERS,{gl1:0,gl2:4}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_ELEMENT_INDEX,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_ELEMENTS_INDICES,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_ELEMENTS_VERTICES,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_FRAGMENT_INPUT_COMPONENTS,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_FRAGMENT_UNIFORM_BLOCKS,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_FRAGMENT_UNIFORM_COMPONENTS,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_SAMPLES,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_SERVER_WAIT_TIMEOUT,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_TEXTURE_LOD_BIAS,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_UNIFORM_BLOCK_SIZE,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_UNIFORM_BUFFER_BINDINGS,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_VARYING_COMPONENTS,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_VERTEX_OUTPUT_COMPONENTS,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_VERTEX_UNIFORM_BLOCKS,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_VERTEX_UNIFORM_COMPONENTS,{gl1:0,gl2:0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MIN_PROGRAM_TEXEL_OFFSET,{gl1:0,gl2:-8,negative:!0}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_PROGRAM_TEXEL_OFFSET,{gl1:0,gl2:7}),_defineProperty(_WEBGL_LIMITS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNIFORM_BUFFER_OFFSET_ALIGNMENT,{gl1:0,gl2:0}),_WEBGL_LIMITS);function getContextLimits(gl){if(gl.luma=gl.luma||{},!gl.luma.limits){gl.luma.limits={},gl.luma.webgl1MinLimits={},gl.luma.webgl2MinLimits={};var isWebgl2=Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.l)(gl);for(var parameter in WEBGL_LIMITS){var limit=WEBGL_LIMITS[parameter],webgl1MinLimit=limit.gl1,webgl2MinLimit="gl2"in limit?limit.gl2:limit.gl1,minLimit=isWebgl2?webgl2MinLimit:webgl1MinLimit,value="gl2"in limit&&!isWebgl2||"extension"in limit&&!gl.getExtension(limit.extension)?minLimit:gl.getParameter(parameter);gl.luma.limits[parameter]=value,gl.luma.webgl1MinLimits[parameter]=webgl1MinLimit,gl.luma.webgl2MinLimits[parameter]=webgl2MinLimit}}return gl.luma.limits}function getGLContextInfo(gl){if(gl.luma=gl.luma||{},!gl.luma.info){var _gl$luma$info,info=gl.getExtension("WEBGL_debug_renderer_info");gl.luma.info=(_defineProperty(_gl$luma$info={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.VENDOR,gl.getParameter(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.VENDOR)),_defineProperty(_gl$luma$info,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RENDERER,gl.getParameter(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RENDERER)),_defineProperty(_gl$luma$info,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNMASKED_VENDOR_WEBGL,gl.getParameter(info&&info.UNMASKED_VENDOR_WEBGL||__WEBPACK_IMPORTED_MODULE_0__constants___default.a.VENDOR)),_defineProperty(_gl$luma$info,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNMASKED_RENDERER_WEBGL,gl.getParameter(info&&info.UNMASKED_RENDERER_WEBGL||__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RENDERER)),_defineProperty(_gl$luma$info,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.VERSION,gl.getParameter(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.VERSION)),_defineProperty(_gl$luma$info,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SHADING_LANGUAGE_VERSION,gl.getParameter(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SHADING_LANGUAGE_VERSION)),_gl$luma$info)}return gl.luma.info}var GL_UNMASKED_VENDOR_WEBGL=37445,GL_UNMASKED_RENDERER_WEBGL=37446},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return FEATURES}),__webpack_exports__.b=function canCompileGLGSExtension(gl,cap){var opts=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},feature=WEBGL_FEATURES[cap];if(Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(feature,cap),!Object(__WEBPACK_IMPORTED_MODULE_1__utils__.e)(opts))return!0;if(cap in compiledGlslExtensions)return compiledGlslExtensions[cap];var extensionName=feature[0],source="#extension GL_".concat(extensionName," : enable\nvoid main(void) {}"),shader=gl.createShader(gl.VERTEX_SHADER);gl.shaderSource(shader,source),gl.compileShader(shader);var canCompile=gl.getShaderParameter(shader,gl.COMPILE_STATUS);return gl.deleteShader(shader),compiledGlslExtensions[cap]=canCompile,canCompile},__webpack_exports__.d=function hasFeature(gl,feature){return hasFeatures(gl,feature)},__webpack_exports__.e=hasFeatures,__webpack_exports__.c=function getFeatures(gl){if(gl.luma=gl.luma||{},!gl.luma.caps)for(var cap in gl.luma.caps={},gl.luma.caps.webgl2=Object(__WEBPACK_IMPORTED_MODULE_0__webgl_utils__.l)(gl),WEBGL_FEATURES)gl.luma.caps[cap]=getFeature(gl,cap);return gl.luma.caps};var __WEBPACK_IMPORTED_MODULE_0__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_1__utils__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_2__utils_assert__=__webpack_require__(3),WEBGL_FEATURES={VERTEX_ARRAY_OBJECT:["OES_vertex_array_object",!0],TIMER_QUERY:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],INSTANCED_RENDERING:["ANGLE_instanced_arrays",!0],MULTIPLE_RENDER_TARGETS:["WEBGL_draw_buffers",!0],ELEMENT_INDEX_UINT32:["OES_element_index_uint",!0],BLEND_EQUATION_MINMAX:["EXT_blend_minmax",!0],COLOR_ENCODING_SRGB:["EXT_sRGB",!0],TEXTURE_DEPTH:["WEBGL_depth_texture",!0],TEXTURE_FLOAT:["OES_texture_float",!0],TEXTURE_HALF_FLOAT:["OES_texture_half_float",!0],TEXTURE_FILTER_LINEAR_FLOAT:["OES_texture_float_linear"],TEXTURE_FILTER_LINEAR_HALF_FLOAT:["OES_texture_half_float_linear"],TEXTURE_FILTER_ANISOTROPIC:["EXT_texture_filter_anisotropic"],COLOR_ATTACHMENT_RGBA32F:["WEBGL_color_buffer_float","EXT_color_buffer_float"],COLOR_ATTACHMENT_FLOAT:[!1,"EXT_color_buffer_float"],COLOR_ATTACHMENT_HALF_FLOAT:[!1,"EXT_color_buffer_half_float"],GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},FEATURES={};Object.keys(WEBGL_FEATURES).forEach(function(key){FEATURES[key]=key});var compiledGlslExtensions={};function getFeature(gl,cap){var feature=WEBGL_FEATURES[cap];Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(feature,cap);var extensionName=Object(__WEBPACK_IMPORTED_MODULE_0__webgl_utils__.l)(gl)&&feature[1]||feature[0],value="string"==typeof extensionName?Boolean(gl.getExtension(extensionName)):extensionName;return Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(!1===value||!0===value),value}function hasFeatures(gl,features){return(features=Array.isArray(features)?features:[features]).every(function(feature){return getFeature(gl,feature)})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return Shader}),__webpack_require__.d(__webpack_exports__,"c",function(){return VertexShader}),__webpack_require__.d(__webpack_exports__,"a",function(){return FragmentShader});var __WEBPACK_IMPORTED_MODULE_0__resource__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_1__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_2__utils__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_3__utils_assert__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ERR_SOURCE="Shader: GLSL source code must be a JavaScript string",GL_FRAGMENT_SHADER=35632,GL_VERTEX_SHADER=35633,Shader=function(_Resource){function Shader(gl,source,shaderType){var _this;return _classCallCheck(this,Shader),Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.e)(gl),Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)("string"==typeof source,ERR_SOURCE),(_this=_possibleConstructorReturn(this,(Shader.__proto__||Object.getPrototypeOf(Shader)).call(this,gl,{id:Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.j)(source)||Object(__WEBPACK_IMPORTED_MODULE_2__utils__.h)(Shader.getTypeName(shaderType))}))).shaderType=shaderType,_this.source=source,_this.opts.source=source,_this.initialize(_this.opts),_this}return _inherits(Shader,__WEBPACK_IMPORTED_MODULE_0__resource__["a"]),_createClass(Shader,null,[{key:"getTypeName",value:function getTypeName(shaderType){switch(shaderType){case GL_VERTEX_SHADER:return"vertex-shader";case GL_FRAGMENT_SHADER:return"fragment-shader";default:return Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(!1),"unknown"}}}]),_createClass(Shader,[{key:"initialize",value:function initialize(_ref){var source=_ref.source,shaderName=Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.j)(source);shaderName&&(this.id=Object(__WEBPACK_IMPORTED_MODULE_2__utils__.h)(shaderName)),this._compile(source),this.opts.source=source}},{key:"getParameter",value:function getParameter(pname){return this.gl.getShaderParameter(this.handle,pname)}},{key:"toString",value:function toString(){return"".concat(this.getTypeName(this.shaderType),":").concat(this.id)}},{key:"getName",value:function getName(){return Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.j)(this.opts.source)||"unnamed-shader"}},{key:"getSource",value:function getSource(){return this.gl.getShaderSource(this.handle)}},{key:"getTranslatedSource",value:function getTranslatedSource(){var extension=this.gl.getExtension("WEBGL_debug_shaders");return extension?extension.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}},{key:"_compile",value:function _compile(){if(this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(35713)){var infoLog=this.gl.getShaderInfoLog(this.handle),_parseGLSLCompilerErr=Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.m)(infoLog,this.source,this.shaderType),shaderName=_parseGLSLCompilerErr.shaderName,errors=_parseGLSLCompilerErr.errors,warnings=_parseGLSLCompilerErr.warnings;throw __WEBPACK_IMPORTED_MODULE_2__utils__.g.error("GLSL compilation errors in ".concat(shaderName,"\n").concat(errors))(),__WEBPACK_IMPORTED_MODULE_2__utils__.g.warn("GLSL compilation warnings in ".concat(shaderName,"\n").concat(warnings))(),new Error("GLSL compilation errors in ".concat(shaderName))}}},{key:"_deleteHandle",value:function _deleteHandle(){this.gl.deleteShader(this.handle)}},{key:"_getOptsFromHandle",value:function _getOptsFromHandle(){return{type:this.getParameter(35663),source:this.getSource()}}}]),Shader}(),VertexShader=function(_Shader){function VertexShader(gl,source){return _classCallCheck(this,VertexShader),_possibleConstructorReturn(this,(VertexShader.__proto__||Object.getPrototypeOf(VertexShader)).call(this,gl,source,GL_VERTEX_SHADER))}return _inherits(VertexShader,Shader),_createClass(VertexShader,[{key:"_createHandle",value:function _createHandle(){return this.gl.createShader(GL_VERTEX_SHADER)}}]),VertexShader}(),FragmentShader=function(_Shader2){function FragmentShader(gl,source){return _classCallCheck(this,FragmentShader),_possibleConstructorReturn(this,(FragmentShader.__proto__||Object.getPrototypeOf(FragmentShader)).call(this,gl,source,GL_FRAGMENT_SHADER))}return _inherits(FragmentShader,Shader),_createClass(FragmentShader,[{key:"_createHandle",value:function _createHandle(){return this.gl.createShader(GL_FRAGMENT_SHADER)}}]),FragmentShader}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function clear(gl){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$framebuffer=_ref.framebuffer,framebuffer=void 0===_ref$framebuffer?null:_ref$framebuffer,_ref$color=_ref.color,color=void 0===_ref$color?null:_ref$color,_ref$depth=_ref.depth,depth=void 0===_ref$depth?null:_ref$depth,_ref$stencil=_ref.stencil,stencil=void 0===_ref$stencil?null:_ref$stencil,parameters={};framebuffer&&(parameters.framebuffer=framebuffer);var clearFlags=0;color&&(clearFlags|=GL_COLOR_BUFFER_BIT,!0!==color&&(parameters.clearColor=color));depth&&(clearFlags|=GL_DEPTH_BUFFER_BIT,!0!==depth&&(parameters.clearDepth=depth));stencil&&(clearFlags|=GL_STENCIL_BUFFER_BIT,!0!==depth&&(parameters.clearStencil=depth));Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(0!==clearFlags,ERR_ARGUMENTS),Object(__WEBPACK_IMPORTED_MODULE_0__webgl_context_context_state__.g)(gl,parameters,function(){gl.clear(clearFlags)})},__webpack_exports__.b=function clearBuffer(gl){var _ref2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref2$framebuffer=_ref2.framebuffer,framebuffer=void 0===_ref2$framebuffer?null:_ref2$framebuffer,_ref2$buffer=_ref2.buffer,buffer=void 0===_ref2$buffer?GL_COLOR:_ref2$buffer,_ref2$drawBuffer=_ref2.drawBuffer,drawBuffer=void 0===_ref2$drawBuffer?0:_ref2$drawBuffer,_ref2$value=_ref2.value,value=void 0===_ref2$value?[0,0,0,0]:_ref2$value;Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.d)(gl),Object(__WEBPACK_IMPORTED_MODULE_0__webgl_context_context_state__.g)(gl,{framebuffer:framebuffer},function(){switch(buffer){case GL_COLOR:switch(value.constructor){case Int32Array:gl.clearBufferiv(buffer,drawBuffer,value);break;case Uint32Array:gl.clearBufferuiv(buffer,drawBuffer,value);break;case Float32Array:default:gl.clearBufferfv(buffer,drawBuffer,value)}break;case GL_DEPTH:gl.clearBufferfv(GL_DEPTH,0,[value]);break;case GL_STENCIL:gl.clearBufferiv(GL_STENCIL,0,[value]);break;case GL_DEPTH_STENCIL:var _value=function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(value,2),depth=_value[0],stencil=_value[1];gl.clearBufferfi(GL_DEPTH_STENCIL,0,depth,stencil);break;default:Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(!1,ERR_ARGUMENTS)}})};var __WEBPACK_IMPORTED_MODULE_0__webgl_context_context_state__=__webpack_require__(139),__WEBPACK_IMPORTED_MODULE_1__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_2__utils_assert__=__webpack_require__(3);var GL_DEPTH_BUFFER_BIT=256,GL_STENCIL_BUFFER_BIT=1024,GL_COLOR_BUFFER_BIT=16384,GL_COLOR=6144,GL_DEPTH=6145,GL_STENCIL=6146,GL_DEPTH_STENCIL=34041,ERR_ARGUMENTS="clear: bad arguments"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MathArray});var __WEBPACK_IMPORTED_MODULE_0__common__=__webpack_require__(56);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _extendableBuiltin(cls){function ExtendableBuiltin(){var instance=Reflect.construct(cls,Array.from(arguments));return Object.setPrototypeOf(instance,Object.getPrototypeOf(this)),instance}return ExtendableBuiltin.prototype=Object.create(cls.prototype,{constructor:{value:cls,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(ExtendableBuiltin,cls):ExtendableBuiltin.__proto__=cls,ExtendableBuiltin}var MathArray=function(_extendableBuiltin2){function MathArray(){return _classCallCheck(this,MathArray),_possibleConstructorReturn(this,(MathArray.__proto__||Object.getPrototypeOf(MathArray)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(MathArray,_extendableBuiltin(Array)),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(MathArray,[{key:"clone",value:function clone(){return(new this.constructor).copy(this).check()}},{key:"copy",value:function copy(array){for(var i=0;i<this.ELEMENTS;++i)this[i]=array[i];return this.check()}},{key:"set",value:function set(){for(var i=0;i<this.ELEMENTS;++i)this[i]=(i<0||arguments.length<=i?void 0:arguments[i])||0;return this.check()}},{key:"fromArray",value:function fromArray(array){for(var offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;i<this.ELEMENTS;++i)this[i]=array[i+offset];return this.check()}},{key:"toString",value:function toString(){return this.formatString(__WEBPACK_IMPORTED_MODULE_0__common__.c)}},{key:"formatString",value:function formatString(opts){for(var string="",i=0;i<this.ELEMENTS;++i)string+=(i>0?", ":"")+Object(__WEBPACK_IMPORTED_MODULE_0__common__.f)(this[i],opts);return"".concat(opts.printTypes?this.constructor.name:"","[").concat(string,"]")}},{key:"toArray",value:function toArray(){for(var array=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;i<this.ELEMENTS;++i)array[offset+i]=this[i];return array}},{key:"toFloat32Array",value:function toFloat32Array(){return new Float32Array(this)}},{key:"equals",value:function equals(array){if(!array||this.length!==array.length)return!1;for(var i=0;i<this.ELEMENTS;++i)if(!Object(__WEBPACK_IMPORTED_MODULE_0__common__.e)(this[i],array[i]))return!1;return!0}},{key:"exactEquals",value:function exactEquals(array){if(!array||this.length!==array.length)return!1;for(var i=0;i<this.ELEMENTS;++i)if(this[i]!==array[i])return!1;return!0}},{key:"negate",value:function negate(){for(var i=0;i<this.ELEMENTS;++i)this[i]=-this[i];return this.check()}},{key:"inverse",value:function inverse(){for(var i=0;i<this.ELEMENTS;++i)this[i]=1/this[i];return this.check()}},{key:"lerp",value:function lerp(a,b,t){void 0===t&&(t=b,b=a,a=this);for(var i=0;i<this.ELEMENTS;++i){var ai=a[i];this[i]=ai+t*(b[i]-ai)}return this.check()}},{key:"min",value:function min(vector){for(var i=0;i<this.ELEMENTS;++i)this[i]=Math.min(vector[i],this[i]);return this.check()}},{key:"max",value:function max(vector){for(var i=0;i<this.ELEMENTS;++i)this[i]=Math.max(vector[i],this[i]);return this.check()}},{key:"clamp",value:function clamp(minVector,maxVector){for(var i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],minVector[i]),maxVector[i]);return this.check()}},{key:"validate",value:function validate(){for(var array=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,valid=array&&array.length===this.ELEMENTS,i=0;i<this.ELEMENTS;++i)valid=valid&&Number.isFinite(array[i]);return valid}},{key:"check",value:function check(){var array=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;if(__WEBPACK_IMPORTED_MODULE_0__common__.c.debug&&!this.validate(array))throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"sub",value:function sub(a){return this.subtract(a)}},{key:"setScalar",value:function setScalar(a){for(var i=0;i<this.ELEMENTS;++i)this[i]=a;return this.check()}},{key:"addScalar",value:function addScalar(a){for(var i=0;i<this.ELEMENTS;++i)this[i]+=a;return this.check()}},{key:"subScalar",value:function subScalar(a){return this.addScalar(-a)}},{key:"multiplyScalar",value:function multiplyScalar(a){return this.scale(a)}},{key:"divideScalar",value:function divideScalar(a){return this.scale(1/a)}},{key:"clampScalar",value:function clampScalar(min,max){for(var i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],min),max);return this.check()}}]),MathArray}()},function(module,exports){module.exports=function rotateX(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11];a!==out&&(out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]);return out[4]=a10*c+a20*s,out[5]=a11*c+a21*s,out[6]=a12*c+a22*s,out[7]=a13*c+a23*s,out[8]=a20*c-a10*s,out[9]=a21*c-a11*s,out[10]=a22*c-a12*s,out[11]=a23*c-a13*s,out}},function(module,exports){module.exports=function rotateZ(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7];a!==out&&(out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]);return out[0]=a00*c+a10*s,out[1]=a01*c+a11*s,out[2]=a02*c+a12*s,out[3]=a03*c+a13*s,out[4]=a10*c-a00*s,out[5]=a11*c-a01*s,out[6]=a12*c-a02*s,out[7]=a13*c-a03*s,out}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return TruncatedConeGeometry});var __WEBPACK_IMPORTED_MODULE_0__geometry__=__webpack_require__(100);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var INDEX_OFFSETS={x:[2,0,1],y:[0,1,2],z:[1,2,0]},TruncatedConeGeometry=function(_Geometry){function TruncatedConeGeometry(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,TruncatedConeGeometry);for(var _opts$bottomRadius=opts.bottomRadius,bottomRadius=void 0===_opts$bottomRadius?0:_opts$bottomRadius,_opts$topRadius=opts.topRadius,topRadius=void 0===_opts$topRadius?0:_opts$topRadius,_opts$height=opts.height,height=void 0===_opts$height?1:_opts$height,_opts$nradial=opts.nradial,nradial=void 0===_opts$nradial?10:_opts$nradial,_opts$nvertical=opts.nvertical,nvertical=void 0===_opts$nvertical?10:_opts$nvertical,_opts$verticalAxis=opts.verticalAxis,verticalAxis=void 0===_opts$verticalAxis?"y":_opts$verticalAxis,_opts$topCap=opts.topCap,topCap=void 0!==_opts$topCap&&_opts$topCap,_opts$bottomCap=opts.bottomCap,bottomCap=void 0!==_opts$bottomCap&&_opts$bottomCap,extra=(topCap?2:0)+(bottomCap?2:0),numVertices=(nradial+1)*(nvertical+1+extra),slant=Math.atan2(bottomRadius-topRadius,height),msin=Math.sin,mcos=Math.cos,mpi=Math.PI,cosSlant=mcos(slant),sinSlant=msin(slant),start=topCap?-2:0,end=nvertical+(bottomCap?2:0),vertsAroundEdge=nradial+1,positions=new Float32Array(3*numVertices),normals=new Float32Array(3*numVertices),texCoords=new Float32Array(2*numVertices),indices=new Uint16Array(nradial*(nvertical+extra)*6),indexOffset=INDEX_OFFSETS[verticalAxis],i3=0,i2=0,i=start;i<=end;i++){var v=i/nvertical,y=height*v,ringRadius=void 0;i<0?(y=0,v=1,ringRadius=bottomRadius):i>nvertical?(y=height,v=1,ringRadius=topRadius):ringRadius=bottomRadius+i/nvertical*(topRadius-bottomRadius),-2!==i&&i!==nvertical+2||(ringRadius=0,v=0),y-=height/2;for(var j=0;j<vertsAroundEdge;j++){var sin=msin(j*mpi*2/nradial),cos=mcos(j*mpi*2/nradial);positions[i3+indexOffset[0]]=sin*ringRadius,positions[i3+indexOffset[1]]=y,positions[i3+indexOffset[2]]=cos*ringRadius,normals[i3+indexOffset[0]]=i<0||i>nvertical?0:sin*cosSlant,normals[i3+indexOffset[1]]=i<0?-1:i>nvertical?1:sinSlant,normals[i3+indexOffset[2]]=i<0||i>nvertical?0:cos*cosSlant,texCoords[i2+0]=j/nradial,texCoords[i2+1]=v,i2+=2,i3+=3}}for(var _i=0;_i<nvertical+extra;_i++)for(var _j=0;_j<nradial;_j++){var index=6*(_i*nradial+_j);indices[index+0]=vertsAroundEdge*(_i+0)+0+_j,indices[index+1]=vertsAroundEdge*(_i+0)+1+_j,indices[index+2]=vertsAroundEdge*(_i+1)+1+_j,indices[index+3]=vertsAroundEdge*(_i+0)+0+_j,indices[index+4]=vertsAroundEdge*(_i+1)+1+_j,indices[index+5]=vertsAroundEdge*(_i+1)+0+_j}return _possibleConstructorReturn(this,(TruncatedConeGeometry.__proto__||Object.getPrototypeOf(TruncatedConeGeometry)).call(this,Object.assign({},opts,{attributes:{positions:positions,normals:normals,texCoords:texCoords,indices:indices}})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(TruncatedConeGeometry,__WEBPACK_IMPORTED_MODULE_0__geometry__["a"]),TruncatedConeGeometry}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function createMat4(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},__webpack_exports__.d=function transformVector(matrix,vector){var result=__WEBPACK_IMPORTED_MODULE_1_gl_vec4_transformMat4___default()([],vector,matrix);return __WEBPACK_IMPORTED_MODULE_0_gl_vec4_scale___default()(result,result,1/result[3]),result},__webpack_exports__.c=function mod(value,divisor){var modulus=value%divisor;return 0>modulus?divisor+modulus:modulus},__webpack_exports__.b=function lerp(start,end,step){return step*end+(1-step)*start};var __WEBPACK_IMPORTED_MODULE_0_gl_vec4_scale__=__webpack_require__(588),__WEBPACK_IMPORTED_MODULE_0_gl_vec4_scale___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_gl_vec4_scale__),__WEBPACK_IMPORTED_MODULE_1_gl_vec4_transformMat4__=__webpack_require__(222),__WEBPACK_IMPORTED_MODULE_1_gl_vec4_transformMat4___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_gl_vec4_transformMat4__)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",function(){return RECOGNIZERS}),__webpack_require__.d(__webpack_exports__,"f",function(){return RECOGNIZER_COMPATIBLE_MAP}),__webpack_require__.d(__webpack_exports__,"g",function(){return RECOGNIZER_FALLBACK_MAP}),__webpack_require__.d(__webpack_exports__,"a",function(){return BASIC_EVENT_ALIASES}),__webpack_require__.d(__webpack_exports__,"d",function(){return INPUT_EVENT_TYPES}),__webpack_require__.d(__webpack_exports__,"b",function(){return EVENT_RECOGNIZER_MAP}),__webpack_require__.d(__webpack_exports__,"c",function(){return GESTURE_EVENT_ALIASES});var __WEBPACK_IMPORTED_MODULE_0__utils_hammer__=__webpack_require__(617),RECOGNIZERS=__WEBPACK_IMPORTED_MODULE_0__utils_hammer__.b?[[__WEBPACK_IMPORTED_MODULE_0__utils_hammer__.b.Rotate,{enable:!1}],[__WEBPACK_IMPORTED_MODULE_0__utils_hammer__.b.Pinch,{enable:!1}],[__WEBPACK_IMPORTED_MODULE_0__utils_hammer__.b.Swipe,{enable:!1}],[__WEBPACK_IMPORTED_MODULE_0__utils_hammer__.b.Pan,{threshold:0,enable:!1}],[__WEBPACK_IMPORTED_MODULE_0__utils_hammer__.b.Press,{enable:!1}],[__WEBPACK_IMPORTED_MODULE_0__utils_hammer__.b.Tap,{event:"doubletap",taps:2,enable:!1}],[__WEBPACK_IMPORTED_MODULE_0__utils_hammer__.b.Tap,{enable:!1}]]:null,RECOGNIZER_COMPATIBLE_MAP={rotate:["pinch"]},RECOGNIZER_FALLBACK_MAP={doubletap:["tap"]},BASIC_EVENT_ALIASES={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},INPUT_EVENT_TYPES={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel","DOMMouseScroll"]},EVENT_RECOGNIZER_MAP={tap:"tap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},GESTURE_EVENT_ALIASES={click:"tap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseleave:"pointerleave"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Controller});var __WEBPACK_IMPORTED_MODULE_0__transitions_linear_interpolator__=__webpack_require__(484),__WEBPACK_IMPORTED_MODULE_1__transition_manager__=__webpack_require__(621),__WEBPACK_IMPORTED_MODULE_2__utils_assert__=__webpack_require__(18);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var NO_TRANSITION_PROPS={transitionDuration:0},LINEAR_TRANSITION_PROPS={transitionDuration:300,transitionEasing:function transitionEasing(t){return t},transitionInterpolator:new __WEBPACK_IMPORTED_MODULE_0__transitions_linear_interpolator__.a,transitionInterruption:__WEBPACK_IMPORTED_MODULE_1__transition_manager__.a.BREAK},EVENT_TYPES_WHEEL=["wheel"],EVENT_TYPES_PAN=["panstart","panmove","panend"],EVENT_TYPES_PINCH=["pinchstart","pinchmove","pinchend"],EVENT_TYPES_DOUBLE_TAP=["doubletap"],EVENT_TYPES_KEYBOARD=["keydown"],Controller=function(){function Controller(ControllerState){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Controller),Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(ControllerState),this.ControllerState=ControllerState,this.controllerState=null,this.controllerStateProps=null,this.eventManager=null,this.transitionManager=new __WEBPACK_IMPORTED_MODULE_1__transition_manager__.b(ControllerState,options),this._events=null,this._state={isDragging:!1},this.events=[],this.onViewportChange=null,this.onViewStateChange=null,this.onStateChange=null,this.invertPan=!1,this.handleEvent=this.handleEvent.bind(this),this.setProps(options)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Controller,[{key:"finalize",value:function finalize(){}},{key:"handleEvent",value:function handleEvent(event){var ControllerState=this.ControllerState;switch(this.controllerState=new ControllerState(Object.assign({},this.controllerStateProps,this._state)),event.type){case"panstart":return this._onPanStart(event);case"panmove":return this._onPan(event);case"panend":return this._onPanEnd(event);case"pinchstart":return this._onPinchStart(event);case"pinchmove":return this._onPinch(event);case"pinchend":return this._onPinchEnd(event);case"doubletap":return this._onDoubleTap(event);case"wheel":return this._onWheel(event);case"keydown":return this._onKeyDown(event);default:return!1}}},{key:"getCenter",value:function getCenter(event){var _event$offsetCenter=event.offsetCenter;return[_event$offsetCenter.x,_event$offsetCenter.y]}},{key:"isFunctionKeyPressed",value:function isFunctionKeyPressed(event){var srcEvent=event.srcEvent;return Boolean(srcEvent.metaKey||srcEvent.altKey||srcEvent.ctrlKey||srcEvent.shiftKey)}},{key:"isDragging",value:function isDragging(){return this._state.isDragging}},{key:"setProps",value:function setProps(props){"onViewportChange"in props&&(this.onViewportChange=props.onViewportChange),"onViewStateChange"in props&&(this.onViewStateChange=props.onViewStateChange),"onStateChange"in props&&(this.onStateChange=props.onStateChange),this.controllerStateProps="viewState"in props?Object.assign({},props,props.viewState):props,"eventManager"in props&&this.eventManager!==props.eventManager&&(this.eventManager=props.eventManager,this._events={},this.toggleEvents(this.events,!0)),this.transitionManager.processViewStateChange(this.controllerStateProps);var _props$scrollZoom=props.scrollZoom,scrollZoom=void 0===_props$scrollZoom||_props$scrollZoom,_props$dragPan=props.dragPan,dragPan=void 0===_props$dragPan||_props$dragPan,_props$dragRotate=props.dragRotate,dragRotate=void 0===_props$dragRotate||_props$dragRotate,_props$doubleClickZoo=props.doubleClickZoom,doubleClickZoom=void 0===_props$doubleClickZoo||_props$doubleClickZoo,_props$touchZoom=props.touchZoom,touchZoom=void 0===_props$touchZoom||_props$touchZoom,_props$touchRotate=props.touchRotate,touchRotate=void 0!==_props$touchRotate&&_props$touchRotate,_props$keyboard=props.keyboard,keyboard=void 0===_props$keyboard||_props$keyboard,isInteractive=Boolean(this.onViewportChange||this.onViewStateChange);this.toggleEvents(EVENT_TYPES_WHEEL,isInteractive&&scrollZoom),this.toggleEvents(EVENT_TYPES_PAN,isInteractive&&(dragPan||dragRotate)),this.toggleEvents(EVENT_TYPES_PINCH,isInteractive&&(touchZoom||touchRotate)),this.toggleEvents(EVENT_TYPES_DOUBLE_TAP,isInteractive&&doubleClickZoom),this.toggleEvents(EVENT_TYPES_KEYBOARD,isInteractive&&keyboard),this.scrollZoom=scrollZoom,this.dragPan=dragPan,this.dragRotate=dragRotate,this.doubleClickZoom=doubleClickZoom,this.touchZoom=touchZoom,this.touchRotate=touchRotate,this.keyboard=keyboard}},{key:"toggleEvents",value:function toggleEvents(eventNames,enabled){var _this=this;this.eventManager&&eventNames.forEach(function(eventName){_this._events[eventName]!==enabled&&(_this._events[eventName]=enabled,enabled?_this.eventManager.on(eventName,_this.handleEvent):_this.eventManager.off(eventName,_this.handleEvent))})}},{key:"setOptions",value:function setOptions(props){return this.setProps(props)}},{key:"updateViewport",value:function updateViewport(newControllerState){var extraProps=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},interactionState=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},viewState=Object.assign({},newControllerState.getViewportProps(),extraProps),oldViewState=this.controllerState?this.controllerState.getViewportProps():null;this.onViewportChange&&this.onViewportChange(viewState,interactionState,oldViewState),this.onViewStateChange&&this.onViewStateChange({viewState:viewState,interactionState:interactionState,oldViewState:oldViewState}),Object.assign(this._state,Object.assign({},newControllerState.getInteractiveState(),interactionState)),this.onStateChange&&this.onStateChange(this._state)}},{key:"_onPanStart",value:function _onPanStart(event){var pos=this.getCenter(event),newControllerState=this.controllerState.panStart({pos:pos}).rotateStart({pos:pos});return this.updateViewport(newControllerState,NO_TRANSITION_PROPS,{isDragging:!0})}},{key:"_onPan",value:function _onPan(event){var alternateMode=this.isFunctionKeyPressed(event)||event.rightButton;return(alternateMode=this.invertPan?!alternateMode:alternateMode)?this._onPanMove(event):this._onPanRotate(event)}},{key:"_onPanEnd",value:function _onPanEnd(event){var newControllerState=this.controllerState.panEnd().rotateEnd();return this.updateViewport(newControllerState,null,{isDragging:!1})}},{key:"_onPanMove",value:function _onPanMove(event){if(!this.dragPan)return!1;var pos=this.getCenter(event),newControllerState=this.controllerState.pan({pos:pos});return this.updateViewport(newControllerState,NO_TRANSITION_PROPS,{isDragging:!0})}},{key:"_onPanRotate",value:function _onPanRotate(event){return!!this.dragRotate&&(this.invertPan?this._onPanRotateMap(event):this._onPanRotateStandard(event))}},{key:"_onPanRotateStandard",value:function _onPanRotateStandard(event){var deltaX=event.deltaX,deltaY=event.deltaY,_this$controllerState=this.controllerState.getViewportProps(),deltaScaleX=deltaX/_this$controllerState.width,deltaScaleY=deltaY/_this$controllerState.height,newControllerState=this.controllerState.rotate({deltaScaleX:deltaScaleX,deltaScaleY:deltaScaleY});return this.updateViewport(newControllerState,NO_TRANSITION_PROPS,{isDragging:!0})}},{key:"_onPanRotateMap",value:function _onPanRotateMap(event){var deltaX=event.deltaX,deltaY=event.deltaY,centerY=_slicedToArray(this.getCenter(event),2)[1],startY=centerY-deltaY,_this$controllerState2=this.controllerState.getViewportProps(),width=_this$controllerState2.width,height=_this$controllerState2.height,deltaScaleX=deltaX/width,deltaScaleY=0;deltaY>0?Math.abs(height-startY)>5&&(deltaScaleY=deltaY/(startY-height)*1.2):deltaY<0&&startY>5&&(deltaScaleY=1-centerY/startY),deltaScaleY=Math.min(1,Math.max(-1,deltaScaleY));var newControllerState=this.controllerState.rotate({deltaScaleX:deltaScaleX,deltaScaleY:deltaScaleY});return this.updateViewport(newControllerState,NO_TRANSITION_PROPS,{isDragging:!0})}},{key:"_onWheel",value:function _onWheel(event){if(!this.scrollZoom)return!1;var pos=this.getCenter(event),delta=event.delta,scale=2/(1+Math.exp(-Math.abs(.01*delta)));delta<0&&0!==scale&&(scale=1/scale);var newControllerState=this.controllerState.zoom({pos:pos,scale:scale});return this.updateViewport(newControllerState,NO_TRANSITION_PROPS)}},{key:"_onPinchStart",value:function _onPinchStart(event){var pos=this.getCenter(event),newControllerState=this.controllerState.zoomStart({pos:pos}).rotateStart({pos:pos});return this._state.startPinchRotation=event.rotation,this.updateViewport(newControllerState,NO_TRANSITION_PROPS,{isDragging:!0})}},{key:"_onPinch",value:function _onPinch(event){if(!this.touchZoom&&!this.touchRotate)return!1;var newControllerState=this.controllerState;if(this.touchZoom){var scale=event.scale,pos=this.getCenter(event);newControllerState=newControllerState.zoom({pos:pos,scale:scale})}if(this.touchRotate){var rotation=event.rotation,startPinchRotation=this._state.startPinchRotation;newControllerState=newControllerState.rotate({deltaScaleX:-(rotation-startPinchRotation)/180})}return this.updateViewport(newControllerState,NO_TRANSITION_PROPS,{isDragging:!0})}},{key:"_onPinchEnd",value:function _onPinchEnd(event){var newControllerState=this.controllerState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(newControllerState,null,{isDragging:!1})}},{key:"_onDoubleTap",value:function _onDoubleTap(event){if(!this.doubleClickZoom)return!1;var pos=this.getCenter(event),isZoomOut=this.isFunctionKeyPressed(event),newControllerState=this.controllerState.zoom({pos:pos,scale:isZoomOut?.5:2});return this.updateViewport(newControllerState,LINEAR_TRANSITION_PROPS)}},{key:"_onKeyDown",value:function _onKeyDown(event){if(!this.keyboard)return!1;var newControllerState,funcKey=this.isFunctionKeyPressed(event),controllerState=this.controllerState;switch(event.srcEvent.keyCode){case 189:newControllerState=funcKey?controllerState.zoomOut().zoomOut():controllerState.zoomOut();break;case 187:newControllerState=funcKey?controllerState.zoomIn().zoomIn():controllerState.zoomIn();break;case 37:newControllerState=funcKey?controllerState.rotateLeft():controllerState.moveLeft();break;case 39:newControllerState=funcKey?controllerState.rotateRight():controllerState.moveRight();break;case 38:newControllerState=funcKey?controllerState.rotateUp():controllerState.moveUp();break;case 40:newControllerState=funcKey?controllerState.rotateDown():controllerState.moveDown();break;default:return!1}return this.updateViewport(newControllerState,LINEAR_TRANSITION_PROPS)}}]),Controller}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MAPBOX_LIMITS});var __WEBPACK_IMPORTED_MODULE_0_viewport_mercator_project__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_1_assert__=__webpack_require__(228),__WEBPACK_IMPORTED_MODULE_1_assert___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_assert__),_slicedToArray=function(){return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var MAPBOX_LIMITS={minZoom:0,maxZoom:20,minPitch:0,maxPitch:60},DEFAULT_STATE={pitch:0,bearing:0,altitude:1.5};function clamp(value,min,max){return value<min?min:value>max?max:value}var MapState=function(){function MapState(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},width=_ref.width,height=_ref.height,latitude=_ref.latitude,longitude=_ref.longitude,zoom=_ref.zoom,_ref$bearing=_ref.bearing,bearing=void 0===_ref$bearing?DEFAULT_STATE.bearing:_ref$bearing,_ref$pitch=_ref.pitch,pitch=void 0===_ref$pitch?DEFAULT_STATE.pitch:_ref$pitch,_ref$altitude=_ref.altitude,altitude=void 0===_ref$altitude?DEFAULT_STATE.altitude:_ref$altitude,_ref$maxZoom=_ref.maxZoom,maxZoom=void 0===_ref$maxZoom?MAPBOX_LIMITS.maxZoom:_ref$maxZoom,_ref$minZoom=_ref.minZoom,minZoom=void 0===_ref$minZoom?MAPBOX_LIMITS.minZoom:_ref$minZoom,_ref$maxPitch=_ref.maxPitch,maxPitch=void 0===_ref$maxPitch?MAPBOX_LIMITS.maxPitch:_ref$maxPitch,_ref$minPitch=_ref.minPitch,minPitch=void 0===_ref$minPitch?MAPBOX_LIMITS.minPitch:_ref$minPitch,startPanLngLat=_ref.startPanLngLat,startZoomLngLat=_ref.startZoomLngLat,startBearing=_ref.startBearing,startPitch=_ref.startPitch,startZoom=_ref.startZoom;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MapState),__WEBPACK_IMPORTED_MODULE_1_assert___default()(Number.isFinite(width),"`width` must be supplied"),__WEBPACK_IMPORTED_MODULE_1_assert___default()(Number.isFinite(height),"`height` must be supplied"),__WEBPACK_IMPORTED_MODULE_1_assert___default()(Number.isFinite(longitude),"`longitude` must be supplied"),__WEBPACK_IMPORTED_MODULE_1_assert___default()(Number.isFinite(latitude),"`latitude` must be supplied"),__WEBPACK_IMPORTED_MODULE_1_assert___default()(Number.isFinite(zoom),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:width,height:height,latitude:latitude,longitude:longitude,zoom:zoom,bearing:bearing,pitch:pitch,altitude:altitude,maxZoom:maxZoom,minZoom:minZoom,maxPitch:maxPitch,minPitch:minPitch}),this._interactiveState={startPanLngLat:startPanLngLat,startZoomLngLat:startZoomLngLat,startBearing:startBearing,startPitch:startPitch,startZoom:startZoom}}return _createClass(MapState,[{key:"getViewportProps",value:function getViewportProps(){return this._viewportProps}},{key:"getInteractiveState",value:function getInteractiveState(){return this._interactiveState}},{key:"panStart",value:function panStart(_ref2){var pos=_ref2.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(pos)})}},{key:"pan",value:function pan(_ref3){var pos=_ref3.pos,startPos=_ref3.startPos,startPanLngLat=this._interactiveState.startPanLngLat||this._unproject(startPos);if(!startPanLngLat)return this;var _calculateNewLngLat2=this._calculateNewLngLat({startPanLngLat:startPanLngLat,pos:pos}),_calculateNewLngLat3=_slicedToArray(_calculateNewLngLat2,2),longitude=_calculateNewLngLat3[0],latitude=_calculateNewLngLat3[1];return this._getUpdatedMapState({longitude:longitude,latitude:latitude})}},{key:"panEnd",value:function panEnd(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function rotateStart(_ref4){_ref4.pos;return this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function rotate(_ref5){var _ref5$deltaScaleX=_ref5.deltaScaleX,deltaScaleX=void 0===_ref5$deltaScaleX?0:_ref5$deltaScaleX,_ref5$deltaScaleY=_ref5.deltaScaleY,deltaScaleY=void 0===_ref5$deltaScaleY?0:_ref5$deltaScaleY,_interactiveState=this._interactiveState,startBearing=_interactiveState.startBearing,startPitch=_interactiveState.startPitch;if(!Number.isFinite(startBearing)||!Number.isFinite(startPitch))return this;var _calculateNewPitchAnd=this._calculateNewPitchAndBearing({deltaScaleX:deltaScaleX,deltaScaleY:deltaScaleY,startBearing:startBearing,startPitch:startPitch}),pitch=_calculateNewPitchAnd.pitch,bearing=_calculateNewPitchAnd.bearing;return this._getUpdatedMapState({bearing:bearing,pitch:pitch})}},{key:"rotateEnd",value:function rotateEnd(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function zoomStart(_ref6){var pos=_ref6.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(pos),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function zoom(_ref7){var pos=_ref7.pos,startPos=_ref7.startPos,scale=_ref7.scale;__WEBPACK_IMPORTED_MODULE_1_assert___default()(scale>0,"`scale` must be a positive number");var _interactiveState2=this._interactiveState,startZoom=_interactiveState2.startZoom,startZoomLngLat=_interactiveState2.startZoomLngLat;Number.isFinite(startZoom)||(startZoom=this._viewportProps.zoom,startZoomLngLat=this._unproject(startPos)||this._unproject(pos)),__WEBPACK_IMPORTED_MODULE_1_assert___default()(startZoomLngLat,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var zoom=this._calculateNewZoom({scale:scale,startZoom:startZoom}),_zoomedViewport$getLo=new __WEBPACK_IMPORTED_MODULE_0_viewport_mercator_project__.a(Object.assign({},this._viewportProps,{zoom:zoom})).getLocationAtPoint({lngLat:startZoomLngLat,pos:pos}),_zoomedViewport$getLo2=_slicedToArray(_zoomedViewport$getLo,2),longitude=_zoomedViewport$getLo2[0],latitude=_zoomedViewport$getLo2[1];return this._getUpdatedMapState({zoom:zoom,longitude:longitude,latitude:latitude})}},{key:"zoomEnd",value:function zoomEnd(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function _getUpdatedMapState(newProps){return new MapState(Object.assign({},this._viewportProps,this._interactiveState,newProps))}},{key:"_applyConstraints",value:function _applyConstraints(props){var maxZoom=props.maxZoom,minZoom=props.minZoom,zoom=props.zoom;props.zoom=clamp(zoom,minZoom,maxZoom);var maxPitch=props.maxPitch,minPitch=props.minPitch,pitch=props.pitch;return props.pitch=clamp(pitch,minPitch,maxPitch),Object.assign(props,Object(__WEBPACK_IMPORTED_MODULE_0_viewport_mercator_project__.j)(props)),props}},{key:"_unproject",value:function _unproject(pos){var viewport=new __WEBPACK_IMPORTED_MODULE_0_viewport_mercator_project__.a(this._viewportProps);return pos&&viewport.unproject(pos)}},{key:"_calculateNewLngLat",value:function _calculateNewLngLat(_ref8){var startPanLngLat=_ref8.startPanLngLat,pos=_ref8.pos;return new __WEBPACK_IMPORTED_MODULE_0_viewport_mercator_project__.a(this._viewportProps).getMapCenterByLngLatPosition({lngLat:startPanLngLat,pos:pos})}},{key:"_calculateNewZoom",value:function _calculateNewZoom(_ref9){var scale=_ref9.scale,startZoom=_ref9.startZoom,_viewportProps=this._viewportProps,maxZoom=_viewportProps.maxZoom,minZoom=_viewportProps.minZoom;return clamp(startZoom+Math.log2(scale),minZoom,maxZoom)}},{key:"_calculateNewPitchAndBearing",value:function _calculateNewPitchAndBearing(_ref10){var deltaScaleX=_ref10.deltaScaleX,deltaScaleY=_ref10.deltaScaleY,startBearing=_ref10.startBearing,startPitch=_ref10.startPitch;deltaScaleY=clamp(deltaScaleY,-1,1);var _viewportProps2=this._viewportProps,minPitch=_viewportProps2.minPitch,maxPitch=_viewportProps2.maxPitch,pitch=startPitch;return deltaScaleY>0?pitch=startPitch+deltaScaleY*(maxPitch-startPitch):deltaScaleY<0&&(pitch=startPitch-deltaScaleY*(minPitch-startPitch)),{pitch:pitch,bearing:startBearing+180*deltaScaleX}}}]),MapState}();__webpack_exports__.b=MapState},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return TRANSITION_EVENTS});var __WEBPACK_IMPORTED_MODULE_0_assert__=__webpack_require__(228),__WEBPACK_IMPORTED_MODULE_0_assert___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_assert__),__WEBPACK_IMPORTED_MODULE_1__transition__=__webpack_require__(486),__WEBPACK_IMPORTED_MODULE_2__map_state__=__webpack_require__(270),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var noop=function noop(){},TRANSITION_EVENTS={BREAK:1,SNAP_TO_END:2,IGNORE:3},DEFAULT_PROPS={transitionDuration:0,transitionEasing:function transitionEasing(t){return t},transitionInterpolator:new __WEBPACK_IMPORTED_MODULE_1__transition__.a,transitionInterruption:TRANSITION_EVENTS.BREAK,onTransitionStart:noop,onTransitionInterrupt:noop,onTransitionEnd:noop},DEFAULT_STATE={animation:null,propsInTransition:null,startProps:null,endProps:null},TransitionManager=function(){function TransitionManager(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TransitionManager),this.props=props,this.state=DEFAULT_STATE,this._onTransitionFrame=this._onTransitionFrame.bind(this)}return _createClass(TransitionManager,[{key:"getViewportInTransition",value:function getViewportInTransition(){return this.state.propsInTransition}},{key:"processViewportChange",value:function processViewportChange(nextProps){var transitionTriggered=!1,currentProps=this.props;if(this.props=nextProps,this._shouldIgnoreViewportChange(currentProps,nextProps))return transitionTriggered;var isTransitionInProgress=this._isTransitionInProgress();if(this._isTransitionEnabled(nextProps)){var startProps=Object.assign({},currentProps,this.state.interruption===TRANSITION_EVENTS.SNAP_TO_END?this.state.endProps:this.state.propsInTransition);isTransitionInProgress&&currentProps.onTransitionInterrupt(),nextProps.onTransitionStart(),this._triggerTransition(startProps,nextProps),transitionTriggered=!0}else isTransitionInProgress&&(currentProps.onTransitionInterrupt(),this._endTransition());return transitionTriggered}},{key:"_isTransitionInProgress",value:function _isTransitionInProgress(){return Boolean(this.state.propsInTransition)}},{key:"_isTransitionEnabled",value:function _isTransitionEnabled(props){return props.transitionDuration>0&&Boolean(props.transitionInterpolator)}},{key:"_isUpdateDueToCurrentTransition",value:function _isUpdateDueToCurrentTransition(props){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(props,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function _shouldIgnoreViewportChange(currentProps,nextProps){return this._isTransitionInProgress()?this.state.interruption===TRANSITION_EVENTS.IGNORE||this._isUpdateDueToCurrentTransition(nextProps):!this._isTransitionEnabled(nextProps)||nextProps.transitionInterpolator.arePropsEqual(currentProps,nextProps)}},{key:"_triggerTransition",value:function _triggerTransition(startProps,endProps){__WEBPACK_IMPORTED_MODULE_0_assert___default()(this._isTransitionEnabled(endProps),"Transition is not enabled"),cancelAnimationFrame(this.state.animation);var initialProps=endProps.transitionInterpolator.initializeProps(startProps,endProps);this.state={duration:endProps.transitionDuration,easing:endProps.transitionEasing,interpolator:endProps.transitionInterpolator,interruption:endProps.transitionInterruption,startTime:Date.now(),startProps:initialProps.start,endProps:initialProps.end,animation:null,propsInTransition:{}},this._onTransitionFrame()}},{key:"_onTransitionFrame",value:function _onTransitionFrame(){this.state.animation=requestAnimationFrame(this._onTransitionFrame),this._updateViewport()}},{key:"_endTransition",value:function _endTransition(){cancelAnimationFrame(this.state.animation),this.state=DEFAULT_STATE}},{key:"_updateViewport",value:function _updateViewport(){var currentTime=Date.now(),_state=this.state,startTime=_state.startTime,duration=_state.duration,easing=_state.easing,interpolator=_state.interpolator,startProps=_state.startProps,endProps=_state.endProps,shouldEnd=!1,t=(currentTime-startTime)/duration;t>=1&&(t=1,shouldEnd=!0),t=easing(t);var viewport=interpolator.interpolateProps(startProps,endProps,t),mapState=new __WEBPACK_IMPORTED_MODULE_2__map_state__.b(Object.assign({},this.props,viewport));this.state.propsInTransition=mapState.getViewportProps(),this.props.onViewportChange&&this.props.onViewportChange(this.state.propsInTransition),shouldEnd&&(this._endTransition(),this.props.onTransitionEnd())}}]),TransitionManager}();__webpack_exports__.b=TransitionManager,TransitionManager.defaultProps=DEFAULT_PROPS},function(module,exports,__webpack_require__){var definition;definition=function(){var t=!0;function detect(ua){function getFirstMatch(regex){var match=ua.match(regex);return match&&match.length>1&&match[1]||""}function getSecondMatch(regex){var match=ua.match(regex);return match&&match.length>1&&match[2]||""}var result,iosdevice=getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase(),android=!/like android/i.test(ua)&&/android/i.test(ua),nexusMobile=/nexus\s*[0-6]\s*/i.test(ua),nexusTablet=!nexusMobile&&/nexus\s*[0-9]+/i.test(ua),chromeos=/CrOS/.test(ua),silk=/silk/i.test(ua),sailfish=/sailfish/i.test(ua),tizen=/tizen/i.test(ua),webos=/(web|hpw)os/i.test(ua),windowsphone=/windows phone/i.test(ua),windows=(/SamsungBrowser/i.test(ua),!windowsphone&&/windows/i.test(ua)),mac=!iosdevice&&!silk&&/macintosh/i.test(ua),linux=!android&&!sailfish&&!tizen&&!webos&&/linux/i.test(ua),edgeVersion=getSecondMatch(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),versionIdentifier=getFirstMatch(/version\/(\d+(\.\d+)?)/i),tablet=/tablet/i.test(ua)&&!/tablet pc/i.test(ua),mobile=!tablet&&/[^-]mobi/i.test(ua),xbox=/xbox/i.test(ua);/opera/i.test(ua)?result={name:"Opera",opera:t,version:versionIdentifier||getFirstMatch(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(ua)?result={name:"Opera",opera:t,version:getFirstMatch(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||versionIdentifier}:/SamsungBrowser/i.test(ua)?result={name:"Samsung Internet for Android",samsungBrowser:t,version:versionIdentifier||getFirstMatch(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(ua)?result={name:"Opera Coast",coast:t,version:versionIdentifier||getFirstMatch(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(ua)?result={name:"Yandex Browser",yandexbrowser:t,version:versionIdentifier||getFirstMatch(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(ua)?result={name:"UC Browser",ucbrowser:t,version:getFirstMatch(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(ua)?result={name:"Maxthon",maxthon:t,version:getFirstMatch(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(ua)?result={name:"Epiphany",epiphany:t,version:getFirstMatch(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(ua)?result={name:"Puffin",puffin:t,version:getFirstMatch(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(ua)?result={name:"Sleipnir",sleipnir:t,version:getFirstMatch(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(ua)?result={name:"K-Meleon",kMeleon:t,version:getFirstMatch(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:windowsphone?(result={name:"Windows Phone",osname:"Windows Phone",windowsphone:t},edgeVersion?(result.msedge=t,result.version=edgeVersion):(result.msie=t,result.version=getFirstMatch(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(ua)?result={name:"Internet Explorer",msie:t,version:getFirstMatch(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:chromeos?result={name:"Chrome",osname:"Chrome OS",chromeos:t,chromeBook:t,chrome:t,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(ua)?result={name:"Microsoft Edge",msedge:t,version:edgeVersion}:/vivaldi/i.test(ua)?result={name:"Vivaldi",vivaldi:t,version:getFirstMatch(/vivaldi\/(\d+(\.\d+)?)/i)||versionIdentifier}:sailfish?result={name:"Sailfish",osname:"Sailfish OS",sailfish:t,version:getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(ua)?result={name:"SeaMonkey",seamonkey:t,version:getFirstMatch(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(ua)?(result={name:"Firefox",firefox:t,version:getFirstMatch(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(ua)&&(result.firefoxos=t,result.osname="Firefox OS")):silk?result={name:"Amazon Silk",silk:t,version:getFirstMatch(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(ua)?result={name:"PhantomJS",phantom:t,version:getFirstMatch(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(ua)?result={name:"SlimerJS",slimer:t,version:getFirstMatch(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(ua)||/rim\stablet/i.test(ua)?result={name:"BlackBerry",osname:"BlackBerry OS",blackberry:t,version:versionIdentifier||getFirstMatch(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:webos?(result={name:"WebOS",osname:"WebOS",webos:t,version:versionIdentifier||getFirstMatch(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(ua)&&(result.touchpad=t)):/bada/i.test(ua)?result={name:"Bada",osname:"Bada",bada:t,version:getFirstMatch(/dolfin\/(\d+(\.\d+)?)/i)}:tizen?result={name:"Tizen",osname:"Tizen",tizen:t,version:getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||versionIdentifier}:/qupzilla/i.test(ua)?result={name:"QupZilla",qupzilla:t,version:getFirstMatch(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||versionIdentifier}:/chromium/i.test(ua)?result={name:"Chromium",chromium:t,version:getFirstMatch(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||versionIdentifier}:/chrome|crios|crmo/i.test(ua)?result={name:"Chrome",chrome:t,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:android?result={name:"Android",version:versionIdentifier}:/safari|applewebkit/i.test(ua)?(result={name:"Safari",safari:t},versionIdentifier&&(result.version=versionIdentifier)):iosdevice?(result={name:"iphone"==iosdevice?"iPhone":"ipad"==iosdevice?"iPad":"iPod"},versionIdentifier&&(result.version=versionIdentifier)):result=/googlebot/i.test(ua)?{name:"Googlebot",googlebot:t,version:getFirstMatch(/googlebot\/(\d+(\.\d+))/i)||versionIdentifier}:{name:getFirstMatch(/^(.*)\/(.*) /),version:getSecondMatch(/^(.*)\/(.*) /)},!result.msedge&&/(apple)?webkit/i.test(ua)?(/(apple)?webkit\/537\.36/i.test(ua)?(result.name=result.name||"Blink",result.blink=t):(result.name=result.name||"Webkit",result.webkit=t),!result.version&&versionIdentifier&&(result.version=versionIdentifier)):!result.opera&&/gecko\//i.test(ua)&&(result.name=result.name||"Gecko",result.gecko=t,result.version=result.version||getFirstMatch(/gecko\/(\d+(\.\d+)?)/i)),result.windowsphone||!android&&!result.silk?!result.windowsphone&&iosdevice?(result[iosdevice]=t,result.ios=t,result.osname="iOS"):mac?(result.mac=t,result.osname="macOS"):xbox?(result.xbox=t,result.osname="Xbox"):windows?(result.windows=t,result.osname="Windows"):linux&&(result.linux=t,result.osname="Linux"):(result.android=t,result.osname="Android");var osVersion="";result.windows?osVersion=function getWindowsVersion(s){switch(s){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i)):result.windowsphone?osVersion=getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):result.mac?osVersion=(osVersion=getFirstMatch(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):iosdevice?osVersion=(osVersion=getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):android?osVersion=getFirstMatch(/android[ \/-](\d+(\.\d+)*)/i):result.webos?osVersion=getFirstMatch(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):result.blackberry?osVersion=getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i):result.bada?osVersion=getFirstMatch(/bada\/(\d+(\.\d+)*)/i):result.tizen&&(osVersion=getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i)),osVersion&&(result.osversion=osVersion);var osMajorVersion=!result.windows&&osVersion.split(".")[0];return tablet||nexusTablet||"ipad"==iosdevice||android&&(3==osMajorVersion||osMajorVersion>=4&&!mobile)||result.silk?result.tablet=t:(mobile||"iphone"==iosdevice||"ipod"==iosdevice||android||nexusMobile||result.blackberry||result.webos||result.bada)&&(result.mobile=t),result.msedge||result.msie&&result.version>=10||result.yandexbrowser&&result.version>=15||result.vivaldi&&result.version>=1||result.chrome&&result.version>=20||result.samsungBrowser&&result.version>=4||result.firefox&&result.version>=20||result.safari&&result.version>=6||result.opera&&result.version>=10||result.ios&&result.osversion&&result.osversion.split(".")[0]>=6||result.blackberry&&result.version>=10.1||result.chromium&&result.version>=20?result.a=t:result.msie&&result.version<10||result.chrome&&result.version<20||result.firefox&&result.version<20||result.safari&&result.version<6||result.opera&&result.version<10||result.ios&&result.osversion&&result.osversion.split(".")[0]<6||result.chromium&&result.version<20?result.c=t:result.x=t,result}var bowser=detect("undefined"!=typeof navigator&&navigator.userAgent||"");function getVersionPrecision(version){return version.split(".").length}function map(arr,iterator){var i,result=[];if(Array.prototype.map)return Array.prototype.map.call(arr,iterator);for(i=0;i<arr.length;i++)result.push(iterator(arr[i]));return result}function compareVersions(versions){for(var precision=Math.max(getVersionPrecision(versions[0]),getVersionPrecision(versions[1])),chunks=map(versions,function(version){var delta=precision-getVersionPrecision(version);return map((version+=new Array(delta+1).join(".0")).split("."),function(chunk){return new Array(20-chunk.length).join("0")+chunk}).reverse()});--precision>=0;){if(chunks[0][precision]>chunks[1][precision])return 1;if(chunks[0][precision]!==chunks[1][precision])return-1;if(0===precision)return 0}}function isUnsupportedBrowser(minVersions,strictMode,ua){var _bowser=bowser;"string"==typeof strictMode&&(ua=strictMode,strictMode=void 0),void 0===strictMode&&(strictMode=!1),ua&&(_bowser=detect(ua));var version=""+_bowser.version;for(var browser in minVersions)if(minVersions.hasOwnProperty(browser)&&_bowser[browser]){if("string"!=typeof minVersions[browser])throw new Error("Browser version in the minVersion map should be a string: "+browser+": "+String(minVersions));return compareVersions([version,minVersions[browser]])<0}return strictMode}return bowser.test=function(browserList){for(var i=0;i<browserList.length;++i){var browserItem=browserList[i];if("string"==typeof browserItem&&browserItem in bowser)return!0}return!1},bowser.isUnsupportedBrowser=isUnsupportedBrowser,bowser.compareVersions=compareVersions,bowser.check=function check(minVersions,strictMode,ua){return!isUnsupportedBrowser(minVersions,strictMode,ua)},bowser._detect=detect,bowser.detect=detect,bowser},void 0!==module&&module.exports?module.exports=definition():__webpack_require__(488)("bowser",definition)},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_value__=__webpack_require__(493);__webpack_require__.d(__webpack_exports__,"interpolate",function(){return __WEBPACK_IMPORTED_MODULE_0__src_value__.a});var __WEBPACK_IMPORTED_MODULE_1__src_array__=__webpack_require__(661);__webpack_require__.d(__webpack_exports__,"interpolateArray",function(){return __WEBPACK_IMPORTED_MODULE_1__src_array__.a});var __WEBPACK_IMPORTED_MODULE_2__src_basis__=__webpack_require__(494);__webpack_require__.d(__webpack_exports__,"interpolateBasis",function(){return __WEBPACK_IMPORTED_MODULE_2__src_basis__.b});var __WEBPACK_IMPORTED_MODULE_3__src_basisClosed__=__webpack_require__(659);__webpack_require__.d(__webpack_exports__,"interpolateBasisClosed",function(){return __WEBPACK_IMPORTED_MODULE_3__src_basisClosed__.a});var __WEBPACK_IMPORTED_MODULE_4__src_date__=__webpack_require__(662);__webpack_require__.d(__webpack_exports__,"interpolateDate",function(){return __WEBPACK_IMPORTED_MODULE_4__src_date__.a});var __WEBPACK_IMPORTED_MODULE_5__src_number__=__webpack_require__(274);__webpack_require__.d(__webpack_exports__,"interpolateNumber",function(){return __WEBPACK_IMPORTED_MODULE_5__src_number__.a});var __WEBPACK_IMPORTED_MODULE_6__src_object__=__webpack_require__(663);__webpack_require__.d(__webpack_exports__,"interpolateObject",function(){return __WEBPACK_IMPORTED_MODULE_6__src_object__.a});var __WEBPACK_IMPORTED_MODULE_7__src_round__=__webpack_require__(1154);__webpack_require__.d(__webpack_exports__,"interpolateRound",function(){return __WEBPACK_IMPORTED_MODULE_7__src_round__.a});var __WEBPACK_IMPORTED_MODULE_8__src_string__=__webpack_require__(664);__webpack_require__.d(__webpack_exports__,"interpolateString",function(){return __WEBPACK_IMPORTED_MODULE_8__src_string__.a});var __WEBPACK_IMPORTED_MODULE_9__src_transform_index__=__webpack_require__(1155);__webpack_require__.d(__webpack_exports__,"interpolateTransformCss",function(){return __WEBPACK_IMPORTED_MODULE_9__src_transform_index__.a}),__webpack_require__.d(__webpack_exports__,"interpolateTransformSvg",function(){return __WEBPACK_IMPORTED_MODULE_9__src_transform_index__.b});var __WEBPACK_IMPORTED_MODULE_10__src_zoom__=__webpack_require__(1158);__webpack_require__.d(__webpack_exports__,"interpolateZoom",function(){return __WEBPACK_IMPORTED_MODULE_10__src_zoom__.a});var __WEBPACK_IMPORTED_MODULE_11__src_rgb__=__webpack_require__(658);__webpack_require__.d(__webpack_exports__,"interpolateRgb",function(){return __WEBPACK_IMPORTED_MODULE_11__src_rgb__.a}),__webpack_require__.d(__webpack_exports__,"interpolateRgbBasis",function(){return __WEBPACK_IMPORTED_MODULE_11__src_rgb__.b}),__webpack_require__.d(__webpack_exports__,"interpolateRgbBasisClosed",function(){return __WEBPACK_IMPORTED_MODULE_11__src_rgb__.c});var __WEBPACK_IMPORTED_MODULE_12__src_hsl__=__webpack_require__(1159);__webpack_require__.d(__webpack_exports__,"interpolateHsl",function(){return __WEBPACK_IMPORTED_MODULE_12__src_hsl__.a}),__webpack_require__.d(__webpack_exports__,"interpolateHslLong",function(){return __WEBPACK_IMPORTED_MODULE_12__src_hsl__.b});var __WEBPACK_IMPORTED_MODULE_13__src_lab__=__webpack_require__(1160);__webpack_require__.d(__webpack_exports__,"interpolateLab",function(){return __WEBPACK_IMPORTED_MODULE_13__src_lab__.a});var __WEBPACK_IMPORTED_MODULE_14__src_hcl__=__webpack_require__(1161);__webpack_require__.d(__webpack_exports__,"interpolateHcl",function(){return __WEBPACK_IMPORTED_MODULE_14__src_hcl__.a}),__webpack_require__.d(__webpack_exports__,"interpolateHclLong",function(){return __WEBPACK_IMPORTED_MODULE_14__src_hcl__.b});var __WEBPACK_IMPORTED_MODULE_15__src_cubehelix__=__webpack_require__(1162);__webpack_require__.d(__webpack_exports__,"interpolateCubehelix",function(){return __WEBPACK_IMPORTED_MODULE_15__src_cubehelix__.b}),__webpack_require__.d(__webpack_exports__,"interpolateCubehelixLong",function(){return __WEBPACK_IMPORTED_MODULE_15__src_cubehelix__.a});var __WEBPACK_IMPORTED_MODULE_16__src_quantize__=__webpack_require__(1163);__webpack_require__.d(__webpack_exports__,"quantize",function(){return __WEBPACK_IMPORTED_MODULE_16__src_quantize__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){return b-=a=+a,function(t){return a+b*t}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.c=deinterpolateLinear,__webpack_exports__.a=function copy(source,target){return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp())},__webpack_exports__.b=function continuous(deinterpolate,reinterpolate){var piecewise,output,input,domain=unit,range=unit,interpolate=__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.interpolate,clamp=!1;function rescale(){return piecewise=Math.min(domain.length,range.length)>2?polymap:bimap,output=input=null,scale}function scale(x){return(output||(output=piecewise(domain,range,clamp?function deinterpolateClamp(deinterpolate){return function(a,b){var d=deinterpolate(a=+a,b=+b);return function(x){return x<=a?0:x>=b?1:d(x)}}}(deinterpolate):deinterpolate,interpolate)))(+x)}return scale.invert=function(y){return(input||(input=piecewise(range,domain,deinterpolateLinear,clamp?function reinterpolateClamp(reinterpolate){return function(a,b){var r=reinterpolate(a=+a,b=+b);return function(t){return t<=0?a:t>=1?b:r(t)}}}(reinterpolate):reinterpolate)))(+y)},scale.domain=function(_){return arguments.length?(domain=__WEBPACK_IMPORTED_MODULE_2__array__.a.call(_,__WEBPACK_IMPORTED_MODULE_4__number__.a),rescale()):domain.slice()},scale.range=function(_){return arguments.length?(range=__WEBPACK_IMPORTED_MODULE_2__array__.b.call(_),rescale()):range.slice()},scale.rangeRound=function(_){return range=__WEBPACK_IMPORTED_MODULE_2__array__.b.call(_),interpolate=__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.interpolateRound,rescale()},scale.clamp=function(_){return arguments.length?(clamp=!!_,rescale()):clamp},scale.interpolate=function(_){return arguments.length?(interpolate=_,rescale()):interpolate},rescale()};var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(51),__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__=__webpack_require__(273),__WEBPACK_IMPORTED_MODULE_2__array__=__webpack_require__(143),__WEBPACK_IMPORTED_MODULE_3__constant__=__webpack_require__(495),__WEBPACK_IMPORTED_MODULE_4__number__=__webpack_require__(665),unit=[0,1];function deinterpolateLinear(a,b){return(b-=a=+a)?function(x){return(x-a)/b}:Object(__WEBPACK_IMPORTED_MODULE_3__constant__.a)(b)}function bimap(domain,range,deinterpolate,reinterpolate){var d0=domain[0],d1=domain[1],r0=range[0],r1=range[1];return d1<d0?(d0=deinterpolate(d1,d0),r0=reinterpolate(r1,r0)):(d0=deinterpolate(d0,d1),r0=reinterpolate(r0,r1)),function(x){return r0(d0(x))}}function polymap(domain,range,deinterpolate,reinterpolate){var j=Math.min(domain.length,range.length)-1,d=new Array(j),r=new Array(j),i=-1;for(domain[j]<domain[0]&&(domain=domain.slice().reverse(),range=range.slice().reverse());++i<j;)d[i]=deinterpolate(domain[i],domain[i+1]),r[i]=reinterpolate(range[i],range[i+1]);return function(x){var i=Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.bisect)(domain,x,1,j)-1;return r[i](d[i](x))}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__formatDecimal__=__webpack_require__(496);__webpack_exports__.a=function(x){return(x=Object(__WEBPACK_IMPORTED_MODULE_0__formatDecimal__.a)(Math.abs(x)))?x[1]:NaN}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDiffColors=function isDiffColors(colors){return void 0!==colors.positive}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=rotateRadians;var __WEBPACK_IMPORTED_MODULE_0__compose__=__webpack_require__(679),__WEBPACK_IMPORTED_MODULE_1__math__=__webpack_require__(4);function rotationIdentity(lambda,phi){return[lambda>__WEBPACK_IMPORTED_MODULE_1__math__.o?lambda-__WEBPACK_IMPORTED_MODULE_1__math__.w:lambda<-__WEBPACK_IMPORTED_MODULE_1__math__.o?lambda+__WEBPACK_IMPORTED_MODULE_1__math__.w:lambda,phi]}function rotateRadians(deltaLambda,deltaPhi,deltaGamma){return(deltaLambda%=__WEBPACK_IMPORTED_MODULE_1__math__.w)?deltaPhi||deltaGamma?Object(__WEBPACK_IMPORTED_MODULE_0__compose__.a)(rotationLambda(deltaLambda),rotationPhiGamma(deltaPhi,deltaGamma)):rotationLambda(deltaLambda):deltaPhi||deltaGamma?rotationPhiGamma(deltaPhi,deltaGamma):rotationIdentity}function forwardRotationLambda(deltaLambda){return function(lambda,phi){return[(lambda+=deltaLambda)>__WEBPACK_IMPORTED_MODULE_1__math__.o?lambda-__WEBPACK_IMPORTED_MODULE_1__math__.w:lambda<-__WEBPACK_IMPORTED_MODULE_1__math__.o?lambda+__WEBPACK_IMPORTED_MODULE_1__math__.w:lambda,phi]}}function rotationLambda(deltaLambda){var rotation=forwardRotationLambda(deltaLambda);return rotation.invert=forwardRotationLambda(-deltaLambda),rotation}function rotationPhiGamma(deltaPhi,deltaGamma){var cosDeltaPhi=Object(__WEBPACK_IMPORTED_MODULE_1__math__.g)(deltaPhi),sinDeltaPhi=Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(deltaPhi),cosDeltaGamma=Object(__WEBPACK_IMPORTED_MODULE_1__math__.g)(deltaGamma),sinDeltaGamma=Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(deltaGamma);function rotation(lambda,phi){var cosPhi=Object(__WEBPACK_IMPORTED_MODULE_1__math__.g)(phi),x=Object(__WEBPACK_IMPORTED_MODULE_1__math__.g)(lambda)*cosPhi,y=Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(lambda)*cosPhi,z=Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(phi),k=z*cosDeltaPhi+x*sinDeltaPhi;return[Object(__WEBPACK_IMPORTED_MODULE_1__math__.e)(y*cosDeltaGamma-k*sinDeltaGamma,x*cosDeltaPhi-z*sinDeltaPhi),Object(__WEBPACK_IMPORTED_MODULE_1__math__.c)(k*cosDeltaGamma+y*sinDeltaGamma)]}return rotation.invert=function(lambda,phi){var cosPhi=Object(__WEBPACK_IMPORTED_MODULE_1__math__.g)(phi),x=Object(__WEBPACK_IMPORTED_MODULE_1__math__.g)(lambda)*cosPhi,y=Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(lambda)*cosPhi,z=Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(phi),k=z*cosDeltaGamma-y*sinDeltaGamma;return[Object(__WEBPACK_IMPORTED_MODULE_1__math__.e)(y*cosDeltaGamma+z*sinDeltaGamma,x*cosDeltaPhi+k*sinDeltaPhi),Object(__WEBPACK_IMPORTED_MODULE_1__math__.c)(k*cosDeltaPhi-x*sinDeltaPhi)]},rotation}rotationIdentity.invert=rotationIdentity,__webpack_exports__.a=function(rotate){function forward(coordinates){return(coordinates=rotate(coordinates[0]*__WEBPACK_IMPORTED_MODULE_1__math__.r,coordinates[1]*__WEBPACK_IMPORTED_MODULE_1__math__.r))[0]*=__WEBPACK_IMPORTED_MODULE_1__math__.h,coordinates[1]*=__WEBPACK_IMPORTED_MODULE_1__math__.h,coordinates}return rotate=rotateRadians(rotate[0]*__WEBPACK_IMPORTED_MODULE_1__math__.r,rotate[1]*__WEBPACK_IMPORTED_MODULE_1__math__.r,rotate.length>2?rotate[2]*__WEBPACK_IMPORTED_MODULE_1__math__.r:0),forward.invert=function(coordinates){return(coordinates=rotate.invert(coordinates[0]*__WEBPACK_IMPORTED_MODULE_1__math__.r,coordinates[1]*__WEBPACK_IMPORTED_MODULE_1__math__.r))[0]*=__WEBPACK_IMPORTED_MODULE_1__math__.h,coordinates[1]*=__WEBPACK_IMPORTED_MODULE_1__math__.h,coordinates},forward}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function clipRectangle(x0,y0,x1,y1){function visible(x,y){return x0<=x&&x<=x1&&y0<=y&&y<=y1}function interpolate(from,to,direction,stream){var a=0,a1=0;if(null==from||(a=corner(from,direction))!==(a1=corner(to,direction))||comparePoint(from,to)<0^direction>0)do{stream.point(0===a||3===a?x0:x1,a>1?y1:y0)}while((a=(a+direction+4)%4)!==a1);else stream.point(to[0],to[1])}function corner(p,direction){return Object(__WEBPACK_IMPORTED_MODULE_0__math__.a)(p[0]-x0)<__WEBPACK_IMPORTED_MODULE_0__math__.i?direction>0?0:3:Object(__WEBPACK_IMPORTED_MODULE_0__math__.a)(p[0]-x1)<__WEBPACK_IMPORTED_MODULE_0__math__.i?direction>0?2:1:Object(__WEBPACK_IMPORTED_MODULE_0__math__.a)(p[1]-y0)<__WEBPACK_IMPORTED_MODULE_0__math__.i?direction>0?1:0:direction>0?3:2}function compareIntersection(a,b){return comparePoint(a.x,b.x)}function comparePoint(a,b){var ca=corner(a,1),cb=corner(b,1);return ca!==cb?ca-cb:0===ca?b[1]-a[1]:1===ca?a[0]-b[0]:2===ca?a[1]-b[1]:b[0]-a[0]}return function(stream){var segments,polygon,ring,x__,y__,v__,x_,y_,v_,first,clean,activeStream=stream,bufferStream=Object(__WEBPACK_IMPORTED_MODULE_1__buffer__.a)(),clipStream={point:point,lineStart:function lineStart(){clipStream.point=linePoint,polygon&&polygon.push(ring=[]);first=!0,v_=!1,x_=y_=NaN},lineEnd:function lineEnd(){segments&&(linePoint(x__,y__),v__&&v_&&bufferStream.rejoin(),segments.push(bufferStream.result()));clipStream.point=point,v_&&activeStream.lineEnd()},polygonStart:function polygonStart(){activeStream=bufferStream,segments=[],polygon=[],clean=!0},polygonEnd:function polygonEnd(){var startInside=function polygonInside(){for(var winding=0,i=0,n=polygon.length;i<n;++i)for(var a0,a1,ring=polygon[i],j=1,m=ring.length,point=ring[0],b0=point[0],b1=point[1];j<m;++j)a0=b0,a1=b1,point=ring[j],b0=point[0],b1=point[1],a1<=y1?b1>y1&&(b0-a0)*(y1-a1)>(b1-a1)*(x0-a0)&&++winding:b1<=y1&&(b0-a0)*(y1-a1)<(b1-a1)*(x0-a0)&&--winding;return winding}(),cleanInside=clean&&startInside,visible=(segments=Object(__WEBPACK_IMPORTED_MODULE_4_d3_array__.merge)(segments)).length;(cleanInside||visible)&&(stream.polygonStart(),cleanInside&&(stream.lineStart(),interpolate(null,null,1,stream),stream.lineEnd()),visible&&Object(__WEBPACK_IMPORTED_MODULE_3__rejoin__.a)(segments,compareIntersection,startInside,interpolate,stream),stream.polygonEnd());activeStream=stream,segments=polygon=ring=null}};function point(x,y){visible(x,y)&&activeStream.point(x,y)}function linePoint(x,y){var v=visible(x,y);if(polygon&&ring.push([x,y]),first)x__=x,y__=y,v__=v,first=!1,v&&(activeStream.lineStart(),activeStream.point(x,y));else if(v&&v_)activeStream.point(x,y);else{var a=[x_=Math.max(clipMin,Math.min(clipMax,x_)),y_=Math.max(clipMin,Math.min(clipMax,y_))],b=[x=Math.max(clipMin,Math.min(clipMax,x)),y=Math.max(clipMin,Math.min(clipMax,y))];Object(__WEBPACK_IMPORTED_MODULE_2__line__.a)(a,b,x0,y0,x1,y1)?(v_||(activeStream.lineStart(),activeStream.point(a[0],a[1])),activeStream.point(b[0],b[1]),v||activeStream.lineEnd(),clean=!1):v&&(activeStream.lineStart(),activeStream.point(x,y),clean=!1)}x_=x,y_=y,v_=v}return clipStream}};var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1__buffer__=__webpack_require__(682),__WEBPACK_IMPORTED_MODULE_2__line__=__webpack_require__(1210),__WEBPACK_IMPORTED_MODULE_3__rejoin__=__webpack_require__(683),__WEBPACK_IMPORTED_MODULE_4_d3_array__=__webpack_require__(51),clipMax=1e9,clipMin=-clipMax},function(module,__webpack_exports__,__webpack_require__){"use strict";function transformer(methods){return function(stream){var s=new TransformStream;for(var key in methods)s[key]=methods[key];return s.stream=stream,s}}function TransformStream(){}__webpack_exports__.b=transformer,__webpack_exports__.a=function(methods){return{stream:transformer(methods)}},TransformStream.prototype={constructor:TransformStream,point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},,,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(291),__webpack_require__(309),__webpack_require__(317)},function(module,exports,__webpack_require__){__webpack_require__(292),__webpack_require__(307),module.exports=__webpack_require__(58).Symbol},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(30),has=__webpack_require__(35),DESCRIPTORS=__webpack_require__(42),$export=__webpack_require__(167),redefine=__webpack_require__(78),META=__webpack_require__(295).KEY,$fails=__webpack_require__(75),shared=__webpack_require__(108),setToStringTag=__webpack_require__(109),uid=__webpack_require__(60),wks=__webpack_require__(31),wksExt=__webpack_require__(170),wksDefine=__webpack_require__(296),enumKeys=__webpack_require__(297),isArray=__webpack_require__(302),anObject=__webpack_require__(76),isObject=__webpack_require__(59),toIObject=__webpack_require__(45),toPrimitive=__webpack_require__(107),createDesc=__webpack_require__(77),_create=__webpack_require__(175),gOPNExt=__webpack_require__(305),$GOPD=__webpack_require__(306),$DP=__webpack_require__(44),$keys=__webpack_require__(111),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object.prototype,USE_NATIVE="function"==typeof $Symbol,QObject=global.QObject,setter=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol.prototype);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function defineProperty(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function defineProperties(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$propertyIsEnumerable=function propertyIsEnumerable(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function getOwnPropertyDescriptor(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function getOwnPropertyNames(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function getOwnPropertySymbols(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||(redefine(($Symbol=function Symbol(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:void 0),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)}).prototype,"toString",function toString(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,__webpack_require__(176).f=gOPNExt.f=$getOwnPropertyNames,__webpack_require__(115).f=$propertyIsEnumerable,__webpack_require__(174).f=$getOwnPropertySymbols,DESCRIPTORS&&!__webpack_require__(110)&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{for:function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function keyFor(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:function create(it,P){return void 0===P?_create(it):$defineProperties(_create(it),P)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function stringify(it){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);if($replacer=replacer=args[1],(isObject(replacer)||void 0!==it)&&!isSymbol(it))return isArray(replacer)||(replacer=function(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}),$Symbol.prototype[TO_PRIMITIVE]||__webpack_require__(43)($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(294);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports,__webpack_require__){var META=__webpack_require__(60)("meta"),isObject=__webpack_require__(59),has=__webpack_require__(35),setDesc=__webpack_require__(44).f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!__webpack_require__(75)(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},meta=module.exports={KEY:META,NEED:!1,fastKey:function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak:function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze:function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it}}},function(module,exports,__webpack_require__){var global=__webpack_require__(30),core=__webpack_require__(58),LIBRARY=__webpack_require__(110),wksExt=__webpack_require__(170),defineProperty=__webpack_require__(44).f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(111),gOPS=__webpack_require__(174),pIE=__webpack_require__(115);module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},function(module,exports,__webpack_require__){var cof=__webpack_require__(112);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(45),toLength=__webpack_require__(300),toAbsoluteIndex=__webpack_require__(301);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(173),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(173),max=Math.max,min=Math.min;module.exports=function(index,length){return(index=toInteger(index))<0?max(index+length,0):min(index,length)}},function(module,exports,__webpack_require__){var cof=__webpack_require__(112);module.exports=Array.isArray||function isArray(arg){return"Array"==cof(arg)}},function(module,exports,__webpack_require__){var dP=__webpack_require__(44),anObject=__webpack_require__(76),getKeys=__webpack_require__(111);module.exports=__webpack_require__(42)?Object.defineProperties:function defineProperties(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},function(module,exports,__webpack_require__){var document=__webpack_require__(30).document;module.exports=document&&document.documentElement},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(45),gOPN=__webpack_require__(176).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function getOwnPropertyNames(it){return windowNames&&"[object Window]"==toString.call(it)?function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}}(it):gOPN(toIObject(it))}},function(module,exports,__webpack_require__){var pIE=__webpack_require__(115),createDesc=__webpack_require__(77),toIObject=__webpack_require__(45),toPrimitive=__webpack_require__(107),has=__webpack_require__(35),IE8_DOM_DEFINE=__webpack_require__(168),gOPD=Object.getOwnPropertyDescriptor;exports.f=__webpack_require__(42)?gOPD:function getOwnPropertyDescriptor(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},function(module,exports,__webpack_require__){"use strict";var classof=__webpack_require__(308),test={};test[__webpack_require__(31)("toStringTag")]="z",test+""!="[object z]"&&__webpack_require__(78)(Object.prototype,"toString",function toString(){return"[object "+classof(this)+"]"},!0)},function(module,exports,__webpack_require__){var cof=__webpack_require__(112),TAG=__webpack_require__(31)("toStringTag"),ARG="Arguments"==cof(function(){return arguments}());module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=function(it,key){try{return it[key]}catch(e){}}(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},function(module,exports,__webpack_require__){__webpack_require__(310),module.exports=__webpack_require__(58).Array.values},function(module,exports,__webpack_require__){"use strict";var addToUnscopables=__webpack_require__(311),step=__webpack_require__(312),Iterators=__webpack_require__(177),toIObject=__webpack_require__(45);module.exports=__webpack_require__(313)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):step(0,"keys"==kind?index:"values"==kind?O[index]:[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports,__webpack_require__){var UNSCOPABLES=__webpack_require__(31)("unscopables"),ArrayProto=Array.prototype;void 0==ArrayProto[UNSCOPABLES]&&__webpack_require__(43)(ArrayProto,UNSCOPABLES,{}),module.exports=function(key){ArrayProto[UNSCOPABLES][key]=!0}},function(module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},function(module,exports,__webpack_require__){"use strict";var LIBRARY=__webpack_require__(110),$export=__webpack_require__(167),redefine=__webpack_require__(78),hide=__webpack_require__(43),Iterators=__webpack_require__(177),$iterCreate=__webpack_require__(314),setToStringTag=__webpack_require__(109),getPrototypeOf=__webpack_require__(315),ITERATOR=__webpack_require__(31)("iterator"),BUGGY=!([].keys&&"next"in[].keys()),returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case"keys":return function keys(){return new Constructor(this,kind)};case"values":return function values(){return new Constructor(this,kind)}}return function entries(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES="values"==DEFAULT,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto["@@iterator"]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME&&proto.entries||$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)))!==Object.prototype&&IteratorPrototype.next&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||"function"==typeof IteratorPrototype[ITERATOR]||hide(IteratorPrototype,ITERATOR,returnThis)),DEF_VALUES&&$native&&"values"!==$native.name&&(VALUES_BUG=!0,$default=function values(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod("values"),keys:IS_SET?$default:getMethod("keys"),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},function(module,exports,__webpack_require__){"use strict";var create=__webpack_require__(175),descriptor=__webpack_require__(77),setToStringTag=__webpack_require__(109),IteratorPrototype={};__webpack_require__(43)(IteratorPrototype,__webpack_require__(31)("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},function(module,exports,__webpack_require__){var has=__webpack_require__(35),toObject=__webpack_require__(316),IE_PROTO=__webpack_require__(113)("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},function(module,exports,__webpack_require__){var defined=__webpack_require__(172);module.exports=function(it){return Object(defined(it))}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(318)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(319),__webpack_require__(320),__webpack_require__(321)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(root,factory){"use strict";void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(0,function(){var isRegex,isString,$Array=Array,ArrayPrototype=$Array.prototype,$Object=Object,ObjectPrototype=$Object.prototype,$Function=Function,FunctionPrototype=$Function.prototype,$String=String,StringPrototype=$String.prototype,$Number=Number,NumberPrototype=$Number.prototype,array_slice=ArrayPrototype.slice,array_splice=ArrayPrototype.splice,array_push=ArrayPrototype.push,array_unshift=ArrayPrototype.unshift,array_concat=ArrayPrototype.concat,array_join=ArrayPrototype.join,call=FunctionPrototype.call,apply=FunctionPrototype.apply,max=Math.max,min=Math.min,to_string=ObjectPrototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,fnToStr=Function.prototype.toString,constructorRegex=/^\s*class /,isES6ClassFn=function isES6ClassFn(value){try{var spaceStripped=fnToStr.call(value).replace(/\/\/.*\n/g,"").replace(/\/\*[.\s\S]*\*\//g,"").replace(/\n/gm," ").replace(/ {2}/g," ");return constructorRegex.test(spaceStripped)}catch(e){return!1}},isCallable=function isCallable(value){if(!value)return!1;if("function"!=typeof value&&"object"!=typeof value)return!1;if(hasToStringTag)return function tryFunctionObject(value){try{return!isES6ClassFn(value)&&(fnToStr.call(value),!0)}catch(e){return!1}}(value);if(isES6ClassFn(value))return!1;var strClass=to_string.call(value);return"[object Function]"===strClass||"[object GeneratorFunction]"===strClass},regexExec=RegExp.prototype.exec;isRegex=function isRegex(value){return"object"==typeof value&&(hasToStringTag?function tryRegexExec(value){try{return regexExec.call(value),!0}catch(e){return!1}}(value):"[object RegExp]"===to_string.call(value))};var strValue=String.prototype.valueOf;isString=function isString(value){return"string"==typeof value||"object"==typeof value&&(hasToStringTag?function tryStringObject(value){try{return strValue.call(value),!0}catch(e){return!1}}(value):"[object String]"===to_string.call(value))};var has,defineProperty,supportsDescriptors=$Object.defineProperty&&function(){try{var obj={};for(var _ in $Object.defineProperty(obj,"x",{enumerable:!1,value:obj}),obj)return!1;return obj.x===obj}catch(e){return!1}}(),defineProperties=(has=ObjectPrototype.hasOwnProperty,defineProperty=supportsDescriptors?function(object,name,method,forceAssign){!forceAssign&&name in object||$Object.defineProperty(object,name,{configurable:!0,enumerable:!1,writable:!0,value:method})}:function(object,name,method,forceAssign){!forceAssign&&name in object||(object[name]=method)},function defineProperties(object,map,forceAssign){for(var name in map)has.call(map,name)&&defineProperty(object,name,map[name],forceAssign)}),isPrimitive=function isPrimitive(input){var type=typeof input;return null===input||"object"!==type&&"function"!==type},isActualNaN=$Number.isNaN||function isActualNaN(x){return x!=x},ES_ToInteger=function ToInteger(num){var n=+num;return isActualNaN(n)?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n},ES_ToPrimitive=function ToPrimitive(input){var val,valueOf,toStr;if(isPrimitive(input))return input;if(valueOf=input.valueOf,isCallable(valueOf)&&(val=valueOf.call(input),isPrimitive(val)))return val;if(toStr=input.toString,isCallable(toStr)&&(val=toStr.call(input),isPrimitive(val)))return val;throw new TypeError},ES_ToObject=function(o){if(null==o)throw new TypeError("can't convert "+o+" to object");return $Object(o)},ES_ToUint_=function ToUint32(x){return x>>>0},Empty=function Empty(){};defineProperties(FunctionPrototype,{bind:function bind(that){var target=this;if(!isCallable(target))throw new TypeError("Function.prototype.bind called on incompatible "+target);for(var bound,args=array_slice.call(arguments,1),boundLength=max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)array_push.call(boundArgs,"$"+i);return bound=$Function("binder","return function ("+array_join.call(boundArgs,",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof bound){var result=apply.call(target,this,array_concat.call(args,array_slice.call(arguments)));return $Object(result)===result?result:this}return apply.call(target,that,array_concat.call(args,array_slice.call(arguments)))}),target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound}});var owns=call.bind(ObjectPrototype.hasOwnProperty),toStr=call.bind(ObjectPrototype.toString),arraySlice=call.bind(array_slice),arraySliceApply=apply.bind(array_slice);if("object"==typeof document&&document&&document.documentElement)try{arraySlice(document.documentElement.childNodes)}catch(e){var origArraySlice=arraySlice,origArraySliceApply=arraySliceApply;arraySlice=function arraySliceIE(arr){for(var r=[],i=arr.length;i-- >0;)r[i]=arr[i];return origArraySliceApply(r,origArraySlice(arguments,1))},arraySliceApply=function arraySliceApplyIE(arr,args){return origArraySliceApply(arraySlice(arr),args)}}var strSlice=call.bind(StringPrototype.slice),strSplit=call.bind(StringPrototype.split),strIndexOf=call.bind(StringPrototype.indexOf),pushCall=call.bind(array_push),isEnum=call.bind(ObjectPrototype.propertyIsEnumerable),arraySort=call.bind(ArrayPrototype.sort),isArray=$Array.isArray||function isArray(obj){return"[object Array]"===toStr(obj)},hasUnshiftReturnValueBug=1!==[].unshift(0);defineProperties(ArrayPrototype,{unshift:function(){return array_unshift.apply(this,arguments),this.length}},hasUnshiftReturnValueBug),defineProperties($Array,{isArray:isArray});var boxedString=$Object("a"),splitString="a"!==boxedString[0]||!(0 in boxedString),properlyBoxesContext=function properlyBoxed(method){var properlyBoxesNonStrict=!0,properlyBoxesStrict=!0,threwException=!1;if(method)try{method.call("foo",function(_,__,context){"object"!=typeof context&&(properlyBoxesNonStrict=!1)}),method.call([1],function(){"use strict";properlyBoxesStrict="string"==typeof this},"x")}catch(e){threwException=!0}return!!method&&!threwException&&properlyBoxesNonStrict&&properlyBoxesStrict};defineProperties(ArrayPrototype,{forEach:function forEach(callbackfn){var T,object=ES_ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,i=-1,length=ES_ToUint_(self.length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++i<length;)i in self&&(void 0===T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object))}},!properlyBoxesContext(ArrayPrototype.forEach)),defineProperties(ArrayPrototype,{map:function map(callbackfn){var T,object=ES_ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES_ToUint_(self.length),result=$Array(length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.map callback must be a function");for(var i=0;i<length;i++)i in self&&(result[i]=void 0===T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object));return result}},!properlyBoxesContext(ArrayPrototype.map)),defineProperties(ArrayPrototype,{filter:function filter(callbackfn){var value,T,object=ES_ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES_ToUint_(self.length),result=[];if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.filter callback must be a function");for(var i=0;i<length;i++)i in self&&(value=self[i],(void 0===T?callbackfn(value,i,object):callbackfn.call(T,value,i,object))&&pushCall(result,value));return result}},!properlyBoxesContext(ArrayPrototype.filter)),defineProperties(ArrayPrototype,{every:function every(callbackfn){var T,object=ES_ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES_ToUint_(self.length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.every callback must be a function");for(var i=0;i<length;i++)if(i in self&&!(void 0===T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object)))return!1;return!0}},!properlyBoxesContext(ArrayPrototype.every)),defineProperties(ArrayPrototype,{some:function some(callbackfn){var T,object=ES_ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES_ToUint_(self.length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.some callback must be a function");for(var i=0;i<length;i++)if(i in self&&(void 0===T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object)))return!0;return!1}},!properlyBoxesContext(ArrayPrototype.some));var reduceCoercesToObject=!1;ArrayPrototype.reduce&&(reduceCoercesToObject="object"==typeof ArrayPrototype.reduce.call("es5",function(_,__,___,list){return list})),defineProperties(ArrayPrototype,{reduce:function reduce(callbackfn){var object=ES_ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES_ToUint_(self.length);if(!isCallable(callbackfn))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===length&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;i<length;i++)i in self&&(result=callbackfn(result,self[i],i,object));return result}},!reduceCoercesToObject);var reduceRightCoercesToObject=!1;ArrayPrototype.reduceRight&&(reduceRightCoercesToObject="object"==typeof ArrayPrototype.reduceRight.call("es5",function(_,__,___,list){return list})),defineProperties(ArrayPrototype,{reduceRight:function reduceRight(callbackfn){var result,object=ES_ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES_ToUint_(self.length);if(!isCallable(callbackfn))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===length&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}if(i<0)return result;do{i in self&&(result=callbackfn(result,self[i],i,object))}while(i--);return result}},!reduceRightCoercesToObject);var hasFirefox2IndexOfBug=ArrayPrototype.indexOf&&-1!==[0,1].indexOf(1,2);defineProperties(ArrayPrototype,{indexOf:function indexOf(searchElement){var self=splitString&&isString(this)?strSplit(this,""):ES_ToObject(this),length=ES_ToUint_(self.length);if(0===length)return-1;var i=0;for(arguments.length>1&&(i=ES_ToInteger(arguments[1])),i=i>=0?i:max(0,length+i);i<length;i++)if(i in self&&self[i]===searchElement)return i;return-1}},hasFirefox2IndexOfBug);var hasFirefox2LastIndexOfBug=ArrayPrototype.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);defineProperties(ArrayPrototype,{lastIndexOf:function lastIndexOf(searchElement){var self=splitString&&isString(this)?strSplit(this,""):ES_ToObject(this),length=ES_ToUint_(self.length);if(0===length)return-1;var i=length-1;for(arguments.length>1&&(i=min(i,ES_ToInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&searchElement===self[i])return i;return-1}},hasFirefox2LastIndexOfBug);var a,result,spliceNoopReturnsEmptyArray=(result=(a=[1,2]).splice(),2===a.length&&isArray(result)&&0===result.length);defineProperties(ArrayPrototype,{splice:function splice(start,deleteCount){return 0===arguments.length?[]:array_splice.apply(this,arguments)}},!spliceNoopReturnsEmptyArray);var obj,spliceWorksWithEmptyObject=(obj={},ArrayPrototype.splice.call(obj,0,0,1),1===obj.length);defineProperties(ArrayPrototype,{splice:function splice(start,deleteCount){if(0===arguments.length)return[];var args=arguments;return this.length=max(ES_ToInteger(this.length),0),arguments.length>0&&"number"!=typeof deleteCount&&((args=arraySlice(arguments)).length<2?pushCall(args,this.length-start):args[1]=ES_ToInteger(deleteCount)),array_splice.apply(this,args)}},!spliceWorksWithEmptyObject);var arr,spliceWorksWithLargeSparseArrays=((arr=new $Array(1e5))[8]="x",arr.splice(1,1),7===arr.indexOf("x")),spliceWorksWithSmallSparseArrays=function(){var arr=[];return arr[256]="a",arr.splice(257,0,"b"),"a"===arr[256]}();defineProperties(ArrayPrototype,{splice:function splice(start,deleteCount){for(var from,O=ES_ToObject(this),A=[],len=ES_ToUint_(O.length),relativeStart=ES_ToInteger(start),actualStart=relativeStart<0?max(len+relativeStart,0):min(relativeStart,len),actualDeleteCount=min(max(ES_ToInteger(deleteCount),0),len-actualStart),k=0;k<actualDeleteCount;)from=$String(actualStart+k),owns(O,from)&&(A[k]=O[from]),k+=1;var to,items=arraySlice(arguments,2),itemCount=items.length;if(itemCount<actualDeleteCount){k=actualStart;for(var maxK=len-actualDeleteCount;k<maxK;)from=$String(k+actualDeleteCount),to=$String(k+itemCount),owns(O,from)?O[to]=O[from]:delete O[to],k+=1;k=len;for(var minK=len-actualDeleteCount+itemCount;k>minK;)delete O[k-1],k-=1}else if(itemCount>actualDeleteCount)for(k=len-actualDeleteCount;k>actualStart;)from=$String(k+actualDeleteCount-1),to=$String(k+itemCount-1),owns(O,from)?O[to]=O[from]:delete O[to],k-=1;k=actualStart;for(var i=0;i<items.length;++i)O[k]=items[i],k+=1;return O.length=len-actualDeleteCount+itemCount,A}},!spliceWorksWithLargeSparseArrays||!spliceWorksWithSmallSparseArrays);var hasStringJoinBug,originalJoin=ArrayPrototype.join;try{hasStringJoinBug="1,2,3"!==Array.prototype.join.call("123",",")}catch(e){hasStringJoinBug=!0}hasStringJoinBug&&defineProperties(ArrayPrototype,{join:function join(separator){var sep=void 0===separator?",":separator;return originalJoin.call(isString(this)?strSplit(this,""):this,sep)}},hasStringJoinBug);var hasJoinUndefinedBug="1,2"!==[1,2].join(void 0);hasJoinUndefinedBug&&defineProperties(ArrayPrototype,{join:function join(separator){var sep=void 0===separator?",":separator;return originalJoin.call(this,sep)}},hasJoinUndefinedBug);var pushShim=function push(item){for(var O=ES_ToObject(this),n=ES_ToUint_(O.length),i=0;i<arguments.length;)O[n+i]=arguments[i],i+=1;return O.length=n+i,n+i},pushIsNotGeneric=function(){var obj={};return 1!==Array.prototype.push.call(obj,void 0)||1!==obj.length||void 0!==obj[0]||!owns(obj,0)}();defineProperties(ArrayPrototype,{push:function push(item){return isArray(this)?array_push.apply(this,arguments):pushShim.apply(this,arguments)}},pushIsNotGeneric);var pushUndefinedIsWeird=function(){var arr=[];return 1!==arr.push(void 0)||1!==arr.length||void 0!==arr[0]||!owns(arr,0)}();defineProperties(ArrayPrototype,{push:pushShim},pushUndefinedIsWeird),defineProperties(ArrayPrototype,{slice:function(start,end){var arr=isString(this)?strSplit(this,""):this;return arraySliceApply(arr,arguments)}},splitString);var sortIgnoresNonFunctions=function(){try{[1,2].sort(null)}catch(e){try{[1,2].sort({})}catch(e2){return!1}}return!0}(),sortThrowsOnRegex=function(){try{return[1,2].sort(/a/),!1}catch(e){}return!0}(),sortIgnoresUndefined=function(){try{return[1,2].sort(void 0),!0}catch(e){}return!1}();defineProperties(ArrayPrototype,{sort:function sort(compareFn){if(void 0===compareFn)return arraySort(this);if(!isCallable(compareFn))throw new TypeError("Array.prototype.sort callback must be a function");return arraySort(this,compareFn)}},sortIgnoresNonFunctions||!sortIgnoresUndefined||!sortThrowsOnRegex);var hasDontEnumBug=!isEnum({toString:null},"toString"),hasProtoEnumBug=isEnum(function(){},"prototype"),hasStringEnumBug=!owns("x","0"),equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o},excludedKeys={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$external:!0,$width:!0,$height:!0,$top:!0,$localStorage:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var k in window)try{!excludedKeys["$"+k]&&owns(window,k)&&null!==window[k]&&"object"==typeof window[k]&&equalsConstructorPrototype(window[k])}catch(e){return!0}return!1}(),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length,isStandardArguments=function isArguments(value){return"[object Arguments]"===toStr(value)},isArguments=isStandardArguments(arguments)?isStandardArguments:function isArguments(value){return null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&!isArray(value)&&isCallable(value.callee)};defineProperties($Object,{keys:function keys(object){var isFn=isCallable(object),isArgs=isArguments(object),isObject=null!==object&&"object"==typeof object,isStr=isObject&&isString(object);if(!isObject&&!isFn&&!isArgs)throw new TypeError("Object.keys called on a non-object");var theKeys=[],skipProto=hasProtoEnumBug&&isFn;if(isStr&&hasStringEnumBug||isArgs)for(var i=0;i<object.length;++i)pushCall(theKeys,$String(i));if(!isArgs)for(var name in object)skipProto&&"prototype"===name||!owns(object,name)||pushCall(theKeys,$String(name));if(hasDontEnumBug)for(var skipConstructor=function(object){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(object);try{return equalsConstructorPrototype(object)}catch(e){return!1}}(object),j=0;j<dontEnumsLength;j++){var dontEnum=dontEnums[j];skipConstructor&&"constructor"===dontEnum||!owns(object,dontEnum)||pushCall(theKeys,dontEnum)}return theKeys}});var keysWorksWithArguments=$Object.keys&&function(){return 2===$Object.keys(arguments).length}(1,2),keysHasArgumentsLengthBug=$Object.keys&&function(){var argKeys=$Object.keys(arguments);return 1!==arguments.length||1!==argKeys.length||1!==argKeys[0]}(1),originalKeys=$Object.keys;defineProperties($Object,{keys:function keys(object){return isArguments(object)?originalKeys(arraySlice(object)):originalKeys(object)}},!keysWorksWithArguments||keysHasArgumentsLengthBug);var hasToDateStringFormatBug,hasToStringFormatBug,hasNegativeMonthYearBug=0!==new Date(-0xc782b5b342b24).getUTCMonth(),aNegativeTestDate=new Date(-0x55d318d56a724),aPositiveTestDate=new Date(14496624e5),hasToUTCStringFormatBug="Mon, 01 Jan -45875 11:59:59 GMT"!==aNegativeTestDate.toUTCString();aNegativeTestDate.getTimezoneOffset()<-720?(hasToDateStringFormatBug="Tue Jan 02 -45875"!==aNegativeTestDate.toDateString(),hasToStringFormatBug=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(aPositiveTestDate))):(hasToDateStringFormatBug="Mon Jan 01 -45875"!==aNegativeTestDate.toDateString(),hasToStringFormatBug=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(aPositiveTestDate)));var originalGetFullYear=call.bind(Date.prototype.getFullYear),originalGetMonth=call.bind(Date.prototype.getMonth),originalGetDate=call.bind(Date.prototype.getDate),originalGetUTCFullYear=call.bind(Date.prototype.getUTCFullYear),originalGetUTCMonth=call.bind(Date.prototype.getUTCMonth),originalGetUTCDate=call.bind(Date.prototype.getUTCDate),originalGetUTCDay=call.bind(Date.prototype.getUTCDay),originalGetUTCHours=call.bind(Date.prototype.getUTCHours),originalGetUTCMinutes=call.bind(Date.prototype.getUTCMinutes),originalGetUTCSeconds=call.bind(Date.prototype.getUTCSeconds),originalGetUTCMilliseconds=call.bind(Date.prototype.getUTCMilliseconds),dayName=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthName=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysInMonth=function daysInMonth(month,year){return originalGetDate(new Date(year,month,0))};defineProperties(Date.prototype,{getFullYear:function getFullYear(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetFullYear(this);return year<0&&originalGetMonth(this)>11?year+1:year},getMonth:function getMonth(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetFullYear(this),month=originalGetMonth(this);return year<0&&month>11?0:month},getDate:function getDate(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetFullYear(this),month=originalGetMonth(this),date=originalGetDate(this);return year<0&&month>11?12===month?date:daysInMonth(0,year+1)-date+1:date},getUTCFullYear:function getUTCFullYear(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetUTCFullYear(this);return year<0&&originalGetUTCMonth(this)>11?year+1:year},getUTCMonth:function getUTCMonth(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetUTCFullYear(this),month=originalGetUTCMonth(this);return year<0&&month>11?0:month},getUTCDate:function getUTCDate(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetUTCFullYear(this),month=originalGetUTCMonth(this),date=originalGetUTCDate(this);return year<0&&month>11?12===month?date:daysInMonth(0,year+1)-date+1:date}},hasNegativeMonthYearBug),defineProperties(Date.prototype,{toUTCString:function toUTCString(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var day=originalGetUTCDay(this),date=originalGetUTCDate(this),month=originalGetUTCMonth(this),year=originalGetUTCFullYear(this),hour=originalGetUTCHours(this),minute=originalGetUTCMinutes(this),second=originalGetUTCSeconds(this);return dayName[day]+", "+(date<10?"0"+date:date)+" "+monthName[month]+" "+year+" "+(hour<10?"0"+hour:hour)+":"+(minute<10?"0"+minute:minute)+":"+(second<10?"0"+second:second)+" GMT"}},hasNegativeMonthYearBug||hasToUTCStringFormatBug),defineProperties(Date.prototype,{toDateString:function toDateString(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var day=this.getDay(),date=this.getDate(),month=this.getMonth(),year=this.getFullYear();return dayName[day]+" "+monthName[month]+" "+(date<10?"0"+date:date)+" "+year}},hasNegativeMonthYearBug||hasToDateStringFormatBug),(hasNegativeMonthYearBug||hasToStringFormatBug)&&(Date.prototype.toString=function toString(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var day=this.getDay(),date=this.getDate(),month=this.getMonth(),year=this.getFullYear(),hour=this.getHours(),minute=this.getMinutes(),second=this.getSeconds(),timezoneOffset=this.getTimezoneOffset(),hoursOffset=Math.floor(Math.abs(timezoneOffset)/60),minutesOffset=Math.floor(Math.abs(timezoneOffset)%60);return dayName[day]+" "+monthName[month]+" "+(date<10?"0"+date:date)+" "+year+" "+(hour<10?"0"+hour:hour)+":"+(minute<10?"0"+minute:minute)+":"+(second<10?"0"+second:second)+" GMT"+(timezoneOffset>0?"-":"+")+(hoursOffset<10?"0"+hoursOffset:hoursOffset)+(minutesOffset<10?"0"+minutesOffset:minutesOffset)},supportsDescriptors&&$Object.defineProperty(Date.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var hasNegativeDateBug=Date.prototype.toISOString&&-1===new Date(-621987552e5).toISOString().indexOf("-000001"),hasSafari51DateBug=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString(),getTime=call.bind(Date.prototype.getTime);defineProperties(Date.prototype,{toISOString:function toISOString(){if(!isFinite(this)||!isFinite(getTime(this)))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var year=originalGetUTCFullYear(this),month=originalGetUTCMonth(this);year+=Math.floor(month/12);var result=[(month=(month%12+12)%12)+1,originalGetUTCDate(this),originalGetUTCHours(this),originalGetUTCMinutes(this),originalGetUTCSeconds(this)];year=(year<0?"-":year>9999?"+":"")+strSlice("00000"+Math.abs(year),0<=year&&year<=9999?-4:-6);for(var i=0;i<result.length;++i)result[i]=strSlice("00"+result[i],-2);return year+"-"+arraySlice(result,0,2).join("-")+"T"+arraySlice(result,2).join(":")+"."+strSlice("000"+originalGetUTCMilliseconds(this),-3)+"Z"}},hasNegativeDateBug||hasSafari51DateBug),function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(-621987552e5).toJSON().indexOf("-000001")&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){return!1}}()||(Date.prototype.toJSON=function toJSON(key){var O=$Object(this),tv=ES_ToPrimitive(O);if("number"==typeof tv&&!isFinite(tv))return null;var toISO=O.toISOString;if(!isCallable(toISO))throw new TypeError("toISOString property is not callable");return toISO.call(O)});var supportsExtendedYears=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),acceptsInvalidDates=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));if(isNaN(Date.parse("2000-01-01T00:00:00.000Z"))||acceptsInvalidDates||!supportsExtendedYears){var maxSafeUnsigned32Bit=Math.pow(2,31)-1,hasSafariSignedIntBug=isActualNaN(new Date(1970,0,1,0,0,0,maxSafeUnsigned32Bit+1).getTime());Date=function(NativeDate){var DateShim=function Date(Y,M,D,h,m,s,ms){var date,length=arguments.length;if(this instanceof NativeDate){var seconds=s,millis=ms;if(hasSafariSignedIntBug&&length>=7&&ms>maxSafeUnsigned32Bit){var msToShift=Math.floor(ms/maxSafeUnsigned32Bit)*maxSafeUnsigned32Bit,sToShift=Math.floor(msToShift/1e3);seconds+=sToShift,millis-=1e3*sToShift}date=1===length&&$String(Y)===Y?new NativeDate(DateShim.parse(Y)):length>=7?new NativeDate(Y,M,D,h,m,seconds,millis):length>=6?new NativeDate(Y,M,D,h,m,seconds):length>=5?new NativeDate(Y,M,D,h,m):length>=4?new NativeDate(Y,M,D,h):length>=3?new NativeDate(Y,M,D):length>=2?new NativeDate(Y,M):length>=1?new NativeDate(Y instanceof NativeDate?+Y:Y):new NativeDate}else date=NativeDate.apply(this,arguments);return isPrimitive(date)||defineProperties(date,{constructor:DateShim},!0),date},isoDateExpression=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),months=[0,31,59,90,120,151,181,212,243,273,304,334,365],dayFromMonth=function dayFromMonth(year,month){var t=month>1?1:0;return months[month]+Math.floor((year-1969+t)/4)-Math.floor((year-1901+t)/100)+Math.floor((year-1601+t)/400)+365*(year-1970)};for(var key in NativeDate)owns(NativeDate,key)&&(DateShim[key]=NativeDate[key]);defineProperties(DateShim,{now:NativeDate.now,UTC:NativeDate.UTC},!0),DateShim.prototype=NativeDate.prototype,defineProperties(DateShim.prototype,{constructor:DateShim},!0);return defineProperties(DateShim,{parse:function parse(string){var match=isoDateExpression.exec(string);if(match){var result,year=$Number(match[1]),month=$Number(match[2]||1)-1,day=$Number(match[3]||1)-1,hour=$Number(match[4]||0),minute=$Number(match[5]||0),second=$Number(match[6]||0),millisecond=Math.floor(1e3*$Number(match[7]||0)),isLocalTime=Boolean(match[4]&&!match[8]),signOffset="-"===match[9]?1:-1,hourOffset=$Number(match[10]||0),minuteOffset=$Number(match[11]||0);return hour<(minute>0||second>0||millisecond>0?24:25)&&minute<60&&second<60&&millisecond<1e3&&month>-1&&month<12&&hourOffset<24&&minuteOffset<60&&day>-1&&day<dayFromMonth(year,month+1)-dayFromMonth(year,month)&&(result=1e3*(60*((result=60*(24*(dayFromMonth(year,month)+day)+hour+hourOffset*signOffset))+minute+minuteOffset*signOffset)+second)+millisecond,isLocalTime&&(result=function toUTC(t){var s=0,ms=t;if(hasSafariSignedIntBug&&ms>maxSafeUnsigned32Bit){var msToShift=Math.floor(ms/maxSafeUnsigned32Bit)*maxSafeUnsigned32Bit,sToShift=Math.floor(msToShift/1e3);s+=sToShift,ms-=1e3*sToShift}return $Number(new NativeDate(1970,0,1,0,0,s,ms))}(result)),-864e13<=result&&result<=864e13)?result:NaN}return NativeDate.parse.apply(this,arguments)}}),DateShim}(Date)}Date.now||(Date.now=function now(){return(new Date).getTime()});var hasToFixedBugs=NumberPrototype.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),toFixedHelpers={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function multiply(n,c){for(var i=-1,c2=c;++i<toFixedHelpers.size;)c2+=n*toFixedHelpers.data[i],toFixedHelpers.data[i]=c2%toFixedHelpers.base,c2=Math.floor(c2/toFixedHelpers.base)},divide:function divide(n){for(var i=toFixedHelpers.size,c=0;--i>=0;)c+=toFixedHelpers.data[i],toFixedHelpers.data[i]=Math.floor(c/n),c=c%n*toFixedHelpers.base},numToString:function numToString(){for(var i=toFixedHelpers.size,s="";--i>=0;)if(""!==s||0===i||0!==toFixedHelpers.data[i]){var t=$String(toFixedHelpers.data[i]);""===s?s=t:s+=strSlice("0000000",0,7-t.length)+t}return s},pow:function pow(x,n,acc){return 0===n?acc:n%2==1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)},log:function log(x){for(var n=0,x2=x;x2>=4096;)n+=12,x2/=4096;for(;x2>=2;)n+=1,x2/=2;return n}};defineProperties(NumberPrototype,{toFixed:function toFixed(fractionDigits){var f,x,s,m,e,z,j,k;if(f=$Number(fractionDigits),(f=isActualNaN(f)?0:Math.floor(f))<0||f>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(x=$Number(this),isActualNaN(x))return"NaN";if(x<=-1e21||x>=1e21)return $String(x);if(s="",x<0&&(s="-",x=-x),m="0",x>1e-21)if(z=(e=toFixedHelpers.log(x*toFixedHelpers.pow(2,69,1))-69)<0?x*toFixedHelpers.pow(2,-e,1):x/toFixedHelpers.pow(2,e,1),z*=4503599627370496,(e=52-e)>0){for(toFixedHelpers.multiply(0,z),j=f;j>=7;)toFixedHelpers.multiply(1e7,0),j-=7;for(toFixedHelpers.multiply(toFixedHelpers.pow(10,j,1),0),j=e-1;j>=23;)toFixedHelpers.divide(1<<23),j-=23;toFixedHelpers.divide(1<<j),toFixedHelpers.multiply(1,1),toFixedHelpers.divide(2),m=toFixedHelpers.numToString()}else toFixedHelpers.multiply(0,z),toFixedHelpers.multiply(1<<-e,0),m=toFixedHelpers.numToString()+strSlice("0.00000000000000000000",2,2+f);return m=f>0?(k=m.length)<=f?s+strSlice("0.0000000000000000000",0,f-k+2)+m:s+strSlice(m,0,k-f)+"."+strSlice(m,k-f):s+m}},hasToFixedBugs);var compliantExecNpcg,maxSafe32BitInt,hasToPrecisionUndefinedBug=function(){try{return"1"===1..toPrecision(void 0)}catch(e){return!0}}(),originalToPrecision=NumberPrototype.toPrecision;defineProperties(NumberPrototype,{toPrecision:function toPrecision(precision){return void 0===precision?originalToPrecision.call(this):originalToPrecision.call(this,precision)}},hasToPrecisionUndefinedBug),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(compliantExecNpcg=void 0===/()??/.exec("")[1],maxSafe32BitInt=Math.pow(2,32)-1,StringPrototype.split=function(separator,limit){var string=String(this);if(void 0===separator&&0===limit)return[];if(!isRegex(separator))return strSplit(this,separator,limit);var separator2,match,lastIndex,lastLength,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":""),lastLastIndex=0,separatorCopy=new RegExp(separator.source,flags+"g");compliantExecNpcg||(separator2=new RegExp("^"+separatorCopy.source+"$(?!\\s)",flags));var splitLimit=void 0===limit?maxSafe32BitInt:ES_ToUint_(limit);for(match=separatorCopy.exec(string);match&&!((lastIndex=match.index+match[0].length)>lastLastIndex&&(pushCall(output,strSlice(string,lastLastIndex,match.index)),!compliantExecNpcg&&match.length>1&&match[0].replace(separator2,function(){for(var i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)}),match.length>1&&match.index<string.length&&array_push.apply(output,arraySlice(match,1)),lastLength=match[0].length,lastLastIndex=lastIndex,output.length>=splitLimit));)separatorCopy.lastIndex===match.index&&separatorCopy.lastIndex++,match=separatorCopy.exec(string);return lastLastIndex===string.length?!lastLength&&separatorCopy.test("")||pushCall(output,""):pushCall(output,strSlice(string,lastLastIndex)),output.length>splitLimit?arraySlice(output,0,splitLimit):output}):"0".split(void 0,0).length&&(StringPrototype.split=function split(separator,limit){return void 0===separator&&0===limit?[]:strSplit(this,separator,limit)});var groups,str_replace=StringPrototype.replace;(groups=[],"x".replace(/x(.)?/g,function(match,group){pushCall(groups,group)}),1===groups.length&&void 0===groups[0])||(StringPrototype.replace=function replace(searchValue,replaceValue){var isFn=isCallable(replaceValue),hasCapturingGroups=isRegex(searchValue)&&/\)[*?]/.test(searchValue.source);if(isFn&&hasCapturingGroups){return str_replace.call(this,searchValue,function(match){var length=arguments.length,originalLastIndex=searchValue.lastIndex;searchValue.lastIndex=0;var args=searchValue.exec(match)||[];return searchValue.lastIndex=originalLastIndex,pushCall(args,arguments[length-2],arguments[length-1]),replaceValue.apply(this,args)})}return str_replace.call(this,searchValue,replaceValue)});var string_substr=StringPrototype.substr,hasNegativeSubstrBug="".substr&&"b"!=="0b".substr(-1);defineProperties(StringPrototype,{substr:function substr(start,length){var normalizedStart=start;return start<0&&(normalizedStart=max(this.length+start,0)),string_substr.call(this,normalizedStart,length)}},hasNegativeSubstrBug);var ws="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",wsRegexChars="["+ws+"]",trimBeginRegexp=new RegExp("^"+wsRegexChars+wsRegexChars+"*"),trimEndRegexp=new RegExp(wsRegexChars+wsRegexChars+"*$"),hasTrimWhitespaceBug=StringPrototype.trim&&(ws.trim()||!"​".trim());defineProperties(StringPrototype,{trim:function trim(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return $String(this).replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}},hasTrimWhitespaceBug);var trim=call.bind(String.prototype.trim),hasLastIndexBug=StringPrototype.lastIndexOf&&-1!=="abcあい".lastIndexOf("あい",2);defineProperties(StringPrototype,{lastIndexOf:function lastIndexOf(searchString){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");for(var S=$String(this),searchStr=$String(searchString),numPos=arguments.length>1?$Number(arguments[1]):NaN,pos=isActualNaN(numPos)?1/0:ES_ToInteger(numPos),start=min(max(pos,0),S.length),searchLen=searchStr.length,k=start+searchLen;k>0;){k=max(0,k-searchLen);var index=strIndexOf(strSlice(S,k,start+searchLen),searchStr);if(-1!==index)return k+index}return-1}},hasLastIndexBug);var origParseInt,hexRegex,origParseFloat,originalLastIndexOf=StringPrototype.lastIndexOf;if(defineProperties(StringPrototype,{lastIndexOf:function lastIndexOf(searchString){return originalLastIndexOf.apply(this,arguments)}},1!==StringPrototype.lastIndexOf.length),8===parseInt(ws+"08")&&22===parseInt(ws+"0x16")||(parseInt=(origParseInt=parseInt,hexRegex=/^[-+]?0[xX]/,function parseInt(str,radix){var string=trim(String(str)),defaultedRadix=$Number(radix)||(hexRegex.test(string)?16:10);return origParseInt(string,defaultedRadix)})),1/parseFloat("-0")!=-1/0&&(parseFloat=(origParseFloat=parseFloat,function parseFloat(string){var inputString=trim(String(string)),result=origParseFloat(inputString);return 0===result&&"-"===strSlice(inputString,0,1)?-0:result})),"RangeError: test"!==String(new RangeError("test"))){Error.prototype.toString=function toString(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");var name=this.name;void 0===name?name="Error":"string"!=typeof name&&(name=$String(name));var msg=this.message;return void 0===msg?msg="":"string"!=typeof msg&&(msg=$String(msg)),name?msg?name+": "+msg:name:msg}}if(supportsDescriptors){var ensureNonEnumerable=function(obj,prop){if(isEnum(obj,prop)){var desc=Object.getOwnPropertyDescriptor(obj,prop);desc.configurable&&(desc.enumerable=!1,Object.defineProperty(obj,prop,desc))}};ensureNonEnumerable(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),ensureNonEnumerable(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){RegExp.prototype.toString=function toString(){var str="/"+this.source+"/";return this.global&&(str+="g"),this.ignoreCase&&(str+="i"),this.multiline&&(str+="m"),str}}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(root,factory){"use strict";void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(0,function(){var defineGetter,defineSetter,lookupGetter,lookupSetter,call=Function.call,prototypeOfObject=Object.prototype,owns=call.bind(prototypeOfObject.hasOwnProperty),isEnumerable=call.bind(prototypeOfObject.propertyIsEnumerable),toStr=call.bind(prototypeOfObject.toString),supportsAccessors=owns(prototypeOfObject,"__defineGetter__");supportsAccessors&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__));var isPrimitive=function isPrimitive(o){return null==o||"object"!=typeof o&&"function"!=typeof o};Object.getPrototypeOf||(Object.getPrototypeOf=function getPrototypeOf(object){var proto=object.__proto__;return proto||null===proto?proto:"[object Function]"===toStr(object.constructor)?object.constructor.prototype:object instanceof Object?prototypeOfObject:null});var doesGetOwnPropertyDescriptorWork=function doesGetOwnPropertyDescriptorWork(object){try{return object.sentinel=0,0===Object.getOwnPropertyDescriptor(object,"sentinel").value}catch(exception){return!1}};if(Object.defineProperty){var getOwnPropertyDescriptorWorksOnObject=doesGetOwnPropertyDescriptorWork({});if(!("undefined"==typeof document||doesGetOwnPropertyDescriptorWork(document.createElement("div")))||!getOwnPropertyDescriptorWorksOnObject)var getOwnPropertyDescriptorFallback=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||getOwnPropertyDescriptorFallback){Object.getOwnPropertyDescriptor=function getOwnPropertyDescriptor(object,property){if(isPrimitive(object))throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+object);if(getOwnPropertyDescriptorFallback)try{return getOwnPropertyDescriptorFallback.call(Object,object,property)}catch(exception){}var descriptor;if(!owns(object,property))return descriptor;if(descriptor={enumerable:isEnumerable(object,property),configurable:!0},supportsAccessors){var prototype=object.__proto__,notPrototypeOfObject=object!==prototypeOfObject;notPrototypeOfObject&&(object.__proto__=prototypeOfObject);var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(notPrototypeOfObject&&(object.__proto__=prototype),getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor.writable=!0,descriptor}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function getOwnPropertyNames(object){return Object.keys(object)}),!Object.create){var createEmpty,supportsProto=!({__proto__:null}instanceof Object);createEmpty=supportsProto||"undefined"==typeof document?function(){return{__proto__:null}}:function(){var empty=function shouldUseActiveX(){if(!document.domain)return!1;try{return!!new ActiveXObject("htmlfile")}catch(exception){return!1}}()?function getEmptyViaActiveX(){var empty,xDoc;return(xDoc=new ActiveXObject("htmlfile")).write("<script><\/script>"),xDoc.close(),empty=xDoc.parentWindow.Object.prototype,xDoc=null,empty}():function getEmptyViaIFrame(){var empty,iframe=document.createElement("iframe"),parent=document.body||document.documentElement;return iframe.style.display="none",parent.appendChild(iframe),iframe.src="javascript:",empty=iframe.contentWindow.Object.prototype,parent.removeChild(iframe),iframe=null,empty}();delete empty.constructor,delete empty.hasOwnProperty,delete empty.propertyIsEnumerable,delete empty.isPrototypeOf,delete empty.toLocaleString,delete empty.toString,delete empty.valueOf;var Empty=function Empty(){};return Empty.prototype=empty,createEmpty=function(){return new Empty},new Empty},Object.create=function create(prototype,properties){var object,Type=function Type(){};if(null===prototype)object=createEmpty();else{if(null!==prototype&&isPrimitive(prototype))throw new TypeError("Object prototype may only be an Object or null");Type.prototype=prototype,(object=new Type).__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}var freezeObject,doesDefinePropertyWork=function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){return!1}};if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty,definePropertiesFallback=Object.defineProperties}if(!Object.defineProperty||definePropertyFallback){Object.defineProperty=function defineProperty(object,property,descriptor){if(isPrimitive(object))throw new TypeError("Object.defineProperty called on non-object: "+object);if(isPrimitive(descriptor))throw new TypeError("Property description must be an object: "+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if("value"in descriptor)if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{var hasGetter="get"in descriptor,hasSetter="set"in descriptor;if(!supportsAccessors&&(hasGetter||hasSetter))throw new TypeError("getters & setters can not be defined on this javascript engine");hasGetter&&defineGetter(object,property,descriptor.get),hasSetter&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties&&!definePropertiesFallback||(Object.defineProperties=function defineProperties(object,properties){if(definePropertiesFallback)try{return definePropertiesFallback.call(Object,object,properties)}catch(exception){}return Object.keys(properties).forEach(function(property){"__proto__"!==property&&Object.defineProperty(object,property,properties[property])}),object}),Object.seal||(Object.seal=function seal(object){if(Object(object)!==object)throw new TypeError("Object.seal can only be called on Objects.");return object}),Object.freeze||(Object.freeze=function freeze(object){if(Object(object)!==object)throw new TypeError("Object.freeze can only be called on Objects.");return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=(freezeObject=Object.freeze,function freeze(object){return"function"==typeof object?object:freezeObject(object)})}Object.preventExtensions||(Object.preventExtensions=function preventExtensions(object){if(Object(object)!==object)throw new TypeError("Object.preventExtensions can only be called on Objects.");return object}),Object.isSealed||(Object.isSealed=function isSealed(object){if(Object(object)!==object)throw new TypeError("Object.isSealed can only be called on Objects.");return!1}),Object.isFrozen||(Object.isFrozen=function isFrozen(object){if(Object(object)!==object)throw new TypeError("Object.isFrozen can only be called on Objects.");return!1}),Object.isExtensible||(Object.isExtensible=function isExtensible(object){if(Object(object)!==object)throw new TypeError("Object.isExtensible can only be called on Objects.");for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue})})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(322),__webpack_require__(323)(),__webpack_require__(330)},function(module,exports,__webpack_require__){(function(global,process){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){"use strict";var ArrayIterator,_apply=Function.call.bind(Function.apply),_call=Function.call.bind(Function.call),isArray=Array.isArray,keys=Object.keys,throwsError=function(func){try{return func(),!1}catch(e){return!0}},valueOrFalseIfThrows=function valueOrFalseIfThrows(func){try{return func()}catch(e){return!1}},isCallableWithoutNew=function notThunker(func){return function notThunk(){return!_apply(func,this,arguments)}}(throwsError),supportsDescriptors=!!Object.defineProperty&&!throwsError(function(){Object.defineProperty({},"x",{get:function(){}})}),functionsHaveNames="foo"===function foo(){}.name,_forEach=Function.call.bind(Array.prototype.forEach),_reduce=Function.call.bind(Array.prototype.reduce),_filter=Function.call.bind(Array.prototype.filter),_some=Function.call.bind(Array.prototype.some),defineProperty=function(object,name,value,force){!force&&name in object||(supportsDescriptors?Object.defineProperty(object,name,{configurable:!0,enumerable:!1,writable:!0,value:value}):object[name]=value)},defineProperties=function(object,map,forceOverride){_forEach(keys(map),function(name){var method=map[name];defineProperty(object,name,method,!!forceOverride)})},_toString=Function.call.bind(Object.prototype.toString),isCallable=function IsCallableFast(x){return"function"==typeof x},Value_getter=function(object,name,getter){if(!supportsDescriptors)throw new TypeError("getters require true ES5 support");Object.defineProperty(object,name,{configurable:!0,enumerable:!1,get:getter})},Value_proxy=function(originalObject,key,targetObject){if(!supportsDescriptors)throw new TypeError("getters require true ES5 support");var originalDescriptor=Object.getOwnPropertyDescriptor(originalObject,key);Object.defineProperty(targetObject,key,{configurable:originalDescriptor.configurable,enumerable:originalDescriptor.enumerable,get:function getKey(){return originalObject[key]},set:function setKey(value){originalObject[key]=value}})},Value_redefine=function(object,property,newValue){if(supportsDescriptors){var descriptor=Object.getOwnPropertyDescriptor(object,property);descriptor.value=newValue,Object.defineProperty(object,property,descriptor)}else object[property]=newValue},Value_defineByDescriptor=function(object,property,descriptor){supportsDescriptors?Object.defineProperty(object,property,descriptor):"value"in descriptor&&(object[property]=descriptor.value)},Value_preserveToString=function(target,source){source&&isCallable(source.toString)&&defineProperty(target,"toString",source.toString.bind(source),!0)},create=Object.create||function(prototype,properties){var Prototype=function Prototype(){};Prototype.prototype=prototype;var object=new Prototype;return void 0!==properties&&keys(properties).forEach(function(key){Value_defineByDescriptor(object,key,properties[key])}),object},supportsSubclassing=function(C,f){return!!Object.setPrototypeOf&&valueOrFalseIfThrows(function(){var Sub=function Subclass(arg){var o=new C(arg);return Object.setPrototypeOf(o,Subclass.prototype),o};return Object.setPrototypeOf(Sub,C),Sub.prototype=create(C.prototype,{constructor:{value:Sub}}),f(Sub)})},globals=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==global)return global;throw new Error("unable to locate global object")}(),globalIsFinite=globals.isFinite,_indexOf=Function.call.bind(String.prototype.indexOf),_arrayIndexOfApply=Function.apply.bind(Array.prototype.indexOf),_concat=Function.call.bind(Array.prototype.concat),_strSlice=Function.call.bind(String.prototype.slice),_push=Function.call.bind(Array.prototype.push),_pushApply=Function.apply.bind(Array.prototype.push),_shift=Function.call.bind(Array.prototype.shift),_max=Math.max,_min=Math.min,_floor=Math.floor,_abs=Math.abs,_exp=Math.exp,_log=Math.log,_sqrt=Math.sqrt,_hasOwnProperty=Function.call.bind(Object.prototype.hasOwnProperty),noop=function(){},OrigMap=globals.Map,origMapDelete=OrigMap&&OrigMap.prototype.delete,origMapGet=OrigMap&&OrigMap.prototype.get,origMapHas=OrigMap&&OrigMap.prototype.has,origMapSet=OrigMap&&OrigMap.prototype.set,Symbol=globals.Symbol||{},symbolSpecies=Symbol.species||"@@species",numberIsNaN=Number.isNaN||function isNaN(value){return value!=value},numberIsFinite=Number.isFinite||function isFinite(value){return"number"==typeof value&&globalIsFinite(value)},_sign=isCallable(Math.sign)?Math.sign:function sign(value){var number=Number(value);return 0===number?number:numberIsNaN(number)?number:number<0?-1:1},isStandardArguments=function isArguments(value){return"[object Arguments]"===_toString(value)},isArguments=isStandardArguments(arguments)?isStandardArguments:function isArguments(value){return null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Array]"!==_toString(value)&&"[object Function]"===_toString(value.callee)},Type_primitive=function(x){return null===x||"function"!=typeof x&&"object"!=typeof x},Type_string=function(x){return"[object String]"===_toString(x)},Type_regex=function(x){return"[object RegExp]"===_toString(x)},Type_symbol=function(x){return"function"==typeof globals.Symbol&&"symbol"==typeof x},overrideNative=function overrideNative(object,property,replacement){var original=object[property];defineProperty(object,property,replacement,!0),Value_preserveToString(object[property],original)},hasSymbols="function"==typeof Symbol&&"function"==typeof Symbol.for&&Type_symbol(Symbol()),$iterator$=Type_symbol(Symbol.iterator)?Symbol.iterator:"_es6-shim iterator_";globals.Set&&"function"==typeof(new globals.Set)["@@iterator"]&&($iterator$="@@iterator"),globals.Reflect||defineProperty(globals,"Reflect",{},!0);var o,Reflect=globals.Reflect,$String=String,domAll="undefined"!=typeof document&&document?document.all:null,isNullOrUndefined=null==domAll?function isNullOrUndefined(x){return null==x}:function isNullOrUndefinedAndNotDocumentAll(x){return null==x&&x!==domAll},ES={Call:function Call(F,V){var args=arguments.length>2?arguments[2]:[];if(!ES.IsCallable(F))throw new TypeError(F+" is not a function");return _apply(F,V,args)},RequireObjectCoercible:function(x,optMessage){if(isNullOrUndefined(x))throw new TypeError(optMessage||"Cannot call method on "+x);return x},TypeIsObject:function(x){return void 0!==x&&null!==x&&!0!==x&&!1!==x&&("function"==typeof x||"object"==typeof x||x===domAll)},ToObject:function(o,optMessage){return Object(ES.RequireObjectCoercible(o,optMessage))},IsCallable:isCallable,IsConstructor:function(x){return ES.IsCallable(x)},ToInt32:function(x){return ES.ToNumber(x)>>0},ToUint32:function(x){return ES.ToNumber(x)>>>0},ToNumber:function(value){if("[object Symbol]"===_toString(value))throw new TypeError("Cannot convert a Symbol value to a number");return+value},ToInteger:function(value){var number=ES.ToNumber(value);return numberIsNaN(number)?0:0!==number&&numberIsFinite(number)?(number>0?1:-1)*_floor(_abs(number)):number},ToLength:function(value){var len=ES.ToInteger(value);return len<=0?0:len>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:len},SameValue:function(a,b){return a===b?0!==a||1/a==1/b:numberIsNaN(a)&&numberIsNaN(b)},SameValueZero:function(a,b){return a===b||numberIsNaN(a)&&numberIsNaN(b)},IsIterable:function(o){return ES.TypeIsObject(o)&&(void 0!==o[$iterator$]||isArguments(o))},GetIterator:function(o){if(isArguments(o))return new ArrayIterator(o,"value");var itFn=ES.GetMethod(o,$iterator$);if(!ES.IsCallable(itFn))throw new TypeError("value is not an iterable");var it=ES.Call(itFn,o);if(!ES.TypeIsObject(it))throw new TypeError("bad iterator");return it},GetMethod:function(o,p){var func=ES.ToObject(o)[p];if(!isNullOrUndefined(func)){if(!ES.IsCallable(func))throw new TypeError("Method not callable: "+p);return func}},IteratorComplete:function(iterResult){return!!iterResult.done},IteratorClose:function(iterator,completionIsThrow){var returnMethod=ES.GetMethod(iterator,"return");if(void 0!==returnMethod){var innerResult,innerException;try{innerResult=ES.Call(returnMethod,iterator)}catch(e){innerException=e}if(!completionIsThrow){if(innerException)throw innerException;if(!ES.TypeIsObject(innerResult))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(it){var result=arguments.length>1?it.next(arguments[1]):it.next();if(!ES.TypeIsObject(result))throw new TypeError("bad iterator");return result},IteratorStep:function(it){var result=ES.IteratorNext(it);return!ES.IteratorComplete(result)&&result},Construct:function(C,args,newTarget,isES6internal){var target=void 0===newTarget?C:newTarget;if(!isES6internal&&Reflect.construct)return Reflect.construct(C,args,target);var proto=target.prototype;ES.TypeIsObject(proto)||(proto=Object.prototype);var obj=create(proto),result=ES.Call(C,obj,args);return ES.TypeIsObject(result)?result:obj},SpeciesConstructor:function(O,defaultConstructor){var C=O.constructor;if(void 0===C)return defaultConstructor;if(!ES.TypeIsObject(C))throw new TypeError("Bad constructor");var S=C[symbolSpecies];if(isNullOrUndefined(S))return defaultConstructor;if(!ES.IsConstructor(S))throw new TypeError("Bad @@species");return S},CreateHTML:function(string,tag,attribute,value){var S=ES.ToString(string),p1="<"+tag;""!==attribute&&(p1+=" "+attribute+'="'+ES.ToString(value).replace(/"/g,"&quot;")+'"');return p1+">"+S+"</"+tag+">"},IsRegExp:function IsRegExp(argument){if(!ES.TypeIsObject(argument))return!1;var isRegExp=argument[Symbol.match];return void 0!==isRegExp?!!isRegExp:Type_regex(argument)},ToString:function ToString(string){return $String(string)}};if(supportsDescriptors&&hasSymbols){var defineWellKnownSymbol=function defineWellKnownSymbol(name){if(Type_symbol(Symbol[name]))return Symbol[name];var sym=Symbol.for("Symbol."+name);return Object.defineProperty(Symbol,name,{configurable:!1,enumerable:!1,writable:!1,value:sym}),sym};if(!Type_symbol(Symbol.search)){var symbolSearch=defineWellKnownSymbol("search"),originalSearch=String.prototype.search;defineProperty(RegExp.prototype,symbolSearch,function search(string){return ES.Call(originalSearch,string,[this])});overrideNative(String.prototype,"search",function search(regexp){var O=ES.RequireObjectCoercible(this);if(!isNullOrUndefined(regexp)){var searcher=ES.GetMethod(regexp,symbolSearch);if(void 0!==searcher)return ES.Call(searcher,regexp,[O])}return ES.Call(originalSearch,O,[ES.ToString(regexp)])})}if(!Type_symbol(Symbol.replace)){var symbolReplace=defineWellKnownSymbol("replace"),originalReplace=String.prototype.replace;defineProperty(RegExp.prototype,symbolReplace,function replace(string,replaceValue){return ES.Call(originalReplace,string,[this,replaceValue])});overrideNative(String.prototype,"replace",function replace(searchValue,replaceValue){var O=ES.RequireObjectCoercible(this);if(!isNullOrUndefined(searchValue)){var replacer=ES.GetMethod(searchValue,symbolReplace);if(void 0!==replacer)return ES.Call(replacer,searchValue,[O,replaceValue])}return ES.Call(originalReplace,O,[ES.ToString(searchValue),replaceValue])})}if(!Type_symbol(Symbol.split)){var symbolSplit=defineWellKnownSymbol("split"),originalSplit=String.prototype.split;defineProperty(RegExp.prototype,symbolSplit,function split(string,limit){return ES.Call(originalSplit,string,[this,limit])});overrideNative(String.prototype,"split",function split(separator,limit){var O=ES.RequireObjectCoercible(this);if(!isNullOrUndefined(separator)){var splitter=ES.GetMethod(separator,symbolSplit);if(void 0!==splitter)return ES.Call(splitter,separator,[O,limit])}return ES.Call(originalSplit,O,[ES.ToString(separator),limit])})}var symbolMatchExists=Type_symbol(Symbol.match),stringMatchIgnoresSymbolMatch=symbolMatchExists&&((o={})[Symbol.match]=function(){return 42},42!=="a".match(o));if(!symbolMatchExists||stringMatchIgnoresSymbolMatch){var symbolMatch=defineWellKnownSymbol("match"),originalMatch=String.prototype.match;defineProperty(RegExp.prototype,symbolMatch,function match(string){return ES.Call(originalMatch,string,[this])});overrideNative(String.prototype,"match",function match(regexp){var O=ES.RequireObjectCoercible(this);if(!isNullOrUndefined(regexp)){var matcher=ES.GetMethod(regexp,symbolMatch);if(void 0!==matcher)return ES.Call(matcher,regexp,[O])}return ES.Call(originalMatch,O,[ES.ToString(regexp)])})}}var wrapConstructor=function wrapConstructor(original,replacement,keysToSkip){Value_preserveToString(replacement,original),Object.setPrototypeOf&&Object.setPrototypeOf(original,replacement),supportsDescriptors?_forEach(Object.getOwnPropertyNames(original),function(key){key in noop||keysToSkip[key]||Value_proxy(original,key,replacement)}):_forEach(Object.keys(original),function(key){key in noop||keysToSkip[key]||(replacement[key]=original[key])}),replacement.prototype=original.prototype,Value_redefine(original.prototype,"constructor",replacement)},defaultSpeciesGetter=function(){return this},addDefaultSpecies=function(C){supportsDescriptors&&!_hasOwnProperty(C,symbolSpecies)&&Value_getter(C,symbolSpecies,defaultSpeciesGetter)},addIterator=function(prototype,impl){var implementation=impl||function iterator(){return this};defineProperty(prototype,$iterator$,implementation),!prototype[$iterator$]&&Type_symbol($iterator$)&&(prototype[$iterator$]=implementation)},createDataPropertyOrThrow=function createDataPropertyOrThrow(object,name,value){if(function createDataProperty(object,name,value){supportsDescriptors?Object.defineProperty(object,name,{configurable:!0,enumerable:!0,writable:!0,value:value}):object[name]=value}(object,name,value),!ES.SameValue(object[name],value))throw new TypeError("property is nonconfigurable")},emulateES6construct=function(o,defaultNewTarget,defaultProto,slots){if(!ES.TypeIsObject(o))throw new TypeError("Constructor requires `new`: "+defaultNewTarget.name);var proto=defaultNewTarget.prototype;ES.TypeIsObject(proto)||(proto=defaultProto);var obj=create(proto);for(var name in slots)if(_hasOwnProperty(slots,name)){var value=slots[name];defineProperty(obj,name,value,!0)}return obj};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var originalFromCodePoint=String.fromCodePoint;overrideNative(String,"fromCodePoint",function fromCodePoint(codePoints){return ES.Call(originalFromCodePoint,this,arguments)})}var StringShims={fromCodePoint:function fromCodePoint(codePoints){for(var next,result=[],i=0,length=arguments.length;i<length;i++){if(next=Number(arguments[i]),!ES.SameValue(next,ES.ToInteger(next))||next<0||next>1114111)throw new RangeError("Invalid code point "+next);next<65536?_push(result,String.fromCharCode(next)):(next-=65536,_push(result,String.fromCharCode(55296+(next>>10))),_push(result,String.fromCharCode(next%1024+56320)))}return result.join("")},raw:function raw(callSite){var cooked=ES.ToObject(callSite,"bad callSite"),rawString=ES.ToObject(cooked.raw,"bad raw value"),len=rawString.length,literalsegments=ES.ToLength(len);if(literalsegments<=0)return"";for(var nextKey,next,nextSeg,nextSub,stringElements=[],nextIndex=0;nextIndex<literalsegments&&(nextKey=ES.ToString(nextIndex),nextSeg=ES.ToString(rawString[nextKey]),_push(stringElements,nextSeg),!(nextIndex+1>=literalsegments));)next=nextIndex+1<arguments.length?arguments[nextIndex+1]:"",nextSub=ES.ToString(next),_push(stringElements,nextSub),nextIndex+=1;return stringElements.join("")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&overrideNative(String,"raw",StringShims.raw),defineProperties(String,StringShims);var StringPrototypeShims={repeat:function repeat(times){var thisStr=ES.ToString(ES.RequireObjectCoercible(this)),numTimes=ES.ToInteger(times);if(numTimes<0||numTimes>=1/0)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return function repeat(s,times){if(times<1)return"";if(times%2)return repeat(s,times-1)+s;var half=repeat(s,times/2);return half+half}(thisStr,numTimes)},startsWith:function startsWith(searchString){var S=ES.ToString(ES.RequireObjectCoercible(this));if(ES.IsRegExp(searchString))throw new TypeError('Cannot call method "startsWith" with a regex');var position,searchStr=ES.ToString(searchString);arguments.length>1&&(position=arguments[1]);var start=_max(ES.ToInteger(position),0);return _strSlice(S,start,start+searchStr.length)===searchStr},endsWith:function endsWith(searchString){var S=ES.ToString(ES.RequireObjectCoercible(this));if(ES.IsRegExp(searchString))throw new TypeError('Cannot call method "endsWith" with a regex');var endPosition,searchStr=ES.ToString(searchString),len=S.length;arguments.length>1&&(endPosition=arguments[1]);var pos=void 0===endPosition?len:ES.ToInteger(endPosition),end=_min(_max(pos,0),len);return _strSlice(S,end-searchStr.length,end)===searchStr},includes:function includes(searchString){if(ES.IsRegExp(searchString))throw new TypeError('"includes" does not accept a RegExp');var position,searchStr=ES.ToString(searchString);return arguments.length>1&&(position=arguments[1]),-1!==_indexOf(this,searchStr,position)},codePointAt:function codePointAt(pos){var thisStr=ES.ToString(ES.RequireObjectCoercible(this)),position=ES.ToInteger(pos),length=thisStr.length;if(position>=0&&position<length){var first=thisStr.charCodeAt(position);if(first<55296||first>56319||position+1===length)return first;var second=thisStr.charCodeAt(position+1);return second<56320||second>57343?first:1024*(first-55296)+(second-56320)+65536}}};if(String.prototype.includes&&!1!=="a".includes("a",1/0)&&overrideNative(String.prototype,"includes",StringPrototypeShims.includes),String.prototype.startsWith&&String.prototype.endsWith){var startsWithRejectsRegex=throwsError(function(){"/a/".startsWith(/a/)}),startsWithHandlesInfinity=valueOrFalseIfThrows(function(){return!1==="abc".startsWith("a",1/0)});startsWithRejectsRegex&&startsWithHandlesInfinity||(overrideNative(String.prototype,"startsWith",StringPrototypeShims.startsWith),overrideNative(String.prototype,"endsWith",StringPrototypeShims.endsWith))}hasSymbols&&(valueOrFalseIfThrows(function(){var re=/a/;return re[Symbol.match]=!1,"/a/".startsWith(re)})||overrideNative(String.prototype,"startsWith",StringPrototypeShims.startsWith),valueOrFalseIfThrows(function(){var re=/a/;return re[Symbol.match]=!1,"/a/".endsWith(re)})||overrideNative(String.prototype,"endsWith",StringPrototypeShims.endsWith),valueOrFalseIfThrows(function(){var re=/a/;return re[Symbol.match]=!1,"/a/".includes(re)})||overrideNative(String.prototype,"includes",StringPrototypeShims.includes));defineProperties(String.prototype,StringPrototypeShims);var ws=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),trimRegexp=new RegExp("(^["+ws+"]+)|(["+ws+"]+$)","g"),trimShim=function trim(){return ES.ToString(ES.RequireObjectCoercible(this)).replace(trimRegexp,"")},nonWS=["","​","￾"].join(""),nonWSregex=new RegExp("["+nonWS+"]","g"),isBadHexRegex=/^[-+]0x[0-9a-f]+$/i,hasStringTrimBug=nonWS.trim().length!==nonWS.length;defineProperty(String.prototype,"trim",trimShim,hasStringTrimBug);var iteratorResult=function(x){return{value:x,done:0===arguments.length}},StringIterator=function(s){ES.RequireObjectCoercible(s),this._s=ES.ToString(s),this._i=0};StringIterator.prototype.next=function(){var s=this._s,i=this._i;if(void 0===s||i>=s.length)return this._s=void 0,iteratorResult();var second,len,first=s.charCodeAt(i);return len=first<55296||first>56319||i+1===s.length?1:(second=s.charCodeAt(i+1))<56320||second>57343?1:2,this._i=i+len,iteratorResult(s.substr(i,len))},addIterator(StringIterator.prototype),addIterator(String.prototype,function(){return new StringIterator(this)});var ArrayShims={from:function from(items){var mapFn,mapping,T,length,result,i,C=this;if(arguments.length>1&&(mapFn=arguments[1]),void 0===mapFn)mapping=!1;else{if(!ES.IsCallable(mapFn))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(T=arguments[2]),mapping=!0}if(void 0!==(isArguments(items)||ES.GetMethod(items,$iterator$))){result=ES.IsConstructor(C)?Object(new C):[];var next,nextValue,iterator=ES.GetIterator(items);for(i=0;!1!==(next=ES.IteratorStep(iterator));){nextValue=next.value;try{mapping&&(nextValue=void 0===T?mapFn(nextValue,i):_call(mapFn,T,nextValue,i)),result[i]=nextValue}catch(e){throw ES.IteratorClose(iterator,!0),e}i+=1}length=i}else{var value,arrayLike=ES.ToObject(items);for(length=ES.ToLength(arrayLike.length),result=ES.IsConstructor(C)?Object(new C(length)):new Array(length),i=0;i<length;++i)value=arrayLike[i],mapping&&(value=void 0===T?mapFn(value,i):_call(mapFn,T,value,i)),createDataPropertyOrThrow(result,i,value)}return result.length=length,result},of:function of(){for(var len=arguments.length,C=this,A=isArray(C)||!ES.IsCallable(C)?new Array(len):ES.Construct(C,[len]),k=0;k<len;++k)createDataPropertyOrThrow(A,k,arguments[k]);return A.length=len,A}};defineProperties(Array,ArrayShims),addDefaultSpecies(Array),defineProperties((ArrayIterator=function(array,kind){this.i=0,this.array=array,this.kind=kind}).prototype,{next:function(){var i=this.i,array=this.array;if(!(this instanceof ArrayIterator))throw new TypeError("Not an ArrayIterator");if(void 0!==array)for(var len=ES.ToLength(array.length);i<len;i++){var retval,kind=this.kind;return"key"===kind?retval=i:"value"===kind?retval=array[i]:"entry"===kind&&(retval=[i,array[i]]),this.i=i+1,iteratorResult(retval)}return this.array=void 0,iteratorResult()}}),addIterator(ArrayIterator.prototype),Array.of===ArrayShims.of||function(){var Foo=function Foo(len){this.length=len};Foo.prototype=[];var fooArr=Array.of.apply(Foo,[1,2]);return fooArr instanceof Foo&&2===fooArr.length}()||overrideNative(Array,"of",ArrayShims.of);var ArrayPrototypeShims={copyWithin:function copyWithin(target,start){var end,o=ES.ToObject(this),len=ES.ToLength(o.length),relativeTarget=ES.ToInteger(target),relativeStart=ES.ToInteger(start),to=relativeTarget<0?_max(len+relativeTarget,0):_min(relativeTarget,len),from=relativeStart<0?_max(len+relativeStart,0):_min(relativeStart,len);arguments.length>2&&(end=arguments[2]);var relativeEnd=void 0===end?len:ES.ToInteger(end),finalItem=relativeEnd<0?_max(len+relativeEnd,0):_min(relativeEnd,len),count=_min(finalItem-from,len-to),direction=1;for(from<to&&to<from+count&&(direction=-1,from+=count-1,to+=count-1);count>0;)from in o?o[to]=o[from]:delete o[to],from+=direction,to+=direction,count-=1;return o},fill:function fill(value){var start,end;arguments.length>1&&(start=arguments[1]),arguments.length>2&&(end=arguments[2]);var O=ES.ToObject(this),len=ES.ToLength(O.length);start=ES.ToInteger(void 0===start?0:start),end=ES.ToInteger(void 0===end?len:end);for(var relativeStart=start<0?_max(len+start,0):_min(start,len),relativeEnd=end<0?len+end:end,i=relativeStart;i<len&&i<relativeEnd;++i)O[i]=value;return O},find:function find(predicate){var list=ES.ToObject(this),length=ES.ToLength(list.length);if(!ES.IsCallable(predicate))throw new TypeError("Array#find: predicate must be a function");for(var value,thisArg=arguments.length>1?arguments[1]:null,i=0;i<length;i++)if(value=list[i],thisArg){if(_call(predicate,thisArg,value,i,list))return value}else if(predicate(value,i,list))return value},findIndex:function findIndex(predicate){var list=ES.ToObject(this),length=ES.ToLength(list.length);if(!ES.IsCallable(predicate))throw new TypeError("Array#findIndex: predicate must be a function");for(var thisArg=arguments.length>1?arguments[1]:null,i=0;i<length;i++)if(thisArg){if(_call(predicate,thisArg,list[i],i,list))return i}else if(predicate(list[i],i,list))return i;return-1},keys:function keys(){return new ArrayIterator(this,"key")},values:function values(){return new ArrayIterator(this,"value")},entries:function entries(){return new ArrayIterator(this,"entry")}};if(Array.prototype.keys&&!ES.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!ES.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[$iterator$]&&(defineProperties(Array.prototype,{values:Array.prototype[$iterator$]}),Type_symbol(Symbol.unscopables)&&(Array.prototype[Symbol.unscopables].values=!0)),functionsHaveNames&&Array.prototype.values&&"values"!==Array.prototype.values.name){var originalArrayPrototypeValues=Array.prototype.values;overrideNative(Array.prototype,"values",function values(){return ES.Call(originalArrayPrototypeValues,this,arguments)}),defineProperty(Array.prototype,$iterator$,Array.prototype.values,!0)}defineProperties(Array.prototype,ArrayPrototypeShims),1/[!0].indexOf(!0,-0)<0&&defineProperty(Array.prototype,"indexOf",function indexOf(searchElement){var value=_arrayIndexOfApply(this,arguments);return 0===value&&1/value<0?0:value},!0),addIterator(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&addIterator(Object.getPrototypeOf([].values()));var arr,arrayFromSwallowsNegativeLengths=valueOrFalseIfThrows(function(){return 0===Array.from({length:-1}).length}),arrayFromHandlesIterables=1===(arr=Array.from([0].entries())).length&&isArray(arr[0])&&0===arr[0][0]&&0===arr[0][1];if(arrayFromSwallowsNegativeLengths&&arrayFromHandlesIterables||overrideNative(Array,"from",ArrayShims.from),!valueOrFalseIfThrows(function(){return Array.from([0],void 0)})){var origArrayFrom=Array.from;overrideNative(Array,"from",function from(items){return arguments.length>1&&void 0!==arguments[1]?ES.Call(origArrayFrom,this,arguments):_call(origArrayFrom,this,items)})}var int32sAsOne=-(Math.pow(2,32)-1),toLengthsCorrectly=function(method,reversed){var obj={length:int32sAsOne};return obj[reversed?(obj.length>>>0)-1:0]=!0,valueOrFalseIfThrows(function(){return _call(method,obj,function(){throw new RangeError("should not reach here")},[]),!0})};if(!toLengthsCorrectly(Array.prototype.forEach)){var originalForEach=Array.prototype.forEach;overrideNative(Array.prototype,"forEach",function forEach(callbackFn){return ES.Call(originalForEach,this.length>=0?this:[],arguments)})}if(!toLengthsCorrectly(Array.prototype.map)){var originalMap=Array.prototype.map;overrideNative(Array.prototype,"map",function map(callbackFn){return ES.Call(originalMap,this.length>=0?this:[],arguments)})}if(!toLengthsCorrectly(Array.prototype.filter)){var originalFilter=Array.prototype.filter;overrideNative(Array.prototype,"filter",function filter(callbackFn){return ES.Call(originalFilter,this.length>=0?this:[],arguments)})}if(!toLengthsCorrectly(Array.prototype.some)){var originalSome=Array.prototype.some;overrideNative(Array.prototype,"some",function some(callbackFn){return ES.Call(originalSome,this.length>=0?this:[],arguments)})}if(!toLengthsCorrectly(Array.prototype.every)){var originalEvery=Array.prototype.every;overrideNative(Array.prototype,"every",function every(callbackFn){return ES.Call(originalEvery,this.length>=0?this:[],arguments)})}if(!toLengthsCorrectly(Array.prototype.reduce)){var originalReduce=Array.prototype.reduce;overrideNative(Array.prototype,"reduce",function reduce(callbackFn){return ES.Call(originalReduce,this.length>=0?this:[],arguments)})}if(!toLengthsCorrectly(Array.prototype.reduceRight,!0)){var originalReduceRight=Array.prototype.reduceRight;overrideNative(Array.prototype,"reduceRight",function reduceRight(callbackFn){return ES.Call(originalReduceRight,this.length>=0?this:[],arguments)})}var lacksOctalSupport=8!==Number("0o10"),lacksBinarySupport=2!==Number("0b10"),trimsNonWhitespace=_some(nonWS,function(c){return 0===Number(c+0+c)});if(lacksOctalSupport||lacksBinarySupport||trimsNonWhitespace){var OrigNumber=Number,binaryRegex=/^0b[01]+$/i,octalRegex=/^0o[0-7]+$/i,isBinary=binaryRegex.test.bind(binaryRegex),isOctal=octalRegex.test.bind(octalRegex),hasNonWS=nonWSregex.test.bind(nonWSregex),isBadHex=isBadHexRegex.test.bind(isBadHexRegex),NumberShim=function(){var NumberShim=function Number(value){var primValue;"string"==typeof(primValue=arguments.length>0?Type_primitive(value)?value:function(O){var result;if("function"==typeof O.valueOf&&(result=O.valueOf(),Type_primitive(result)))return result;if("function"==typeof O.toString&&(result=O.toString(),Type_primitive(result)))return result;throw new TypeError("No default value")}(value):0)&&(primValue=ES.Call(trimShim,primValue),isBinary(primValue)?primValue=parseInt(_strSlice(primValue,2),2):isOctal(primValue)?primValue=parseInt(_strSlice(primValue,2),8):(hasNonWS(primValue)||isBadHex(primValue))&&(primValue=NaN));var receiver=this,valueOfSucceeds=valueOrFalseIfThrows(function(){return OrigNumber.prototype.valueOf.call(receiver),!0});return receiver instanceof NumberShim&&!valueOfSucceeds?new OrigNumber(primValue):OrigNumber(primValue)};return NumberShim}();wrapConstructor(OrigNumber,NumberShim,{}),defineProperties(NumberShim,{NaN:OrigNumber.NaN,MAX_VALUE:OrigNumber.MAX_VALUE,MIN_VALUE:OrigNumber.MIN_VALUE,NEGATIVE_INFINITY:OrigNumber.NEGATIVE_INFINITY,POSITIVE_INFINITY:OrigNumber.POSITIVE_INFINITY}),Number=NumberShim,Value_redefine(globals,"Number",NumberShim)}var maxSafeInteger=Math.pow(2,53)-1;defineProperties(Number,{MAX_SAFE_INTEGER:maxSafeInteger,MIN_SAFE_INTEGER:-maxSafeInteger,EPSILON:2.220446049250313e-16,parseInt:globals.parseInt,parseFloat:globals.parseFloat,isFinite:numberIsFinite,isInteger:function isInteger(value){return numberIsFinite(value)&&ES.ToInteger(value)===value},isSafeInteger:function isSafeInteger(value){return Number.isInteger(value)&&_abs(value)<=Number.MAX_SAFE_INTEGER},isNaN:numberIsNaN}),defineProperty(Number,"parseInt",globals.parseInt,Number.parseInt!==globals.parseInt),1===[,1].find(function(){return!0})&&overrideNative(Array.prototype,"find",ArrayPrototypeShims.find),0!==[,1].findIndex(function(){return!0})&&overrideNative(Array.prototype,"findIndex",ArrayPrototypeShims.findIndex);var FAKENULL,gpo,spo,isEnumerableOn=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),ensureEnumerable=function ensureEnumerable(obj,prop){supportsDescriptors&&isEnumerableOn(obj,prop)&&Object.defineProperty(obj,prop,{enumerable:!1})},sliceArgs=function sliceArgs(){for(var initial=Number(this),len=arguments.length,desiredArgCount=len-initial,args=new Array(desiredArgCount<0?0:desiredArgCount),i=initial;i<len;++i)args[i-initial]=arguments[i];return args},assignTo=function assignTo(source){return function assignToSource(target,key){return target[key]=source[key],target}},assignReducer=function(target,source){var symbols,sourceKeys=keys(Object(source));return ES.IsCallable(Object.getOwnPropertySymbols)&&(symbols=_filter(Object.getOwnPropertySymbols(Object(source)),isEnumerableOn(source))),_reduce(_concat(sourceKeys,symbols||[]),assignTo(source),target)},ObjectShims={assign:function(target,source){var to=ES.ToObject(target,"Cannot convert undefined or null to object");return _reduce(ES.Call(sliceArgs,1,arguments),assignReducer,to)},is:function is(a,b){return ES.SameValue(a,b)}};if(Object.assign&&Object.preventExtensions&&function(){var thrower=Object.preventExtensions({1:2});try{Object.assign(thrower,"xy")}catch(e){return"y"===thrower[1]}}()&&overrideNative(Object,"assign",ObjectShims.assign),defineProperties(Object,ObjectShims),supportsDescriptors){var ES5ObjectShims={setPrototypeOf:function(Object,magic){var set,setPrototypeOf=function(O,proto){return function(O,proto){if(!ES.TypeIsObject(O))throw new TypeError("cannot set prototype on a non-object");if(null!==proto&&!ES.TypeIsObject(proto))throw new TypeError("can only set prototype to an object or null"+proto)}(O,proto),_call(set,O,proto),O};try{set=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,_call(set,{},null)}catch(e){if(Object.prototype!=={}.__proto__)return;set=function(proto){this.__proto__=proto},setPrototypeOf.polyfill=setPrototypeOf(setPrototypeOf({},null),Object.prototype)instanceof Object}return setPrototypeOf}(Object)};defineProperties(Object,ES5ObjectShims)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&(FAKENULL=Object.create(null),gpo=Object.getPrototypeOf,spo=Object.setPrototypeOf,Object.getPrototypeOf=function(o){var result=gpo(o);return result===FAKENULL?null:result},Object.setPrototypeOf=function(o,p){return spo(o,null===p?FAKENULL:p)},Object.setPrototypeOf.polyfill=!1),!!throwsError(function(){Object.keys("foo")})){var originalObjectKeys=Object.keys;overrideNative(Object,"keys",function keys(value){return originalObjectKeys(ES.ToObject(value))}),keys=Object.keys}if(throwsError(function(){Object.keys(/a/g)})){var regexRejectingObjectKeys=Object.keys;overrideNative(Object,"keys",function keys(value){if(Type_regex(value)){var regexKeys=[];for(var k in value)_hasOwnProperty(value,k)&&_push(regexKeys,k);return regexKeys}return regexRejectingObjectKeys(value)}),keys=Object.keys}if(Object.getOwnPropertyNames&&!!throwsError(function(){Object.getOwnPropertyNames("foo")})){var cachedWindowNames="object"==typeof window?Object.getOwnPropertyNames(window):[],originalObjectGetOwnPropertyNames=Object.getOwnPropertyNames;overrideNative(Object,"getOwnPropertyNames",function getOwnPropertyNames(value){var val=ES.ToObject(value);if("[object Window]"===_toString(val))try{return originalObjectGetOwnPropertyNames(val)}catch(e){return _concat([],cachedWindowNames)}return originalObjectGetOwnPropertyNames(val)})}if(Object.getOwnPropertyDescriptor&&!!throwsError(function(){Object.getOwnPropertyDescriptor("foo","bar")})){var originalObjectGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;overrideNative(Object,"getOwnPropertyDescriptor",function getOwnPropertyDescriptor(value,property){return originalObjectGetOwnPropertyDescriptor(ES.ToObject(value),property)})}if(Object.seal&&!!throwsError(function(){Object.seal("foo")})){var originalObjectSeal=Object.seal;overrideNative(Object,"seal",function seal(value){return ES.TypeIsObject(value)?originalObjectSeal(value):value})}if(Object.isSealed&&!!throwsError(function(){Object.isSealed("foo")})){var originalObjectIsSealed=Object.isSealed;overrideNative(Object,"isSealed",function isSealed(value){return!ES.TypeIsObject(value)||originalObjectIsSealed(value)})}if(Object.freeze&&!!throwsError(function(){Object.freeze("foo")})){var originalObjectFreeze=Object.freeze;overrideNative(Object,"freeze",function freeze(value){return ES.TypeIsObject(value)?originalObjectFreeze(value):value})}if(Object.isFrozen&&!!throwsError(function(){Object.isFrozen("foo")})){var originalObjectIsFrozen=Object.isFrozen;overrideNative(Object,"isFrozen",function isFrozen(value){return!ES.TypeIsObject(value)||originalObjectIsFrozen(value)})}if(Object.preventExtensions&&!!throwsError(function(){Object.preventExtensions("foo")})){var originalObjectPreventExtensions=Object.preventExtensions;overrideNative(Object,"preventExtensions",function preventExtensions(value){return ES.TypeIsObject(value)?originalObjectPreventExtensions(value):value})}if(Object.isExtensible&&!!throwsError(function(){Object.isExtensible("foo")})){var originalObjectIsExtensible=Object.isExtensible;overrideNative(Object,"isExtensible",function isExtensible(value){return!!ES.TypeIsObject(value)&&originalObjectIsExtensible(value)})}if(Object.getPrototypeOf&&!!throwsError(function(){Object.getPrototypeOf("foo")})){var originalGetProto=Object.getPrototypeOf;overrideNative(Object,"getPrototypeOf",function getPrototypeOf(value){return originalGetProto(ES.ToObject(value))})}var desc,hasFlags=supportsDescriptors&&((desc=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags"))&&ES.IsCallable(desc.get));if(supportsDescriptors&&!hasFlags){Value_getter(RegExp.prototype,"flags",function flags(){if(!ES.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var result="";return this.global&&(result+="g"),this.ignoreCase&&(result+="i"),this.multiline&&(result+="m"),this.unicode&&(result+="u"),this.sticky&&(result+="y"),result})}var regex,regExpSupportsFlagsWithRegex=supportsDescriptors&&valueOrFalseIfThrows(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),regExpNeedsToSupportSymbolMatch=hasSymbols&&supportsDescriptors&&((regex=/./)[Symbol.match]=!1,RegExp(regex)===regex),regexToStringIsGeneric=valueOrFalseIfThrows(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),regexToStringSupportsGenericFlags=regexToStringIsGeneric&&valueOrFalseIfThrows(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!regexToStringIsGeneric||!regexToStringSupportsGenericFlags){var origRegExpToString=RegExp.prototype.toString;defineProperty(RegExp.prototype,"toString",function toString(){var R=ES.RequireObjectCoercible(this);return Type_regex(R)?_call(origRegExpToString,R):"/"+$String(R.source)+"/"+$String(R.flags)},!0),Value_preserveToString(RegExp.prototype.toString,origRegExpToString)}if(supportsDescriptors&&(!regExpSupportsFlagsWithRegex||regExpNeedsToSupportSymbolMatch)){var flagsGetter=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,sourceDesc=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},sourceGetter=ES.IsCallable(sourceDesc.get)?sourceDesc.get:function(){return this.source},OrigRegExp=RegExp,RegExpShim=function RegExp(pattern,flags){var patternIsRegExp=ES.IsRegExp(pattern);return this instanceof RegExp||!patternIsRegExp||void 0!==flags||pattern.constructor!==RegExp?Type_regex(pattern)?new RegExp(ES.Call(sourceGetter,pattern),void 0===flags?ES.Call(flagsGetter,pattern):flags):(patternIsRegExp&&(pattern.source,void 0===flags&&pattern.flags),new OrigRegExp(pattern,flags)):pattern};wrapConstructor(OrigRegExp,RegExpShim,{$input:!0}),RegExp=RegExpShim,Value_redefine(globals,"RegExp",RegExpShim)}if(supportsDescriptors){var regexGlobals={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};_forEach(keys(regexGlobals),function(prop){prop in RegExp&&!(regexGlobals[prop]in RegExp)&&Value_getter(RegExp,regexGlobals[prop],function get(){return RegExp[prop]})})}addDefaultSpecies(RegExp);var inverseEpsilon=1/Number.EPSILON,BINARY_32_EPSILON=Math.pow(2,-23),BINARY_32_MAX_VALUE=Math.pow(2,127)*(2-BINARY_32_EPSILON),BINARY_32_MIN_VALUE=Math.pow(2,-126),E=Math.E,LOG2E=Math.LOG2E,LOG10E=Math.LOG10E,numberCLZ=Number.prototype.clz;delete Number.prototype.clz;var MathShims={acosh:function acosh(value){var x=Number(value);return numberIsNaN(x)||value<1?NaN:1===x?0:x===1/0?x:_log(x/E+_sqrt(x+1)*_sqrt(x-1)/E)+1},asinh:function asinh(value){var x=Number(value);return 0!==x&&globalIsFinite(x)?x<0?-asinh(-x):_log(x+_sqrt(x*x+1)):x},atanh:function atanh(value){var x=Number(value);return numberIsNaN(x)||x<-1||x>1?NaN:-1===x?-1/0:1===x?1/0:0===x?x:.5*_log((1+x)/(1-x))},cbrt:function cbrt(value){var x=Number(value);if(0===x)return x;var result,negate=x<0;return negate&&(x=-x),result=x===1/0?1/0:(x/((result=_exp(_log(x)/3))*result)+2*result)/3,negate?-result:result},clz32:function clz32(value){var x=Number(value),number=ES.ToUint32(x);return 0===number?32:numberCLZ?ES.Call(numberCLZ,number):31-_floor(_log(number+.5)*LOG2E)},cosh:function cosh(value){var x=Number(value);return 0===x?1:numberIsNaN(x)?NaN:globalIsFinite(x)?(x<0&&(x=-x),x>21?_exp(x)/2:(_exp(x)+_exp(-x))/2):1/0},expm1:function expm1(value){var x=Number(value);if(x===-1/0)return-1;if(!globalIsFinite(x)||0===x)return x;if(_abs(x)>.5)return _exp(x)-1;for(var t=x,sum=0,n=1;sum+t!==sum;)sum+=t,t*=x/(n+=1);return sum},hypot:function hypot(x,y){for(var result=0,largest=0,i=0;i<arguments.length;++i){var value=_abs(Number(arguments[i]));largest<value?(result*=largest/value*(largest/value),result+=1,largest=value):result+=value>0?value/largest*(value/largest):value}return largest===1/0?1/0:largest*_sqrt(result)},log2:function log2(value){return _log(value)*LOG2E},log10:function log10(value){return _log(value)*LOG10E},log1p:function log1p(value){var x=Number(value);return x<-1||numberIsNaN(x)?NaN:0===x||x===1/0?x:-1===x?-1/0:1+x-1==0?x:x*(_log(1+x)/(1+x-1))},sign:_sign,sinh:function sinh(value){var x=Number(value);return globalIsFinite(x)&&0!==x?_abs(x)<1?(Math.expm1(x)-Math.expm1(-x))/2:(_exp(x-1)-_exp(-x-1))*E/2:x},tanh:function tanh(value){var x=Number(value);return numberIsNaN(x)||0===x?x:x>=20?1:x<=-20?-1:(Math.expm1(x)-Math.expm1(-x))/(_exp(x)+_exp(-x))},trunc:function trunc(value){var x=Number(value);return x<0?-_floor(-x):_floor(x)},imul:function imul(x,y){var a=ES.ToUint32(x),b=ES.ToUint32(y),al=65535&a,bl=65535&b;return al*bl+((a>>>16&65535)*bl+al*(b>>>16&65535)<<16>>>0)|0},fround:function fround(x){var v=Number(x);if(0===v||v===1/0||v===-1/0||numberIsNaN(v))return v;var sign=_sign(v),abs=_abs(v);if(abs<BINARY_32_MIN_VALUE)return sign*function roundTiesToEven(n){return n+inverseEpsilon-inverseEpsilon}(abs/BINARY_32_MIN_VALUE/BINARY_32_EPSILON)*BINARY_32_MIN_VALUE*BINARY_32_EPSILON;var a=(1+BINARY_32_EPSILON/Number.EPSILON)*abs,result=a-(a-abs);return result>BINARY_32_MAX_VALUE||numberIsNaN(result)?sign*(1/0):sign*result}};defineProperties(Math,MathShims),defineProperty(Math,"log1p",MathShims.log1p,-1e-17!==Math.log1p(-1e-17)),defineProperty(Math,"asinh",MathShims.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),defineProperty(Math,"tanh",MathShims.tanh,-2e-17!==Math.tanh(-2e-17)),defineProperty(Math,"acosh",MathShims.acosh,Math.acosh(Number.MAX_VALUE)===1/0),defineProperty(Math,"cbrt",MathShims.cbrt,Math.abs(1-Math.cbrt(1e-300)/1e-100)/Number.EPSILON>8),defineProperty(Math,"sinh",MathShims.sinh,-2e-17!==Math.sinh(-2e-17));var expm1OfTen=Math.expm1(10);defineProperty(Math,"expm1",MathShims.expm1,expm1OfTen>22025.465794806718||expm1OfTen<22025.465794806718);var origMathRound=Math.round,roundHandlesBoundaryConditions=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(Number.EPSILON/3.99-.5),roundDoesNotIncreaseIntegers=[inverseEpsilon+1,2*inverseEpsilon-1].every(function(num){return Math.round(num)===num});defineProperty(Math,"round",function round(x){var floor=_floor(x);return x-floor<.5?floor:-1===floor?-0:floor+1},!roundHandlesBoundaryConditions||!roundDoesNotIncreaseIntegers),Value_preserveToString(Math.round,origMathRound);var origImul=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=MathShims.imul,Value_preserveToString(Math.imul,origImul)),2!==Math.imul.length&&overrideNative(Math,"imul",function imul(x,y){return ES.Call(origImul,Math,arguments)});var count,thenable,PromiseShim=function(){var setTimeout=globals.setTimeout;if("function"==typeof setTimeout||"object"==typeof setTimeout){ES.IsPromise=function(promise){return!!ES.TypeIsObject(promise)&&void 0!==promise._promise};var makeZeroTimeout,PromiseCapability=function(C){if(!ES.IsConstructor(C))throw new TypeError("Bad promise constructor");var capability=this;if(capability.resolve=void 0,capability.reject=void 0,capability.promise=new C(function(resolve,reject){if(void 0!==capability.resolve||void 0!==capability.reject)throw new TypeError("Bad Promise implementation!");capability.resolve=resolve,capability.reject=reject}),!ES.IsCallable(capability.resolve)||!ES.IsCallable(capability.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&ES.IsCallable(window.postMessage)&&(makeZeroTimeout=function(){var timeouts=[];return window.addEventListener("message",function(event){if(event.source===window&&"zero-timeout-message"===event.data){if(event.stopPropagation(),0===timeouts.length)return;_shift(timeouts)()}},!0),function(fn){_push(timeouts,fn),window.postMessage("zero-timeout-message","*")}});var P,pr,Promise$prototype,Promise$prototype$then,PromiseShim,enqueue=ES.IsCallable(globals.setImmediate)?globals.setImmediate:"object"==typeof process&&process.nextTick?process.nextTick:(P=globals.Promise,(pr=P&&P.resolve&&P.resolve())&&function(task){return pr.then(task)}||(ES.IsCallable(makeZeroTimeout)?makeZeroTimeout():function(task){setTimeout(task,0)})),PROMISE_IDENTITY=function(x){return x},PROMISE_THROWER=function(e){throw e},PROMISE_FAKE_CAPABILITY={},enqueuePromiseReactionJob=function(handler,capability,argument){enqueue(function(){promiseReactionJob(handler,capability,argument)})},promiseReactionJob=function(handler,promiseCapability,argument){var handlerResult,f;if(promiseCapability===PROMISE_FAKE_CAPABILITY)return handler(argument);try{handlerResult=handler(argument),f=promiseCapability.resolve}catch(e){handlerResult=e,f=promiseCapability.reject}f(handlerResult)},fulfillPromise=function(promise,value){var _promise=promise._promise,length=_promise.reactionLength;if(length>0&&(enqueuePromiseReactionJob(_promise.fulfillReactionHandler0,_promise.reactionCapability0,value),_promise.fulfillReactionHandler0=void 0,_promise.rejectReactions0=void 0,_promise.reactionCapability0=void 0,length>1))for(var i=1,idx=0;i<length;i++,idx+=3)enqueuePromiseReactionJob(_promise[idx+0],_promise[idx+2],value),promise[idx+0]=void 0,promise[idx+1]=void 0,promise[idx+2]=void 0;_promise.result=value,_promise.state=1,_promise.reactionLength=0},rejectPromise=function(promise,reason){var _promise=promise._promise,length=_promise.reactionLength;if(length>0&&(enqueuePromiseReactionJob(_promise.rejectReactionHandler0,_promise.reactionCapability0,reason),_promise.fulfillReactionHandler0=void 0,_promise.rejectReactions0=void 0,_promise.reactionCapability0=void 0,length>1))for(var i=1,idx=0;i<length;i++,idx+=3)enqueuePromiseReactionJob(_promise[idx+1],_promise[idx+2],reason),promise[idx+0]=void 0,promise[idx+1]=void 0,promise[idx+2]=void 0;_promise.result=reason,_promise.state=2,_promise.reactionLength=0},createResolvingFunctions=function(promise){var alreadyResolved=!1;return{resolve:function(resolution){var then;if(!alreadyResolved){if(alreadyResolved=!0,resolution===promise)return rejectPromise(promise,new TypeError("Self resolution"));if(!ES.TypeIsObject(resolution))return fulfillPromise(promise,resolution);try{then=resolution.then}catch(e){return rejectPromise(promise,e)}if(!ES.IsCallable(then))return fulfillPromise(promise,resolution);enqueue(function(){promiseResolveThenableJob(promise,resolution,then)})}},reject:function(reason){if(!alreadyResolved)return alreadyResolved=!0,rejectPromise(promise,reason)}}},optimizedThen=function(then,thenable,resolve,reject){then===Promise$prototype$then?_call(then,thenable,resolve,reject,PROMISE_FAKE_CAPABILITY):_call(then,thenable,resolve,reject)},promiseResolveThenableJob=function(promise,thenable,then){var resolvingFunctions=createResolvingFunctions(promise),resolve=resolvingFunctions.resolve,reject=resolvingFunctions.reject;try{optimizedThen(then,thenable,resolve,reject)}catch(e){reject(e)}},Promise=PromiseShim=function Promise(resolver){if(!(this instanceof PromiseShim))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!ES.IsCallable(resolver))throw new TypeError("not a valid resolver");var promise=emulateES6construct(this,PromiseShim,Promise$prototype,{_promise:{result:void 0,state:0,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),resolvingFunctions=createResolvingFunctions(promise),reject=resolvingFunctions.reject;try{resolver(resolvingFunctions.resolve,reject)}catch(e){reject(e)}return promise};Promise$prototype=Promise.prototype;var _promiseAllResolver=function(index,values,capability,remaining){var alreadyCalled=!1;return function(x){alreadyCalled||(alreadyCalled=!0,values[index]=x,0==--remaining.count&&(0,capability.resolve)(values))}};return defineProperties(Promise,{all:function all(iterable){var C=this;if(!ES.TypeIsObject(C))throw new TypeError("Promise is not object");var iterator,iteratorRecord,capability=new PromiseCapability(C);try{return function(iteratorRecord,C,resultCapability){for(var next,nextValue,it=iteratorRecord.iterator,values=[],remaining={count:1},index=0;;){try{if(!1===(next=ES.IteratorStep(it))){iteratorRecord.done=!0;break}nextValue=next.value}catch(e){throw iteratorRecord.done=!0,e}values[index]=void 0;var nextPromise=C.resolve(nextValue),resolveElement=_promiseAllResolver(index,values,resultCapability,remaining);remaining.count+=1,optimizedThen(nextPromise.then,nextPromise,resolveElement,resultCapability.reject),index+=1}0==--remaining.count&&(0,resultCapability.resolve)(values);return resultCapability.promise}(iteratorRecord={iterator:iterator=ES.GetIterator(iterable),done:!1},C,capability)}catch(e){var exception=e;if(iteratorRecord&&!iteratorRecord.done)try{ES.IteratorClose(iterator,!0)}catch(ee){exception=ee}return(0,capability.reject)(exception),capability.promise}},race:function race(iterable){var C=this;if(!ES.TypeIsObject(C))throw new TypeError("Promise is not object");var iterator,iteratorRecord,capability=new PromiseCapability(C);try{return function(iteratorRecord,C,resultCapability){for(var next,nextValue,nextPromise,it=iteratorRecord.iterator;;){try{if(!1===(next=ES.IteratorStep(it))){iteratorRecord.done=!0;break}nextValue=next.value}catch(e){throw iteratorRecord.done=!0,e}nextPromise=C.resolve(nextValue),optimizedThen(nextPromise.then,nextPromise,resultCapability.resolve,resultCapability.reject)}return resultCapability.promise}(iteratorRecord={iterator:iterator=ES.GetIterator(iterable),done:!1},C,capability)}catch(e){var exception=e;if(iteratorRecord&&!iteratorRecord.done)try{ES.IteratorClose(iterator,!0)}catch(ee){exception=ee}return(0,capability.reject)(exception),capability.promise}},reject:function reject(reason){if(!ES.TypeIsObject(this))throw new TypeError("Bad promise constructor");var capability=new PromiseCapability(this);return(0,capability.reject)(reason),capability.promise},resolve:function resolve(v){var C=this;if(!ES.TypeIsObject(C))throw new TypeError("Bad promise constructor");if(ES.IsPromise(v)&&v.constructor===C)return v;var capability=new PromiseCapability(C);return(0,capability.resolve)(v),capability.promise}}),defineProperties(Promise$prototype,{catch:function(onRejected){return this.then(null,onRejected)},then:function then(onFulfilled,onRejected){if(!ES.IsPromise(this))throw new TypeError("not a promise");var resultCapability,C=ES.SpeciesConstructor(this,Promise);resultCapability=arguments.length>2&&arguments[2]===PROMISE_FAKE_CAPABILITY&&C===Promise?PROMISE_FAKE_CAPABILITY:new PromiseCapability(C);var value,fulfillReactionHandler=ES.IsCallable(onFulfilled)?onFulfilled:PROMISE_IDENTITY,rejectReactionHandler=ES.IsCallable(onRejected)?onRejected:PROMISE_THROWER,_promise=this._promise;if(0===_promise.state){if(0===_promise.reactionLength)_promise.fulfillReactionHandler0=fulfillReactionHandler,_promise.rejectReactionHandler0=rejectReactionHandler,_promise.reactionCapability0=resultCapability;else{var idx=3*(_promise.reactionLength-1);_promise[idx+0]=fulfillReactionHandler,_promise[idx+1]=rejectReactionHandler,_promise[idx+2]=resultCapability}_promise.reactionLength+=1}else if(1===_promise.state)value=_promise.result,enqueuePromiseReactionJob(fulfillReactionHandler,resultCapability,value);else{if(2!==_promise.state)throw new TypeError("unexpected Promise state");value=_promise.result,enqueuePromiseReactionJob(rejectReactionHandler,resultCapability,value)}return resultCapability.promise}}),PROMISE_FAKE_CAPABILITY=new PromiseCapability(Promise),Promise$prototype$then=Promise$prototype.then,Promise}}();if(globals.Promise&&(delete globals.Promise.accept,delete globals.Promise.defer,delete globals.Promise.prototype.chain),"function"==typeof PromiseShim){defineProperties(globals,{Promise:PromiseShim});var promiseSupportsSubclassing=supportsSubclassing(globals.Promise,function(S){return S.resolve(42).then(function(){})instanceof S}),promiseIgnoresNonFunctionThenCallbacks=!throwsError(function(){globals.Promise.reject(42).then(null,5).then(null,noop)}),promiseRequiresObjectContext=throwsError(function(){globals.Promise.call(3,noop)}),promiseResolveBroken=function(Promise){var p=Promise.resolve(5);p.constructor={};var p2=Promise.resolve(p);try{p2.then(null,noop).then(null,noop)}catch(e){return!0}return p===p2}(globals.Promise),getsThenSynchronously=supportsDescriptors&&(count=0,thenable=Object.defineProperty({},"then",{get:function(){count+=1}}),Promise.resolve(thenable),1===count),BadResolverPromise=function BadResolverPromise(executor){var p=new Promise(executor);executor(3,function(){}),this.then=p.then,this.constructor=BadResolverPromise};BadResolverPromise.prototype=Promise.prototype,BadResolverPromise.all=Promise.all;var hasBadResolverPromise=valueOrFalseIfThrows(function(){return!!BadResolverPromise.all([1,2])});if(promiseSupportsSubclassing&&promiseIgnoresNonFunctionThenCallbacks&&promiseRequiresObjectContext&&!promiseResolveBroken&&getsThenSynchronously&&!hasBadResolverPromise||(Promise=PromiseShim,overrideNative(globals,"Promise",PromiseShim)),1!==Promise.all.length){var origAll=Promise.all;overrideNative(Promise,"all",function all(iterable){return ES.Call(origAll,this,arguments)})}if(1!==Promise.race.length){var origRace=Promise.race;overrideNative(Promise,"race",function race(iterable){return ES.Call(origRace,this,arguments)})}if(1!==Promise.resolve.length){var origResolve=Promise.resolve;overrideNative(Promise,"resolve",function resolve(x){return ES.Call(origResolve,this,arguments)})}if(1!==Promise.reject.length){var origReject=Promise.reject;overrideNative(Promise,"reject",function reject(r){return ES.Call(origReject,this,arguments)})}ensureEnumerable(Promise,"all"),ensureEnumerable(Promise,"race"),ensureEnumerable(Promise,"resolve"),ensureEnumerable(Promise,"reject"),addDefaultSpecies(Promise)}var s,m,testOrder=function(a){var b=keys(_reduce(a,function(o,k){return o[k]=!0,o},{}));return a.join(":")===b.join(":")},preservesInsertionOrder=testOrder(["z","a","bb"]),preservesNumericInsertionOrder=testOrder(["z",1,"a","3",2]);if(supportsDescriptors){var fastkey=function fastkey(key,skipInsertionOrderCheck){return skipInsertionOrderCheck||preservesInsertionOrder?isNullOrUndefined(key)?"^"+ES.ToString(key):"string"==typeof key?"$"+key:"number"==typeof key?preservesNumericInsertionOrder?key:"n"+key:"boolean"==typeof key?"b"+key:null:null},emptyObject=function emptyObject(){return Object.create?Object.create(null):{}},addIterableToMap=function addIterableToMap(MapConstructor,map,iterable){if(isArray(iterable)||Type_string(iterable))_forEach(iterable,function(entry){if(!ES.TypeIsObject(entry))throw new TypeError("Iterator value "+entry+" is not an entry object");map.set(entry[0],entry[1])});else if(iterable instanceof MapConstructor)_call(MapConstructor.prototype.forEach,iterable,function(value,key){map.set(key,value)});else{var iter,adder;if(!isNullOrUndefined(iterable)){if(adder=map.set,!ES.IsCallable(adder))throw new TypeError("bad map");iter=ES.GetIterator(iterable)}if(void 0!==iter)for(;;){var next=ES.IteratorStep(iter);if(!1===next)break;var nextItem=next.value;try{if(!ES.TypeIsObject(nextItem))throw new TypeError("Iterator value "+nextItem+" is not an entry object");_call(adder,map,nextItem[0],nextItem[1])}catch(e){throw ES.IteratorClose(iter,!0),e}}}},addIterableToSet=function addIterableToSet(SetConstructor,set,iterable){if(isArray(iterable)||Type_string(iterable))_forEach(iterable,function(value){set.add(value)});else if(iterable instanceof SetConstructor)_call(SetConstructor.prototype.forEach,iterable,function(value){set.add(value)});else{var iter,adder;if(!isNullOrUndefined(iterable)){if(adder=set.add,!ES.IsCallable(adder))throw new TypeError("bad set");iter=ES.GetIterator(iterable)}if(void 0!==iter)for(;;){var next=ES.IteratorStep(iter);if(!1===next)break;var nextValue=next.value;try{_call(adder,set,nextValue)}catch(e){throw ES.IteratorClose(iter,!0),e}}}},collectionShims={Map:function(){var empty={},MapEntry=function MapEntry(key,value){this.key=key,this.value=value,this.next=null,this.prev=null};MapEntry.prototype.isRemoved=function isRemoved(){return this.key===empty};var Map$prototype,requireMapSlot=function requireMapSlot(map,method){if(!ES.TypeIsObject(map)||!function isMap(map){return!!map._es6map}(map))throw new TypeError("Method Map.prototype."+method+" called on incompatible receiver "+ES.ToString(map))},MapIterator=function MapIterator(map,kind){requireMapSlot(map,"[[MapIterator]]"),this.head=map._head,this.i=this.head,this.kind=kind};addIterator(MapIterator.prototype={next:function next(){var result,i=this.i,kind=this.kind,head=this.head;if(void 0===this.i)return iteratorResult();for(;i.isRemoved()&&i!==head;)i=i.prev;for(;i.next!==head;)if(!(i=i.next).isRemoved())return result="key"===kind?i.key:"value"===kind?i.value:[i.key,i.value],this.i=i,iteratorResult(result);return this.i=void 0,iteratorResult()}});var MapShim=function Map(){if(!(this instanceof Map))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var map=emulateES6construct(this,Map,Map$prototype,{_es6map:!0,_head:null,_map:OrigMap?new OrigMap:null,_size:0,_storage:emptyObject()}),head=new MapEntry(null,null);return head.next=head.prev=head,map._head=head,arguments.length>0&&addIterableToMap(Map,map,arguments[0]),map};return Value_getter(Map$prototype=MapShim.prototype,"size",function(){if(void 0===this._size)throw new TypeError("size method called on incompatible Map");return this._size}),defineProperties(Map$prototype,{get:function get(key){var entry;requireMapSlot(this,"get");var fkey=fastkey(key,!0);if(null!==fkey)return(entry=this._storage[fkey])?entry.value:void 0;if(this._map)return(entry=origMapGet.call(this._map,key))?entry.value:void 0;for(var head=this._head,i=head;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return i.value},has:function has(key){requireMapSlot(this,"has");var fkey=fastkey(key,!0);if(null!==fkey)return void 0!==this._storage[fkey];if(this._map)return origMapHas.call(this._map,key);for(var head=this._head,i=head;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return!0;return!1},set:function set(key,value){requireMapSlot(this,"set");var entry,head=this._head,i=head,fkey=fastkey(key,!0);if(null!==fkey){if(void 0!==this._storage[fkey])return this._storage[fkey].value=value,this;entry=this._storage[fkey]=new MapEntry(key,value),i=head.prev}else this._map&&(origMapHas.call(this._map,key)?origMapGet.call(this._map,key).value=value:(entry=new MapEntry(key,value),origMapSet.call(this._map,key,entry),i=head.prev));for(;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return i.value=value,this;return entry=entry||new MapEntry(key,value),ES.SameValue(-0,key)&&(entry.key=0),entry.next=this._head,entry.prev=this._head.prev,entry.prev.next=entry,entry.next.prev=entry,this._size+=1,this},delete:function(key){requireMapSlot(this,"delete");var head=this._head,i=head,fkey=fastkey(key,!0);if(null!==fkey){if(void 0===this._storage[fkey])return!1;i=this._storage[fkey].prev,delete this._storage[fkey]}else if(this._map){if(!origMapHas.call(this._map,key))return!1;i=origMapGet.call(this._map,key).prev,origMapDelete.call(this._map,key)}for(;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return i.key=empty,i.value=empty,i.prev.next=i.next,i.next.prev=i.prev,this._size-=1,!0;return!1},clear:function clear(){requireMapSlot(this,"clear"),this._map=OrigMap?new OrigMap:null,this._size=0,this._storage=emptyObject();for(var head=this._head,i=head,p=i.next;(i=p)!==head;)i.key=empty,i.value=empty,p=i.next,i.next=i.prev=head;head.next=head.prev=head},keys:function keys(){return requireMapSlot(this,"keys"),new MapIterator(this,"key")},values:function values(){return requireMapSlot(this,"values"),new MapIterator(this,"value")},entries:function entries(){return requireMapSlot(this,"entries"),new MapIterator(this,"key+value")},forEach:function forEach(callback){requireMapSlot(this,"forEach");for(var context=arguments.length>1?arguments[1]:null,it=this.entries(),entry=it.next();!entry.done;entry=it.next())context?_call(callback,context,entry.value[1],entry.value[0],this):callback(entry.value[1],entry.value[0],this)}}),addIterator(Map$prototype,Map$prototype.entries),MapShim}(),Set:function(){var Set$prototype,requireSetSlot=function requireSetSlot(set,method){if(!ES.TypeIsObject(set)||!function isSet(set){return set._es6set&&void 0!==set._storage}(set))throw new TypeError("Set.prototype."+method+" called on incompatible receiver "+ES.ToString(set))},SetShim=function Set(){if(!(this instanceof Set))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var set=emulateES6construct(this,Set,Set$prototype,{_es6set:!0,"[[SetData]]":null,_storage:emptyObject()});if(!set._es6set)throw new TypeError("bad set");return arguments.length>0&&addIterableToSet(Set,set,arguments[0]),set};Set$prototype=SetShim.prototype;var ensureMap=function ensureMap(set){if(!set["[[SetData]]"]){var m=new collectionShims.Map;set["[[SetData]]"]=m,_forEach(keys(set._storage),function(key){var k=function(key){var k=key;if("^null"===k)return null;if("^undefined"!==k){var first=k.charAt(0);return"$"===first?_strSlice(k,1):"n"===first?+_strSlice(k,1):"b"===first?"btrue"===k:+k}}(key);m.set(k,k)}),set["[[SetData]]"]=m}set._storage=null};return Value_getter(SetShim.prototype,"size",function(){return requireSetSlot(this,"size"),this._storage?keys(this._storage).length:(ensureMap(this),this["[[SetData]]"].size)}),defineProperties(SetShim.prototype,{has:function has(key){var fkey;return requireSetSlot(this,"has"),this._storage&&null!==(fkey=fastkey(key))?!!this._storage[fkey]:(ensureMap(this),this["[[SetData]]"].has(key))},add:function add(key){var fkey;return requireSetSlot(this,"add"),this._storage&&null!==(fkey=fastkey(key))?(this._storage[fkey]=!0,this):(ensureMap(this),this["[[SetData]]"].set(key,key),this)},delete:function(key){var fkey;if(requireSetSlot(this,"delete"),this._storage&&null!==(fkey=fastkey(key))){var hasFKey=_hasOwnProperty(this._storage,fkey);return delete this._storage[fkey]&&hasFKey}return ensureMap(this),this["[[SetData]]"].delete(key)},clear:function clear(){requireSetSlot(this,"clear"),this._storage&&(this._storage=emptyObject()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function values(){return requireSetSlot(this,"values"),ensureMap(this),this["[[SetData]]"].values()},entries:function entries(){return requireSetSlot(this,"entries"),ensureMap(this),this["[[SetData]]"].entries()},forEach:function forEach(callback){requireSetSlot(this,"forEach");var context=arguments.length>1?arguments[1]:null,entireSet=this;ensureMap(entireSet),this["[[SetData]]"].forEach(function(value,key){context?_call(callback,context,key,key,entireSet):callback(key,key,entireSet)})}}),defineProperty(SetShim.prototype,"keys",SetShim.prototype.values,!0),addIterator(SetShim.prototype,SetShim.prototype.values),SetShim}()};if(globals.Map||globals.Set){valueOrFalseIfThrows(function(){return 2===new Map([[1,2]]).get(1)})||(globals.Map=function Map(){if(!(this instanceof Map))throw new TypeError('Constructor Map requires "new"');var m=new OrigMap;return arguments.length>0&&addIterableToMap(Map,m,arguments[0]),delete m.constructor,Object.setPrototypeOf(m,globals.Map.prototype),m},globals.Map.prototype=create(OrigMap.prototype),defineProperty(globals.Map.prototype,"constructor",globals.Map,!0),Value_preserveToString(globals.Map,OrigMap));var testMap=new Map,mapUsesSameValueZero=((m=new Map([[1,0],[2,0],[3,0],[4,0]])).set(-0,m),m.get(0)===m&&m.get(-0)===m&&m.has(0)&&m.has(-0)),mapSupportsChaining=testMap.set(1,2)===testMap;mapUsesSameValueZero&&mapSupportsChaining||overrideNative(Map.prototype,"set",function set(k,v){return _call(origMapSet,this,0===k?0:k,v),this}),mapUsesSameValueZero||(defineProperties(Map.prototype,{get:function get(k){return _call(origMapGet,this,0===k?0:k)},has:function has(k){return _call(origMapHas,this,0===k?0:k)}},!0),Value_preserveToString(Map.prototype.get,origMapGet),Value_preserveToString(Map.prototype.has,origMapHas));var testSet=new Set,setUsesSameValueZero=((s=testSet).delete(0),s.add(-0),!s.has(0)),setSupportsChaining=testSet.add(1)===testSet;if(!setUsesSameValueZero||!setSupportsChaining){var origSetAdd=Set.prototype.add;Set.prototype.add=function add(v){return _call(origSetAdd,this,0===v?0:v),this},Value_preserveToString(Set.prototype.add,origSetAdd)}if(!setUsesSameValueZero){var origSetHas=Set.prototype.has;Set.prototype.has=function has(v){return _call(origSetHas,this,0===v?0:v)},Value_preserveToString(Set.prototype.has,origSetHas);var origSetDel=Set.prototype.delete;Set.prototype.delete=function SetDelete(v){return _call(origSetDel,this,0===v?0:v)},Value_preserveToString(Set.prototype.delete,origSetDel)}var mapSupportsSubclassing=supportsSubclassing(globals.Map,function(M){var m=new M([]);return m.set(42,42),m instanceof M}),mapFailsToSupportSubclassing=Object.setPrototypeOf&&!mapSupportsSubclassing,mapRequiresNew=function(){try{return!(globals.Map()instanceof globals.Map)}catch(e){return e instanceof TypeError}}();0===globals.Map.length&&!mapFailsToSupportSubclassing&&mapRequiresNew||(globals.Map=function Map(){if(!(this instanceof Map))throw new TypeError('Constructor Map requires "new"');var m=new OrigMap;return arguments.length>0&&addIterableToMap(Map,m,arguments[0]),delete m.constructor,Object.setPrototypeOf(m,Map.prototype),m},globals.Map.prototype=OrigMap.prototype,defineProperty(globals.Map.prototype,"constructor",globals.Map,!0),Value_preserveToString(globals.Map,OrigMap));var setSupportsSubclassing=supportsSubclassing(globals.Set,function(S){var s=new S([]);return s.add(42,42),s instanceof S}),setFailsToSupportSubclassing=Object.setPrototypeOf&&!setSupportsSubclassing,setRequiresNew=function(){try{return!(globals.Set()instanceof globals.Set)}catch(e){return e instanceof TypeError}}();if(0!==globals.Set.length||setFailsToSupportSubclassing||!setRequiresNew){var OrigSet=globals.Set;globals.Set=function Set(){if(!(this instanceof Set))throw new TypeError('Constructor Set requires "new"');var s=new OrigSet;return arguments.length>0&&addIterableToSet(Set,s,arguments[0]),delete s.constructor,Object.setPrototypeOf(s,Set.prototype),s},globals.Set.prototype=OrigSet.prototype,defineProperty(globals.Set.prototype,"constructor",globals.Set,!0),Value_preserveToString(globals.Set,OrigSet)}var newMap=new globals.Map,mapIterationThrowsStopIterator=!valueOrFalseIfThrows(function(){return newMap.keys().next().done});if(("function"!=typeof globals.Map.prototype.clear||0!==(new globals.Set).size||0!==newMap.size||"function"!=typeof globals.Map.prototype.keys||"function"!=typeof globals.Set.prototype.keys||"function"!=typeof globals.Map.prototype.forEach||"function"!=typeof globals.Set.prototype.forEach||isCallableWithoutNew(globals.Map)||isCallableWithoutNew(globals.Set)||"function"!=typeof newMap.keys().next||mapIterationThrowsStopIterator||!mapSupportsSubclassing)&&defineProperties(globals,{Map:collectionShims.Map,Set:collectionShims.Set},!0),globals.Set.prototype.keys!==globals.Set.prototype.values&&defineProperty(globals.Set.prototype,"keys",globals.Set.prototype.values,!0),addIterator(Object.getPrototypeOf((new globals.Map).keys())),addIterator(Object.getPrototypeOf((new globals.Set).keys())),functionsHaveNames&&"has"!==globals.Set.prototype.has.name){var anonymousSetHas=globals.Set.prototype.has;overrideNative(globals.Set.prototype,"has",function has(key){return _call(anonymousSetHas,this,key)})}}defineProperties(globals,collectionShims),addDefaultSpecies(globals.Map),addDefaultSpecies(globals.Set)}var throwUnlessTargetIsObject=function throwUnlessTargetIsObject(target){if(!ES.TypeIsObject(target))throw new TypeError("target must be an object")},ReflectShims={apply:function apply(){return ES.Call(ES.Call,null,arguments)},construct:function construct(constructor,args){if(!ES.IsConstructor(constructor))throw new TypeError("First argument must be a constructor.");var newTarget=arguments.length>2?arguments[2]:constructor;if(!ES.IsConstructor(newTarget))throw new TypeError("new.target must be a constructor.");return ES.Construct(constructor,args,newTarget,"internal")},deleteProperty:function deleteProperty(target,key){if(throwUnlessTargetIsObject(target),supportsDescriptors){var desc=Object.getOwnPropertyDescriptor(target,key);if(desc&&!desc.configurable)return!1}return delete target[key]},has:function has(target,key){return throwUnlessTargetIsObject(target),key in target}};Object.getOwnPropertyNames&&Object.assign(ReflectShims,{ownKeys:function ownKeys(target){throwUnlessTargetIsObject(target);var keys=Object.getOwnPropertyNames(target);return ES.IsCallable(Object.getOwnPropertySymbols)&&_pushApply(keys,Object.getOwnPropertySymbols(target)),keys}});var callAndCatchException=function ConvertExceptionToBoolean(func){return!throwsError(func)};if(Object.preventExtensions&&Object.assign(ReflectShims,{isExtensible:function isExtensible(target){return throwUnlessTargetIsObject(target),Object.isExtensible(target)},preventExtensions:function preventExtensions(target){return throwUnlessTargetIsObject(target),callAndCatchException(function(){Object.preventExtensions(target)})}}),supportsDescriptors){var internalGet=function get(target,key,receiver){var desc=Object.getOwnPropertyDescriptor(target,key);if(!desc){var parent=Object.getPrototypeOf(target);if(null===parent)return;return internalGet(parent,key,receiver)}return"value"in desc?desc.value:desc.get?ES.Call(desc.get,receiver):void 0},internalSet=function set(target,key,value,receiver){var desc=Object.getOwnPropertyDescriptor(target,key);if(!desc){var parent=Object.getPrototypeOf(target);if(null!==parent)return internalSet(parent,key,value,receiver);desc={value:void 0,writable:!0,enumerable:!0,configurable:!0}}return"value"in desc?!!desc.writable&&(!!ES.TypeIsObject(receiver)&&(Object.getOwnPropertyDescriptor(receiver,key)?Reflect.defineProperty(receiver,key,{value:value}):Reflect.defineProperty(receiver,key,{value:value,writable:!0,enumerable:!0,configurable:!0}))):!!desc.set&&(_call(desc.set,receiver,value),!0)};Object.assign(ReflectShims,{defineProperty:function defineProperty(target,propertyKey,attributes){return throwUnlessTargetIsObject(target),callAndCatchException(function(){Object.defineProperty(target,propertyKey,attributes)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(target,propertyKey){return throwUnlessTargetIsObject(target),Object.getOwnPropertyDescriptor(target,propertyKey)},get:function get(target,key){throwUnlessTargetIsObject(target);var receiver=arguments.length>2?arguments[2]:target;return internalGet(target,key,receiver)},set:function set(target,key,value){throwUnlessTargetIsObject(target);var receiver=arguments.length>3?arguments[3]:target;return internalSet(target,key,value,receiver)}})}if(Object.getPrototypeOf){var objectDotGetPrototypeOf=Object.getPrototypeOf;ReflectShims.getPrototypeOf=function getPrototypeOf(target){return throwUnlessTargetIsObject(target),objectDotGetPrototypeOf(target)}}if(Object.setPrototypeOf&&ReflectShims.getPrototypeOf){Object.assign(ReflectShims,{setPrototypeOf:function setPrototypeOf(object,proto){if(throwUnlessTargetIsObject(object),null!==proto&&!ES.TypeIsObject(proto))throw new TypeError("proto must be an object or null");return proto===Reflect.getPrototypeOf(object)||!(Reflect.isExtensible&&!Reflect.isExtensible(object))&&(!function(object,lastProto){for(var proto=lastProto;proto;){if(object===proto)return!0;proto=ReflectShims.getPrototypeOf(proto)}return!1}(object,proto)&&(Object.setPrototypeOf(object,proto),!0))}})}Object.keys(ReflectShims).forEach(function(key){!function(key,shim){ES.IsCallable(globals.Reflect[key])?valueOrFalseIfThrows(function(){return globals.Reflect[key](1),globals.Reflect[key](NaN),globals.Reflect[key](!0),!0})&&overrideNative(globals.Reflect,key,shim):defineProperty(globals.Reflect,key,shim)}(key,ReflectShims[key])});var originalReflectGetProto=globals.Reflect.getPrototypeOf;if(functionsHaveNames&&originalReflectGetProto&&"getPrototypeOf"!==originalReflectGetProto.name&&overrideNative(globals.Reflect,"getPrototypeOf",function getPrototypeOf(target){return _call(originalReflectGetProto,globals.Reflect,target)}),globals.Reflect.setPrototypeOf&&valueOrFalseIfThrows(function(){return globals.Reflect.setPrototypeOf(1,{}),!0})&&overrideNative(globals.Reflect,"setPrototypeOf",ReflectShims.setPrototypeOf),globals.Reflect.defineProperty&&(valueOrFalseIfThrows(function(){var basic=!globals.Reflect.defineProperty(1,"test",{value:1}),extensible="function"!=typeof Object.preventExtensions||!globals.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return basic&&extensible})||overrideNative(globals.Reflect,"defineProperty",ReflectShims.defineProperty)),globals.Reflect.construct&&(valueOrFalseIfThrows(function(){var F=function F(){};return globals.Reflect.construct(function(){},[],F)instanceof F})||overrideNative(globals.Reflect,"construct",ReflectShims.construct)),"Invalid Date"!==String(new Date(NaN))){var dateToString=Date.prototype.toString;overrideNative(Date.prototype,"toString",function toString(){var valueOf=+this;return valueOf!=valueOf?"Invalid Date":ES.Call(dateToString,this)})}var stringHTMLshims={anchor:function anchor(name){return ES.CreateHTML(this,"a","name",name)},big:function big(){return ES.CreateHTML(this,"big","","")},blink:function blink(){return ES.CreateHTML(this,"blink","","")},bold:function bold(){return ES.CreateHTML(this,"b","","")},fixed:function fixed(){return ES.CreateHTML(this,"tt","","")},fontcolor:function fontcolor(color){return ES.CreateHTML(this,"font","color",color)},fontsize:function fontsize(size){return ES.CreateHTML(this,"font","size",size)},italics:function italics(){return ES.CreateHTML(this,"i","","")},link:function link(url){return ES.CreateHTML(this,"a","href",url)},small:function small(){return ES.CreateHTML(this,"small","","")},strike:function strike(){return ES.CreateHTML(this,"strike","","")},sub:function sub(){return ES.CreateHTML(this,"sub","","")},sup:function sub(){return ES.CreateHTML(this,"sup","","")}};_forEach(Object.keys(stringHTMLshims),function(key){var method=String.prototype[key],shouldOverwrite=!1;if(ES.IsCallable(method)){var output=_call(method,"",' " '),quotesCount=_concat([],output.match(/"/g)).length;shouldOverwrite=output!==output.toLowerCase()||quotesCount>2}else shouldOverwrite=!0;shouldOverwrite&&overrideNative(String.prototype,key,stringHTMLshims[key])});var JSONstringifiesSymbols=function(){if(!hasSymbols)return!1;var stringify="object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!stringify)return!1;if(void 0!==stringify(Symbol()))return!0;if("[null]"!==stringify([Symbol()]))return!0;var obj={a:Symbol()};return obj[Symbol()]=!0,"{}"!==stringify(obj)}(),JSONstringifyAcceptsObjectSymbol=valueOrFalseIfThrows(function(){return!hasSymbols||"{}"===JSON.stringify(Object(Symbol()))&&"[{}]"===JSON.stringify([Object(Symbol())])});if(JSONstringifiesSymbols||!JSONstringifyAcceptsObjectSymbol){var origStringify=JSON.stringify;overrideNative(JSON,"stringify",function stringify(value){if("symbol"!=typeof value){var replacer;arguments.length>1&&(replacer=arguments[1]);var args=[value];if(isArray(replacer))args.push(replacer);else{var replaceFn=ES.IsCallable(replacer)?replacer:null;args.push(function(key,val){var parsedValue=replaceFn?_call(replaceFn,this,key,val):val;if("symbol"!=typeof parsedValue)return Type_symbol(parsedValue)?assignTo({})(parsedValue):parsedValue})}return arguments.length>2&&args.push(arguments[2]),origStringify.apply(this,args)}})}return globals})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(exports,__webpack_require__(13),__webpack_require__(61))},function(module,exports,__webpack_require__){"use strict";var supportsDescriptors=__webpack_require__(5).supportsDescriptors,functionsHaveNames=__webpack_require__(178),getPolyfill=__webpack_require__(327),defineProperty=Object.defineProperty,TypeErr=TypeError;module.exports=function shimName(){var polyfill=getPolyfill();if(functionsHaveNames)return polyfill;if(!supportsDescriptors)throw new TypeErr("Shimming Function.prototype.name support requires ES5 property descriptor support.");var functionProto=Function.prototype;return defineProperty(functionProto,"name",{configurable:!0,enumerable:!1,get:function(){var name=polyfill.call(this);return this!==functionProto&&defineProperty(this,"name",{configurable:!0,enumerable:!1,value:name,writable:!1}),name}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,slice=Array.prototype.slice,isArgs=__webpack_require__(325),isEnumerable=Object.prototype.propertyIsEnumerable,hasDontEnumBug=!isEnumerable.call({toString:null},"toString"),hasProtoEnumBug=isEnumerable.call(function(){},"prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o},excludedKeys={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var k in window)try{if(!excludedKeys["$"+k]&&has.call(window,k)&&null!==window[k]&&"object"==typeof window[k])try{equalsConstructorPrototype(window[k])}catch(e){return!0}}catch(e){return!0}return!1}(),keysShim=function keys(object){var isObject=null!==object&&"object"==typeof object,isFunction="[object Function]"===toStr.call(object),isArguments=isArgs(object),isString=isObject&&"[object String]"===toStr.call(object),theKeys=[];if(!isObject&&!isFunction&&!isArguments)throw new TypeError("Object.keys called on a non-object");var skipProto=hasProtoEnumBug&&isFunction;if(isString&&object.length>0&&!has.call(object,0))for(var i=0;i<object.length;++i)theKeys.push(String(i));if(isArguments&&object.length>0)for(var j=0;j<object.length;++j)theKeys.push(String(j));else for(var name in object)skipProto&&"prototype"===name||!has.call(object,name)||theKeys.push(String(name));if(hasDontEnumBug)for(var skipConstructor=function(o){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(o);try{return equalsConstructorPrototype(o)}catch(e){return!1}}(object),k=0;k<dontEnums.length;++k)skipConstructor&&"constructor"===dontEnums[k]||!has.call(object,dontEnums[k])||theKeys.push(dontEnums[k]);return theKeys};keysShim.shim=function shimObjectKeys(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var originalKeys=Object.keys;Object.keys=function keys(object){return isArgs(object)?originalKeys(slice.call(object)):originalKeys(object)}}}else Object.keys=keysShim;return Object.keys||keysShim},module.exports=keysShim},function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString;module.exports=function isArguments(value){var str=toStr.call(value),isArgs="[object Arguments]"===str;return isArgs||(isArgs="[object Array]"!==str&&null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Function]"===toStr.call(value.callee)),isArgs}},function(module,exports){var hasOwn=Object.prototype.hasOwnProperty,toString=Object.prototype.toString;module.exports=function forEach(obj,fn,ctx){if("[object Function]"!==toString.call(fn))throw new TypeError("iterator must be a function");var l=obj.length;if(l===+l)for(var i=0;i<l;i++)fn.call(ctx,obj[i],i,obj);else for(var k in obj)hasOwn.call(obj,k)&&fn.call(ctx,obj[k],k,obj)}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(328);module.exports=function getPolyfill(){return implementation}},function(module,exports,__webpack_require__){"use strict";var isCallable=__webpack_require__(62),functionsHaveNames=__webpack_require__(178),bind=__webpack_require__(25),functionToString=bind.call(Function.call,Function.prototype.toString),stringMatch=bind.call(Function.call,String.prototype.match),classRegex=/^class /,regex=/\s*function\s+([^(\s]*)\s*/,functionProto=Function.prototype;module.exports=function getName(){if(!function isClassConstructor(fn){if(isCallable(fn))return!1;if("function"!=typeof fn)return!1;try{return!!stringMatch(functionToString(fn),classRegex)}catch(e){}return!1}(this)&&!isCallable(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if(functionsHaveNames)return this.name;if(this===functionProto)return"";var str=functionToString(this),match=stringMatch(str,regex);return match&&match[1]}},function(module,exports,__webpack_require__){"use strict";var slice=Array.prototype.slice,toStr=Object.prototype.toString;module.exports=function bind(that){var target=this;if("function"!=typeof target||"[object Function]"!==toStr.call(target))throw new TypeError("Function.prototype.bind called on incompatible "+target);for(var bound,args=slice.call(arguments,1),boundLength=Math.max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)boundArgs.push("$"+i);if(bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))}),target.prototype){var Empty=function Empty(){};Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null}return bound}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(331)(),__webpack_require__(339)},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(5),getPolyfill=__webpack_require__(332);module.exports=function shimArrayPrototypeIncludes(){var polyfill=getPolyfill();return define(Array.prototype,{includes:polyfill},{includes:function(){return Array.prototype.includes!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(333);module.exports=function getPolyfill(){return Array.prototype.includes||implementation}},function(module,exports,__webpack_require__){"use strict";(function(global){var ES=__webpack_require__(334),$isNaN=Number.isNaN||function isNaN(a){return a!=a},$isFinite=Number.isFinite||function isFinite(n){return"number"==typeof n&&global.isFinite(n)},indexOf=Array.prototype.indexOf;module.exports=function includes(searchElement){var fromIndex=arguments.length>1?ES.ToInteger(arguments[1]):0;if(indexOf&&!$isNaN(searchElement)&&$isFinite(fromIndex)&&void 0!==searchElement)return indexOf.apply(this,arguments)>-1;var O=ES.ToObject(this),length=ES.ToLength(O.length);if(0===length)return!1;for(var k=fromIndex>=0?fromIndex:Math.max(0,length+fromIndex);k<length;){if(ES.SameValueZero(searchElement,O[k]))return!0;k+=1}return!1}}).call(exports,__webpack_require__(13))},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(179)},function(module,exports,__webpack_require__){"use strict";var getDay=Date.prototype.getDay,toStr=Object.prototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function isDateObject(value){return"object"==typeof value&&null!==value&&(hasToStringTag?function tryDateObject(value){try{return getDay.call(value),!0}catch(e){return!1}}(value):"[object Date]"===toStr.call(value))}},function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString;if("function"==typeof Symbol&&"symbol"==typeof Symbol()){var symToStr=Symbol.prototype.toString,symStringRegex=/^Symbol\(.*\)$/;module.exports=function isSymbol(value){if("symbol"==typeof value)return!0;if("[object Symbol]"!==toStr.call(value))return!1;try{return function isSymbolObject(value){return"symbol"==typeof value.valueOf()&&symStringRegex.test(symToStr.call(value))}(value)}catch(e){return!1}}}else module.exports=function isSymbol(value){return!1}},function(module,exports){module.exports=function isPrimitive(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},function(module,exports,__webpack_require__){"use strict";var $isNaN=__webpack_require__(182),$isFinite=__webpack_require__(183),sign=__webpack_require__(184),mod=__webpack_require__(185),IsCallable=__webpack_require__(62),toPrimitive=__webpack_require__(186),has=__webpack_require__(36),ES5={ToPrimitive:toPrimitive,ToBoolean:function ToBoolean(value){return!!value},ToNumber:function ToNumber(value){return Number(value)},ToInteger:function ToInteger(value){var number=this.ToNumber(value);return $isNaN(number)?0:0!==number&&$isFinite(number)?sign(number)*Math.floor(Math.abs(number)):number},ToInt32:function ToInt32(x){return this.ToNumber(x)>>0},ToUint32:function ToUint32(x){return this.ToNumber(x)>>>0},ToUint16:function ToUint16(value){var number=this.ToNumber(value);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*Math.floor(Math.abs(number));return mod(posInt,65536)},ToString:function ToString(value){return String(value)},ToObject:function ToObject(value){return this.CheckObjectCoercible(value),Object(value)},CheckObjectCoercible:function CheckObjectCoercible(value,optMessage){if(null==value)throw new TypeError(optMessage||"Cannot call method on "+value);return value},IsCallable:IsCallable,SameValue:function SameValue(x,y){return x===y?0!==x||1/x==1/y:$isNaN(x)&&$isNaN(y)},Type:function Type(x){return null===x?"Null":void 0===x?"Undefined":"function"==typeof x||"object"==typeof x?"Object":"number"==typeof x?"Number":"boolean"==typeof x?"Boolean":"string"==typeof x?"String":void 0},IsPropertyDescriptor:function IsPropertyDescriptor(Desc){if("Object"!==this.Type(Desc))return!1;var allowed={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var key in Desc)if(has(Desc,key)&&!allowed[key])return!1;var isData=has(Desc,"[[Value]]"),IsAccessor=has(Desc,"[[Get]]")||has(Desc,"[[Set]]");if(isData&&IsAccessor)throw new TypeError("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function IsAccessorDescriptor(Desc){if(void 0===Desc)return!1;if(!this.IsPropertyDescriptor(Desc))throw new TypeError("Desc must be a Property Descriptor");return!(!has(Desc,"[[Get]]")&&!has(Desc,"[[Set]]"))},IsDataDescriptor:function IsDataDescriptor(Desc){if(void 0===Desc)return!1;if(!this.IsPropertyDescriptor(Desc))throw new TypeError("Desc must be a Property Descriptor");return!(!has(Desc,"[[Value]]")&&!has(Desc,"[[Writable]]"))},IsGenericDescriptor:function IsGenericDescriptor(Desc){if(void 0===Desc)return!1;if(!this.IsPropertyDescriptor(Desc))throw new TypeError("Desc must be a Property Descriptor");return!this.IsAccessorDescriptor(Desc)&&!this.IsDataDescriptor(Desc)},FromPropertyDescriptor:function FromPropertyDescriptor(Desc){if(void 0===Desc)return Desc;if(!this.IsPropertyDescriptor(Desc))throw new TypeError("Desc must be a Property Descriptor");if(this.IsDataDescriptor(Desc))return{value:Desc["[[Value]]"],writable:!!Desc["[[Writable]]"],enumerable:!!Desc["[[Enumerable]]"],configurable:!!Desc["[[Configurable]]"]};if(this.IsAccessorDescriptor(Desc))return{get:Desc["[[Get]]"],set:Desc["[[Set]]"],enumerable:!!Desc["[[Enumerable]]"],configurable:!!Desc["[[Configurable]]"]};throw new TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function ToPropertyDescriptor(Obj){if("Object"!==this.Type(Obj))throw new TypeError("ToPropertyDescriptor requires an object");var desc={};if(has(Obj,"enumerable")&&(desc["[[Enumerable]]"]=this.ToBoolean(Obj.enumerable)),has(Obj,"configurable")&&(desc["[[Configurable]]"]=this.ToBoolean(Obj.configurable)),has(Obj,"value")&&(desc["[[Value]]"]=Obj.value),has(Obj,"writable")&&(desc["[[Writable]]"]=this.ToBoolean(Obj.writable)),has(Obj,"get")){var getter=Obj.get;if(void 0!==getter&&!this.IsCallable(getter))throw new TypeError("getter must be a function");desc["[[Get]]"]=getter}if(has(Obj,"set")){var setter=Obj.set;if(void 0!==setter&&!this.IsCallable(setter))throw new TypeError("setter must be a function");desc["[[Set]]"]=setter}if((has(desc,"[[Get]]")||has(desc,"[[Set]]"))&&(has(desc,"[[Value]]")||has(desc,"[[Writable]]")))throw new TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return desc}};module.exports=ES5},function(module,exports,__webpack_require__){"use strict";__webpack_require__(340)(),__webpack_require__(343)(),__webpack_require__(346)(),__webpack_require__(349)(),__webpack_require__(352)(),__webpack_require__(355)},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(341),define=__webpack_require__(5);module.exports=function shimValues(){var polyfill=getPolyfill();return define(Object,{values:polyfill},{values:function testValues(){return Object.values!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(342);module.exports=function getPolyfill(){return"function"==typeof Object.values?Object.values:implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(46),has=__webpack_require__(36),isEnumerable=__webpack_require__(25).call(Function.call,Object.prototype.propertyIsEnumerable);module.exports=function values(O){var obj=ES.RequireObjectCoercible(O),vals=[];for(var key in obj)has(obj,key)&&isEnumerable(obj,key)&&vals.push(obj[key]);return vals}},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(344),define=__webpack_require__(5);module.exports=function shimEntries(){var polyfill=getPolyfill();return define(Object,{entries:polyfill},{entries:function testEntries(){return Object.entries!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(345);module.exports=function getPolyfill(){return"function"==typeof Object.entries?Object.entries:implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(46),has=__webpack_require__(36),isEnumerable=__webpack_require__(25).call(Function.call,Object.prototype.propertyIsEnumerable);module.exports=function entries(O){var obj=ES.RequireObjectCoercible(O),entrys=[];for(var key in obj)has(obj,key)&&isEnumerable(obj,key)&&entrys.push([key,obj[key]]);return entrys}},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(347),define=__webpack_require__(5);module.exports=function shimPadStart(){var polyfill=getPolyfill();return define(String.prototype,{padStart:polyfill},{padStart:function(){return String.prototype.padStart!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(348);module.exports=function getPolyfill(){return"function"==typeof String.prototype.padStart?String.prototype.padStart:implementation}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(25),ES=__webpack_require__(46),slice=bind.call(Function.call,String.prototype.slice);module.exports=function padStart(maxLength){var fillString,O=ES.RequireObjectCoercible(this),S=ES.ToString(O),stringLength=ES.ToLength(S.length);arguments.length>1&&(fillString=arguments[1]);var filler=void 0===fillString?"":ES.ToString(fillString);""===filler&&(filler=" ");var intMaxLength=ES.ToLength(maxLength);if(intMaxLength<=stringLength)return S;for(var fillLen=intMaxLength-stringLength;filler.length<fillLen;){var fLen=filler.length,remainingCodeUnits=fillLen-fLen;filler+=fLen>remainingCodeUnits?slice(filler,0,remainingCodeUnits):filler}return(filler.length>fillLen?slice(filler,0,fillLen):filler)+S}},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(350),define=__webpack_require__(5);module.exports=function shimPadEnd(){var polyfill=getPolyfill();return define(String.prototype,{padEnd:polyfill},{padEnd:function(){return String.prototype.padEnd!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(351);module.exports=function getPolyfill(){return"function"==typeof String.prototype.padEnd?String.prototype.padEnd:implementation}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(25),ES=__webpack_require__(46),slice=bind.call(Function.call,String.prototype.slice);module.exports=function padEnd(maxLength){var fillString,O=ES.RequireObjectCoercible(this),S=ES.ToString(O),stringLength=ES.ToLength(S.length);arguments.length>1&&(fillString=arguments[1]);var filler=void 0===fillString?"":ES.ToString(fillString);""===filler&&(filler=" ");var intMaxLength=ES.ToLength(maxLength);if(intMaxLength<=stringLength)return S;for(var fillLen=intMaxLength-stringLength;filler.length<fillLen;){var fLen=filler.length,remainingCodeUnits=fillLen-fLen;filler+=fLen>remainingCodeUnits?slice(filler,0,remainingCodeUnits):filler}return S+(filler.length>fillLen?slice(filler,0,fillLen):filler)}},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(353),define=__webpack_require__(5);module.exports=function shimGetOwnPropertyDescriptors(){var polyfill=getPolyfill();return define(Object,{getOwnPropertyDescriptors:polyfill},{getOwnPropertyDescriptors:function(){return Object.getOwnPropertyDescriptors!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(354);module.exports=function getPolyfill(){return"function"==typeof Object.getOwnPropertyDescriptors?Object.getOwnPropertyDescriptors:implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(46),defineProperty=Object.defineProperty,getDescriptor=Object.getOwnPropertyDescriptor,getOwnNames=Object.getOwnPropertyNames,getSymbols=Object.getOwnPropertySymbols,concat=Function.call.bind(Array.prototype.concat),reduce=Function.call.bind(Array.prototype.reduce),getAll=getSymbols?function(obj){return concat(getOwnNames(obj),getSymbols(obj))}:getOwnNames,isES5=ES.IsCallable(getDescriptor)&&ES.IsCallable(getOwnNames);module.exports=function getOwnPropertyDescriptors(value){if(ES.RequireObjectCoercible(value),!isES5)throw new TypeError("getOwnPropertyDescriptors requires Object.getOwnPropertyDescriptor");var O=ES.ToObject(value);return reduce(getAll(O),function(acc,key){var descriptor=getDescriptor(O,key);return void 0!==descriptor&&function put(obj,prop,val){defineProperty&&prop in obj?defineProperty(obj,prop,{configurable:!0,enumerable:!0,value:val,writable:!0}):obj[prop]=val}(acc,key,descriptor),acc},{})}},function(module,exports,__webpack_require__){"use strict";"function"==typeof Promise&&__webpack_require__(356),__webpack_require__(360)(),__webpack_require__(363)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(357)()},function(module,exports,__webpack_require__){"use strict";var requirePromise=__webpack_require__(117),getPolyfill=__webpack_require__(358),define=__webpack_require__(5);module.exports=function shimPromiseFinally(){requirePromise();var polyfill=getPolyfill();return define(Promise.prototype,{finally:polyfill},{finally:function testFinally(){return Promise.prototype.finally!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var requirePromise=__webpack_require__(117),implementation=__webpack_require__(359);module.exports=function getPolyfill(){return requirePromise(),"function"==typeof Promise.prototype.finally?Promise.prototype.finally:implementation}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(117)();var ES=__webpack_require__(46),bind=__webpack_require__(25),promiseResolve=function PromiseResolve(C,value){return new C(function(resolve){resolve(value)})},OriginalPromise=Promise,then=bind.call(Function.call,OriginalPromise.prototype.then),promiseFinally=function finally_(onFinally){then(this,null,function(){});var C=ES.SpeciesConstructor(this,OriginalPromise),thenFinally=onFinally,catchFinally=onFinally;return ES.IsCallable(onFinally)&&(thenFinally=function CreateThenFinally(C,onFinally){return function(value){var result=onFinally();return promiseResolve(C,result).then(function(){return value})}}(C,onFinally),catchFinally=function CreateCatchFinally(C,onFinally){return function(reason){var result=onFinally();return promiseResolve(C,result).then(function(){throw reason})}}(C,onFinally)),this.then(thenFinally,catchFinally)};if(Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(promiseFinally,"name");descriptor&&descriptor.configurable&&Object.defineProperty(promiseFinally,"name",{configurable:!0,value:"finally"})}module.exports=promiseFinally},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(5),getPolyfill=__webpack_require__(361);module.exports=function shimFlatten(){var polyfill=getPolyfill();return define(Array.prototype,{flatten:polyfill},{flatten:function(){return Array.prototype.flatten!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(362);module.exports=function getPolyfill(){return Array.prototype.flatten||implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(118),MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;module.exports=function flatten(){var O=ES.ToObject(this),sourceLen=ES.ToLength(ES.Get(O,"length")),depthNum=1;arguments.length>0&&void 0!==arguments[0]&&(depthNum=ES.ToInteger(arguments[0]));var A=ES.ArraySpeciesCreate(O,0);return function FlattenIntoArray(target,source,sourceLen,start,depth){for(var targetIndex=start,sourceIndex=0;sourceIndex<sourceLen;){var P=ES.ToString(sourceIndex);if(ES.HasProperty(source,P)){var element=ES.Get(source,P),shouldFlatten=!1;if(depth>0&&(shouldFlatten=ES.IsArray(element)),shouldFlatten)targetIndex=FlattenIntoArray(target,element,ES.ToLength(ES.Get(element,"length")),targetIndex,depth-1);else{if(targetIndex>=MAX_SAFE_INTEGER)throw new TypeError("index too large");ES.CreateDataPropertyOrThrow(target,ES.ToString(targetIndex),element),targetIndex+=1}}sourceIndex+=1}return targetIndex}(A,O,sourceLen,0,depthNum),A}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(364),__webpack_require__(368),__webpack_require__(372),__webpack_require__(377)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(365)()},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(5),getPolyfill=__webpack_require__(366);module.exports=function shimFlat(){var polyfill=getPolyfill();return define(Array.prototype,{flat:polyfill},{flat:function(){return Array.prototype.flat!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(367);module.exports=function getPolyfill(){return Array.prototype.flat||implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(118),MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;module.exports=function flat(){var O=ES.ToObject(this),sourceLen=ES.ToLength(ES.Get(O,"length")),depthNum=1;arguments.length>0&&void 0!==arguments[0]&&(depthNum=ES.ToInteger(arguments[0]));var A=ES.ArraySpeciesCreate(O,0);return function FlattenIntoArray(target,source,sourceLen,start,depth){for(var targetIndex=start,sourceIndex=0;sourceIndex<sourceLen;){var P=ES.ToString(sourceIndex);if(ES.HasProperty(source,P)){var element=ES.Get(source,P),shouldFlatten=!1;if(depth>0&&(shouldFlatten=ES.IsArray(element)),shouldFlatten)targetIndex=FlattenIntoArray(target,element,ES.ToLength(ES.Get(element,"length")),targetIndex,depth-1);else{if(targetIndex>=MAX_SAFE_INTEGER)throw new TypeError("index too large");ES.CreateDataPropertyOrThrow(target,ES.ToString(targetIndex),element),targetIndex+=1}}sourceIndex+=1}return targetIndex}(A,O,sourceLen,0,depthNum),A}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(369)()},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(5),getPolyfill=__webpack_require__(370);module.exports=function shimFlatMap(){var polyfill=getPolyfill();return define(Array.prototype,{flatMap:polyfill},{flatMap:function(){return Array.prototype.flatMap!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(371);module.exports=function getPolyfill(){return Array.prototype.flatMap||implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(118),MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;module.exports=function flatMap(callbackfn){var T,O=ES.ToObject(this),sourceLen=ES.ToLength(ES.Get(O,"length"));if(!ES.IsCallable(callbackfn))throw new TypeError("callback must be a function");arguments.length>1&&(T=arguments[1]);var A=ES.ArraySpeciesCreate(O,0);return function FlattenIntoArray(target,source,sourceLen,start,depth){var mapperFunction,targetIndex=start,sourceIndex=0;for(arguments.length>5&&(mapperFunction=arguments[5]);sourceIndex<sourceLen;){var P=ES.ToString(sourceIndex);if(ES.HasProperty(source,P)){var element=ES.Get(source,P);if(void 0!==mapperFunction){if(arguments.length<=6)throw new TypeError("Assertion failed: thisArg is required when mapperFunction is provided");element=ES.Call(mapperFunction,arguments[6],[element,sourceIndex,source])}var shouldFlatten=!1;if(depth>0&&(shouldFlatten=ES.IsArray(element)),shouldFlatten)targetIndex=FlattenIntoArray(target,element,ES.ToLength(ES.Get(element,"length")),targetIndex,depth-1);else{if(targetIndex>=MAX_SAFE_INTEGER)throw new TypeError("index too large");ES.CreateDataPropertyOrThrow(target,ES.ToString(targetIndex),element),targetIndex+=1}}sourceIndex+=1}return targetIndex}(A,O,sourceLen,0,1,callbackfn,T),A}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(373)()},function(module,exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__(47)(),polyfill=__webpack_require__(375),getInferredName=__webpack_require__(189),gOPD=Object.getOwnPropertyDescriptor,dP=Object.defineProperty,setProto=Object.setPrototypeOf,define=function defineGetter(getter){dP(Symbol.prototype,"description",{configurable:!0,enumerable:!1,get:getter})};module.exports=function shimSymbolDescription(){if(!hasSymbols)return!1;var desc=gOPD(Symbol.prototype,"description"),getter=polyfill(),isMissing=!desc||"function"!=typeof desc.get,isBroken=!isMissing&&(void 0!==Symbol().description||""!==Symbol("").description);if(isMissing||isBroken){if(!getInferredName)return function shimGlobalSymbol(getter){var origSym=Function.apply.bind(Symbol),emptyStrings=Object.create?Object.create(null):{},SymNew=function Symbol(){var sym=origSym(this,arguments);return arguments.length>0&&""===arguments[0]&&(emptyStrings[sym]=!0),sym};SymNew.prototype=Symbol.prototype,setProto(SymNew,Symbol),Symbol=SymNew;var boundGetter=Function.call.bind(getter),wrappedGetter=function description(){var symbolDescription=boundGetter(this);return emptyStrings[this]?"":symbolDescription};return define(wrappedGetter),wrappedGetter}(getter);define(getter)}return getter}},function(module,exports,__webpack_require__){"use strict";module.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var obj={},sym=Symbol("test"),symObj=Object(sym);if("string"==typeof sym)return!1;if("[object Symbol]"!==Object.prototype.toString.call(sym))return!1;if("[object Symbol]"!==Object.prototype.toString.call(symObj))return!1;for(sym in obj[sym]=42,obj)return!1;if("function"==typeof Object.keys&&0!==Object.keys(obj).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(obj).length)return!1;var syms=Object.getOwnPropertySymbols(obj);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(42!==descriptor.value||!0!==descriptor.enumerable)return!1}return!0}},function(module,exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__(47)(),implementation=__webpack_require__(376),gOPD=Object.getOwnPropertyDescriptor;module.exports=function descriptionPolyfill(){if(!hasSymbols||"function"!=typeof gOPD)return null;var desc=gOPD(Symbol.prototype,"description");return desc&&"function"==typeof desc.get?void 0!==desc.get.call(Symbol())||""!==desc.get.call(Symbol())||"a"!==desc.get.call(Symbol("a"))?implementation:desc.get:implementation}},function(module,exports,__webpack_require__){"use strict";var symToStr=__webpack_require__(47)()?Function.call.bind(Symbol.prototype.toString):null,getInferredName=__webpack_require__(189);module.exports=function description(){var str=symToStr(this);if(getInferredName){var name=getInferredName(this);if(""===name)return;return name.slice(1,-1)}var desc=str.slice(7,-1);if(desc)return desc}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(378)()},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(5),hasSymbols=__webpack_require__(47)(),getPolyfill=__webpack_require__(379),regexMatchAll=__webpack_require__(387),defineP=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor;module.exports=function shimMatchAll(){var polyfill=getPolyfill();if(define(String.prototype,{matchAll:polyfill},{matchAll:function(){return String.prototype.matchAll!==polyfill}}),hasSymbols){var symbol=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(define(Symbol,{matchAll:symbol},{matchAll:function(){return Symbol.matchAll!==symbol}}),defineP&&gOPD){var desc=gOPD(Symbol,symbol);desc&&!desc.configurable||defineP(Symbol,symbol,{configurable:!1,enumerable:!1,value:symbol,writable:!1})}var func={};func[symbol]=RegExp.prototype[symbol]||regexMatchAll;var predicate={};predicate[symbol]=function(){return RegExp.prototype[symbol]!==regexMatchAll},define(RegExp.prototype,func,predicate)}return polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(380);module.exports=function getPolyfill(){return String.prototype.matchAll||implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(79),hasSymbols=__webpack_require__(47)(),MatchAllIterator=__webpack_require__(197);module.exports=function matchAll(regexp){var matcher,O=ES.RequireObjectCoercible(this);if(void 0!==regexp&&null!==regexp&&(hasSymbols&&"symbol"==typeof Symbol.matchAll&&(matcher=ES.GetMethod(regexp,Symbol.matchAll)),void 0!==matcher))return ES.Call(matcher,regexp,[O]);return MatchAllIterator(regexp,O)}},function(module,exports){module.exports=function isPrimitive(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},function(module,exports,__webpack_require__){"use strict";var ES2016=__webpack_require__(196),assign=__webpack_require__(80),ES2017=assign(assign({},ES2016),{ToIndex:function ToIndex(value){if(void 0===value)return 0;var integerIndex=this.ToInteger(value);if(integerIndex<0)throw new RangeError("index must be >= 0");var index=this.ToLength(integerIndex);if(!this.SameValueZero(integerIndex,index))throw new RangeError("index must be >= 0 and < 2 ** 53 - 1");return index}});delete ES2017.EnumerableOwnNames,module.exports=ES2017},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(5),implementation=__webpack_require__(198),getPolyfill=__webpack_require__(199),shim=__webpack_require__(384),flagsBound=Function.call.bind(implementation);define(flagsBound,{getPolyfill:getPolyfill,implementation:implementation,shim:shim}),module.exports=flagsBound},function(module,exports,__webpack_require__){"use strict";var supportsDescriptors=__webpack_require__(5).supportsDescriptors,getPolyfill=__webpack_require__(199),gOPD=Object.getOwnPropertyDescriptor,defineProperty=Object.defineProperty,TypeErr=TypeError,getProto=Object.getPrototypeOf,regex=/a/;module.exports=function shimFlags(){if(!supportsDescriptors||!getProto)throw new TypeErr("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var polyfill=getPolyfill(),proto=getProto(regex),descriptor=gOPD(proto,"flags");return descriptor&&descriptor.get===polyfill||defineProperty(proto,"flags",{configurable:!0,enumerable:!1,get:polyfill}),polyfill}},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(5),ES=__webpack_require__(79),GetIntrinsic=__webpack_require__(119),hasSymbols=__webpack_require__(47)(),hidden=__webpack_require__(386)(),RegExpStringIterator=function RegExpStringIterator(R,S,global,fullUnicode){if("String"!==ES.Type(S))throw new TypeError("S must be a string");if("Boolean"!==ES.Type(global))throw new TypeError("global must be a boolean");if("Boolean"!==ES.Type(fullUnicode))throw new TypeError("fullUnicode must be a boolean");hidden.set(this,"[[IteratingRegExp]]",R),hidden.set(this,"[[IteratedString]]",S),hidden.set(this,"[[Global]]",global),hidden.set(this,"[[Unicode]]",fullUnicode),hidden.set(this,"[[Done]]",!1)},IteratorPrototype=GetIntrinsic("%IteratorPrototype%",!0);if(IteratorPrototype&&(RegExpStringIterator.prototype=ES.ObjectCreate(IteratorPrototype)),define(RegExpStringIterator.prototype,{next:function next(){var O=this;if("Object"!==ES.Type(O))throw new TypeError("receiver must be an object");if(!(O instanceof RegExpStringIterator&&hidden.has(O,"[[IteratingRegExp]]")&&hidden.has(O,"[[IteratedString]]")&&hidden.has(O,"[[Global]]")&&hidden.has(O,"[[Unicode]]")&&hidden.has(O,"[[Done]]")))throw new TypeError('"this" value must be a RegExpStringIterator instance');if(hidden.get(O,"[[Done]]"))return ES.CreateIterResultObject(void 0,!0);var R=hidden.get(O,"[[IteratingRegExp]]"),S=hidden.get(O,"[[IteratedString]]"),global=hidden.get(O,"[[Global]]"),fullUnicode=hidden.get(O,"[[Unicode]]"),match=ES.RegExpExec(R,S);if(null===match)return hidden.set(O,"[[Done]]",!0),ES.CreateIterResultObject(void 0,!0);if(global){if(""===ES.ToString(ES.Get(match,"0"))){var thisIndex=ES.ToLength(ES.Get(R,"lastIndex")),nextIndex=ES.AdvanceStringIndex(S,thisIndex,fullUnicode);ES.Set(R,"lastIndex",nextIndex,!0)}return ES.CreateIterResultObject(match,!1)}return hidden.set(O,"[[Done]]",!0),ES.CreateIterResultObject(match,!1)}}),hasSymbols){var defineP=Object.defineProperty;if(Symbol.toStringTag&&(defineP?defineP(RegExpStringIterator.prototype,Symbol.toStringTag,{configurable:!0,enumerable:!1,value:"RegExp String Iterator",writable:!1}):RegExpStringIterator.prototype[Symbol.toStringTag]="RegExp String Iterator"),!IteratorPrototype&&Symbol.iterator){var func={};func[Symbol.iterator]=RegExpStringIterator.prototype[Symbol.iterator]||function SymbolIterator(){return this};var predicate={};predicate[Symbol.iterator]=function(){return RegExpStringIterator.prototype[Symbol.iterator]!==func[Symbol.iterator]},define(RegExpStringIterator.prototype,func,predicate)}}module.exports=RegExpStringIterator},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(5);module.exports=function getHiddenKeyManager(){var symbolCache={},makeKey=function key(prop){return symbolCache["$"+prop]?symbolCache["$"+prop]:"function"==typeof Symbol?(symbolCache["$"+prop]=Symbol(prop),symbolCache["$"+prop]):"___ "+prop+" ___"};return{get:function get(obj,prop){return obj[makeKey(prop)]},has:function has(obj,prop){return makeKey(prop)in obj},set:function set(obj,prop,value){var key=makeKey(prop);define.supportsDescriptors?Object.defineProperty(obj,key,{configurable:!1,enumerable:!1,value:value,writable:!0}):obj[key]=value}}}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(79),MatchAllIterator=__webpack_require__(197),regexMatchAll=function SymbolMatchAll(string){if("Object"!==ES.Type(this))throw new TypeError('"this" value must be an Object');return MatchAllIterator(this,string)},defineP=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor;if(defineP&&gOPD){var desc=gOPD(regexMatchAll,"name");desc&&desc.configurable&&defineP(regexMatchAll,"name",{value:"[Symbol.matchAll]"})}module.exports=regexMatchAll},function(module,exports,__webpack_require__){__webpack_require__(389),module.exports=__webpack_require__(2).Object.assign},function(module,exports,__webpack_require__){var $export=__webpack_require__(6);$export($export.S+$export.F,"Object",{assign:__webpack_require__(241)})},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(37),toLength=__webpack_require__(82),toAbsoluteIndex=__webpack_require__(391);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(124),max=Math.max,min=Math.min;module.exports=function(index,length){return(index=toInteger(index))<0?max(index+length,0):min(index,length)}},function(module,exports,__webpack_require__){__webpack_require__(393),module.exports=__webpack_require__(2).Object.keys},function(module,exports,__webpack_require__){var toObject=__webpack_require__(48),$keys=__webpack_require__(52);__webpack_require__(130)("keys",function(){return function keys(it){return $keys(toObject(it))}})},function(module,exports,__webpack_require__){__webpack_require__(395);var $Object=__webpack_require__(2).Object;module.exports=function defineProperty(it,key,desc){return $Object.defineProperty(it,key,desc)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(6);$export($export.S+$export.F*!__webpack_require__(26),"Object",{defineProperty:__webpack_require__(20).f})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PostmsgTransport=exports.KEY=void 0;var _promise2=_interopRequireDefault(__webpack_require__(242)),_classCallCheck3=_interopRequireDefault(__webpack_require__(8)),_createClass3=_interopRequireDefault(__webpack_require__(9));exports.default=function createChannel(_ref){var page=_ref.page,transport=new PostmsgTransport({page:page});return new _channels2.default({transport:transport})};var _global=__webpack_require__(53),_channels2=_interopRequireDefault(__webpack_require__(407)),_jsonStringifySafe2=_interopRequireDefault(__webpack_require__(411));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var KEY=exports.KEY="storybook-channel",PostmsgTransport=exports.PostmsgTransport=function(){function PostmsgTransport(config){var _this=this;if((0,_classCallCheck3.default)(this,PostmsgTransport),this._config=config,this._buffer=[],this._handler=null,_global.window.addEventListener("message",this._handleEvent.bind(this),!1),_global.document.addEventListener("DOMContentLoaded",function(){return _this._flush()}),"manager"!==config.page&&"preview"!==config.page)throw new Error('postmsg-channel: "config.page" cannot be "'+config.page+'"')}return(0,_createClass3.default)(PostmsgTransport,[{key:"setHandler",value:function setHandler(handler){this._handler=handler}},{key:"send",value:function send(event){var _this2=this,iframeWindow=this._getWindow();if(!iframeWindow)return new _promise2.default(function(resolve,reject){_this2._buffer.push({event:event,resolve:resolve,reject:reject})});var data=(0,_jsonStringifySafe2.default)({key:KEY,event:event});return iframeWindow.postMessage(data,"*"),_promise2.default.resolve(null)}},{key:"_flush",value:function _flush(){var _this3=this,buffer=this._buffer;this._buffer=[],buffer.forEach(function(item){_this3.send(item.event).then(item.resolve).catch(item.reject)})}},{key:"_getWindow",value:function _getWindow(){if("manager"===this._config.page){var iframe=_global.document.getElementById("storybook-preview-iframe");return iframe?iframe.contentWindow:null}return _global.window.parent}},{key:"_handleEvent",value:function _handleEvent(rawEvent){try{var data=rawEvent.data,_JSON$parse=JSON.parse(data),key=_JSON$parse.key,event=_JSON$parse.event;key===KEY&&this._handler(event)}catch(error){}}}]),PostmsgTransport}()},function(module,exports,__webpack_require__){__webpack_require__(131),__webpack_require__(54),__webpack_require__(67),__webpack_require__(402),__webpack_require__(405),__webpack_require__(406),module.exports=__webpack_require__(2).Promise},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(124),defined=__webpack_require__(123);module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i))<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):b-56320+(a-55296<<10)+65536}}},function(module,exports,__webpack_require__){"use strict";var create=__webpack_require__(92),descriptor=__webpack_require__(64),setToStringTag=__webpack_require__(66),IteratorPrototype={};__webpack_require__(32)(IteratorPrototype,__webpack_require__(10)("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},function(module,exports,__webpack_require__){"use strict";var addToUnscopables=__webpack_require__(401),step=__webpack_require__(244),Iterators=__webpack_require__(50),toIObject=__webpack_require__(37);module.exports=__webpack_require__(149)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):step(0,"keys"==kind?index:"values"==kind?O[index]:[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){"use strict";var Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper,LIBRARY=__webpack_require__(84),global=__webpack_require__(12),ctx=__webpack_require__(29),classof=__webpack_require__(93),$export=__webpack_require__(6),isObject=__webpack_require__(16),aFunction=__webpack_require__(63),anInstance=__webpack_require__(132),forOf=__webpack_require__(71),speciesConstructor=__webpack_require__(206),task=__webpack_require__(207).set,microtask=__webpack_require__(404)(),newPromiseCapabilityModule=__webpack_require__(134),perform=__webpack_require__(208),promiseResolve=__webpack_require__(209),TypeError=global.TypeError,process=global.process,$Promise=global.Promise,isNode="process"==classof(process),empty=function(){},newPromiseCapability=newGenericPromiseCapability=newPromiseCapabilityModule.f,USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[__webpack_require__(10)("species")]=function(exec){exec(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&promise.then(empty)instanceof FakePromise}catch(e){}}(),isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},notify=function(promise,isReject){if(!promise._n){promise._n=!0;var chain=promise._c;microtask(function(){for(var value=promise._v,ok=1==promise._s,i=0,run=function(reaction){var result,then,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2==promise._h&&onHandleUnhandled(promise),promise._h=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&domain.exit()),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){reject(e)}};chain.length>i;)run(chain[i++]);promise._c=[],promise._n=!1,isReject&&!promise._h&&onUnhandled(promise)})}},onUnhandled=function(promise){task.call(global,function(){var result,handler,console,value=promise._v,unhandled=isUnhandled(promise);if(unhandled&&(result=perform(function(){isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)}),promise._h=isNode||isUnhandled(promise)?2:1),promise._a=void 0,unhandled&&result.e)throw result.v})},isUnhandled=function(promise){if(1==promise._h)return!1;for(var reaction,chain=promise._a||promise._c,i=0;chain.length>i;)if((reaction=chain[i++]).fail||!isUnhandled(reaction.promise))return!1;return!0},onHandleUnhandled=function(promise){task.call(global,function(){var handler;isNode?process.emit("rejectionHandled",promise):(handler=global.onrejectionhandled)&&handler({promise:promise,reason:promise._v})})},$reject=function(value){var promise=this;promise._d||(promise._d=!0,(promise=promise._w||promise)._v=value,promise._s=2,promise._a||(promise._a=promise._c.slice()),notify(promise,!0))},$resolve=function(value){var then,promise=this;if(!promise._d){promise._d=!0,promise=promise._w||promise;try{if(promise===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?microtask(function(){var wrapper={_w:promise,_d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(promise._v=value,promise._s=1,notify(promise,!1))}catch(e){$reject.call({_w:promise,_d:!1},e)}}};USE_NATIVE||($Promise=function Promise(executor){anInstance(this,$Promise,"Promise","_h"),aFunction(executor),Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1))}catch(err){$reject.call(this,err)}},(Internal=function Promise(executor){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=__webpack_require__(135)($Promise.prototype,{then:function then(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=isNode?process.domain:void 0,this._c.push(reaction),this._a&&this._a.push(reaction),this._s&&notify(this,!1),reaction.promise},catch:function(onRejected){return this.then(void 0,onRejected)}}),OwnPromiseCapability=function(){var promise=new Internal;this.promise=promise,this.resolve=ctx($resolve,promise,1),this.reject=ctx($reject,promise,1)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===$Promise||C===Wrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),__webpack_require__(66)($Promise,"Promise"),__webpack_require__(245)("Promise"),Wrapper=__webpack_require__(2).Promise,$export($export.S+$export.F*!USE_NATIVE,"Promise",{reject:function reject(r){var capability=newPromiseCapability(this);return(0,capability.reject)(r),capability.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),"Promise",{resolve:function resolve(x){return promiseResolve(LIBRARY&&this===Wrapper?$Promise:this,x)}}),$export($export.S+$export.F*!(USE_NATIVE&&__webpack_require__(210)(function(iter){$Promise.all(iter).catch(empty)})),"Promise",{all:function all(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=perform(function(){var values=[],index=0,remaining=1;forOf(iterable,!1,function(promise){var $index=index++,alreadyCalled=!1;values.push(void 0),remaining++,C.resolve(promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[$index]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return result.e&&reject(result.v),capability.promise},race:function race(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return result.e&&reject(result.v),capability.promise}})},function(module,exports){module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},function(module,exports,__webpack_require__){var global=__webpack_require__(12),macrotask=__webpack_require__(207).set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==__webpack_require__(65)(process);module.exports=function(){var head,last,notify,flush=function(){var parent,fn;for(isNode&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=void 0,e}}last=void 0,parent&&parent.enter()};if(isNode)notify=function(){process.nextTick(flush)};else if(Observer){var toggle=!0,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}}else if(Promise&&Promise.resolve){var promise=Promise.resolve();notify=function(){promise.then(flush)}}else notify=function(){macrotask.call(global,flush)};return function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}}},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(6),core=__webpack_require__(2),global=__webpack_require__(12),speciesConstructor=__webpack_require__(206),promiseResolve=__webpack_require__(209);$export($export.P+$export.R,"Promise",{finally:function(onFinally){var C=speciesConstructor(this,core.Promise||global.Promise),isFunction="function"==typeof onFinally;return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then(function(){return x})}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then(function(){throw e})}:onFinally)}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(6),newPromiseCapability=__webpack_require__(134),perform=__webpack_require__(208);$export($export.S,"Promise",{try:function(callbackfn){var promiseCapability=newPromiseCapability.f(this),result=perform(callbackfn);return(result.e?promiseCapability.reject:promiseCapability.resolve)(result.v),promiseCapability.promise}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _toConsumableArray3=_interopRequireDefault(__webpack_require__(94)),_keys2=_interopRequireDefault(__webpack_require__(49)),_classCallCheck3=_interopRequireDefault(__webpack_require__(8)),_createClass3=_interopRequireDefault(__webpack_require__(9));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Channel=function(){function Channel(_ref){var transport=_ref.transport;(0,_classCallCheck3.default)(this,Channel),this._sender=this._randomId(),this._transport=transport,this._transport.setHandler(this._handleEvent.bind(this)),this._listeners={}}return(0,_createClass3.default)(Channel,[{key:"addListener",value:function addListener(type,listener){this.on(type,listener)}},{key:"addPeerListener",value:function addPeerListener(type,listener){var _this=this,peerListener=listener;peerListener.isPeer=function(from){return from===_this._sender},this.on(type,peerListener)}},{key:"emit",value:function emit(type){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];var event={type:type,args:args,from:this._sender};this._transport.send(event)}},{key:"eventNames",value:function eventNames(){return(0,_keys2.default)(this._listeners)}},{key:"listenerCount",value:function listenerCount(type){var listeners=this._listeners[type];return listeners?listeners.length:0}},{key:"listeners",value:function listeners(type){return this._listeners[type]}},{key:"on",value:function on(type,listener){this._listeners[type]=this._listeners[type]||[],this._listeners[type].push(listener)}},{key:"once",value:function once(type,listener){var onceListener=this._onceListener(type,listener);this.on(type,onceListener)}},{key:"prependListener",value:function prependListener(type,listener){this._listeners[type]=this._listeners[type]||[],this._listeners[type].unshift(listener)}},{key:"prependOnceListener",value:function prependOnceListener(type,listener){var onceListener=this._onceListener(type,listener);this.prependListener(type,onceListener)}},{key:"removeAllListeners",value:function removeAllListeners(type){type?this._listeners[type]&&delete this._listeners[type]:this._listeners={}}},{key:"removeListener",value:function removeListener(type,listener){var listeners=this._listeners[type];listeners&&(this._listeners[type]=listeners.filter(function(l){return l!==listener}))}},{key:"_randomId",value:function _randomId(){return Math.random().toString(16).slice(2)}},{key:"_handleEvent",value:function _handleEvent(event){var listeners=this._listeners[event.type];listeners&&listeners.forEach(function(fn){return!(fn.isPeer&&fn.isPeer(event.from))&&fn.apply(void 0,(0,_toConsumableArray3.default)(event.args))})}},{key:"_onceListener",value:function _onceListener(type,listener){var _this2=this;return function onceListener(){return _this2.removeListener(type,onceListener),listener.apply(void 0,arguments)}}}]),Channel}();exports.default=Channel},function(module,exports,__webpack_require__){__webpack_require__(54),__webpack_require__(409),module.exports=__webpack_require__(2).Array.from},function(module,exports,__webpack_require__){"use strict";var ctx=__webpack_require__(29),$export=__webpack_require__(6),toObject=__webpack_require__(48),call=__webpack_require__(204),isArrayIter=__webpack_require__(205),toLength=__webpack_require__(82),createProperty=__webpack_require__(410),getIterFn=__webpack_require__(133);$export($export.S+$export.F*!__webpack_require__(210)(function(iter){Array.from(iter)}),"Array",{from:function from(arrayLike){var length,result,step,iterator,O=toObject(arrayLike),C="function"==typeof this?this:Array,aLen=arguments.length,mapfn=aLen>1?arguments[1]:void 0,mapping=void 0!==mapfn,index=0,iterFn=getIterFn(O);if(mapping&&(mapfn=ctx(mapfn,aLen>2?arguments[2]:void 0,2)),void 0==iterFn||C==Array&&isArrayIter(iterFn))for(result=new C(length=toLength(O.length));length>index;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index]);else for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++)createProperty(result,index,mapping?call(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}})},function(module,exports,__webpack_require__){"use strict";var $defineProperty=__webpack_require__(20),createDesc=__webpack_require__(64);module.exports=function(object,index,value){index in object?$defineProperty.f(object,index,createDesc(0,value)):object[index]=value}},function(module,exports){function serializer(replacer,cycleReplacer){var stack=[],keys=[];return null==cycleReplacer&&(cycleReplacer=function(key,value){return stack[0]===value?"[Circular ~]":"[Circular ~."+keys.slice(0,stack.indexOf(value)).join(".")+"]"}),function(key,value){if(stack.length>0){var thisPos=stack.indexOf(this);~thisPos?stack.splice(thisPos+1):stack.push(this),~thisPos?keys.splice(thisPos,1/0,key):keys.push(key),~stack.indexOf(value)&&(value=cycleReplacer.call(this,key,value))}else stack.push(value);return null==replacer?value:replacer.call(this,key,value)}}(module.exports=function stringify(obj,replacer,spaces,cycleReplacer){return JSON.stringify(obj,serializer(replacer,cycleReplacer),spaces)}).getSerialize=serializer},function(module,exports){function keyCode(searchInput){if(searchInput&&"object"==typeof searchInput){var hasKeyCode=searchInput.which||searchInput.keyCode||searchInput.charCode;hasKeyCode&&(searchInput=hasKeyCode)}if("number"==typeof searchInput)return names[searchInput];var foundNamedKey,search=String(searchInput);return(foundNamedKey=codes[search.toLowerCase()])?foundNamedKey:(foundNamedKey=aliases[search.toLowerCase()])||(1===search.length?search.charCodeAt(0):void 0)}keyCode.isEventKey=function isEventKey(event,nameOrCode){if(event&&"object"==typeof event){var keyCode=event.which||event.keyCode||event.charCode;if(null===keyCode||void 0===keyCode)return!1;if("string"==typeof nameOrCode){var foundNamedKey;if(foundNamedKey=codes[nameOrCode.toLowerCase()])return foundNamedKey===keyCode;if(foundNamedKey=aliases[nameOrCode.toLowerCase()])return foundNamedKey===keyCode}else if("number"==typeof nameOrCode)return nameOrCode===keyCode;return!1}};var codes=(exports=module.exports=keyCode).code=exports.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},aliases=exports.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(i=97;i<123;i++)codes[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)codes[i-48]=i;for(i=1;i<13;i++)codes["f"+i]=i+111;for(i=0;i<10;i++)codes["numpad "+i]=i+96;var names=exports.names=exports.title={};for(i in codes)names[codes[i]]=i;for(var alias in aliases)codes[alias]=aliases[alias]},function(module,exports,__webpack_require__){__webpack_require__(414),module.exports=__webpack_require__(2).Object.getPrototypeOf},function(module,exports,__webpack_require__){var toObject=__webpack_require__(48),$getPrototypeOf=__webpack_require__(203);__webpack_require__(130)("getPrototypeOf",function(){return function getPrototypeOf(it){return $getPrototypeOf(toObject(it))}})},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(416),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(54),__webpack_require__(67),module.exports=__webpack_require__(136).f("iterator")},function(module,exports,__webpack_require__){__webpack_require__(418),__webpack_require__(131),__webpack_require__(421),__webpack_require__(422),module.exports=__webpack_require__(2).Symbol},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(12),has=__webpack_require__(34),DESCRIPTORS=__webpack_require__(26),$export=__webpack_require__(6),redefine=__webpack_require__(150),META=__webpack_require__(85).KEY,$fails=__webpack_require__(33),shared=__webpack_require__(126),setToStringTag=__webpack_require__(66),uid=__webpack_require__(83),wks=__webpack_require__(10),wksExt=__webpack_require__(136),wksDefine=__webpack_require__(137),enumKeys=__webpack_require__(419),isArray=__webpack_require__(211),anObject=__webpack_require__(21),toIObject=__webpack_require__(37),toPrimitive=__webpack_require__(121),createDesc=__webpack_require__(64),_create=__webpack_require__(92),gOPNExt=__webpack_require__(420),$GOPD=__webpack_require__(151),$DP=__webpack_require__(20),$keys=__webpack_require__(52),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object.prototype,USE_NATIVE="function"==typeof $Symbol,QObject=global.QObject,setter=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol.prototype);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function defineProperty(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function defineProperties(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$propertyIsEnumerable=function propertyIsEnumerable(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function getOwnPropertyDescriptor(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function getOwnPropertyNames(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function getOwnPropertySymbols(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||(redefine(($Symbol=function Symbol(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:void 0),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)}).prototype,"toString",function toString(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,__webpack_require__(212).f=gOPNExt.f=$getOwnPropertyNames,__webpack_require__(70).f=$propertyIsEnumerable,__webpack_require__(128).f=$getOwnPropertySymbols,DESCRIPTORS&&!__webpack_require__(84)&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{for:function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function keyFor(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:function create(it,P){return void 0===P?_create(it):$defineProperties(_create(it),P)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function stringify(it){if(void 0!==it&&!isSymbol(it)){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);return"function"==typeof(replacer=args[1])&&($replacer=replacer),!$replacer&&isArray(replacer)||(replacer=function(key,value){if($replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}}),$Symbol.prototype[TO_PRIMITIVE]||__webpack_require__(32)($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(52),gOPS=__webpack_require__(128),pIE=__webpack_require__(70);module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(37),gOPN=__webpack_require__(212).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function getOwnPropertyNames(it){return windowNames&&"[object Window]"==toString.call(it)?function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}}(it):gOPN(toIObject(it))}},function(module,exports,__webpack_require__){__webpack_require__(137)("asyncIterator")},function(module,exports,__webpack_require__){__webpack_require__(137)("observable")},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(424),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(425),module.exports=__webpack_require__(2).Object.setPrototypeOf},function(module,exports,__webpack_require__){var $export=__webpack_require__(6);$export($export.S,"Object",{setPrototypeOf:__webpack_require__(426).set})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(16),anObject=__webpack_require__(21),check=function(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{(set=__webpack_require__(29)(Function.call,__webpack_require__(151).f(Object.prototype,"__proto__").set,2))(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function setPrototypeOf(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):void 0),check:check}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(428),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(429);var $Object=__webpack_require__(2).Object;module.exports=function create(P,D){return $Object.create(P,D)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(6);$export($export.S,"Object",{create:__webpack_require__(92)})},function(module,exports){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!function isNumber(arg){return"number"==typeof arg}(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((er=arguments[1])instanceof Error)throw er;var err=new Error('Uncaught, unspecified "error" event. ('+er+")");throw err.context=er,err}if(isUndefined(handler=this._events[type]))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1),handler.apply(this,args)}else if(isObject(handler))for(args=Array.prototype.slice.call(arguments,1),len=(listeners=handler.slice()).length,i=0;i<len;i++)listeners[i].apply(this,args);return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned&&(m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(length=(list=this._events[type]).length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-- >0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(position<0)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(isFunction(listeners=this._events[type]))this.removeListener(type,listeners);else if(listeners)for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){return this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;if(evlistener)return evlistener.length}return 0},EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(432),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(67),__webpack_require__(54),module.exports=__webpack_require__(433)},function(module,exports,__webpack_require__){var classof=__webpack_require__(93),ITERATOR=__webpack_require__(10)("iterator"),Iterators=__webpack_require__(50);module.exports=__webpack_require__(2).isIterable=function(it){var O=Object(it);return void 0!==O[ITERATOR]||"@@iterator"in O||Iterators.hasOwnProperty(classof(O))}},function(module,exports,__webpack_require__){__webpack_require__(67),__webpack_require__(54),module.exports=__webpack_require__(435)},function(module,exports,__webpack_require__){var anObject=__webpack_require__(21),get=__webpack_require__(133);module.exports=__webpack_require__(2).getIterator=function(it){var iterFn=get(it);if("function"!=typeof iterFn)throw TypeError(it+" is not iterable!");return anObject(iterFn.call(it))}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(213),formats=__webpack_require__(214),arrayPrefixGenerators={brackets:function brackets(prefix){return prefix+"[]"},indices:function indices(prefix,key){return prefix+"["+key+"]"},repeat:function repeat(prefix){return prefix}},toISO=Date.prototype.toISOString,defaults={delimiter:"&",encode:!0,encoder:utils.encode,encodeValuesOnly:!1,serializeDate:function serializeDate(date){return toISO.call(date)},skipNulls:!1,strictNullHandling:!1},stringify=function stringify(object,prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly){var obj=object;if("function"==typeof filter)obj=filter(prefix,obj);else if(obj instanceof Date)obj=serializeDate(obj);else if(null===obj){if(strictNullHandling)return encoder&&!encodeValuesOnly?encoder(prefix,defaults.encoder):prefix;obj=""}if("string"==typeof obj||"number"==typeof obj||"boolean"==typeof obj||utils.isBuffer(obj))return encoder?[formatter(encodeValuesOnly?prefix:encoder(prefix,defaults.encoder))+"="+formatter(encoder(obj,defaults.encoder))]:[formatter(prefix)+"="+formatter(String(obj))];var objKeys,values=[];if(void 0===obj)return values;if(Array.isArray(filter))objKeys=filter;else{var keys=Object.keys(obj);objKeys=sort?keys.sort(sort):keys}for(var i=0;i<objKeys.length;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(values=Array.isArray(obj)?values.concat(stringify(obj[key],generateArrayPrefix(prefix,key),generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly)):values.concat(stringify(obj[key],prefix+(allowDots?"."+key:"["+key+"]"),generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly)))}return values};module.exports=function(object,opts){var obj=object,options=opts?utils.assign({},opts):{};if(null!==options.encoder&&void 0!==options.encoder&&"function"!=typeof options.encoder)throw new TypeError("Encoder has to be a function.");var delimiter=void 0===options.delimiter?defaults.delimiter:options.delimiter,strictNullHandling="boolean"==typeof options.strictNullHandling?options.strictNullHandling:defaults.strictNullHandling,skipNulls="boolean"==typeof options.skipNulls?options.skipNulls:defaults.skipNulls,encode="boolean"==typeof options.encode?options.encode:defaults.encode,encoder="function"==typeof options.encoder?options.encoder:defaults.encoder,sort="function"==typeof options.sort?options.sort:null,allowDots=void 0!==options.allowDots&&options.allowDots,serializeDate="function"==typeof options.serializeDate?options.serializeDate:defaults.serializeDate,encodeValuesOnly="boolean"==typeof options.encodeValuesOnly?options.encodeValuesOnly:defaults.encodeValuesOnly;if(void 0===options.format)options.format=formats.default;else if(!Object.prototype.hasOwnProperty.call(formats.formatters,options.format))throw new TypeError("Unknown format option provided.");var objKeys,filter,formatter=formats.formatters[options.format];"function"==typeof options.filter?obj=(filter=options.filter)("",obj):Array.isArray(options.filter)&&(objKeys=filter=options.filter);var arrayFormat,keys=[];if("object"!=typeof obj||null===obj)return"";arrayFormat=options.arrayFormat in arrayPrefixGenerators?options.arrayFormat:"indices"in options?options.indices?"indices":"repeat":"indices";var generateArrayPrefix=arrayPrefixGenerators[arrayFormat];objKeys||(objKeys=Object.keys(obj)),sort&&objKeys.sort(sort);for(var i=0;i<objKeys.length;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(keys=keys.concat(stringify(obj[key],key,generateArrayPrefix,strictNullHandling,skipNulls,encode?encoder:null,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly)))}var joined=keys.join(delimiter),prefix=!0===options.addQueryPrefix?"?":"";return joined.length>0?prefix+joined:""}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(213),has=Object.prototype.hasOwnProperty,defaults={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:utils.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},parseKeys=function parseQueryStringKeys(givenKey,val,options){if(givenKey){var key=options.allowDots?givenKey.replace(/\.([^.[]+)/g,"[$1]"):givenKey,child=/(\[[^[\]]*])/g,segment=/(\[[^[\]]*])/.exec(key),parent=segment?key.slice(0,segment.index):key,keys=[];if(parent){if(!options.plainObjects&&has.call(Object.prototype,parent)&&!options.allowPrototypes)return;keys.push(parent)}for(var i=0;null!==(segment=child.exec(key))&&i<options.depth;){if(i+=1,!options.plainObjects&&has.call(Object.prototype,segment[1].slice(1,-1))&&!options.allowPrototypes)return;keys.push(segment[1])}return segment&&keys.push("["+key.slice(segment.index)+"]"),function(chain,val,options){for(var leaf=val,i=chain.length-1;i>=0;--i){var obj,root=chain[i];if("[]"===root)obj=(obj=[]).concat(leaf);else{obj=options.plainObjects?Object.create(null):{};var cleanRoot="["===root.charAt(0)&&"]"===root.charAt(root.length-1)?root.slice(1,-1):root,index=parseInt(cleanRoot,10);!isNaN(index)&&root!==cleanRoot&&String(index)===cleanRoot&&index>=0&&options.parseArrays&&index<=options.arrayLimit?(obj=[])[index]=leaf:obj[cleanRoot]=leaf}leaf=obj}return leaf}(keys,val,options)}};module.exports=function(str,opts){var options=opts?utils.assign({},opts):{};if(null!==options.decoder&&void 0!==options.decoder&&"function"!=typeof options.decoder)throw new TypeError("Decoder has to be a function.");if(options.ignoreQueryPrefix=!0===options.ignoreQueryPrefix,options.delimiter="string"==typeof options.delimiter||utils.isRegExp(options.delimiter)?options.delimiter:defaults.delimiter,options.depth="number"==typeof options.depth?options.depth:defaults.depth,options.arrayLimit="number"==typeof options.arrayLimit?options.arrayLimit:defaults.arrayLimit,options.parseArrays=!1!==options.parseArrays,options.decoder="function"==typeof options.decoder?options.decoder:defaults.decoder,options.allowDots="boolean"==typeof options.allowDots?options.allowDots:defaults.allowDots,options.plainObjects="boolean"==typeof options.plainObjects?options.plainObjects:defaults.plainObjects,options.allowPrototypes="boolean"==typeof options.allowPrototypes?options.allowPrototypes:defaults.allowPrototypes,options.parameterLimit="number"==typeof options.parameterLimit?options.parameterLimit:defaults.parameterLimit,options.strictNullHandling="boolean"==typeof options.strictNullHandling?options.strictNullHandling:defaults.strictNullHandling,""===str||null===str||void 0===str)return options.plainObjects?Object.create(null):{};for(var tempObj="string"==typeof str?function parseQueryStringValues(str,options){for(var obj={},cleanStr=options.ignoreQueryPrefix?str.replace(/^\?/,""):str,limit=options.parameterLimit===1/0?void 0:options.parameterLimit,parts=cleanStr.split(options.delimiter,limit),i=0;i<parts.length;++i){var key,val,part=parts[i],bracketEqualsPos=part.indexOf("]="),pos=-1===bracketEqualsPos?part.indexOf("="):bracketEqualsPos+1;-1===pos?(key=options.decoder(part,defaults.decoder),val=options.strictNullHandling?null:""):(key=options.decoder(part.slice(0,pos),defaults.decoder),val=options.decoder(part.slice(pos+1),defaults.decoder)),has.call(obj,key)?obj[key]=[].concat(obj[key]).concat(val):obj[key]=val}return obj}(str,options):str,obj=options.plainObjects?Object.create(null):{},keys=Object.keys(tempObj),i=0;i<keys.length;++i){var key=keys[i],newObj=parseKeys(key,tempObj[key],options);obj=utils.merge(obj,newObj,options)}return utils.compact(obj)}},function(module,exports,__webpack_require__){"use strict";var m=__webpack_require__(86),n=__webpack_require__(152),p=__webpack_require__(96),q="function"==typeof Symbol&&Symbol.for,r=q?Symbol.for("react.element"):60103,t=q?Symbol.for("react.portal"):60106,u=q?Symbol.for("react.fragment"):60107,v=q?Symbol.for("react.strict_mode"):60108,w=q?Symbol.for("react.provider"):60109,x=q?Symbol.for("react.context"):60110,y=q?Symbol.for("react.async_mode"):60111,z=q?Symbol.for("react.forward_ref"):60112,A="function"==typeof Symbol&&Symbol.iterator;function B(a){for(var b=arguments.length-1,e="Minified React error #"+a+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+a,c=0;c<b;c++)e+="&args[]="+encodeURIComponent(arguments[c+1]);throw(b=Error(e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name="Invariant Violation",b.framesToPop=1,b}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function D(a,b,e){this.props=a,this.context=b,this.refs=n,this.updater=e||C}function E(){}function F(a,b,e){this.props=a,this.context=b,this.refs=n,this.updater=e||C}D.prototype.isReactComponent={},D.prototype.setState=function(a,b){"object"!=typeof a&&"function"!=typeof a&&null!=a&&B("85"),this.updater.enqueueSetState(this,a,b,"setState")},D.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")},E.prototype=D.prototype;var G=F.prototype=new E;G.constructor=F,m(G,D.prototype),G.isPureReactComponent=!0;var H={current:null},I=Object.prototype.hasOwnProperty,J={key:!0,ref:!0,__self:!0,__source:!0};function K(a,b,e){var c=void 0,d={},g=null,h=null;if(null!=b)for(c in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(g=""+b.key),b)I.call(b,c)&&!J.hasOwnProperty(c)&&(d[c]=b[c]);var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){for(var k=Array(f),l=0;l<f;l++)k[l]=arguments[l+2];d.children=k}if(a&&a.defaultProps)for(c in f=a.defaultProps)void 0===d[c]&&(d[c]=f[c]);return{$$typeof:r,type:a,key:g,ref:h,props:d,_owner:H.current}}function L(a){return"object"==typeof a&&null!==a&&a.$$typeof===r}var M=/\/+/g,N=[];function O(a,b,e,c){if(N.length){var d=N.pop();return d.result=a,d.keyPrefix=b,d.func=e,d.context=c,d.count=0,d}return{result:a,keyPrefix:b,func:e,context:c,count:0}}function P(a){a.result=null,a.keyPrefix=null,a.func=null,a.context=null,a.count=0,10>N.length&&N.push(a)}function Q(a,b,e,c){var d=typeof a;"undefined"!==d&&"boolean"!==d||(a=null);var g=!1;if(null===a)g=!0;else switch(d){case"string":case"number":g=!0;break;case"object":switch(a.$$typeof){case r:case t:g=!0}}if(g)return e(c,a,""===b?"."+R(a,0):b),1;if(g=0,b=""===b?".":b+":",Array.isArray(a))for(var h=0;h<a.length;h++){var f=b+R(d=a[h],h);g+=Q(d,f,e,c)}else if(null===a||void 0===a?f=null:f="function"==typeof(f=A&&a[A]||a["@@iterator"])?f:null,"function"==typeof f)for(a=f.call(a),h=0;!(d=a.next()).done;)g+=Q(d=d.value,f=b+R(d,h++),e,c);else"object"===d&&B("31","[object Object]"===(e=""+a)?"object with keys {"+Object.keys(a).join(", ")+"}":e,"");return g}function R(a,b){return"object"==typeof a&&null!==a&&null!=a.key?function escape(a){var b={"=":"=0",":":"=2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}(a.key):b.toString(36)}function S(a,b){a.func.call(a.context,b,a.count++)}function T(a,b,e){var c=a.result,d=a.keyPrefix;a=a.func.call(a.context,b,a.count++),Array.isArray(a)?U(a,c,e,p.thatReturnsArgument):null!=a&&(L(a)&&(b=d+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(M,"$&/")+"/")+e,a={$$typeof:r,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}),c.push(a))}function U(a,b,e,c,d){var g="";null!=e&&(g=(""+e).replace(M,"$&/")+"/"),b=O(b,g,c,d),null==a||Q(a,"",T,b),P(b)}var V={Children:{map:function(a,b,e){if(null==a)return a;var c=[];return U(a,c,null,b,e),c},forEach:function(a,b,e){if(null==a)return a;b=O(null,null,b,e),null==a||Q(a,"",S,b),P(b)},count:function(a){return null==a?0:Q(a,"",p.thatReturnsNull,null)},toArray:function(a){var b=[];return U(a,b,null,p.thatReturnsArgument),b},only:function(a){return L(a)||B("143"),a}},createRef:function(){return{current:null}},Component:D,PureComponent:F,createContext:function(a,b){return void 0===b&&(b=null),(a={$$typeof:x,_calculateChangedBits:b,_defaultValue:a,_currentValue:a,_changedBits:0,Provider:null,Consumer:null}).Provider={$$typeof:w,_context:a},a.Consumer=a},forwardRef:function(a){return{$$typeof:z,render:a}},Fragment:u,StrictMode:v,unstable_AsyncMode:y,createElement:K,cloneElement:function(a,b,e){var c=void 0,d=m({},a.props),g=a.key,h=a.ref,f=a._owner;if(null!=b){void 0!==b.ref&&(h=b.ref,f=H.current),void 0!==b.key&&(g=""+b.key);var k=void 0;for(c in a.type&&a.type.defaultProps&&(k=a.type.defaultProps),b)I.call(b,c)&&!J.hasOwnProperty(c)&&(d[c]=void 0===b[c]&&void 0!==k?k[c]:b[c])}if(1===(c=arguments.length-2))d.children=e;else if(1<c){k=Array(c);for(var l=0;l<c;l++)k[l]=arguments[l+2];d.children=k}return{$$typeof:r,type:a.type,key:g,ref:h,props:d,_owner:f}},createFactory:function(a){var b=K.bind(null,a);return b.type=a,b},isValidElement:L,version:"16.3.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:H,assign:m}},W=Object.freeze({default:V}),X=W&&V||W;module.exports=X.default?X.default:X},function(module,exports,__webpack_require__){"use strict";var ba=__webpack_require__(0),m=__webpack_require__(440),A=__webpack_require__(86),C=__webpack_require__(96),ea=__webpack_require__(441),fa=__webpack_require__(442),ha=__webpack_require__(443),ja=__webpack_require__(152);function D(a){for(var b=arguments.length-1,c="Minified React error #"+a+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+a,d=0;d<b;d++)c+="&args[]="+encodeURIComponent(arguments[d+1]);throw(b=Error(c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name="Invariant Violation",b.framesToPop=1,b}ba||D("227");var E={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(a,b,c,d,e,f,h,g,k){(function ka(a,b,c,d,e,f,h,g,k){this._hasCaughtError=!1,this._caughtError=null;var v=Array.prototype.slice.call(arguments,3);try{b.apply(c,v)}catch(l){this._caughtError=l,this._hasCaughtError=!0}}).apply(E,arguments)},invokeGuardedCallbackAndCatchFirstError:function(a,b,c,d,e,f,h,g,k){if(E.invokeGuardedCallback.apply(this,arguments),E.hasCaughtError()){var v=E.clearCaughtError();E._hasRethrowError||(E._hasRethrowError=!0,E._rethrowError=v)}},rethrowCaughtError:function(){return function ma(){if(E._hasRethrowError){var a=E._rethrowError;throw E._rethrowError=null,E._hasRethrowError=!1,a}}.apply(E,arguments)},hasCaughtError:function(){return E._hasCaughtError},clearCaughtError:function(){if(E._hasCaughtError){var a=E._caughtError;return E._caughtError=null,E._hasCaughtError=!1,a}D("198")}};var na=null,oa={};function pa(){if(na)for(var a in oa){var b=oa[a],c=na.indexOf(a);if(-1<c||D("96",a),!qa[c])for(var d in b.extractEvents||D("97",a),qa[c]=b,c=b.eventTypes){var e=void 0,f=c[d],h=b,g=d;ra.hasOwnProperty(g)&&D("99",g),ra[g]=f;var k=f.phasedRegistrationNames;if(k){for(e in k)k.hasOwnProperty(e)&&sa(k[e],h,g);e=!0}else f.registrationName?(sa(f.registrationName,h,g),e=!0):e=!1;e||D("98",d,a)}}}function sa(a,b,c){ta[a]&&D("100",a),ta[a]=b,ua[a]=b.eventTypes[c].dependencies}var qa=[],ra={},ta={},ua={};function va(a){na&&D("101"),na=Array.prototype.slice.call(a),pa()}function wa(a){var c,b=!1;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];oa.hasOwnProperty(c)&&oa[c]===d||(oa[c]&&D("102",c),oa[c]=d,b=!0)}b&&pa()}var xa=Object.freeze({plugins:qa,eventNameDispatchConfigs:ra,registrationNameModules:ta,registrationNameDependencies:ua,possibleRegistrationNames:null,injectEventPluginOrder:va,injectEventPluginsByName:wa}),Ca=null,Da=null,Ea=null;function Fa(a,b,c,d){b=a.type||"unknown-event",a.currentTarget=Ea(d),E.invokeGuardedCallbackAndCatchFirstError(b,c,void 0,a),a.currentTarget=null}function Ga(a,b){return null==b&&D("30"),null==a?b:Array.isArray(a)?Array.isArray(b)?(a.push.apply(a,b),a):(a.push(b),a):Array.isArray(b)?[a].concat(b):[a,b]}function Ha(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}var Ia=null;function Ja(a,b){if(a){var c=a._dispatchListeners,d=a._dispatchInstances;if(Array.isArray(c))for(var e=0;e<c.length&&!a.isPropagationStopped();e++)Fa(a,b,c[e],d[e]);else c&&Fa(a,b,c,d);a._dispatchListeners=null,a._dispatchInstances=null,a.isPersistent()||a.constructor.release(a)}}function Ka(a){return Ja(a,!0)}function La(a){return Ja(a,!1)}var Ma={injectEventPluginOrder:va,injectEventPluginsByName:wa};function Na(a,b){var c=a.stateNode;if(!c)return null;var d=Ca(c);if(!d)return null;c=d[b];a:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(d=!d.disabled)||(d=!("button"===(a=a.type)||"input"===a||"select"===a||"textarea"===a)),a=!d;break a;default:a=!1}return a?null:(c&&"function"!=typeof c&&D("231",b,typeof c),c)}function Oa(a,b){null!==a&&(Ia=Ga(Ia,a)),a=Ia,Ia=null,a&&(Ha(a,b?Ka:La),Ia&&D("95"),E.rethrowCaughtError())}function Pa(a,b,c,d){for(var e=null,f=0;f<qa.length;f++){var h=qa[f];h&&(h=h.extractEvents(a,b,c,d))&&(e=Ga(e,h))}Oa(e,!1)}var Qa=Object.freeze({injection:Ma,getListener:Na,runEventsInBatch:Oa,runExtractedEventsInBatch:Pa}),Ra=Math.random().toString(36).slice(2),F="__reactInternalInstance$"+Ra,Sa="__reactEventHandlers$"+Ra;function Ta(a){if(a[F])return a[F];for(;!a[F];){if(!a.parentNode)return null;a=a.parentNode}return 5===(a=a[F]).tag||6===a.tag?a:null}function Ua(a){if(5===a.tag||6===a.tag)return a.stateNode;D("33")}function Va(a){return a[Sa]||null}var Xa=Object.freeze({precacheFiberNode:function(a,b){b[F]=a},getClosestInstanceFromNode:Ta,getInstanceFromNode:function(a){return!(a=a[F])||5!==a.tag&&6!==a.tag?null:a},getNodeFromInstance:Ua,getFiberCurrentPropsFromNode:Va,updateFiberProps:function(a,b){a[Sa]=b}});function L(a){do{a=a.return}while(a&&5!==a.tag);return a||null}function bb(a,b,c){for(var d=[];a;)d.push(a),a=L(a);for(a=d.length;0<a--;)b(d[a],"captured",c);for(a=0;a<d.length;a++)b(d[a],"bubbled",c)}function cb(a,b,c){(b=Na(a,c.dispatchConfig.phasedRegistrationNames[b]))&&(c._dispatchListeners=Ga(c._dispatchListeners,b),c._dispatchInstances=Ga(c._dispatchInstances,a))}function db(a){a&&a.dispatchConfig.phasedRegistrationNames&&bb(a._targetInst,cb,a)}function eb(a){if(a&&a.dispatchConfig.phasedRegistrationNames){var b=a._targetInst;bb(b=b?L(b):null,cb,a)}}function fb(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Na(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=Ga(c._dispatchListeners,b),c._dispatchInstances=Ga(c._dispatchInstances,a))}function gb(a){a&&a.dispatchConfig.registrationName&&fb(a._targetInst,null,a)}function hb(a){Ha(a,db)}function ib(a,b,c,d){if(c&&d)a:{for(var e=c,f=d,h=0,g=e;g;g=L(g))h++;g=0;for(var k=f;k;k=L(k))g++;for(;0<h-g;)e=L(e),h--;for(;0<g-h;)f=L(f),g--;for(;h--;){if(e===f||e===f.alternate)break a;e=L(e),f=L(f)}e=null}else e=null;for(f=e,e=[];c&&c!==f&&(null===(h=c.alternate)||h!==f);)e.push(c),c=L(c);for(c=[];d&&d!==f&&(null===(h=d.alternate)||h!==f);)c.push(d),d=L(d);for(d=0;d<e.length;d++)fb(e[d],"bubbled",a);for(a=c.length;0<a--;)fb(c[a],"captured",b)}var jb=Object.freeze({accumulateTwoPhaseDispatches:hb,accumulateTwoPhaseDispatchesSkipTarget:function(a){Ha(a,eb)},accumulateEnterLeaveDispatches:ib,accumulateDirectDispatches:function(a){Ha(a,gb)}}),kb=null;function lb(){return!kb&&m.canUseDOM&&(kb="textContent"in document.documentElement?"textContent":"innerText"),kb}var M={_root:null,_startText:null,_fallbackText:null};function mb(){if(M._fallbackText)return M._fallbackText;var a,d,b=M._startText,c=b.length,e=nb(),f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var h=c-a;for(d=1;d<=h&&b[c-d]===e[f-d];d++);return M._fallbackText=e.slice(a,1<d?1-d:void 0),M._fallbackText}function nb(){return"value"in M._root?M._root.value:M._root[lb()]}var ob="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),pb={type:null,target:null,currentTarget:C.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function N(a,b,c,d){for(var e in this.dispatchConfig=a,this._targetInst=b,this.nativeEvent=c,a=this.constructor.Interface)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):"target"===e?this.target=d:this[e]=c[e]);return this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?C.thatReturnsTrue:C.thatReturnsFalse,this.isPropagationStopped=C.thatReturnsFalse,this}function rb(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();return this.call(e,a,b,c,d),e}return new this(a,b,c,d)}function sb(a){a instanceof this||D("223"),a.destructor(),10>this.eventPool.length&&this.eventPool.push(a)}function qb(a){a.eventPool=[],a.getPooled=rb,a.release=sb}A(N.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!=typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=C.thatReturnsTrue)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():"unknown"!=typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=C.thatReturnsTrue)},persist:function(){this.isPersistent=C.thatReturnsTrue},isPersistent:C.thatReturnsFalse,destructor:function(){var b,a=this.constructor.Interface;for(b in a)this[b]=null;for(a=0;a<ob.length;a++)this[ob[a]]=null}}),N.Interface=pb,N.extend=function(a){function b(){}function c(){return d.apply(this,arguments)}var d=this;b.prototype=d.prototype;var e=new b;return A(e,c.prototype),c.prototype=e,c.prototype.constructor=c,c.Interface=A({},d.Interface,a),c.extend=d.extend,qb(c),c},qb(N);var tb=N.extend({data:null}),ub=N.extend({data:null}),vb=[9,13,27,32],wb=m.canUseDOM&&"CompositionEvent"in window,xb=null;m.canUseDOM&&"documentMode"in document&&(xb=document.documentMode);var yb=m.canUseDOM&&"TextEvent"in window&&!xb,zb=m.canUseDOM&&(!wb||xb&&8<xb&&11>=xb),Ab=String.fromCharCode(32),Bb={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Kb=!1;function Lb(a,b){switch(a){case"topKeyUp":return-1!==vb.indexOf(b.keyCode);case"topKeyDown":return 229!==b.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function Mb(a){return"object"==typeof(a=a.detail)&&"data"in a?a.data:null}var Nb=!1;var Qb={eventTypes:Bb,extractEvents:function(a,b,c,d){var e=void 0,f=void 0;if(wb)b:{switch(a){case"topCompositionStart":e=Bb.compositionStart;break b;case"topCompositionEnd":e=Bb.compositionEnd;break b;case"topCompositionUpdate":e=Bb.compositionUpdate;break b}e=void 0}else Nb?Lb(a,c)&&(e=Bb.compositionEnd):"topKeyDown"===a&&229===c.keyCode&&(e=Bb.compositionStart);return e?(zb&&(Nb||e!==Bb.compositionStart?e===Bb.compositionEnd&&Nb&&(f=mb()):(M._root=d,M._startText=nb(),Nb=!0)),e=tb.getPooled(e,b,c,d),f?e.data=f:null!==(f=Mb(c))&&(e.data=f),hb(e),f=e):f=null,(a=yb?function Ob(a,b){switch(a){case"topCompositionEnd":return Mb(b);case"topKeyPress":return 32!==b.which?null:(Kb=!0,Ab);case"topTextInput":return(a=b.data)===Ab&&Kb?null:a;default:return null}}(a,c):function Pb(a,b){if(Nb)return"topCompositionEnd"===a||!wb&&Lb(a,b)?(a=mb(),M._root=null,M._startText=null,M._fallbackText=null,Nb=!1,a):null;switch(a){case"topPaste":return null;case"topKeyPress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"topCompositionEnd":return zb?null:b.data;default:return null}}(a,c))?((b=ub.getPooled(Bb.beforeInput,b,c,d)).data=a,hb(b)):b=null,null===f?b:null===b?f:[f,b]}},Rb=null,Sb=null,Tb=null;function Ub(a){if(a=Da(a)){Rb&&"function"==typeof Rb.restoreControlledState||D("194");var b=Ca(a.stateNode);Rb.restoreControlledState(a.stateNode,a.type,b)}}var Vb={injectFiberControlledHostComponent:function(a){Rb=a}};function Wb(a){Sb?Tb?Tb.push(a):Tb=[a]:Sb=a}function Xb(){return null!==Sb||null!==Tb}function Yb(){if(Sb){var a=Sb,b=Tb;if(Tb=Sb=null,Ub(a),b)for(a=0;a<b.length;a++)Ub(b[a])}}var Zb=Object.freeze({injection:Vb,enqueueStateRestore:Wb,needsStateRestore:Xb,restoreStateIfNeeded:Yb});function $b(a,b){return a(b)}function ac(a,b,c){return a(b,c)}function bc(){}var cc=!1;function dc(a,b){if(cc)return a(b);cc=!0;try{return $b(a,b)}finally{cc=!1,Xb()&&(bc(),Yb())}}var ec={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!ec[a.type]:"textarea"===b}function gc(a){return(a=a.target||window).correspondingUseElement&&(a=a.correspondingUseElement),3===a.nodeType?a.parentNode:a}function hc(a,b){return!(!m.canUseDOM||b&&!("addEventListener"in document))&&((b=(a="on"+a)in document)||((b=document.createElement("div")).setAttribute(a,"return;"),b="function"==typeof b[a]),b)}function ic(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function kc(a){a._valueTracker||(a._valueTracker=function jc(a){var b=ic(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=""+a[b];if(!a.hasOwnProperty(b)&&"function"==typeof c.get&&"function"==typeof c.set)return Object.defineProperty(a,b,{configurable:!0,get:function(){return c.get.call(this)},set:function(a){d=""+a,c.set.call(this,a)}}),Object.defineProperty(a,b,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(a){d=""+a},stopTracking:function(){a._valueTracker=null,delete a[b]}}}(a))}function lc(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue(),d="";return a&&(d=ic(a)?a.checked?"true":"false":a.value),(a=d)!==c&&(b.setValue(a),!0)}var mc=ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O="function"==typeof Symbol&&Symbol.for,nc=O?Symbol.for("react.element"):60103,oc=O?Symbol.for("react.call"):60104,pc=O?Symbol.for("react.return"):60105,qc=O?Symbol.for("react.portal"):60106,rc=O?Symbol.for("react.fragment"):60107,sc=O?Symbol.for("react.strict_mode"):60108,tc=O?Symbol.for("react.provider"):60109,uc=O?Symbol.for("react.context"):60110,vc=O?Symbol.for("react.async_mode"):60111,wc=O?Symbol.for("react.forward_ref"):60112,xc="function"==typeof Symbol&&Symbol.iterator;function yc(a){return null===a||void 0===a?null:"function"==typeof(a=xc&&a[xc]||a["@@iterator"])?a:null}function zc(a){if("function"==typeof(a=a.type))return a.displayName||a.name;if("string"==typeof a)return a;switch(a){case rc:return"ReactFragment";case qc:return"ReactPortal";case oc:return"ReactCall";case pc:return"ReactReturn"}return null}function Ac(a){var b="";do{a:switch(a.tag){case 0:case 1:case 2:case 5:var c=a._debugOwner,d=a._debugSource,e=zc(a),f=null;c&&(f=zc(c)),c=d,e="\n    in "+(e||"Unknown")+(c?" (at "+c.fileName.replace(/^.*[\\\/]/,"")+":"+c.lineNumber+")":f?" (created by "+f+")":"");break a;default:e=""}b+=e,a=a.return}while(a);return b}var Bc=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cc={},Dc={};function U(a,b,c,d,e){this.acceptsBooleans=2===b||3===b||4===b,this.attributeName=d,this.attributeNamespace=e,this.mustUseProperty=c,this.propertyName=a,this.type=b}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){V[a]=new U(a,0,!1,a,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];V[b]=new U(b,1,!1,a[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){V[a]=new U(a,2,!1,a.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(a){V[a]=new U(a,2,!1,a,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){V[a]=new U(a,3,!1,a.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(a){V[a]=new U(a,3,!0,a.toLowerCase(),null)}),["capture","download"].forEach(function(a){V[a]=new U(a,4,!1,a.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(a){V[a]=new U(a,6,!1,a.toLowerCase(),null)}),["rowSpan","start"].forEach(function(a){V[a]=new U(a,5,!1,a.toLowerCase(),null)});var Hc=/[\-\:]([a-z])/g;function Sc(a){return a[1].toUpperCase()}function Tc(a,b,c,d){var e=V.hasOwnProperty(b)?V[b]:null;(null!==e?0===e.type:!d&&(2<b.length&&("o"===b[0]||"O"===b[0])&&("n"===b[1]||"N"===b[1])))||(function Gc(a,b,c,d){if(null===b||void 0===b||function Fc(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":return!d&&(null!==c?!c.acceptsBooleans:"data-"!==(a=a.toLowerCase().slice(0,5))&&"aria-"!==a);default:return!1}}(a,b,c,d))return!0;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}(b,c,e,d)&&(c=null),d||null===e?function Ec(a){return!!Dc.hasOwnProperty(a)||!Cc.hasOwnProperty(a)&&(Bc.test(a)?Dc[a]=!0:(Cc[a]=!0,!1))}(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,""+c)):e.mustUseProperty?a[e.propertyName]=null===c?3!==e.type&&"":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(c=3===(e=e.type)||4===e&&!0===c?"":""+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}function Uc(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Vc(a,b){var c=null==b.defaultValue?"":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Wc(null!=b.value?b.value:c),a._wrapperState={initialChecked:d,initialValue:c,controlled:"checkbox"===b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function Xc(a,b){null!=(b=b.checked)&&Tc(a,"checked",b,!1)}function Yc(a,b){Xc(a,b);var c=Wc(b.value);null!=c&&("number"===b.type?(0===c&&""===a.value||a.value!=c)&&(a.value=""+c):a.value!==""+c&&(a.value=""+c)),b.hasOwnProperty("value")?Zc(a,b.type,c):b.hasOwnProperty("defaultValue")&&Zc(a,b.type,Wc(b.defaultValue)),null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function $c(a,b){(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue"))&&(""===a.value&&(a.value=""+a._wrapperState.initialValue),a.defaultValue=""+a._wrapperState.initialValue),""!==(b=a.name)&&(a.name=""),a.defaultChecked=!a.defaultChecked,a.defaultChecked=!a.defaultChecked,""!==b&&(a.name=b)}function Zc(a,b,c){"number"===b&&a.ownerDocument.activeElement===a||(null==c?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c))}function Wc(a){switch(typeof a){case"boolean":case"number":case"object":case"string":case"undefined":return a;default:return""}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=a.replace(Hc,Sc);V[b]=new U(b,1,!1,a,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(Hc,Sc);V[b]=new U(b,1,!1,a,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(Hc,Sc);V[b]=new U(b,1,!1,a,"http://www.w3.org/XML/1998/namespace")}),V.tabIndex=new U("tabIndex",1,!1,"tabindex",null);var ad={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}};function bd(a,b,c){return(a=N.getPooled(ad.change,a,b,c)).type="change",Wb(c),hb(a),a}var cd=null,dd=null;function ed(a){Oa(a,!1)}function fd(a){if(lc(Ua(a)))return a}function gd(a,b){if("topChange"===a)return b}var hd=!1;function id(){cd&&(cd.detachEvent("onpropertychange",jd),dd=cd=null)}function jd(a){"value"===a.propertyName&&fd(dd)&&dc(ed,a=bd(dd,a,gc(a)))}function kd(a,b,c){"topFocus"===a?(id(),dd=c,(cd=b).attachEvent("onpropertychange",jd)):"topBlur"===a&&id()}function ld(a){if("topSelectionChange"===a||"topKeyUp"===a||"topKeyDown"===a)return fd(dd)}function md(a,b){if("topClick"===a)return fd(b)}function nd(a,b){if("topInput"===a||"topChange"===a)return fd(b)}m.canUseDOM&&(hd=hc("input")&&(!document.documentMode||9<document.documentMode));var od={eventTypes:ad,_isInputEventSupported:hd,extractEvents:function(a,b,c,d){var e=b?Ua(b):window,f=void 0,h=void 0,g=e.nodeName&&e.nodeName.toLowerCase();if("select"===g||"input"===g&&"file"===e.type?f=gd:fc(e)?hd?f=nd:(f=ld,h=kd):!(g=e.nodeName)||"input"!==g.toLowerCase()||"checkbox"!==e.type&&"radio"!==e.type||(f=md),f&&(f=f(a,b)))return bd(f,c,d);h&&h(a,e,b),"topBlur"===a&&null!=b&&(a=b._wrapperState||e._wrapperState)&&a.controlled&&"number"===e.type&&Zc(e,"number",e.value)}},pd=N.extend({view:null,detail:null}),qd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):!!(a=qd[a])&&!!b[a]}function sd(){return rd}var td=pd.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:sd,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)}}),ud={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},vd={eventTypes:ud,extractEvents:function(a,b,c,d){if("topMouseOver"===a&&(c.relatedTarget||c.fromElement)||"topMouseOut"!==a&&"topMouseOver"!==a)return null;var e=d.window===d?d:(e=d.ownerDocument)?e.defaultView||e.parentWindow:window;if("topMouseOut"===a?(a=b,b=(b=c.relatedTarget||c.toElement)?Ta(b):null):a=null,a===b)return null;var f=null==a?e:Ua(a);e=null==b?e:Ua(b);var h=td.getPooled(ud.mouseLeave,a,c,d);return h.type="mouseleave",h.target=f,h.relatedTarget=e,(c=td.getPooled(ud.mouseEnter,b,c,d)).type="mouseenter",c.target=e,c.relatedTarget=f,ib(h,c,a,b),[h,c]}};function wd(a){var b=a;if(a.alternate)for(;b.return;)b=b.return;else{if(0!=(2&b.effectTag))return 1;for(;b.return;)if(0!=(2&(b=b.return).effectTag))return 1}return 3===b.tag?2:3}function xd(a){return!!(a=a._reactInternalFiber)&&2===wd(a)}function yd(a){2!==wd(a)&&D("188")}function zd(a){var b=a.alternate;if(!b)return 3===(b=wd(a))&&D("188"),1===b?null:a;for(var c=a,d=b;;){var e=c.return,f=e?e.alternate:null;if(!e||!f)break;if(e.child===f.child){for(var h=e.child;h;){if(h===c)return yd(e),a;if(h===d)return yd(e),b;h=h.sibling}D("188")}if(c.return!==d.return)c=e,d=f;else{h=!1;for(var g=e.child;g;){if(g===c){h=!0,c=e,d=f;break}if(g===d){h=!0,d=e,c=f;break}g=g.sibling}if(!h){for(g=f.child;g;){if(g===c){h=!0,c=f,d=e;break}if(g===d){h=!0,d=f,c=e;break}g=g.sibling}h||D("189")}}c.alternate!==d&&D("190")}return 3!==c.tag&&D("188"),c.stateNode.current===c?a:b}var Cd=N.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Dd=N.extend({clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ed=pd.extend({relatedTarget:null});function Fd(a){var b=a.keyCode;return"charCode"in a?0===(a=a.charCode)&&13===b&&(a=13):a=b,10===a&&(a=13),32<=a||13===a?a:0}var Gd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Id=pd.extend({key:function(a){if(a.key){var b=Gd[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?13===(a=Fd(a))?"Enter":String.fromCharCode(a):"keydown"===a.type||"keyup"===a.type?Hd[a.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:sd,charCode:function(a){return"keypress"===a.type?Fd(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?Fd(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),Jd=td.extend({dataTransfer:null}),Kd=pd.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:sd}),Ld=N.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Md=td.extend({deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null}),Nd={},Od={};function Pd(a,b){var c=a[0].toUpperCase()+a.slice(1),d="on"+c;b={phasedRegistrationNames:{bubbled:d,captured:d+"Capture"},dependencies:[c="top"+c],isInteractive:b},Nd[a]=b,Od[c]=b}"blur cancel click close contextMenu copy cut doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play rateChange reset seeked submit touchCancel touchEnd touchStart volumeChange".split(" ").forEach(function(a){Pd(a,!0)}),"abort animationEnd animationIteration animationStart canPlay canPlayThrough drag dragEnter dragExit dragLeave dragOver durationChange emptied encrypted ended error load loadedData loadedMetadata loadStart mouseMove mouseOut mouseOver playing progress scroll seeking stalled suspend timeUpdate toggle touchMove transitionEnd waiting wheel".split(" ").forEach(function(a){Pd(a,!1)});var Qd={eventTypes:Nd,isInteractiveTopLevelEventType:function(a){return void 0!==(a=Od[a])&&!0===a.isInteractive},extractEvents:function(a,b,c,d){var e=Od[a];if(!e)return null;switch(a){case"topKeyPress":if(0===Fd(c))return null;case"topKeyDown":case"topKeyUp":a=Id;break;case"topBlur":case"topFocus":a=Ed;break;case"topClick":if(2===c.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=td;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=Jd;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=Kd;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=Cd;break;case"topTransitionEnd":a=Ld;break;case"topScroll":a=pd;break;case"topWheel":a=Md;break;case"topCopy":case"topCut":case"topPaste":a=Dd;break;default:a=N}return hb(b=a.getPooled(e,b,c,d)),b}},Rd=Qd.isInteractiveTopLevelEventType,Sd=[];function Td(a){var b=a.targetInst;do{if(!b){a.ancestors.push(b);break}var c;for(c=b;c.return;)c=c.return;if(!(c=3!==c.tag?null:c.stateNode.containerInfo))break;a.ancestors.push(b),b=Ta(c)}while(b);for(c=0;c<a.ancestors.length;c++)b=a.ancestors[c],Pa(a.topLevelType,b,a.nativeEvent,gc(a.nativeEvent))}var Ud=!0;function Vd(a){Ud=!!a}function W(a,b,c){if(!c)return null;a=(Rd(a)?Wd:Xd).bind(null,a),c.addEventListener(b,a,!1)}function Yd(a,b,c){if(!c)return null;a=(Rd(a)?Wd:Xd).bind(null,a),c.addEventListener(b,a,!0)}function Wd(a,b){ac(Xd,a,b)}function Xd(a,b){if(Ud){var c=gc(b);if(null!==(c=Ta(c))&&"number"==typeof c.tag&&2!==wd(c)&&(c=null),Sd.length){var d=Sd.pop();d.topLevelType=a,d.nativeEvent=b,d.targetInst=c,a=d}else a={topLevelType:a,nativeEvent:b,targetInst:c,ancestors:[]};try{dc(Td,a)}finally{a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=0,10>Sd.length&&Sd.push(a)}}}var Zd=Object.freeze({get _enabled(){return Ud},setEnabled:Vd,isEnabled:function(){return Ud},trapBubbledEvent:W,trapCapturedEvent:Yd,dispatchEvent:Xd});function $d(a,b){var c={};return c[a.toLowerCase()]=b.toLowerCase(),c["Webkit"+a]="webkit"+b,c["Moz"+a]="moz"+b,c["ms"+a]="MS"+b,c["O"+a]="o"+b.toLowerCase(),c}var ae={animationend:$d("Animation","AnimationEnd"),animationiteration:$d("Animation","AnimationIteration"),animationstart:$d("Animation","AnimationStart"),transitionend:$d("Transition","TransitionEnd")},be={},ce={};function de(a){if(be[a])return be[a];if(!ae[a])return a;var c,b=ae[a];for(c in b)if(b.hasOwnProperty(c)&&c in ce)return be[a]=b[c];return a}m.canUseDOM&&(ce=document.createElement("div").style,"AnimationEvent"in window||(delete ae.animationend.animation,delete ae.animationiteration.animation,delete ae.animationstart.animation),"TransitionEvent"in window||delete ae.transitionend.transition);var ee={topAnimationEnd:de("animationend"),topAnimationIteration:de("animationiteration"),topAnimationStart:de("animationstart"),topBlur:"blur",topCancel:"cancel",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoad:"load",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:de("transitionend"),topWheel:"wheel"},fe={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},ge={},he=0,ie="_reactListenersID"+(""+Math.random()).slice(2);function je(a){return Object.prototype.hasOwnProperty.call(a,ie)||(a[ie]=he++,ge[a[ie]]={}),ge[a[ie]]}function ke(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function le(a,b){var d,c=ke(a);for(a=0;c;){if(3===c.nodeType){if(d=a+c.textContent.length,a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=ke(c)}}function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&"text"===a.type||"textarea"===b||"true"===a.contentEditable)}var ne=m.canUseDOM&&"documentMode"in document&&11>=document.documentMode,oe={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},pe=null,qe=null,re=null,se=!1;function ue(a,b){if(se||null==pe||pe!==ea())return null;var c=pe;return"selectionStart"in c&&me(c)?c={start:c.selectionStart,end:c.selectionEnd}:window.getSelection?c={anchorNode:(c=window.getSelection()).anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}:c=void 0,re&&fa(re,c)?null:(re=c,(a=N.getPooled(oe.select,qe,a,b)).type="select",a.target=pe,hb(a),a)}var we={eventTypes:oe,extractEvents:function(a,b,c,d){var f,e=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument;if(!(f=!e)){a:{e=je(e),f=ua.onSelect;for(var h=0;h<f.length;h++){var g=f[h];if(!e.hasOwnProperty(g)||!e[g]){e=!1;break a}}e=!0}f=!e}if(f)return null;switch(e=b?Ua(b):window,a){case"topFocus":(fc(e)||"true"===e.contentEditable)&&(pe=e,qe=b,re=null);break;case"topBlur":re=qe=pe=null;break;case"topMouseDown":se=!0;break;case"topContextMenu":case"topMouseUp":return se=!1,ue(c,d);case"topSelectionChange":if(ne)break;case"topKeyDown":case"topKeyUp":return ue(c,d)}return null}};function xe(a,b,c,d){this.tag=a,this.key=c,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.ref=null,this.pendingProps=b,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function ye(a,b,c){var d=a.alternate;return null===d?((d=new xe(a.tag,b,a.key,a.mode)).type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=b,d.effectTag=0,d.nextEffect=null,d.firstEffect=null,d.lastEffect=null),d.expirationTime=c,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function ze(a,b,c){var d=a.type,e=a.key;a=a.props;var f=void 0;if("function"==typeof d)f=d.prototype&&d.prototype.isReactComponent?2:0;else if("string"==typeof d)f=5;else switch(d){case rc:return Ae(a.children,b,c,e);case vc:f=11,b|=3;break;case sc:f=11,b|=2;break;case oc:f=7;break;case pc:f=9;break;default:if("object"==typeof d&&null!==d)switch(d.$$typeof){case tc:f=13;break;case uc:f=12;break;case wc:f=14;break;default:if("number"==typeof d.tag)return(b=d).pendingProps=a,b.expirationTime=c,b;D("130",null==d?d:typeof d,"")}else D("130",null==d?d:typeof d,"")}return(b=new xe(f,a,e,b)).type=d,b.expirationTime=c,b}function Ae(a,b,c,d){return(a=new xe(10,a,d,b)).expirationTime=c,a}function Be(a,b,c){return(a=new xe(6,a,null,b)).expirationTime=c,a}function Ce(a,b,c){return(b=new xe(4,null!==a.children?a.children:[],a.key,b)).expirationTime=c,b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},b}Ma.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Ca=Xa.getFiberCurrentPropsFromNode,Da=Xa.getInstanceFromNode,Ea=Xa.getNodeFromInstance,Ma.injectEventPluginsByName({SimpleEventPlugin:Qd,EnterLeaveEventPlugin:vd,ChangeEventPlugin:od,SelectEventPlugin:we,BeforeInputEventPlugin:Qb});var De=null,Ee=null;function Fe(a){return function(b){try{return a(b)}catch(c){}}}function He(a){"function"==typeof De&&De(a)}function Ie(a){"function"==typeof Ee&&Ee(a)}function Je(a){return{baseState:a,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1,capturedValues:null}}function Ke(a,b){null===a.last?a.first=a.last=b:(a.last.next=b,a.last=b),(0===a.expirationTime||a.expirationTime>b.expirationTime)&&(a.expirationTime=b.expirationTime)}new Set;var Le=void 0,Me=void 0;function Ne(a){Le=Me=null;var b=a.alternate,c=a.updateQueue;null===c&&(c=a.updateQueue=Je(null)),null!==b?null===(a=b.updateQueue)&&(a=b.updateQueue=Je(null)):a=null,Le=c,Me=a!==c?a:null}function Oe(a,b){Ne(a),a=Le;var c=Me;null===c?Ke(a,b):null===a.last||null===c.last?(Ke(a,b),Ke(c,b)):(Ke(a,b),c.last=b)}function Pe(a,b,c,d){return"function"==typeof(a=a.partialState)?a.call(b,c,d):a}function Qe(a,b,c,d,e,f){null!==a&&a.updateQueue===c&&(c=b.updateQueue={baseState:c.baseState,expirationTime:c.expirationTime,first:c.first,last:c.last,isInitialized:c.isInitialized,capturedValues:c.capturedValues,callbackList:null,hasForceUpdate:!1}),c.expirationTime=0,c.isInitialized?a=c.baseState:(a=c.baseState=b.memoizedState,c.isInitialized=!0);for(var h=!0,g=c.first,k=!1;null!==g;){var v=g.expirationTime;if(v>f){var l=c.expirationTime;(0===l||l>v)&&(c.expirationTime=v),k||(k=!0,c.baseState=a)}else k||(c.first=g.next,null===c.first&&(c.last=null)),g.isReplace?(a=Pe(g,d,a,e),h=!0):(v=Pe(g,d,a,e))&&(a=h?A({},a,v):A(a,v),h=!1),g.isForced&&(c.hasForceUpdate=!0),null!==g.callback&&(null===(v=c.callbackList)&&(v=c.callbackList=[]),v.push(g)),null!==g.capturedValue&&(null===(v=c.capturedValues)?c.capturedValues=[g.capturedValue]:v.push(g.capturedValue));g=g.next}return null!==c.callbackList?b.effectTag|=32:null!==c.first||c.hasForceUpdate||null!==c.capturedValues||(b.updateQueue=null),k||(c.baseState=a),a}function Re(a,b){var c=a.callbackList;if(null!==c)for(a.callbackList=null,a=0;a<c.length;a++){var d=c[a],e=d.callback;d.callback=null,"function"!=typeof e&&D("191",e),e.call(b)}}var Te=Array.isArray;function Ue(a,b,c){if(null!==(a=c.ref)&&"function"!=typeof a&&"object"!=typeof a){if(c._owner){var d=void 0;(c=c._owner)&&(2!==c.tag&&D("110"),d=c.stateNode),d||D("147",a);var e=""+a;return null!==b&&null!==b.ref&&b.ref._stringRef===e?b.ref:((b=function(a){var b=d.refs===ja?d.refs={}:d.refs;null===a?delete b[e]:b[e]=a})._stringRef=e,b)}"string"!=typeof a&&D("148"),c._owner||D("254",a)}return a}function Ve(a,b){"textarea"!==a.type&&D("31","[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+"}":b,"")}function We(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c,c.nextEffect=null,c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b,c){return(a=ye(a,b,c)).index=0,a.sibling=null,a}function f(b,c,d){return b.index=d,a?null!==(d=b.alternate)?(d=d.index)<c?(b.effectTag=2,c):d:(b.effectTag=2,c):c}function h(b){return a&&null===b.alternate&&(b.effectTag=2),b}function g(a,b,c,d){return null===b||6!==b.tag?((b=Be(c,a.mode,d)).return=a,b):((b=e(b,c,d)).return=a,b)}function k(a,b,c,d){return null!==b&&b.type===c.type?((d=e(b,c.props,d)).ref=Ue(a,b,c),d.return=a,d):((d=ze(c,a.mode,d)).ref=Ue(a,b,c),d.return=a,d)}function v(a,b,c,d){return null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation?((b=Ce(c,a.mode,d)).return=a,b):((b=e(b,c.children||[],d)).return=a,b)}function l(a,b,c,d,f){return null===b||10!==b.tag?((b=Ae(c,a.mode,d,f)).return=a,b):((b=e(b,c,d)).return=a,b)}function p(a,b,c){if("string"==typeof b||"number"==typeof b)return(b=Be(""+b,a.mode,c)).return=a,b;if("object"==typeof b&&null!==b){switch(b.$$typeof){case nc:return(c=ze(b,a.mode,c)).ref=Ue(a,null,b),c.return=a,c;case qc:return(b=Ce(b,a.mode,c)).return=a,b}if(Te(b)||yc(b))return(b=Ae(b,a.mode,c,null)).return=a,b;Ve(a,b)}return null}function z(a,b,c,d){var e=null!==b?b.key:null;if("string"==typeof c||"number"==typeof c)return null!==e?null:g(a,b,""+c,d);if("object"==typeof c&&null!==c){switch(c.$$typeof){case nc:return c.key===e?c.type===rc?l(a,b,c.props.children,d,e):k(a,b,c,d):null;case qc:return c.key===e?v(a,b,c,d):null}if(Te(c)||yc(c))return null!==e?null:l(a,b,c,d,null);Ve(a,c)}return null}function B(a,b,c,d,e){if("string"==typeof d||"number"==typeof d)return g(b,a=a.get(c)||null,""+d,e);if("object"==typeof d&&null!==d){switch(d.$$typeof){case nc:return a=a.get(null===d.key?c:d.key)||null,d.type===rc?l(b,a,d.props.children,e,d.key):k(b,a,d,e);case qc:return v(b,a=a.get(null===d.key?c:d.key)||null,d,e)}if(Te(d)||yc(d))return l(b,a=a.get(c)||null,d,e,null);Ve(b,d)}return null}function r(e,g,l,h){for(var r=null,k=null,q=g,u=g=0,t=null;null!==q&&u<l.length;u++){q.index>u?(t=q,q=null):t=q.sibling;var n=z(e,q,l[u],h);if(null===n){null===q&&(q=t);break}a&&q&&null===n.alternate&&b(e,q),g=f(n,g,u),null===k?r=n:k.sibling=n,k=n,q=t}if(u===l.length)return c(e,q),r;if(null===q){for(;u<l.length;u++)(q=p(e,l[u],h))&&(g=f(q,g,u),null===k?r=q:k.sibling=q,k=q);return r}for(q=d(e,q);u<l.length;u++)(t=B(q,e,u,l[u],h))&&(a&&null!==t.alternate&&q.delete(null===t.key?u:t.key),g=f(t,g,u),null===k?r=t:k.sibling=t,k=t);return a&&q.forEach(function(a){return b(e,a)}),r}function Q(e,g,l,h){var r=yc(l);"function"!=typeof r&&D("150"),null==(l=r.call(l))&&D("151");for(var k=r=null,q=g,u=g=0,t=null,n=l.next();null!==q&&!n.done;u++,n=l.next()){q.index>u?(t=q,q=null):t=q.sibling;var H=z(e,q,n.value,h);if(null===H){q||(q=t);break}a&&q&&null===H.alternate&&b(e,q),g=f(H,g,u),null===k?r=H:k.sibling=H,k=H,q=t}if(n.done)return c(e,q),r;if(null===q){for(;!n.done;u++,n=l.next())null!==(n=p(e,n.value,h))&&(g=f(n,g,u),null===k?r=n:k.sibling=n,k=n);return r}for(q=d(e,q);!n.done;u++,n=l.next())null!==(n=B(q,e,u,n.value,h))&&(a&&null!==n.alternate&&q.delete(null===n.key?u:n.key),g=f(n,g,u),null===k?r=n:k.sibling=n,k=n);return a&&q.forEach(function(a){return b(e,a)}),r}return function(a,d,f,g){"object"==typeof f&&null!==f&&f.type===rc&&null===f.key&&(f=f.props.children);var l="object"==typeof f&&null!==f;if(l)switch(f.$$typeof){case nc:a:{var k=f.key;for(l=d;null!==l;){if(l.key===k){if(10===l.tag?f.type===rc:l.type===f.type){c(a,l.sibling),(d=e(l,f.type===rc?f.props.children:f.props,g)).ref=Ue(a,l,f),d.return=a,a=d;break a}c(a,l);break}b(a,l),l=l.sibling}f.type===rc?((d=Ae(f.props.children,a.mode,g,f.key)).return=a,a=d):((g=ze(f,a.mode,g)).ref=Ue(a,d,f),g.return=a,a=g)}return h(a);case qc:a:{for(l=f.key;null!==d;){if(d.key===l){if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling),(d=e(d,f.children||[],g)).return=a,a=d;break a}c(a,d);break}b(a,d),d=d.sibling}(d=Ce(f,a.mode,g)).return=a,a=d}return h(a)}if("string"==typeof f||"number"==typeof f)return f=""+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f,g)):(c(a,d),d=Be(f,a.mode,g)),d.return=a,h(a=d);if(Te(f))return r(a,d,f,g);if(yc(f))return Q(a,d,f,g);if(l&&Ve(a,f),void 0===f)switch(a.tag){case 2:case 1:D("152",(g=a.type).displayName||g.name||"Component")}return c(a,d)}}var Xe=We(!0),Ye=We(!1);function Ze(a,b,c,d,e,f,h){function g(a,b,c){k(a,b,c,b.expirationTime)}function k(a,b,c,d){b.child=null===a?Ye(b,null,c,d):Xe(b,a.child,c,d)}function v(a,b){var c=b.ref;(null===a&&null!==c||null!==a&&a.ref!==c)&&(b.effectTag|=128)}function l(a,b,c,d,e,f){if(v(a,b),!c&&!e)return d&&y(b,!1),r(a,b);c=b.stateNode,mc.current=b;var g=e?null:c.render();return b.effectTag|=1,e&&(k(a,b,null,f),b.child=null),k(a,b,g,f),b.memoizedState=c.state,b.memoizedProps=c.props,d&&y(b,!0),b.child}function p(a){var b=a.stateNode;b.pendingContext?t(a,b.pendingContext,b.pendingContext!==b.context):b.context&&t(a,b.context,!1),Y(a,b.containerInfo)}function z(a,b,c,d){var e=a.child;for(null!==e&&(e.return=a);null!==e;){switch(e.tag){case 12:var f=0|e.stateNode;if(e.type===b&&0!=(f&c)){for(f=e;null!==f;){var g=f.alternate;if(0===f.expirationTime||f.expirationTime>d)f.expirationTime=d,null!==g&&(0===g.expirationTime||g.expirationTime>d)&&(g.expirationTime=d);else{if(null===g||!(0===g.expirationTime||g.expirationTime>d))break;g.expirationTime=d}f=f.return}f=null}else f=e.child;break;case 13:f=e.type===a.type?null:e.child;break;default:f=e.child}if(null!==f)f.return=e;else for(f=e;null!==f;){if(f===a){f=null;break}if(null!==(e=f.sibling)){f=e;break}f=f.return}e=f}}function r(a,b){if(null!==a&&b.child!==a.child&&D("153"),null!==b.child){var c=ye(a=b.child,a.pendingProps,a.expirationTime);for(b.child=c,c.return=b;null!==a.sibling;)a=a.sibling,(c=c.sibling=ye(a,a.pendingProps,a.expirationTime)).return=b;c.sibling=null}return b.child}var Q=a.shouldSetTextContent,n=a.shouldDeprioritizeSubtree,x=b.pushHostContext,Y=b.pushHostContainer,G=d.pushProvider,R=c.getMaskedContext,S=c.getUnmaskedContext,q=c.hasContextChanged,u=c.pushContextProvider,t=c.pushTopLevelContextObject,y=c.invalidateContextProvider,H=e.enterHydrationState,Wa=e.resetHydrationState,Cb=e.tryToClaimNextHydratableInstance,Jc=(a=function Se(a,b,c,d,e){function f(a,b,c,d,e,f){if(null===b||null!==a.updateQueue&&a.updateQueue.hasForceUpdate)return!0;var n=a.stateNode;return a=a.type,"function"==typeof n.shouldComponentUpdate?n.shouldComponentUpdate(c,e,f):!(a.prototype&&a.prototype.isPureReactComponent&&fa(b,c)&&fa(d,e))}function h(a,b){b.updater=r,a.stateNode=b,b._reactInternalFiber=a}function g(a,b,c,d){a=b.state,"function"==typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d),"function"==typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d),b.state!==a&&r.enqueueReplaceState(b,b.state,null)}function k(a,b,c,d){if("function"==typeof(a=a.type).getDerivedStateFromProps)return a.getDerivedStateFromProps.call(null,c,d)}var v=a.cacheContext,l=a.getMaskedContext,p=a.getUnmaskedContext,z=a.isContextConsumer,B=a.hasContextChanged,r={isMounted:xd,enqueueSetState:function(a,d,e){a=a._reactInternalFiber,e=void 0===e?null:e;var f=c(a);Oe(a,{expirationTime:f,partialState:d,callback:e,isReplace:!1,isForced:!1,capturedValue:null,next:null}),b(a,f)},enqueueReplaceState:function(a,d,e){a=a._reactInternalFiber,e=void 0===e?null:e;var f=c(a);Oe(a,{expirationTime:f,partialState:d,callback:e,isReplace:!0,isForced:!1,capturedValue:null,next:null}),b(a,f)},enqueueForceUpdate:function(a,d){a=a._reactInternalFiber,d=void 0===d?null:d;var e=c(a);Oe(a,{expirationTime:e,partialState:null,callback:d,isReplace:!1,isForced:!0,capturedValue:null,next:null}),b(a,e)}};return{adoptClassInstance:h,callGetDerivedStateFromProps:k,constructClassInstance:function(a,b){var c=a.type,d=p(a),e=z(a),f=e?l(a,d):ja,n=null!==(c=new c(b,f)).state&&void 0!==c.state?c.state:null;return h(a,c),a.memoizedState=n,null!==(b=k(a,0,b,n))&&void 0!==b&&(a.memoizedState=A({},a.memoizedState,b)),e&&v(a,d,f),c},mountClassInstance:function(a,b){var c=a.type,d=a.alternate,e=a.stateNode,f=a.pendingProps,n=p(a);e.props=f,e.state=a.memoizedState,e.refs=ja,e.context=l(a,n),"function"==typeof c.getDerivedStateFromProps||"function"==typeof e.getSnapshotBeforeUpdate||"function"!=typeof e.UNSAFE_componentWillMount&&"function"!=typeof e.componentWillMount||(c=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),c!==e.state&&r.enqueueReplaceState(e,e.state,null),null!==(c=a.updateQueue)&&(e.state=Qe(d,a,c,e,f,b))),"function"==typeof e.componentDidMount&&(a.effectTag|=4)},resumeMountClassInstance:function(a,b){var c=a.type,n=a.stateNode;n.props=a.memoizedProps,n.state=a.memoizedState;var h=a.memoizedProps,r=a.pendingProps,z=n.context,q=p(a);q=l(a,q),(c="function"==typeof c.getDerivedStateFromProps||"function"==typeof n.getSnapshotBeforeUpdate)||"function"!=typeof n.UNSAFE_componentWillReceiveProps&&"function"!=typeof n.componentWillReceiveProps||(h!==r||z!==q)&&g(a,n,r,q),z=a.memoizedState,b=null!==a.updateQueue?Qe(null,a,a.updateQueue,n,r,b):z;var u=void 0;if(h!==r&&(u=k(a,0,r,b)),null!==u&&void 0!==u){b=null===b||void 0===b?u:A({},b,u);var t=a.updateQueue;null!==t&&(t.baseState=A({},t.baseState,u))}return h!==r||z!==b||B()||null!==a.updateQueue&&a.updateQueue.hasForceUpdate?((h=f(a,h,r,z,b,q))?(c||"function"!=typeof n.UNSAFE_componentWillMount&&"function"!=typeof n.componentWillMount||("function"==typeof n.componentWillMount&&n.componentWillMount(),"function"==typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount()),"function"==typeof n.componentDidMount&&(a.effectTag|=4)):("function"==typeof n.componentDidMount&&(a.effectTag|=4),d(a,r),e(a,b)),n.props=r,n.state=b,n.context=q,h):("function"==typeof n.componentDidMount&&(a.effectTag|=4),!1)},updateClassInstance:function(a,b,c){var n=b.type,x=b.stateNode;x.props=b.memoizedProps,x.state=b.memoizedState;var h=b.memoizedProps,r=b.pendingProps,q=x.context,u=p(b);u=l(b,u),(n="function"==typeof n.getDerivedStateFromProps||"function"==typeof x.getSnapshotBeforeUpdate)||"function"!=typeof x.UNSAFE_componentWillReceiveProps&&"function"!=typeof x.componentWillReceiveProps||(h!==r||q!==u)&&g(b,x,r,u),q=b.memoizedState,c=null!==b.updateQueue?Qe(a,b,b.updateQueue,x,r,c):q;var t=void 0;if(h!==r&&(t=k(b,0,r,c)),null!==t&&void 0!==t){c=null===c||void 0===c?t:A({},c,t);var y=b.updateQueue;null!==y&&(y.baseState=A({},y.baseState,t))}return h!==r||q!==c||B()||null!==b.updateQueue&&b.updateQueue.hasForceUpdate?((t=f(b,h,r,q,c,u))?(n||"function"!=typeof x.UNSAFE_componentWillUpdate&&"function"!=typeof x.componentWillUpdate||("function"==typeof x.componentWillUpdate&&x.componentWillUpdate(r,c,u),"function"==typeof x.UNSAFE_componentWillUpdate&&x.UNSAFE_componentWillUpdate(r,c,u)),"function"==typeof x.componentDidUpdate&&(b.effectTag|=4),"function"==typeof x.getSnapshotBeforeUpdate&&(b.effectTag|=2048)):("function"!=typeof x.componentDidUpdate||h===a.memoizedProps&&q===a.memoizedState||(b.effectTag|=4),"function"!=typeof x.getSnapshotBeforeUpdate||h===a.memoizedProps&&q===a.memoizedState||(b.effectTag|=2048),d(b,r),e(b,c)),x.props=r,x.state=c,x.context=u,t):("function"!=typeof x.componentDidUpdate||h===a.memoizedProps&&q===a.memoizedState||(b.effectTag|=4),"function"!=typeof x.getSnapshotBeforeUpdate||h===a.memoizedProps&&q===a.memoizedState||(b.effectTag|=2048),!1)}}}(c,f,h,function(a,b){a.memoizedProps=b},function(a,b){a.memoizedState=b})).adoptClassInstance,Kc=a.callGetDerivedStateFromProps,Lc=a.constructClassInstance,Db=a.mountClassInstance,Mc=a.resumeMountClassInstance,Eb=a.updateClassInstance;return{beginWork:function(a,b,c){if(0===b.expirationTime||b.expirationTime>c){switch(b.tag){case 3:p(b);break;case 2:u(b);break;case 4:Y(b,b.stateNode.containerInfo);break;case 13:G(b)}return null}switch(b.tag){case 0:null!==a&&D("155");var d=b.type,e=b.pendingProps,f=S(b);return d=d(e,f=R(b,f)),b.effectTag|=1,"object"==typeof d&&null!==d&&"function"==typeof d.render&&void 0===d.$$typeof?(f=b.type,b.tag=2,b.memoizedState=null!==d.state&&void 0!==d.state?d.state:null,"function"==typeof f.getDerivedStateFromProps&&(null!==(e=Kc(b,d,e,b.memoizedState))&&void 0!==e&&(b.memoizedState=A({},b.memoizedState,e))),e=u(b),Jc(b,d),Db(b,c),a=l(a,b,!0,e,!1,c)):(b.tag=1,g(a,b,d),b.memoizedProps=e,a=b.child),a;case 1:return e=b.type,c=b.pendingProps,q()||b.memoizedProps!==c?(d=S(b),e=e(c,d=R(b,d)),b.effectTag|=1,g(a,b,e),b.memoizedProps=c,a=b.child):a=r(a,b),a;case 2:e=u(b),null===a?null===b.stateNode?(Lc(b,b.pendingProps),Db(b,c),d=!0):d=Mc(b,c):d=Eb(a,b,c),f=!1;var h=b.updateQueue;return null!==h&&null!==h.capturedValues&&(f=d=!0),l(a,b,d,e,f,c);case 3:a:if(p(b),d=b.updateQueue,null!==d){if(f=b.memoizedState,e=Qe(a,b,d,null,null,c),b.memoizedState=e,null!==(d=b.updateQueue)&&null!==d.capturedValues)d=null;else{if(f===e){Wa(),a=r(a,b);break a}d=e.element}f=b.stateNode,(null===a||null===a.child)&&f.hydrate&&H(b)?(b.effectTag|=2,b.child=Ye(b,null,d,c)):(Wa(),g(a,b,d)),b.memoizedState=e,a=b.child}else Wa(),a=r(a,b);return a;case 5:return x(b),null===a&&Cb(b),e=b.type,h=b.memoizedProps,d=b.pendingProps,f=null!==a?a.memoizedProps:null,q()||h!==d||((h=1&b.mode&&n(e,d))&&(b.expirationTime=1073741823),h&&1073741823===c)?(h=d.children,Q(e,d)?h=null:f&&Q(e,f)&&(b.effectTag|=16),v(a,b),1073741823!==c&&1&b.mode&&n(e,d)?(b.expirationTime=1073741823,b.memoizedProps=d,a=null):(g(a,b,h),b.memoizedProps=d,a=b.child)):a=r(a,b),a;case 6:return null===a&&Cb(b),b.memoizedProps=b.pendingProps,null;case 8:b.tag=7;case 7:return e=b.pendingProps,q()||b.memoizedProps!==e||(e=b.memoizedProps),d=e.children,b.stateNode=null===a?Ye(b,b.stateNode,d,c):Xe(b,a.stateNode,d,c),b.memoizedProps=e,b.stateNode;case 9:return null;case 4:return Y(b,b.stateNode.containerInfo),e=b.pendingProps,q()||b.memoizedProps!==e?(null===a?b.child=Xe(b,null,e,c):g(a,b,e),b.memoizedProps=e,a=b.child):a=r(a,b),a;case 14:return g(a,b,c=(c=b.type.render)(b.pendingProps,b.ref)),b.memoizedProps=c,b.child;case 10:return c=b.pendingProps,q()||b.memoizedProps!==c?(g(a,b,c),b.memoizedProps=c,a=b.child):a=r(a,b),a;case 11:return c=b.pendingProps.children,q()||null!==c&&b.memoizedProps!==c?(g(a,b,c),b.memoizedProps=c,a=b.child):a=r(a,b),a;case 13:return function B(a,b,c){var d=b.type._context,e=b.pendingProps,f=b.memoizedProps;if(!q()&&f===e)return b.stateNode=0,G(b),r(a,b);var l=e.value;if(b.memoizedProps=e,null===f)l=1073741823;else if(f.value===e.value){if(f.children===e.children)return b.stateNode=0,G(b),r(a,b);l=0}else{var u=f.value;if(u===l&&(0!==u||1/u==1/l)||u!=u&&l!=l){if(f.children===e.children)return b.stateNode=0,G(b),r(a,b);l=0}else if(l="function"==typeof d._calculateChangedBits?d._calculateChangedBits(u,l):1073741823,0==(l|=0)){if(f.children===e.children)return b.stateNode=0,G(b),r(a,b)}else z(b,d,l,c)}return b.stateNode=l,G(b),g(a,b,e.children),b.child}(a,b,c);case 12:d=b.type,f=b.pendingProps;var t=b.memoizedProps;return e=d._currentValue,h=d._changedBits,q()||0!==h||t!==f?(b.memoizedProps=f,void 0!==(t=f.unstable_observedBits)&&null!==t||(t=1073741823),b.stateNode=t,0!=(h&t)&&z(b,d,h,c),g(a,b,c=(c=f.children)(e)),a=b.child):a=r(a,b),a;default:D("156")}}}}function bf(a,b){var c=b.source;null===b.stack&&Ac(c),null!==c&&zc(c),b=b.value,null!==a&&2===a.tag&&zc(a);try{b&&b.suppressReactErrorLogging||console.error(b)}catch(d){d&&d.suppressReactErrorLogging||console.error(d)}}var df={};function kf(a){function b(){if(null!==I)for(var a=I.return;null!==a;)Lc(a),a=a.return;Ya=null,Z=0,I=null,Nc=!1}function c(a){return null!==ya&&ya.has(a)}function d(a){for(;;){var b=a.alternate,c=a.return,d=a.sibling;if(0==(512&a.effectTag)){b=Cb(b,a,Z);var e=a;if(1073741823===Z||1073741823!==e.expirationTime){b:switch(e.tag){case 3:case 2:var f=e.updateQueue;f=null===f?0:f.expirationTime;break b;default:f=0}for(var g=e.child;null!==g;)0!==g.expirationTime&&(0===f||f>g.expirationTime)&&(f=g.expirationTime),g=g.sibling;e.expirationTime=f}if(null!==b)return b;if(null!==c&&0==(512&c.effectTag)&&(null===c.firstEffect&&(c.firstEffect=a.firstEffect),null!==a.lastEffect&&(null!==c.lastEffect&&(c.lastEffect.nextEffect=a.firstEffect),c.lastEffect=a.lastEffect),1<a.effectTag&&(null!==c.lastEffect?c.lastEffect.nextEffect=a:c.firstEffect=a,c.lastEffect=a)),null!==d)return d;if(null===c){Nc=!0;break}a=c}else{if(null!==(a=Kc(a)))return a.effectTag&=2559,a;if(null!==c&&(c.firstEffect=c.lastEffect=null,c.effectTag|=512),null!==d)return d;if(null===c)break;a=c}}return null}function e(a){var b=Wa(a.alternate,a,Z);return null===b&&(b=d(a)),mc.current=null,b}function f(a,c,f){ca&&D("243"),ca=!0,c===Z&&a===Ya&&null!==I||(b(),Z=c,I=ye((Ya=a).current,null,Z),a.pendingCommitExpirationTime=0);for(var g=!1;;){try{if(f)for(;null!==I&&!S();)I=e(I);else for(;null!==I;)I=e(I)}catch(Oc){if(null===I){g=!0,q(Oc);break}var h=(f=I).return;if(null===h){g=!0,q(Oc);break}Jc(h,f,Oc),I=d(f)}break}return ca=!1,g||null!==I?null:Nc?(a.pendingCommitExpirationTime=c,a.current.alternate):void D("262")}function h(a,b,c,d){Oe(b,{expirationTime:d,partialState:null,callback:null,isReplace:!1,isForced:!1,capturedValue:a={value:c,source:a,stack:Ac(a)},next:null}),v(b,d)}function g(a,b){a:{ca&&!Za&&D("263");for(var d=a.return;null!==d;){switch(d.tag){case 2:var e=d.stateNode;if("function"==typeof d.type.getDerivedStateFromCatch||"function"==typeof e.componentDidCatch&&!c(e)){h(a,d,b,1),a=void 0;break a}break;case 3:h(a,d,b,1),a=void 0;break a}d=d.return}3===a.tag&&h(a,a,b,1),a=void 0}return a}function k(a){return a=0!==ia?ia:ca?Za?1:Z:1&a.mode?za?10*(1+((l()+50)/10|0)):25*(1+((l()+500)/25|0)):1,za&&(0===da||a>da)&&(da=a),a}function v(a,c){a:{for(;null!==a;){if((0===a.expirationTime||a.expirationTime>c)&&(a.expirationTime=c),null!==a.alternate&&(0===a.alternate.expirationTime||a.alternate.expirationTime>c)&&(a.alternate.expirationTime=c),null===a.return){if(3!==a.tag){c=void 0;break a}var d=a.stateNode;!ca&&0!==Z&&c<Z&&b(),ca&&!Za&&Ya===d||B(d,c),Fb>wg&&D("185")}a=a.return}c=void 0}return c}function l(){return ve=Ic()-Pc,2+(ve/10|0)}function p(a,b,c,d,e){var f=ia;ia=1;try{return a(b,c,d,e)}finally{ia=f}}function z(a){if(0!==Gb){if(a>Gb)return;yg(Qc)}var b=Ic()-Pc;Gb=a,Qc=lg(Q,{timeout:10*(a-2)-b})}function B(a,b){if(null===a.nextScheduledRoot)a.remainingExpirationTime=b,null===K?(la=K=a,a.nextScheduledRoot=a):(K=K.nextScheduledRoot=a).nextScheduledRoot=la;else{var c=a.remainingExpirationTime;(0===c||b<c)&&(a.remainingExpirationTime=b)}T||(J?Hb&&(aa=a,P=1,G(a,1,!1)):1===b?n():z(b))}function r(){var a=0,b=null;if(null!==K)for(var c=K,d=la;null!==d;){var e=d.remainingExpirationTime;if(0===e){if((null===c||null===K)&&D("244"),d===d.nextScheduledRoot){la=K=d.nextScheduledRoot=null;break}if(d===la)la=e=d.nextScheduledRoot,K.nextScheduledRoot=e,d.nextScheduledRoot=null;else{if(d===K){(K=c).nextScheduledRoot=la,d.nextScheduledRoot=null;break}c.nextScheduledRoot=d.nextScheduledRoot,d.nextScheduledRoot=null}d=c.nextScheduledRoot}else{if((0===a||e<a)&&(a=e,b=d),d===K)break;c=d,d=d.nextScheduledRoot}}null!==(c=aa)&&c===b&&1===a?Fb++:Fb=0,aa=b,P=a}function Q(a){x(0,!0,a)}function n(){x(1,!1,null)}function x(a,b,c){if($a=c,r(),b)for(;null!==aa&&0!==P&&(0===a||a>=P)&&(!Ib||l()>=P);)G(aa,P,!Ib),r();else for(;null!==aa&&0!==P&&(0===a||a>=P);)G(aa,P,!1),r();null!==$a&&(Gb=0,Qc=-1),0!==P&&z(P),$a=null,Ib=!1,Y()}function Y(){if(Fb=0,null!==Aa){var a=Aa;Aa=null;for(var b=0;b<a.length;b++){var c=a[b];try{c._onComplete()}catch(vg){Ba||(Ba=!0,Jb=vg)}}}if(Ba)throw a=Jb,Jb=null,Ba=!1,a}function G(a,b,c){T&&D("245"),T=!0,c?null!==(c=a.finishedWork)?R(a,c,b):(a.finishedWork=null,null!==(c=f(a,b,!0))&&(S()?a.finishedWork=c:R(a,c,b))):null!==(c=a.finishedWork)?R(a,c,b):(a.finishedWork=null,null!==(c=f(a,b,!1))&&R(a,c,b)),T=!1}function R(a,b,c){var d=a.firstBatch;if(null!==d&&d._expirationTime<=c&&(null===Aa?Aa=[d]:Aa.push(d),d._defer))return a.finishedWork=b,void(a.remainingExpirationTime=0);a.finishedWork=null,Za=ca=!0,(c=b.stateNode).current===b&&D("177"),0===(d=c.pendingCommitExpirationTime)&&D("261"),c.pendingCommitExpirationTime=0;var e=l();if(mc.current=null,1<b.effectTag)if(null!==b.lastEffect){b.lastEffect.nextEffect=b;var f=b.firstEffect}else f=b;else f=b.firstEffect;for(zg(c.containerInfo),w=f;null!==w;){var h=!1,k=void 0;try{for(;null!==w;)2048&w.effectTag&&Db(w.alternate,w),w=w.nextEffect}catch(ab){h=!0,k=ab}h&&(null===w&&D("178"),g(w,k),null!==w&&(w=w.nextEffect))}for(w=f;null!==w;){h=!1,k=void 0;try{for(;null!==w;){var p=w.effectTag;if(16&p&&Mc(w),128&p){var n=w.alternate;null!==n&&kg(n)}switch(14&p){case 2:Eb(w),w.effectTag&=-3;break;case 6:Eb(w),w.effectTag&=-3,te(w.alternate,w);break;case 4:te(w.alternate,w);break;case 8:gg(w)}w=w.nextEffect}}catch(ab){h=!0,k=ab}h&&(null===w&&D("178"),g(w,k),null!==w&&(w=w.nextEffect))}for(Ag(c.containerInfo),c.current=b,w=f;null!==w;){p=!1,n=void 0;try{for(f=c,h=e,k=d;null!==w;){var r=w.effectTag;36&r&&hg(f,w.alternate,w,h,k),256&r&&ig(w,q),128&r&&jg(w);var t=w.nextEffect;w.nextEffect=null,w=t}}catch(ab){p=!0,n=ab}p&&(null===w&&D("178"),g(w,n),null!==w&&(w=w.nextEffect))}ca=Za=!1,He(b.stateNode),0===(b=c.current.expirationTime)&&(ya=null),a.remainingExpirationTime=b}function S(){return!(null===$a||$a.timeRemaining()>Bg)&&(Ib=!0)}function q(a){null===aa&&D("246"),aa.remainingExpirationTime=0,Ba||(Ba=!0,Jb=a)}var u=function jf(){var a=[],b=-1;return{createCursor:function(a){return{current:a}},isEmpty:function(){return-1===b},pop:function(c){0>b||(c.current=a[b],a[b]=null,b--)},push:function(c,d){a[++b]=c.current,c.current=d},checkThatStackIsEmpty:function(){},resetStackAfterFatalErrorInDev:function(){}}}(),t=function ef(a,b){function c(a){return a===df&&D("174"),a}var d=a.getChildHostContext,e=a.getRootHostContext;a=b.createCursor;var f=b.push,h=b.pop,g=a(df),k=a(df),v=a(df);return{getHostContext:function(){return c(g.current)},getRootHostContainer:function(){return c(v.current)},popHostContainer:function(a){h(g,a),h(k,a),h(v,a)},popHostContext:function(a){k.current===a&&(h(g,a),h(k,a))},pushHostContainer:function(a,b){f(v,b,a),f(k,a,a),f(g,df,a),b=e(b),h(g,a),f(g,b,a)},pushHostContext:function(a){var b=c(v.current),e=c(g.current);e!==(b=d(e,a.type,b))&&(f(k,a,a),f(g,b,a))}}}(a,u),y=function gf(a){function b(a,b,c){(a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=c}function c(a){return 2===a.tag&&null!=a.type.childContextTypes}function d(a,b){var c=a.stateNode,d=a.type.childContextTypes;if("function"!=typeof c.getChildContext)return b;for(var e in c=c.getChildContext())e in d||D("108",zc(a)||"Unknown",e);return A({},b,c)}var e=a.createCursor,f=a.push,h=a.pop,g=e(ja),k=e(!1),v=ja;return{getUnmaskedContext:function(a){return c(a)?v:g.current},cacheContext:b,getMaskedContext:function(a,c){var d=a.type.contextTypes;if(!d)return ja;var e=a.stateNode;if(e&&e.__reactInternalMemoizedUnmaskedChildContext===c)return e.__reactInternalMemoizedMaskedChildContext;var g,f={};for(g in d)f[g]=c[g];return e&&b(a,c,f),f},hasContextChanged:function(){return k.current},isContextConsumer:function(a){return 2===a.tag&&null!=a.type.contextTypes},isContextProvider:c,popContextProvider:function(a){c(a)&&(h(k,a),h(g,a))},popTopLevelContextObject:function(a){h(k,a),h(g,a)},pushTopLevelContextObject:function(a,b,c){null!=g.cursor&&D("168"),f(g,b,a),f(k,c,a)},processChildContext:d,pushContextProvider:function(a){if(!c(a))return!1;var b=a.stateNode;return b=b&&b.__reactInternalMemoizedMergedChildContext||ja,v=g.current,f(g,b,a),f(k,k.current,a),!0},invalidateContextProvider:function(a,b){var c=a.stateNode;if(c||D("169"),b){var e=d(a,v);c.__reactInternalMemoizedMergedChildContext=e,h(k,a),h(g,a),f(g,e,a)}else h(k,a);f(k,b,a)},findCurrentUnmaskedContext:function(a){for((2!==wd(a)||2!==a.tag)&&D("170");3!==a.tag;){if(c(a))return a.stateNode.__reactInternalMemoizedMergedChildContext;(a=a.return)||D("171")}return a.stateNode.context}}}(u);u=function hf(a){var b=a.createCursor,c=a.push,d=a.pop,e=b(null),f=b(null),h=b(0);return{pushProvider:function(a){var b=a.type._context;c(h,b._changedBits,a),c(f,b._currentValue,a),c(e,a,a),b._currentValue=a.pendingProps.value,b._changedBits=a.stateNode},popProvider:function(a){var b=h.current,c=f.current;d(e,a),d(f,a),d(h,a),(a=a.type._context)._currentValue=c,a._changedBits=b}}}(u);var H=function ff(a){function b(a,b){var c=new xe(5,null,null,0);c.type="DELETED",c.stateNode=b,c.return=a,c.effectTag=8,null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function c(a,b){switch(a.tag){case 5:return null!==(b=f(b,a.type,a.pendingProps))&&(a.stateNode=b,!0);case 6:return null!==(b=h(b,a.pendingProps))&&(a.stateNode=b,!0);default:return!1}}function d(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag;)a=a.return;p=a}var e=a.shouldSetTextContent;if(!(a=a.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){D("175")},prepareToHydrateHostTextInstance:function(){D("176")},popHydrationState:function(){return!1}};var f=a.canHydrateInstance,h=a.canHydrateTextInstance,g=a.getNextHydratableSibling,k=a.getFirstHydratableChild,v=a.hydrateInstance,l=a.hydrateTextInstance,p=null,z=null,B=!1;return{enterHydrationState:function(a){return z=k(a.stateNode.containerInfo),p=a,B=!0},resetHydrationState:function(){z=p=null,B=!1},tryToClaimNextHydratableInstance:function(a){if(B){var d=z;if(d){if(!c(a,d)){if(!(d=g(d))||!c(a,d))return a.effectTag|=2,B=!1,void(p=a);b(p,z)}p=a,z=k(d)}else a.effectTag|=2,B=!1,p=a}},prepareToHydrateHostInstance:function(a,b,c){return b=v(a.stateNode,a.type,a.memoizedProps,b,c,a),a.updateQueue=b,null!==b},prepareToHydrateHostTextInstance:function(a){return l(a.stateNode,a.memoizedProps,a)},popHydrationState:function(a){if(a!==p)return!1;if(!B)return d(a),B=!0,!1;var c=a.type;if(5!==a.tag||"head"!==c&&"body"!==c&&!e(c,a.memoizedProps))for(c=z;c;)b(a,c),c=g(c);return d(a),z=p?g(a.stateNode):null,!0}}}(a),Wa=Ze(a,t,y,u,H,v,k).beginWork,Cb=function $e(a,b,c,d,e){function f(a){a.effectTag|=4}var h=a.createInstance,g=a.createTextInstance,k=a.appendInitialChild,v=a.finalizeInitialChildren,l=a.prepareUpdate,p=a.persistence,z=b.getRootHostContainer,B=b.popHostContext,r=b.getHostContext,Q=b.popHostContainer,n=c.popContextProvider,x=c.popTopLevelContextObject,Y=d.popProvider,G=e.prepareToHydrateHostInstance,R=e.prepareToHydrateHostTextInstance,S=e.popHydrationState,q=void 0,u=void 0,t=void 0;return a.mutation?(q=function(){},u=function(a,b,c){(b.updateQueue=c)&&f(b)},t=function(a,b,c,d){c!==d&&f(b)}):D(p?"235":"236"),{completeWork:function(a,b,c){var d=b.pendingProps;switch(b.tag){case 1:return null;case 2:return n(b),a=b.stateNode,null!==(d=b.updateQueue)&&null!==d.capturedValues&&(b.effectTag&=-65,"function"==typeof a.componentDidCatch?b.effectTag|=256:d.capturedValues=null),null;case 3:return Q(b),x(b),(d=b.stateNode).pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),null!==a&&null!==a.child||(S(b),b.effectTag&=-3),q(b),null!==(a=b.updateQueue)&&null!==a.capturedValues&&(b.effectTag|=256),null;case 5:B(b),c=z();var e=b.type;if(null!==a&&null!=b.stateNode){var p=a.memoizedProps,H=b.stateNode,y=r();H=l(H,e,p,d,c,y),u(a,b,H,e,p,d,c,y),a.ref!==b.ref&&(b.effectTag|=128)}else{if(!d)return null===b.stateNode&&D("166"),null;if(a=r(),S(b))G(b,c,a)&&f(b);else{p=h(e,d,c,a,b);a:for(y=b.child;null!==y;){if(5===y.tag||6===y.tag)k(p,y.stateNode);else if(4!==y.tag&&null!==y.child){y.child.return=y,y=y.child;continue}if(y===b)break;for(;null===y.sibling;){if(null===y.return||y.return===b)break a;y=y.return}y.sibling.return=y.return,y=y.sibling}v(p,e,d,c,a)&&f(b),b.stateNode=p}null!==b.ref&&(b.effectTag|=128)}return null;case 6:if(a&&null!=b.stateNode)t(a,b,a.memoizedProps,d);else{if("string"!=typeof d)return null===b.stateNode&&D("166"),null;a=z(),c=r(),S(b)?R(b)&&f(b):b.stateNode=g(d,a,c,b)}return null;case 7:(d=b.memoizedProps)||D("165"),b.tag=8,e=[];a:for((p=b.stateNode)&&(p.return=b);null!==p;){if(5===p.tag||6===p.tag||4===p.tag)D("247");else if(9===p.tag)e.push(p.pendingProps.value);else if(null!==p.child){p.child.return=p,p=p.child;continue}for(;null===p.sibling;){if(null===p.return||p.return===b)break a;p=p.return}p.sibling.return=p.return,p=p.sibling}return d=(p=d.handler)(d.props,e),b.child=Xe(b,null!==a?a.child:null,d,c),b.child;case 8:return b.tag=7,null;case 9:case 14:case 10:case 11:return null;case 4:return Q(b),q(b),null;case 13:return Y(b),null;case 12:return null;case 0:D("167");default:D("156")}}}}(a,t,y,u,H).completeWork,Jc=(t=function af(a,b,c,d,e){var f=a.popHostContainer,h=a.popHostContext,g=b.popContextProvider,k=b.popTopLevelContextObject,v=c.popProvider;return{throwException:function(a,b,c){b.effectTag|=512,b.firstEffect=b.lastEffect=null,b={value:c,source:b,stack:Ac(b)};do{switch(a.tag){case 3:return Ne(a),a.updateQueue.capturedValues=[b],void(a.effectTag|=1024);case 2:if(c=a.stateNode,0==(64&a.effectTag)&&null!==c&&"function"==typeof c.componentDidCatch&&!e(c)){Ne(a);var d=(c=a.updateQueue).capturedValues;return null===d?c.capturedValues=[b]:d.push(b),void(a.effectTag|=1024)}}a=a.return}while(null!==a)},unwindWork:function(a){switch(a.tag){case 2:g(a);var b=a.effectTag;return 1024&b?(a.effectTag=-1025&b|64,a):null;case 3:return f(a),k(a),1024&(b=a.effectTag)?(a.effectTag=-1025&b|64,a):null;case 5:return h(a),null;case 4:return f(a),null;case 13:return v(a),null;default:return null}},unwindInterruptedWork:function(a){switch(a.tag){case 2:g(a);break;case 3:f(a),k(a);break;case 5:h(a);break;case 4:f(a);break;case 13:v(a)}}}}(t,y,u,0,c)).throwException,Kc=t.unwindWork,Lc=t.unwindInterruptedWork,Db=(t=function cf(a,b,c,d,e){function f(a){var c=a.ref;if(null!==c)if("function"==typeof c)try{c(null)}catch(t){b(a,t)}else c.current=null}function h(a){switch(Ie(a),a.tag){case 2:f(a);var c=a.stateNode;if("function"==typeof c.componentWillUnmount)try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(t){b(a,t)}break;case 5:f(a);break;case 7:g(a.stateNode);break;case 4:p&&v(a)}}function g(a){for(var b=a;;)if(h(b),null===b.child||p&&4===b.tag){if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else b.child.return=b,b=b.child}function k(a){return 5===a.tag||3===a.tag||4===a.tag}function v(a){for(var b=a,c=!1,d=void 0,e=void 0;;){if(!c){c=b.return;a:for(;;){switch(null===c&&D("160"),c.tag){case 5:d=c.stateNode,e=!1;break a;case 3:case 4:d=c.stateNode.containerInfo,e=!0;break a}c=c.return}c=!0}if(5===b.tag||6===b.tag)g(b),e?S(d,b.stateNode):R(d,b.stateNode);else if(4===b.tag?d=b.stateNode.containerInfo:h(b),null!==b.child){b.child.return=b,b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return;4===(b=b.return).tag&&(c=!1)}b.sibling.return=b.return,b=b.sibling}}var l=a.getPublicInstance,p=a.mutation;a=a.persistence,p||D(a?"235":"236");var z=p.commitMount,B=p.commitUpdate,r=p.resetTextContent,Q=p.commitTextUpdate,n=p.appendChild,x=p.appendChildToContainer,Y=p.insertBefore,G=p.insertInContainerBefore,R=p.removeChild,S=p.removeChildFromContainer;return{commitBeforeMutationLifeCycles:function(a,b){switch(b.tag){case 2:if(2048&b.effectTag&&null!==a){var c=a.memoizedProps,d=a.memoizedState;(a=b.stateNode).props=b.memoizedProps,a.state=b.memoizedState,b=a.getSnapshotBeforeUpdate(c,d),a.__reactInternalSnapshotBeforeUpdate=b}break;case 3:case 5:case 6:case 4:break;default:D("163")}},commitResetTextContent:function(a){r(a.stateNode)},commitPlacement:function(a){a:{for(var b=a.return;null!==b;){if(k(b)){var c=b;break a}b=b.return}D("160"),c=void 0}var d=b=void 0;switch(c.tag){case 5:b=c.stateNode,d=!1;break;case 3:case 4:b=c.stateNode.containerInfo,d=!0;break;default:D("161")}16&c.effectTag&&(r(b),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||k(c.return)){c=null;break a}c=c.return}for(c.sibling.return=c.return,c=c.sibling;5!==c.tag&&6!==c.tag;){if(2&c.effectTag)continue b;if(null===c.child||4===c.tag)continue b;c.child.return=c,c=c.child}if(!(2&c.effectTag)){c=c.stateNode;break a}}for(var e=a;;){if(5===e.tag||6===e.tag)c?d?G(b,e.stateNode,c):Y(b,e.stateNode,c):d?x(b,e.stateNode):n(b,e.stateNode);else if(4!==e.tag&&null!==e.child){e.child.return=e,e=e.child;continue}if(e===a)break;for(;null===e.sibling;){if(null===e.return||e.return===a)return;e=e.return}e.sibling.return=e.return,e=e.sibling}},commitDeletion:function(a){v(a),a.return=null,a.child=null,a.alternate&&(a.alternate.child=null,a.alternate.return=null)},commitWork:function(a,b){switch(b.tag){case 2:break;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps;a=null!==a?a.memoizedProps:d;var e=b.type,f=b.updateQueue;b.updateQueue=null,null!==f&&B(c,f,e,a,d,b)}break;case 6:null===b.stateNode&&D("162"),c=b.memoizedProps,Q(b.stateNode,null!==a?a.memoizedProps:c,c);break;case 3:break;default:D("163")}},commitLifeCycles:function(a,b,c){switch(c.tag){case 2:if(a=c.stateNode,4&c.effectTag)if(null===b)a.props=c.memoizedProps,a.state=c.memoizedState,a.componentDidMount();else{var d=b.memoizedProps;b=b.memoizedState,a.props=c.memoizedProps,a.state=c.memoizedState,a.componentDidUpdate(d,b,a.__reactInternalSnapshotBeforeUpdate)}null!==(c=c.updateQueue)&&Re(c,a);break;case 3:if(null!==(b=c.updateQueue)){if(a=null,null!==c.child)switch(c.child.tag){case 5:a=l(c.child.stateNode);break;case 2:a=c.child.stateNode}Re(b,a)}break;case 5:a=c.stateNode,null===b&&4&c.effectTag&&z(a,c.type,c.memoizedProps,c);break;case 6:case 4:break;default:D("163")}},commitErrorLogging:function(a,b){switch(a.tag){case 2:var c=a.type;b=a.stateNode;var d=a.updateQueue;(null===d||null===d.capturedValues)&&D("264");var f=d.capturedValues;for(d.capturedValues=null,"function"!=typeof c.getDerivedStateFromCatch&&e(b),b.props=a.memoizedProps,b.state=a.memoizedState,c=0;c<f.length;c++){var g=(d=f[c]).value,h=d.stack;bf(a,d),b.componentDidCatch(g,{componentStack:null!==h?h:""})}break;case 3:for((null===(c=a.updateQueue)||null===c.capturedValues)&&D("264"),f=c.capturedValues,c.capturedValues=null,c=0;c<f.length;c++)bf(a,d=f[c]),b(d.value);break;default:D("265")}},commitAttachRef:function(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=l(c);break;default:a=c}"function"==typeof b?b(a):b.current=a}},commitDetachRef:function(a){null!==(a=a.ref)&&("function"==typeof a?a(null):a.current=null)}}}(a,g,0,0,function(a){null===ya?ya=new Set([a]):ya.add(a)})).commitBeforeMutationLifeCycles,Mc=t.commitResetTextContent,Eb=t.commitPlacement,gg=t.commitDeletion,te=t.commitWork,hg=t.commitLifeCycles,ig=t.commitErrorLogging,jg=t.commitAttachRef,kg=t.commitDetachRef,Ic=a.now,lg=a.scheduleDeferredCallback,yg=a.cancelDeferredCallback,zg=a.prepareForCommit,Ag=a.resetAfterCommit,Pc=Ic(),ve=Pc,Rc=0,ia=0,ca=!1,I=null,Ya=null,Z=0,w=null,Za=!1,Nc=!1,ya=null,la=null,K=null,Gb=0,Qc=-1,T=!1,aa=null,P=0,da=0,Ib=!1,Ba=!1,Jb=null,$a=null,J=!1,Hb=!1,za=!1,Aa=null,wg=1e3,Fb=0,Bg=1;return{recalculateCurrentTime:l,computeExpirationForFiber:k,scheduleWork:v,requestWork:B,flushRoot:function(a,b){T&&D("253"),aa=a,P=b,G(a,b,!1),n(),Y()},batchedUpdates:function(a,b){var c=J;J=!0;try{return a(b)}finally{(J=c)||T||n()}},unbatchedUpdates:function(a,b){if(J&&!Hb){Hb=!0;try{return a(b)}finally{Hb=!1}}return a(b)},flushSync:function(a,b){T&&D("187");var c=J;J=!0;try{return p(a,b)}finally{J=c,n()}},flushControlled:function(a){var b=J;J=!0;try{p(a)}finally{(J=b)||T||x(1,!1,null)}},deferredUpdates:function(a){var b=ia;ia=25*(1+((l()+500)/25|0));try{return a()}finally{ia=b}},syncUpdates:p,interactiveUpdates:function(a,b,c){if(za)return a(b,c);J||T||0===da||(x(da,!1,null),da=0);var d=za,e=J;J=za=!0;try{return a(b,c)}finally{za=d,(J=e)||T||n()}},flushInteractiveUpdates:function(){T||0===da||(x(da,!1,null),da=0)},computeUniqueAsyncExpiration:function(){var a=25*(1+((l()+500)/25|0));return a<=Rc&&(a=Rc+1),Rc=a},legacyContext:y}}function lf(a){function b(a,b,c,d,e,f){if(d=b.current,c){c=c._reactInternalFiber;var g=k(c);c=v(c)?l(c,g):g}else c=ja;return null===b.context?b.context=c:b.pendingContext=c,Oe(d,{expirationTime:e,partialState:{element:a},callback:void 0===(b=f)?null:b,isReplace:!1,isForced:!1,capturedValue:null,next:null}),h(d,e),e}function c(a){return null===(a=function Ad(a){if(!(a=zd(a)))return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}}return null}(a))?null:a.stateNode}var d=a.getPublicInstance,e=(a=kf(a)).recalculateCurrentTime,f=a.computeExpirationForFiber,h=a.scheduleWork,g=a.legacyContext,k=g.findCurrentUnmaskedContext,v=g.isContextProvider,l=g.processChildContext;return{createContainer:function(a,b,c){return a={current:b=new xe(3,null,null,b?3:0),containerInfo:a,pendingChildren:null,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:c,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},b.stateNode=a},updateContainer:function(a,c,d,g){var h=c.current;return b(a,c,d,e(),h=f(h),g)},updateContainerAtExpirationTime:function(a,c,d,f,g){return b(a,c,d,e(),f,g)},flushRoot:a.flushRoot,requestWork:a.requestWork,computeUniqueAsyncExpiration:a.computeUniqueAsyncExpiration,batchedUpdates:a.batchedUpdates,unbatchedUpdates:a.unbatchedUpdates,deferredUpdates:a.deferredUpdates,syncUpdates:a.syncUpdates,interactiveUpdates:a.interactiveUpdates,flushInteractiveUpdates:a.flushInteractiveUpdates,flushControlled:a.flushControlled,flushSync:a.flushSync,getPublicRootInstance:function(a){if(!(a=a.current).child)return null;switch(a.child.tag){case 5:return d(a.child.stateNode);default:return a.child.stateNode}},findHostInstance:c,findHostInstanceWithNoPortals:function(a){return null===(a=function Bd(a){if(!(a=zd(a)))return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child&&4!==b.tag)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}}return null}(a))?null:a.stateNode},injectIntoDevTools:function(a){var b=a.findFiberByHostInstance;return function Ge(a){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);De=Fe(function(a){return b.onCommitFiberRoot(c,a)}),Ee=Fe(function(a){return b.onCommitFiberUnmount(c,a)})}catch(d){}return!0}(A({},a,{findHostInstanceByFiber:function(a){return c(a)},findFiberByHostInstance:function(a){return b?b(a):null}}))}}}var mf=Object.freeze({default:lf}),nf=mf&&lf||mf,of=nf.default?nf.default:nf;var qf="object"==typeof performance&&"function"==typeof performance.now,rf=void 0;rf=qf?function(){return performance.now()}:function(){return Date.now()};var sf=void 0,tf=void 0;if(m.canUseDOM)if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var uf=null,vf=!1,wf=-1,xf=!1,yf=0,zf=33,Af=33,Bf=void 0;Bf=qf?{didTimeout:!1,timeRemaining:function(){var a=yf-performance.now();return 0<a?a:0}}:{didTimeout:!1,timeRemaining:function(){var a=yf-Date.now();return 0<a?a:0}};var Cf="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(a){if(a.source===window&&a.data===Cf){if(vf=!1,a=rf(),0>=yf-a){if(!(-1!==wf&&wf<=a))return void(xf||(xf=!0,requestAnimationFrame(Df)));Bf.didTimeout=!0}else Bf.didTimeout=!1;wf=-1,a=uf,uf=null,null!==a&&a(Bf)}},!1);var Df=function(a){xf=!1;var b=a-yf+Af;b<Af&&zf<Af?(8>b&&(b=8),Af=b<zf?zf:b):zf=b,yf=a+Af,vf||(vf=!0,window.postMessage(Cf,"*"))};sf=function(a,b){return uf=a,null!=b&&"number"==typeof b.timeout&&(wf=rf()+b.timeout),xf||(xf=!0,requestAnimationFrame(Df)),0},tf=function(){uf=null,vf=!1,wf=-1}}else sf=window.requestIdleCallback,tf=window.cancelIdleCallback;else sf=function(a){return setTimeout(function(){a({timeRemaining:function(){return 1/0},didTimeout:!1})})},tf=function(a){clearTimeout(a)};function Ff(a,b){return a=A({children:void 0},b),(b=function Ef(a){var b="";return ba.Children.forEach(a,function(a){null==a||"string"!=typeof a&&"number"!=typeof a||(b+=a)}),b}(b.children))&&(a.children=b),a}function Gf(a,b,c,d){if(a=a.options,b){b={};for(var e=0;e<c.length;e++)b["$"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{for(c=""+c,b=null,e=0;e<a.length;e++){if(a[e].value===c)return a[e].selected=!0,void(d&&(a[e].defaultSelected=!0));null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}function Hf(a,b){var c=b.value;a._wrapperState={initialValue:null!=c?c:b.defaultValue,wasMultiple:!!b.multiple}}function If(a,b){return null!=b.dangerouslySetInnerHTML&&D("91"),A({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Jf(a,b){var c=b.value;null==c&&(c=b.defaultValue,null!=(b=b.children)&&(null!=c&&D("92"),Array.isArray(b)&&(1>=b.length||D("93"),b=b[0]),c=""+b),null==c&&(c="")),a._wrapperState={initialValue:""+c}}function Kf(a,b){var c=b.value;null!=c&&((c=""+c)!==a.value&&(a.value=c),null==b.defaultValue&&(a.defaultValue=c)),null!=b.defaultValue&&(a.defaultValue=b.defaultValue)}function Lf(a){var b=a.textContent;b===a._wrapperState.initialValue&&(a.value=b)}var Mf_html="http://www.w3.org/1999/xhtml",Mf_svg="http://www.w3.org/2000/svg";function Nf(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Of(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?Nf(b):"http://www.w3.org/2000/svg"===a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}var a,Pf=void 0,Qf=(a=function(a,b){if(a.namespaceURI!==Mf_svg||"innerHTML"in a)a.innerHTML=b;else{for((Pf=Pf||document.createElement("div")).innerHTML="<svg>"+b+"</svg>",b=Pf.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c)})}:a);function Rf(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType)return void(c.nodeValue=b)}a.textContent=b}var Sf={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tf=["Webkit","ms","Moz","O"];function Uf(a,b){for(var c in a=a.style,b)if(b.hasOwnProperty(c)){var d=0===c.indexOf("--"),e=c,f=b[c];e=null==f||"boolean"==typeof f||""===f?"":d||"number"!=typeof f||0===f||Sf.hasOwnProperty(e)&&Sf[e]?(""+f).trim():f+"px","float"===c&&(c="cssFloat"),d?a.setProperty(c,e):a[c]=e}}Object.keys(Sf).forEach(function(a){Tf.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1),Sf[b]=Sf[a]})});var Vf=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wf(a,b,c){b&&(Vf[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML)&&D("137",a,c()),null!=b.dangerouslySetInnerHTML&&(null!=b.children&&D("60"),"object"==typeof b.dangerouslySetInnerHTML&&"__html"in b.dangerouslySetInnerHTML||D("61")),null!=b.style&&"object"!=typeof b.style&&D("62",c()))}function Xf(a,b){if(-1===a.indexOf("-"))return"string"==typeof b.is;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yf=Mf_html,Zf=C.thatReturns("");function $f(a,b){var c=je(a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument);b=ua[b];for(var d=0;d<b.length;d++){var e=b[d];c.hasOwnProperty(e)&&c[e]||("topScroll"===e?Yd("topScroll","scroll",a):"topFocus"===e||"topBlur"===e?(Yd("topFocus","focus",a),Yd("topBlur","blur",a),c.topBlur=!0,c.topFocus=!0):"topCancel"===e?(hc("cancel",!0)&&Yd("topCancel","cancel",a),c.topCancel=!0):"topClose"===e?(hc("close",!0)&&Yd("topClose","close",a),c.topClose=!0):ee.hasOwnProperty(e)&&W(e,ee[e],a),c[e]=!0)}}function ag(a,b,c,d){return c=9===c.nodeType?c:c.ownerDocument,d===Yf&&(d=Nf(a)),d===Yf?"script"===a?((a=c.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):a="string"==typeof b.is?c.createElement(a,{is:b.is}):c.createElement(a):a=c.createElementNS(d,a),a}function bg(a,b){return(9===b.nodeType?b:b.ownerDocument).createTextNode(a)}function cg(a,b,c,d){var e=Xf(b,c);switch(b){case"iframe":case"object":W("topLoad","load",a);var f=c;break;case"video":case"audio":for(f in fe)fe.hasOwnProperty(f)&&W(f,fe[f],a);f=c;break;case"source":W("topError","error",a),f=c;break;case"img":case"image":case"link":W("topError","error",a),W("topLoad","load",a),f=c;break;case"form":W("topReset","reset",a),W("topSubmit","submit",a),f=c;break;case"details":W("topToggle","toggle",a),f=c;break;case"input":Vc(a,c),f=Uc(a,c),W("topInvalid","invalid",a),$f(d,"onChange");break;case"option":f=Ff(a,c);break;case"select":Hf(a,c),f=A({},c,{value:void 0}),W("topInvalid","invalid",a),$f(d,"onChange");break;case"textarea":Jf(a,c),f=If(a,c),W("topInvalid","invalid",a),$f(d,"onChange");break;default:f=c}Wf(b,f,Zf);var g,h=f;for(g in h)if(h.hasOwnProperty(g)){var k=h[g];"style"===g?Uf(a,k):"dangerouslySetInnerHTML"===g?null!=(k=k?k.__html:void 0)&&Qf(a,k):"children"===g?"string"==typeof k?("textarea"!==b||""!==k)&&Rf(a,k):"number"==typeof k&&Rf(a,""+k):"suppressContentEditableWarning"!==g&&"suppressHydrationWarning"!==g&&"autoFocus"!==g&&(ta.hasOwnProperty(g)?null!=k&&$f(d,g):null!=k&&Tc(a,g,k,e))}switch(b){case"input":kc(a),$c(a,c);break;case"textarea":kc(a),Lf(a);break;case"option":null!=c.value&&a.setAttribute("value",c.value);break;case"select":a.multiple=!!c.multiple,null!=(b=c.value)?Gf(a,!!c.multiple,b,!1):null!=c.defaultValue&&Gf(a,!!c.multiple,c.defaultValue,!0);break;default:"function"==typeof f.onClick&&(a.onclick=C)}}function dg(a,b,c,d,e){var f=null;switch(b){case"input":c=Uc(a,c),d=Uc(a,d),f=[];break;case"option":c=Ff(a,c),d=Ff(a,d),f=[];break;case"select":c=A({},c,{value:void 0}),d=A({},d,{value:void 0}),f=[];break;case"textarea":c=If(a,c),d=If(a,d),f=[];break;default:"function"!=typeof c.onClick&&"function"==typeof d.onClick&&(a.onclick=C)}Wf(b,d,Zf),b=a=void 0;var h=null;for(a in c)if(!d.hasOwnProperty(a)&&c.hasOwnProperty(a)&&null!=c[a])if("style"===a){var g=c[a];for(b in g)g.hasOwnProperty(b)&&(h||(h={}),h[b]="")}else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(ta.hasOwnProperty(a)?f||(f=[]):(f=f||[]).push(a,null));for(a in d){var k=d[a];if(g=null!=c?c[a]:void 0,d.hasOwnProperty(a)&&k!==g&&(null!=k||null!=g))if("style"===a)if(g){for(b in g)!g.hasOwnProperty(b)||k&&k.hasOwnProperty(b)||(h||(h={}),h[b]="");for(b in k)k.hasOwnProperty(b)&&g[b]!==k[b]&&(h||(h={}),h[b]=k[b])}else h||(f||(f=[]),f.push(a,h)),h=k;else"dangerouslySetInnerHTML"===a?(k=k?k.__html:void 0,g=g?g.__html:void 0,null!=k&&g!==k&&(f=f||[]).push(a,""+k)):"children"===a?g===k||"string"!=typeof k&&"number"!=typeof k||(f=f||[]).push(a,""+k):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(ta.hasOwnProperty(a)?(null!=k&&$f(e,a),f||g===k||(f=[])):(f=f||[]).push(a,k))}return h&&(f=f||[]).push("style",h),f}function eg(a,b,c,d,e){"input"===c&&"radio"===e.type&&null!=e.name&&Xc(a,e),Xf(c,d),d=Xf(c,e);for(var f=0;f<b.length;f+=2){var h=b[f],g=b[f+1];"style"===h?Uf(a,g):"dangerouslySetInnerHTML"===h?Qf(a,g):"children"===h?Rf(a,g):Tc(a,h,g,d)}switch(c){case"input":Yc(a,e);break;case"textarea":Kf(a,e);break;case"select":a._wrapperState.initialValue=void 0,b=a._wrapperState.wasMultiple,a._wrapperState.wasMultiple=!!e.multiple,null!=(c=e.value)?Gf(a,!!e.multiple,c,!1):b!==!!e.multiple&&(null!=e.defaultValue?Gf(a,!!e.multiple,e.defaultValue,!0):Gf(a,!!e.multiple,e.multiple?[]:"",!1))}}function fg(a,b,c,d,e){switch(b){case"iframe":case"object":W("topLoad","load",a);break;case"video":case"audio":for(var f in fe)fe.hasOwnProperty(f)&&W(f,fe[f],a);break;case"source":W("topError","error",a);break;case"img":case"image":case"link":W("topError","error",a),W("topLoad","load",a);break;case"form":W("topReset","reset",a),W("topSubmit","submit",a);break;case"details":W("topToggle","toggle",a);break;case"input":Vc(a,c),W("topInvalid","invalid",a),$f(e,"onChange");break;case"select":Hf(a,c),W("topInvalid","invalid",a),$f(e,"onChange");break;case"textarea":Jf(a,c),W("topInvalid","invalid",a),$f(e,"onChange")}for(var h in Wf(b,c,Zf),d=null,c)c.hasOwnProperty(h)&&(f=c[h],"children"===h?"string"==typeof f?a.textContent!==f&&(d=["children",f]):"number"==typeof f&&a.textContent!==""+f&&(d=["children",""+f]):ta.hasOwnProperty(h)&&null!=f&&$f(e,h));switch(b){case"input":kc(a),$c(a,c);break;case"textarea":kc(a),Lf(a);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(a.onclick=C)}return d}function mg(a,b){return a.nodeValue!==b}var ng=Object.freeze({createElement:ag,createTextNode:bg,setInitialProperties:cg,diffProperties:dg,updateProperties:eg,diffHydratedProperties:fg,diffHydratedText:mg,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(a,b,c){switch(b){case"input":if(Yc(a,c),b=c.name,"radio"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]'),b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Va(d);e||D("90"),lc(d),Yc(d,e)}}}break;case"textarea":Kf(a,c);break;case"select":null!=(b=c.value)&&Gf(a,!!c.multiple,b,!1)}}});Vb.injectFiberControlledHostComponent(ng);var og=null,pg=null;function qg(a){this._expirationTime=X.computeUniqueAsyncExpiration(),this._root=a,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function rg(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function sg(a,b,c){this._internalRoot=X.createContainer(a,b,c)}function tg(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function ug(a,b){switch(a){case"button":case"input":case"select":case"textarea":return!!b.autoFocus}return!1}qg.prototype.render=function(a){this._defer||D("250"),this._hasChildren=!0,this._children=a;var b=this._root._internalRoot,c=this._expirationTime,d=new rg;return X.updateContainerAtExpirationTime(a,b,null,c,d._onCommit),d},qg.prototype.then=function(a){if(this._didComplete)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]),b.push(a)}},qg.prototype.commit=function(){var a=this._root._internalRoot,b=a.firstBatch;if(this._defer&&null!==b||D("251"),this._hasChildren){var c=this._expirationTime;if(b!==this){this._hasChildren&&(c=this._expirationTime=b._expirationTime,this.render(this._children));for(var d=null,e=b;e!==this;)d=e,e=e._next;null===d&&D("251"),d._next=e._next,this._next=b,a.firstBatch=this}this._defer=!1,X.flushRoot(a,c),b=this._next,this._next=null,null!==(b=a.firstBatch=b)&&b._hasChildren&&b.render(b._children)}else this._next=null,this._defer=!1},qg.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++)(0,a[b])()}},rg.prototype.then=function(a){if(this._didCommit)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]),b.push(a)}},rg.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++){var c=a[b];"function"!=typeof c&&D("191",c),c()}}},sg.prototype.render=function(a,b){var c=this._internalRoot,d=new rg;return null!==(b=void 0===b?null:b)&&d.then(b),X.updateContainer(a,c,null,d._onCommit),d},sg.prototype.unmount=function(a){var b=this._internalRoot,c=new rg;return null!==(a=void 0===a?null:a)&&c.then(a),X.updateContainer(null,b,null,c._onCommit),c},sg.prototype.legacy_renderSubtreeIntoContainer=function(a,b,c){var d=this._internalRoot,e=new rg;return null!==(c=void 0===c?null:c)&&e.then(c),X.updateContainer(b,d,a,e._onCommit),e},sg.prototype.createBatch=function(){var a=new qg(this),b=a._expirationTime,c=this._internalRoot,d=c.firstBatch;if(null===d)c.firstBatch=a,a._next=null;else{for(c=null;null!==d&&d._expirationTime<=b;)c=d,d=d._next;a._next=d,null!==c&&(c._next=a)}return a};var X=of({getRootHostContext:function(a){var b=a.nodeType;switch(b){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Of(null,"");break;default:a=Of(a=(b=8===b?a.parentNode:a).namespaceURI||null,b=b.tagName)}return a},getChildHostContext:function(a,b){return Of(a,b)},getPublicInstance:function(a){return a},prepareForCommit:function(){og=Ud;var a=ea();if(me(a)){if("selectionStart"in a)var b={start:a.selectionStart,end:a.selectionEnd};else a:{var c=window.getSelection&&window.getSelection();if(c&&0!==c.rangeCount){b=c.anchorNode;var d=c.anchorOffset,e=c.focusNode;c=c.focusOffset;try{b.nodeType,e.nodeType}catch(B){b=null;break a}var f=0,h=-1,g=-1,k=0,v=0,l=a,p=null;b:for(;;){for(var z;l!==b||0!==d&&3!==l.nodeType||(h=f+d),l!==e||0!==c&&3!==l.nodeType||(g=f+c),3===l.nodeType&&(f+=l.nodeValue.length),null!==(z=l.firstChild);)p=l,l=z;for(;;){if(l===a)break b;if(p===b&&++k===d&&(h=f),p===e&&++v===c&&(g=f),null!==(z=l.nextSibling))break;p=(l=p).parentNode}l=z}b=-1===h||-1===g?null:{start:h,end:g}}else b=null}b=b||{start:0,end:0}}else b=null;pg={focusedElem:a,selectionRange:b},Vd(!1)},resetAfterCommit:function(){var a=pg,b=ea(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&ha(document.documentElement,c)){if(me(c))if(b=d.start,void 0===(a=d.end)&&(a=b),"selectionStart"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(window.getSelection){b=window.getSelection();var e=c[lb()].length;a=Math.min(d.start,e),d=void 0===d.end?a:Math.min(d.end,e),!b.extend&&a>d&&(e=d,d=a,a=e),e=le(c,a);var f=le(c,d);if(e&&f&&(1!==b.rangeCount||b.anchorNode!==e.node||b.anchorOffset!==e.offset||b.focusNode!==f.node||b.focusOffset!==f.offset)){var h=document.createRange();h.setStart(e.node,e.offset),b.removeAllRanges(),a>d?(b.addRange(h),b.extend(f.node,f.offset)):(h.setEnd(f.node,f.offset),b.addRange(h))}}for(b=[],a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(c.focus(),c=0;c<b.length;c++)(a=b[c]).element.scrollLeft=a.left,a.element.scrollTop=a.top}pg=null,Vd(og),og=null},createInstance:function(a,b,c,d,e){return(a=ag(a,b,c,d))[F]=e,a[Sa]=b,a},appendInitialChild:function(a,b){a.appendChild(b)},finalizeInitialChildren:function(a,b,c,d){return cg(a,b,c,d),ug(b,c)},prepareUpdate:function(a,b,c,d,e){return dg(a,b,c,d,e)},shouldSetTextContent:function(a,b){return"textarea"===a||"string"==typeof b.children||"number"==typeof b.children||"object"==typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&"string"==typeof b.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(a,b){return!!b.hidden},createTextInstance:function(a,b,c,d){return(a=bg(a,b))[F]=d,a},now:rf,mutation:{commitMount:function(a,b,c){ug(b,c)&&a.focus()},commitUpdate:function(a,b,c,d,e){a[Sa]=e,eg(a,b,c,d,e)},resetTextContent:function(a){Rf(a,"")},commitTextUpdate:function(a,b,c){a.nodeValue=c},appendChild:function(a,b){a.appendChild(b)},appendChildToContainer:function(a,b){8===a.nodeType?a.parentNode.insertBefore(b,a):a.appendChild(b)},insertBefore:function(a,b,c){a.insertBefore(b,c)},insertInContainerBefore:function(a,b,c){8===a.nodeType?a.parentNode.insertBefore(b,c):a.insertBefore(b,c)},removeChild:function(a,b){a.removeChild(b)},removeChildFromContainer:function(a,b){8===a.nodeType?a.parentNode.removeChild(b):a.removeChild(b)}},hydration:{canHydrateInstance:function(a,b){return 1!==a.nodeType||b.toLowerCase()!==a.nodeName.toLowerCase()?null:a},canHydrateTextInstance:function(a,b){return""===b||3!==a.nodeType?null:a},getNextHydratableSibling:function(a){for(a=a.nextSibling;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a},getFirstHydratableChild:function(a){for(a=a.firstChild;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a},hydrateInstance:function(a,b,c,d,e,f){return a[F]=f,a[Sa]=c,fg(a,b,c,e,d)},hydrateTextInstance:function(a,b,c){return a[F]=c,mg(a,b)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:sf,cancelDeferredCallback:tf}),Cg=X;function Eg(a,b,c,d,e){tg(c)||D("200");var f=c._reactRootContainer;if(f){if("function"==typeof e){var h=e;e=function(){var a=X.getPublicRootInstance(f._internalRoot);h.call(a)}}null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)}else{if(f=c._reactRootContainer=function Dg(a,b){if(b||(b=!(!(b=a?9===a.nodeType?a.documentElement:a.firstChild:null)||1!==b.nodeType||!b.hasAttribute("data-reactroot"))),!b)for(var c;c=a.lastChild;)a.removeChild(c);return new sg(a,!1,b)}(c,d),"function"==typeof e){var g=e;e=function(){var a=X.getPublicRootInstance(f._internalRoot);g.call(a)}}X.unbatchedUpdates(function(){null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)})}return X.getPublicRootInstance(f._internalRoot)}function Fg(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return tg(b)||D("200"),function pf(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:qc,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}}(a,b,null,c)}$b=Cg.batchedUpdates,ac=Cg.interactiveUpdates,bc=Cg.flushInteractiveUpdates;var Gg={createPortal:Fg,findDOMNode:function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternalFiber;if(b)return X.findHostInstance(b);"function"==typeof a.render?D("188"):D("213",Object.keys(a))},hydrate:function(a,b,c){return Eg(null,a,b,!0,c)},render:function(a,b,c){return Eg(null,a,b,!1,c)},unstable_renderSubtreeIntoContainer:function(a,b,c,d){return(null==a||void 0===a._reactInternalFiber)&&D("38"),Eg(a,b,c,!1,d)},unmountComponentAtNode:function(a){return tg(a)||D("40"),!!a._reactRootContainer&&(X.unbatchedUpdates(function(){Eg(null,null,a,!1,function(){a._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Fg.apply(void 0,arguments)},unstable_batchedUpdates:X.batchedUpdates,unstable_deferredUpdates:X.deferredUpdates,flushSync:X.flushSync,unstable_flushControlled:X.flushControlled,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:Qa,EventPluginRegistry:xa,EventPropagators:jb,ReactControlledComponent:Zb,ReactDOMComponentTree:Xa,ReactDOMEventListener:Zd},unstable_createRoot:function(a,b){return new sg(a,!0,null!=b&&!0===b.hydrate)}};X.injectIntoDevTools({findFiberByHostInstance:Ta,bundleType:0,version:"16.3.1",rendererPackageName:"react-dom"});var Hg=Object.freeze({default:Gg}),Ig=Hg&&Gg||Hg;module.exports=Ig.default?Ig.default:Ig},function(module,exports,__webpack_require__){"use strict";var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:canUseDOM&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM};module.exports=ExecutionEnvironment},function(module,exports,__webpack_require__){"use strict";module.exports=function getActiveElement(doc){if(void 0===(doc=doc||("undefined"!=typeof document?document:void 0)))return null;try{return doc.activeElement||doc.body}catch(e){return doc.body}}},function(module,exports,__webpack_require__){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty;function is(x,y){return x===y?0!==x||0!==y||1/x==1/y:x!=x&&y!=y}module.exports=function shallowEqual(objA,objB){if(is(objA,objB))return!0;if("object"!=typeof objA||null===objA||"object"!=typeof objB||null===objB)return!1;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(var i=0;i<keysA.length;i++)if(!hasOwnProperty.call(objB,keysA[i])||!is(objA[keysA[i]],objB[keysA[i]]))return!1;return!0}},function(module,exports,__webpack_require__){"use strict";var isTextNode=__webpack_require__(444);module.exports=function containsNode(outerNode,innerNode){return!(!outerNode||!innerNode)&&(outerNode===innerNode||!isTextNode(outerNode)&&(isTextNode(innerNode)?containsNode(outerNode,innerNode.parentNode):"contains"in outerNode?outerNode.contains(innerNode):!!outerNode.compareDocumentPosition&&!!(16&outerNode.compareDocumentPosition(innerNode))))}},function(module,exports,__webpack_require__){"use strict";var isNode=__webpack_require__(445);module.exports=function isTextNode(object){return isNode(object)&&3==object.nodeType}},function(module,exports,__webpack_require__){"use strict";module.exports=function isNode(object){var defaultView=(object?object.ownerDocument||object:document).defaultView||window;return!(!object||!("function"==typeof defaultView.Node?object instanceof defaultView.Node:"object"==typeof object&&"number"==typeof object.nodeType&&"string"==typeof object.nodeName))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__splitStringTransformer__=__webpack_require__(811);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__splitStringTransformer__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__html__=__webpack_require__(819);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__html__.a})},function(module,exports,__webpack_require__){"use strict";var emptyFunction=__webpack_require__(96),invariant=__webpack_require__(253),ReactPropTypesSecret=__webpack_require__(449);module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){secret!==ReactPropTypesSecret&&invariant(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return ReactPropTypes.checkPropTypes=emptyFunction,ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},function(module,exports,__webpack_require__){"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(module,exports,__webpack_require__){var core=__webpack_require__(2),$JSON=core.JSON||(core.JSON={stringify:JSON.stringify});module.exports=function stringify(it){return $JSON.stringify.apply($JSON,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reviver=exports.retrocycle=exports.decycle=exports.CYCLIC_KEY=void 0;var _decycle3=_interopRequireDefault(__webpack_require__(857)),_retrocycle3=_interopRequireDefault(__webpack_require__(890)),_reviver3=_interopRequireDefault(__webpack_require__(554));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.CYCLIC_KEY="$___storybook.isCyclic";exports.decycle=_decycle3.default,exports.retrocycle=_retrocycle3.default,exports.reviver=_reviver3.default},function(module,exports,__webpack_require__){var speciesConstructor=__webpack_require__(453);module.exports=function(original,length){return new(speciesConstructor(original))(length)}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(16),isArray=__webpack_require__(211),SPECIES=__webpack_require__(10)("species");module.exports=function(original){var C;return isArray(original)&&("function"!=typeof(C=original.constructor)||C!==Array&&!isArray(C.prototype)||(C=void 0),isObject(C)&&null===(C=C[SPECIES])&&(C=void 0)),void 0===C?Array:C}},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(12),$export=__webpack_require__(6),meta=__webpack_require__(85),fails=__webpack_require__(33),hide=__webpack_require__(32),redefineAll=__webpack_require__(135),forOf=__webpack_require__(71),anInstance=__webpack_require__(132),isObject=__webpack_require__(16),setToStringTag=__webpack_require__(66),dP=__webpack_require__(20).f,each=__webpack_require__(215)(0),DESCRIPTORS=__webpack_require__(26);module.exports=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){var Base=global[NAME],C=Base,ADDER=IS_MAP?"set":"add",proto=C&&C.prototype,O={};return DESCRIPTORS&&"function"==typeof C&&(IS_WEAK||proto.forEach&&!fails(function(){(new C).entries().next()}))?(C=wrapper(function(target,iterable){anInstance(target,C,NAME,"_c"),target._c=new Base,void 0!=iterable&&forOf(iterable,IS_MAP,target[ADDER],target)}),each("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(KEY){var IS_ADDER="add"==KEY||"set"==KEY;KEY in proto&&(!IS_WEAK||"clear"!=KEY)&&hide(C.prototype,KEY,function(a,b){if(anInstance(this,C,KEY),!IS_ADDER&&IS_WEAK&&!isObject(a))return"get"==KEY&&void 0;var result=this._c[KEY](0===a?0:a,b);return IS_ADDER?this:result})}),IS_WEAK||dP(C.prototype,"size",{get:function(){return this._c.size}})):(C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER),redefineAll(C.prototype,methods),meta.NEED=!0),setToStringTag(C,NAME),O[NAME]=C,$export($export.G+$export.W+$export.F,O),IS_WEAK||common.setStrong(C,NAME,IS_MAP),C}},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(6);module.exports=function(COLLECTION){$export($export.S,COLLECTION,{of:function of(){for(var length=arguments.length,A=Array(length);length--;)A[length]=arguments[length];return new this(A)}})}},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(6),aFunction=__webpack_require__(63),ctx=__webpack_require__(29),forOf=__webpack_require__(71);module.exports=function(COLLECTION){$export($export.S,COLLECTION,{from:function from(source){var mapping,A,n,cb,mapFn=arguments[1];return aFunction(this),(mapping=void 0!==mapFn)&&aFunction(mapFn),void 0==source?new this:(A=[],mapping?(n=0,cb=ctx(mapFn,arguments[2],2),forOf(source,!1,function(nextItem){A.push(cb(nextItem,n++))})):forOf(source,!1,A.push,A),new this(A))}})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.types=exports.undefinedType=exports.symbolType=exports.regexpType=exports.nanType=exports.infinityType=exports.functionType=exports.dateType=exports.objectType=void 0;var _object2=_interopRequireDefault(__webpack_require__(867)),_date2=_interopRequireDefault(__webpack_require__(874)),_function2=_interopRequireDefault(__webpack_require__(875)),_infinity2=_interopRequireDefault(__webpack_require__(877)),_nan2=_interopRequireDefault(__webpack_require__(881)),_regexp2=_interopRequireDefault(__webpack_require__(885)),_symbol2=_interopRequireDefault(__webpack_require__(887)),_undefined2=_interopRequireDefault(__webpack_require__(889));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.objectType=_object2.default,exports.dateType=_date2.default,exports.functionType=_function2.default,exports.infinityType=_infinity2.default,exports.nanType=_nan2.default,exports.regexpType=_regexp2.default,exports.symbolType=_symbol2.default,exports.undefinedType=_undefined2.default;exports.types=[_date2.default,_function2.default,_nan2.default,_infinity2.default,_regexp2.default,_symbol2.default,_undefined2.default]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function createFunction(){var name=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(_canConfigureName2.default){var func=function unnamed(){};return Object.defineProperty(func,"name",{value:name}),func}return(0,_createFunctionEval2.default)(name)};var _canConfigureName2=_interopRequireDefault(__webpack_require__(552)),_createFunctionEval2=_interopRequireDefault(__webpack_require__(869));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ADDON_ID=exports.ADDON_ID="storybooks/storybook-addon-options";exports.EVENT_ID=ADDON_ID+"/options-event"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=function getGLTypeFromTypedArray(arrayOrType){switch(ArrayBuffer.isView(arrayOrType)?arrayOrType.constructor:arrayOrType){case Float32Array:return GL_FLOAT;case Uint16Array:return GL_UNSIGNED_SHORT;case Uint32Array:return GL_UNSIGNED_INT;case Uint8Array:case Uint8ClampedArray:return GL_UNSIGNED_BYTE;case Int8Array:return GL_BYTE;case Int16Array:return GL_SHORT;case Int32Array:return GL_INT;default:throw new Error(ERR_TYPE_DEDUCTION)}},__webpack_exports__.c=function getTypedArrayFromGLType(glType){var _ref$clamped=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clamped,clamped=void 0===_ref$clamped||_ref$clamped;switch(glType){case GL_FLOAT:return Float32Array;case GL_UNSIGNED_SHORT:case GL_UNSIGNED_SHORT_5_6_5:case GL_UNSIGNED_SHORT_4_4_4_4:case GL_UNSIGNED_SHORT_5_5_5_1:return Uint16Array;case GL_UNSIGNED_INT:return Uint32Array;case GL_UNSIGNED_BYTE:return clamped?Uint8ClampedArray:Uint8Array;case GL_BYTE:return Int8Array;case GL_SHORT:return Int16Array;case GL_INT:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}},__webpack_exports__.a=function flipRows(_ref2){var data=_ref2.data,width=_ref2.width,height=_ref2.height,_ref2$bytesPerPixel=_ref2.bytesPerPixel,bytesPerPixel=void 0===_ref2$bytesPerPixel?4:_ref2$bytesPerPixel,temp=_ref2.temp,bytesPerRow=width*bytesPerPixel;temp=temp||new Uint8Array(bytesPerRow);for(var y=0;y<height/2;++y){var topOffset=y*bytesPerRow,bottomOffset=(height-y-1)*bytesPerRow;temp.set(data.subarray(topOffset,topOffset+bytesPerRow)),data.copyWithin(topOffset,bottomOffset,bottomOffset+bytesPerRow),data.set(temp,bottomOffset)}},__webpack_exports__.d=function scalePixels(_ref3){for(var data=_ref3.data,width=_ref3.width,height=_ref3.height,newWidth=Math.round(width/2),newHeight=Math.round(height/2),newData=new Uint8Array(newWidth*newHeight*4),y=0;y<newHeight;y++)for(var x=0;x<newWidth;x++)for(var c=0;c<4;c++)newData[4*(y*newWidth+x)+c]=data[4*(2*y*width+2*x)+c];return{data:newData,width:newWidth,height:newHeight}};var GL_BYTE=5120,GL_UNSIGNED_BYTE=5121,GL_SHORT=5122,GL_UNSIGNED_SHORT=5123,GL_INT=5124,GL_UNSIGNED_INT=5125,GL_FLOAT=5126,GL_UNSIGNED_SHORT_4_4_4_4=32819,GL_UNSIGNED_SHORT_5_5_5_1=32820,GL_UNSIGNED_SHORT_5_6_5=33635,ERR_TYPE_DEDUCTION="Failed to deduce GL constant from typed array"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.c=function getKeyValue(gl,name){if("string"!=typeof name)return name;var number=Number(name);if(!isNaN(number))return number;name=name.replace(/^.*\./,"");var value=gl[name];return Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(void 0!==value,"Accessing undefined constant GL.".concat(name)),value},__webpack_exports__.a=function getKey(gl,value){for(var key in value=Number(value),gl)if(gl[key]===value)return"gl.".concat(key);return String(value)},__webpack_exports__.b=function getKeyType(gl,value){for(var key in Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(void 0!==value,"undefined key"),value=Number(value),gl)if(gl[key]===value)return"gl.".concat(key);return String(value)};var __WEBPACK_IMPORTED_MODULE_0__utils_assert__=__webpack_require__(3)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=trackContextState,__webpack_exports__.c=function pushContextState(gl){gl.state||trackContextState(gl,{copyState:!1});gl.state.push()},__webpack_exports__.b=function popContextState(gl){Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(gl.state),gl.state.pop()};var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__set_parameters__=__webpack_require__(568),__WEBPACK_IMPORTED_MODULE_2__polyfill_context__=__webpack_require__(569),__WEBPACK_IMPORTED_MODULE_3__utils_assert__=__webpack_require__(3);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var deepEqual=function deepEqual(x,y){var isArrayX=Array.isArray(x)||ArrayBuffer.isView(x),isArrayY=Array.isArray(y)||ArrayBuffer.isView(y);if(isArrayX&&isArrayY&&x.length===y.length){for(var i=0;i<x.length;++i)if(x[i]!==y[i])return!1;return!0}return x===y},GL_STATE_SETTERS={enable:function enable(update,cap){return update(_defineProperty({},cap,!0))},disable:function disable(update,cap){return update(_defineProperty({},cap,!1))},pixelStorei:function pixelStorei(update,pname,param){return update(_defineProperty({},pname,param))},hint:function hint(update,pname,_hint){return update(_defineProperty({},pname,_hint))},bindFramebuffer:function bindFramebuffer(update,target,fb){var _update5;switch(target){case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAMEBUFFER:return update((_defineProperty(_update5={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DRAW_FRAMEBUFFER_BINDING,fb),_defineProperty(_update5,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.READ_FRAMEBUFFER_BINDING,fb),_update5));case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.DRAW_FRAMEBUFFER:return update(_defineProperty({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DRAW_FRAMEBUFFER_BINDING,fb));case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.READ_FRAMEBUFFER:return update(_defineProperty({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.READ_FRAMEBUFFER_BINDING,fb));default:return null}},blendColor:function blendColor(update,r,g,b,a){return update(_defineProperty({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_COLOR,new Float32Array([r,g,b,a])))},blendEquation:function blendEquation(update,mode){var _update9;return update((_defineProperty(_update9={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_EQUATION_RGB,mode),_defineProperty(_update9,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_EQUATION_ALPHA,mode),_update9))},blendEquationSeparate:function blendEquationSeparate(update,modeRGB,modeAlpha){var _update10;return update((_defineProperty(_update10={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_EQUATION_RGB,modeRGB),_defineProperty(_update10,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_EQUATION_ALPHA,modeAlpha),_update10))},blendFunc:function blendFunc(update,src,dst){var _update11;return update((_defineProperty(_update11={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_SRC_RGB,src),_defineProperty(_update11,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_DST_RGB,dst),_defineProperty(_update11,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_SRC_ALPHA,src),_defineProperty(_update11,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_DST_ALPHA,dst),_update11))},blendFuncSeparate:function blendFuncSeparate(update,srcRGB,dstRGB,srcAlpha,dstAlpha){var _update12;return update((_defineProperty(_update12={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_SRC_RGB,srcRGB),_defineProperty(_update12,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_DST_RGB,dstRGB),_defineProperty(_update12,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_SRC_ALPHA,srcAlpha),_defineProperty(_update12,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_DST_ALPHA,dstAlpha),_update12))},clearColor:function clearColor(update,r,g,b,a){return update(_defineProperty({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.COLOR_CLEAR_VALUE,new Float32Array([r,g,b,a])))},clearDepth:function clearDepth(update,depth){return update(_defineProperty({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_CLEAR_VALUE,depth))},clearStencil:function clearStencil(update,s){return update(_defineProperty({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_CLEAR_VALUE,s))},colorMask:function colorMask(update,r,g,b,a){return update(_defineProperty({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.COLOR_WRITEMASK,[r,g,b,a]))},cullFace:function cullFace(update,mode){return update(_defineProperty({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.CULL_FACE_MODE,mode))},depthFunc:function depthFunc(update,func){return update(_defineProperty({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_FUNC,func))},depthRange:function depthRange(update,zNear,zFar){return update(_defineProperty({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_RANGE,new Float32Array([zNear,zFar])))},depthMask:function depthMask(update,mask){return update(_defineProperty({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_WRITEMASK,mask))},frontFace:function frontFace(update,face){return update(_defineProperty({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT_FACE,face))},lineWidth:function lineWidth(update,width){return update(_defineProperty({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.LINE_WIDTH,width))},polygonOffset:function polygonOffset(update,factor,units){var _update23;return update((_defineProperty(_update23={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.POLYGON_OFFSET_FACTOR,factor),_defineProperty(_update23,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.POLYGON_OFFSET_UNITS,units),_update23))},sampleCoverage:function sampleCoverage(update,value,invert){var _update24;return update((_defineProperty(_update24={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SAMPLE_COVERAGE_VALUE,value),_defineProperty(_update24,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SAMPLE_COVERAGE_INVERT,invert),_update24))},scissor:function scissor(update,x,y,width,height){return update(_defineProperty({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SCISSOR_BOX,new Int32Array([x,y,width,height])))},stencilMask:function stencilMask(update,mask){var _update26;return update((_defineProperty(_update26={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_WRITEMASK,mask),_defineProperty(_update26,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_WRITEMASK,mask),_update26))},stencilMaskSeparate:function stencilMaskSeparate(update,face,mask){return update(_defineProperty({},face===__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_WRITEMASK:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_WRITEMASK,mask))},stencilFunc:function stencilFunc(update,func,ref,mask){var _update28;return update((_defineProperty(_update28={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_FUNC,func),_defineProperty(_update28,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_REF,ref),_defineProperty(_update28,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_VALUE_MASK,mask),_defineProperty(_update28,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_FUNC,func),_defineProperty(_update28,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_REF,ref),_defineProperty(_update28,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_VALUE_MASK,mask),_update28))},stencilFuncSeparate:function stencilFuncSeparate(update,face,func,ref,mask){var _update29;return update((_defineProperty(_update29={},face===__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_FUNC:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_FUNC,func),_defineProperty(_update29,face===__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_REF:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_REF,ref),_defineProperty(_update29,face===__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_VALUE_MASK:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_VALUE_MASK,mask),_update29))},stencilOp:function stencilOp(update,fail,zfail,zpass){var _update30;return update((_defineProperty(_update30={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_FAIL,fail),_defineProperty(_update30,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_PASS_DEPTH_FAIL,zfail),_defineProperty(_update30,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_PASS_DEPTH_PASS,zpass),_defineProperty(_update30,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_FAIL,fail),_defineProperty(_update30,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_PASS_DEPTH_FAIL,zfail),_defineProperty(_update30,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_PASS_DEPTH_PASS,zpass),_update30))},stencilOpSeparate:function stencilOpSeparate(update,face,fail,zfail,zpass){var _update31;return update((_defineProperty(_update31={},face===__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_FAIL:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_FAIL,fail),_defineProperty(_update31,face===__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_PASS_DEPTH_FAIL:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_PASS_DEPTH_FAIL,zfail),_defineProperty(_update31,face===__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_PASS_DEPTH_PASS:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_PASS_DEPTH_PASS,zpass),_update31))},viewport:function viewport(update,x,y,width,height){return update(_defineProperty({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.VIEWPORT,new Int32Array([x,y,width,height])))}};function installGetterOverride(gl,functionName){var originalGetterFunc=gl[functionName].bind(gl);gl[functionName]=function(){var pname=arguments.length<=0?void 0:arguments[0];return pname in gl.state.cache||(gl.state.cache[pname]=originalGetterFunc.apply(void 0,arguments)),gl.state.enable?gl.state.cache[pname]:originalGetterFunc.apply(void 0,arguments)},Object.defineProperty(gl[functionName],"name",{value:"".concat(functionName,"-from-cache"),configurable:!1})}function installSetterSpy(gl,functionName,setter){var originalSetterFunc=gl[functionName].bind(gl);gl[functionName]=function(){for(var _len=arguments.length,params=new Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];var _gl$state,_setter=setter.apply(void 0,[gl.state._updateCache].concat(params)),valueChanged=_setter.valueChanged,oldValue=_setter.oldValue;valueChanged&&((_gl$state=gl.state).log.apply(_gl$state,["gl.".concat(functionName)].concat(params)),originalSetterFunc.apply(void 0,params));return oldValue},Object.defineProperty(gl[functionName],"name",{value:"".concat(functionName,"-to-cache"),configurable:!1})}var GLState=function(){function GLState(gl){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$copyState=_ref.copyState,copyState=void 0!==_ref$copyState&&_ref$copyState,_ref$log=_ref.log,log=void 0===_ref$log?function(){}:_ref$log;_classCallCheck(this,GLState),this.gl=gl,this.stateStack=[],this.enable=!0,this.cache=copyState?Object(__WEBPACK_IMPORTED_MODULE_1__set_parameters__.d)(gl):Object.assign({},__WEBPACK_IMPORTED_MODULE_1__set_parameters__.a),this.log=log,this._updateCache=this._updateCache.bind(this),Object.seal(this)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(GLState,[{key:"push",value:function push(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.stateStack.push({})}},{key:"pop",value:function pop(){Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(this.stateStack.length>0);var oldValues=this.stateStack[this.stateStack.length-1];Object(__WEBPACK_IMPORTED_MODULE_1__set_parameters__.g)(this.gl,oldValues,this.cache),this.stateStack.pop()}},{key:"_updateCache",value:function _updateCache(values){var oldValue,valueChanged=!1,oldValues=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var key in values)Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(void 0!==key),deepEqual(values[key],this.cache[key])||(valueChanged=!0,oldValue=this.cache[key],!oldValues||key in oldValues||(oldValues[key]=this.cache[key]),this.cache[key]=values[key]);return{valueChanged:valueChanged,oldValue:oldValue}}}]),GLState}();function trackContextState(gl){var _ref2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref2$enable=_ref2.enable,enable=void 0===_ref2$enable||_ref2$enable,copyState=_ref2.copyState;if(Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(void 0!==copyState),!gl.state){for(var key in Object(__WEBPACK_IMPORTED_MODULE_2__polyfill_context__.a)(gl),gl.state=new GLState(gl,{copyState:copyState,enable:enable}),GL_STATE_SETTERS){installSetterSpy(gl,key,GL_STATE_SETTERS[key])}installGetterOverride(gl,"getParameter"),installGetterOverride(gl,"isEnabled")}return gl.state.enable=enable,gl}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function makeDebugContext(gl){var _ref$debug=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).debug,debug=void 0===_ref$debug||_ref$debug;if(null===gl)return null;return debug?function getDebugContext(gl){if(null===gl)return null;if(!__WEBPACK_IMPORTED_MODULE_0__utils_globals__.a.WebGLDebug)return __WEBPACK_IMPORTED_MODULE_1__utils__.g.warn('WebGL debug mode activation failed. import "luma.gl/debug" to enable.')(),gl;var data=getContextData(gl);if(data.realContext)return gl;if(data.debugContext)return data.debugContext;var debugContext=__WEBPACK_IMPORTED_MODULE_0__utils_globals__.a.WebGLDebug.makeDebugContext(gl,onGLError,onValidateGLFunc);return Object.assign(function WebGLDebugContext(){!function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,WebGLDebugContext)}.prototype,debugContext),data.debugContext=debugContext,debugContext.debug=!0,debugContext.gl=gl,__WEBPACK_IMPORTED_MODULE_1__utils__.g.info("debug context actived."),debugContext}(gl):function getRealContext(gl){if(null===gl)return null;var data=getContextData(gl);return data.realContext?data.realContext:gl}(gl)};var __WEBPACK_IMPORTED_MODULE_0__utils_globals__=__webpack_require__(218),__WEBPACK_IMPORTED_MODULE_1__utils__=__webpack_require__(15);function getContextData(gl){return gl.luma=gl.luma||{},gl.luma}function getFunctionString(functionName,functionArgs){var args=__WEBPACK_IMPORTED_MODULE_0__utils_globals__.a.WebGLDebug.glFunctionArgsToString(functionName,functionArgs);return args="".concat(args.slice(0,100)).concat(args.length>100?"...":""),"gl.".concat(functionName,"(").concat(args,")")}function onGLError(err,functionName,args){var errorMessage=__WEBPACK_IMPORTED_MODULE_0__utils_globals__.a.WebGLDebug.glEnumToString(err),functionArgs=__WEBPACK_IMPORTED_MODULE_0__utils_globals__.a.WebGLDebug.glFunctionArgsToString(functionName,args),message="".concat(errorMessage," in gl.").concat(functionName,"(").concat(functionArgs,")");if(__WEBPACK_IMPORTED_MODULE_1__utils__.g.throw)throw new Error(message);__WEBPACK_IMPORTED_MODULE_1__utils__.g.error(message)()}function onValidateGLFunc(functionName,functionArgs){var functionString;if(__WEBPACK_IMPORTED_MODULE_1__utils__.g.priority>=4&&(functionString=getFunctionString(functionName,functionArgs),__WEBPACK_IMPORTED_MODULE_1__utils__.g.info(4,functionString)()),__WEBPACK_IMPORTED_MODULE_1__utils__.g.break){functionString=functionString||getFunctionString(functionName,functionArgs);__WEBPACK_IMPORTED_MODULE_1__utils__.g.break&&__WEBPACK_IMPORTED_MODULE_1__utils__.g.break.every(function(breakOn){return-1!==functionString.indexOf(breakOn)})}var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=functionArgs[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){if(void 0===_step.value){if(functionString=functionString||getFunctionString(functionName,functionArgs),__WEBPACK_IMPORTED_MODULE_1__utils__.g.throw)throw new Error("Undefined argument: ".concat(functionString));__WEBPACK_IMPORTED_MODULE_1__utils__.g.error("Undefined argument: ".concat(functionString))}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var noop=function noop(x){return x},QueryManager=function(){function QueryManager(){!function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,QueryManager),this.pendingQueries=new Set,this.invalidQueryType=null,this.invalidErrorMessage="",this.checkInvalid=function(){return!1}}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(QueryManager,[{key:"poll",value:function poll(gl){this.cancelInvalidQueries(gl);var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.pendingQueries.values()[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var query=_step.value;if(query.isResultAvailable()){var result=query.getResult();this.resolveQuery(query,result)}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"setInvalidator",value:function setInvalidator(_ref){var queryType=_ref.queryType,errorMessage=_ref.errorMessage,checkInvalid=_ref.checkInvalid;this.invalidQueryType=queryType,this.invalidErrorMessage=errorMessage,this.checkInvalid=checkInvalid}},{key:"beginQuery",value:function beginQuery(query){var onComplete=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop,onError=arguments.length>2&&void 0!==arguments[2]?arguments[2]:noop;this.cancelInvalidQueries(query.gl),this.cancelQuery(query);var resolvers={};return query.promise=new Promise(function(resolve,reject){resolvers.resolve=resolve,resolvers.reject=reject}),Object.assign(query.promise,resolvers),this.pendingQueries.add(query),query.promise.then(onComplete).catch(onError)}},{key:"resolveQuery",value:function resolveQuery(query,result){this.pendingQueries.delete(query),query.promise.resolve(result)}},{key:"rejectQuery",value:function rejectQuery(query,errorMessage){this.pendingQueries.delete(query),query.promise&&query.promise.reject(new Error(errorMessage))}},{key:"deleteQuery",value:function deleteQuery(query){return this.rejectQuery(query,"Query was deleted before result was available")}},{key:"cancelQuery",value:function cancelQuery(query){return this.rejectQuery(query,"Query was canceled before result was available")}},{key:"invalidateQuery",value:function invalidateQuery(query){_instanceof(query,this.invalidQueryType)&&this.rejectQuery(query,this.invalidErrorMessage)}},{key:"cancelInvalidQueries",value:function cancelInvalidQueries(gl){if(this.checkInvalid(gl)){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this.pendingQueries.values()[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var query=_step2.value;this.invalidateQuery(query)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}}}]),QueryManager}();__webpack_exports__.a=new QueryManager},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Program});var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__vertex_array__=__webpack_require__(466),__WEBPACK_IMPORTED_MODULE_2__resource__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_3__texture__=__webpack_require__(155),__WEBPACK_IMPORTED_MODULE_4__framebuffer__=__webpack_require__(219),__WEBPACK_IMPORTED_MODULE_5__uniforms__=__webpack_require__(469),__WEBPACK_IMPORTED_MODULE_6__shader__=__webpack_require__(261),__WEBPACK_IMPORTED_MODULE_7__buffer__=__webpack_require__(140),__WEBPACK_IMPORTED_MODULE_8__webgl_context_context_state__=__webpack_require__(139),__WEBPACK_IMPORTED_MODULE_9__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_10__webgl_utils_attribute_utils__=__webpack_require__(919),__WEBPACK_IMPORTED_MODULE_11__utils__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_12__utils_assert__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var GL_INTERLEAVED_ATTRIBS=35980,GL_SEPARATE_ATTRIBS=35981,Program=function(_Resource){function Program(gl){var _this,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,Program),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(Program.__proto__||Object.getPrototypeOf(Program)).call(this,gl,opts))).initialize(opts),_this.vertexAttributes=__WEBPACK_IMPORTED_MODULE_1__vertex_array__.a.getDefaultArray(gl),Object.seal(_assertThisInitialized(_this)),_this._setId(opts.id),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Program,__WEBPACK_IMPORTED_MODULE_2__resource__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Program,[{key:"initialize",value:function initialize(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},vs=_ref.vs,fs=_ref.fs,defaultUniforms=_ref.defaultUniforms,varyings=_ref.varyings,_ref$bufferMode=_ref.bufferMode,bufferMode=void 0===_ref$bufferMode?GL_SEPARATE_ATTRIBS:_ref$bufferMode;return this.vs="string"==typeof vs?new __WEBPACK_IMPORTED_MODULE_6__shader__.c(this.gl,vs):vs,this.fs="string"==typeof fs?new __WEBPACK_IMPORTED_MODULE_6__shader__.a(this.gl,fs):fs,Object(__WEBPACK_IMPORTED_MODULE_12__utils_assert__.a)(_instanceof(this.vs,__WEBPACK_IMPORTED_MODULE_6__shader__.c),"Program: bad vertex shader"),Object(__WEBPACK_IMPORTED_MODULE_12__utils_assert__.a)(_instanceof(this.fs,__WEBPACK_IMPORTED_MODULE_6__shader__.a),"Program: bad fragment shader"),this.defaultUniforms=defaultUniforms,varyings?(Object(__WEBPACK_IMPORTED_MODULE_9__webgl_utils__.d)(this.gl),this.varyings=varyings,this.gl.transformFeedbackVaryings(this.handle,varyings,bufferMode),this.varyingMap=function getVaryingMap(varyings,bufferMode){var varyingMap={},index=0;Object(__WEBPACK_IMPORTED_MODULE_12__utils_assert__.a)(bufferMode===GL_SEPARATE_ATTRIBS||bufferMode===GL_INTERLEAVED_ATTRIBS);var indexIncrement=bufferMode===GL_SEPARATE_ATTRIBS?1:0,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=varyings[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var varying=_step2.value;varyingMap[varying]=index,index+=indexIncrement}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return varyingMap}(varyings,bufferMode)):this.varyingMap={},this._compileAndLink(),this._isCached=!1,this}},{key:"checkAttributeBindings",value:function checkAttributeBindings(_ref2){var vertexArray=_ref2.vertexArray,filledLocations=vertexArray?vertexArray.filledLocations:this.vertexAttributes.filledLocations;for(var attributeName in this._attributeToLocationMap){var location=this._attributeToLocationMap[attributeName];filledLocations[location]||this._warnedLocations[location]||(__WEBPACK_IMPORTED_MODULE_11__utils__.g.warn("Program ".concat(this.id,": Attribute ").concat(location,":").concat(attributeName," not supplied"))(),this._warnedLocations[location]=!0)}return this}},{key:"delete",value:function _delete(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:function _get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:_get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}(Program.prototype.__proto__||Object.getPrototypeOf(Program.prototype),"delete",this).call(this,opts)}},{key:"reset",value:function reset(){this.unsetBuffers()}},{key:"use",value:function use(){return this.gl.useProgram(this.handle),this}},{key:"draw",value:function draw(_ref3){var _this2=this,_ref3$drawMode=_ref3.drawMode,drawMode=void 0===_ref3$drawMode?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TRIANGLES:_ref3$drawMode,vertexCount=_ref3.vertexCount,_ref3$offset=_ref3.offset,offset=void 0===_ref3$offset?0:_ref3$offset,start=_ref3.start,end=_ref3.end,_ref3$isIndexed=_ref3.isIndexed,isIndexed=void 0!==_ref3$isIndexed&&_ref3$isIndexed,_ref3$indexType=_ref3.indexType,indexType=void 0===_ref3$indexType?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_SHORT:_ref3$indexType,_ref3$isInstanced=_ref3.isInstanced,isInstanced=void 0!==_ref3$isInstanced&&_ref3$isInstanced,_ref3$instanceCount=_ref3.instanceCount,instanceCount=void 0===_ref3$instanceCount?0:_ref3$instanceCount,_ref3$vertexArray=_ref3.vertexArray,vertexArray=void 0===_ref3$vertexArray?null:_ref3$vertexArray,_ref3$transformFeedba=_ref3.transformFeedback,transformFeedback=void 0===_ref3$transformFeedba?null:_ref3$transformFeedba,_ref3$uniforms=_ref3.uniforms,uniforms=void 0===_ref3$uniforms?{}:_ref3$uniforms,_ref3$samplers=_ref3.samplers,samplers=void 0===_ref3$samplers?{}:_ref3$samplers,_ref3$parameters=_ref3.parameters,parameters=void 0===_ref3$parameters?{}:_ref3$parameters;return(vertexArray=vertexArray||__WEBPACK_IMPORTED_MODULE_1__vertex_array__.a.getDefaultArray(this.gl)).bind(function(){if(_this2.gl.useProgram(_this2.handle),transformFeedback){var primitiveMode=Object(__WEBPACK_IMPORTED_MODULE_10__webgl_utils_attribute_utils__.a)(drawMode);transformFeedback.begin(primitiveMode)}_this2.setUniforms(uniforms,samplers),Object(__WEBPACK_IMPORTED_MODULE_8__webgl_context_context_state__.g)(_this2.gl,parameters,function(){isIndexed&&isInstanced?_this2.ext.drawElementsInstanced(drawMode,vertexCount,indexType,offset,instanceCount):isIndexed&&Object(__WEBPACK_IMPORTED_MODULE_9__webgl_utils__.l)(_this2.gl)&&!isNaN(start)&&!isNaN(end)?_this2.gl.drawElementsRange(drawMode,start,end,vertexCount,indexType,offset):isIndexed?_this2.gl.drawElements(drawMode,vertexCount,indexType,offset):isInstanced?_this2.ext.drawArraysInstanced(drawMode,offset,vertexCount,instanceCount):_this2.gl.drawArrays(drawMode,offset,vertexCount)}),transformFeedback&&transformFeedback.end()}),this}},{key:"setAttributes",value:function setAttributes(attributes){var _ref4=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref4$clear=_ref4.clear,clear=void 0===_ref4$clear||_ref4$clear,_ref4$drawParams=_ref4.drawParams,drawParams=void 0===_ref4$drawParams?{}:_ref4$drawParams;clear&&this.vertexAttributes.clearBindings(),drawParams.isInstanced=!1,drawParams.isIndexed=!1,drawParams.indexType=null;for(var _sortBuffersByLocatio=this._sortBuffersByLocation(attributes),locations=_sortBuffersByLocatio.locations,elements=_sortBuffersByLocatio.elements,location=0;location<locations.length;++location){var attribute=attributes[locations[location]];attribute?attribute.isGeneric?this._setAttributeToGeneric({location:location,array:attribute.value}):(this._setAttributeToBuffer({location:location,buffer:attribute.getBuffer(),layout:attribute}),Object.assign(drawParams,{isInstanced:attribute.instanced>0})):this.vertexAttributes.disable(location)}if(elements){var _attribute=attributes[elements];_attribute.getBuffer().bind(),drawParams.isIndexed=!0,drawParams.indexType=_attribute.type}return this}},{key:"setBuffers",value:function setBuffers(buffers){var _ref5=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref5$clear=_ref5.clear,clear=void 0===_ref5$clear||_ref5$clear,_ref5$drawParams=_ref5.drawParams,drawParams=void 0===_ref5$drawParams?{}:_ref5$drawParams;__WEBPACK_IMPORTED_MODULE_11__utils__.g.deprecated("Program: `setBuffers`","`setAttributes`"),clear&&this.vertexAttributes.clearBindings(),drawParams.isInstanced=!1,drawParams.isIndexed=!1,drawParams.indexType=null;for(var _sortBuffersByLocatio2=this._sortBuffersByLocation(buffers),locations=_sortBuffersByLocatio2.locations,elements=_sortBuffersByLocatio2.elements,location=0;location<locations.length;++location){var buffer=buffers[locations[location]];buffer?_instanceof(buffer,__WEBPACK_IMPORTED_MODULE_7__buffer__.a)?(this._setAttributeToBuffer({location:location,buffer:buffer,layout:buffer.layout}),Object.assign(drawParams,{isInstanced:buffer.layout.instanced>0})):this._setAttributeToGeneric({location:location,array:buffer}):this.vertexAttributes.disable(location)}if(elements){var _buffer=buffers[elements];_buffer.bind(),drawParams.isIndexed=!0,drawParams.indexType=_buffer.layout.type}return this}},{key:"unsetBuffers",value:function unsetBuffers(){for(var length=this._attributeCount,i=1;i<length;++i)this.vertexAttributes.disable(i);return this.gl.bindBuffer(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ELEMENT_ARRAY_BUFFER,null),this}},{key:"setUniforms",value:function setUniforms(uniforms){var samplers=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var uniformName in uniforms){var uniform=uniforms[uniformName],uniformSetter=this._uniformSetters[uniformName],sampler=samplers[uniformName];if(uniformSetter)if(_instanceof(uniform,__WEBPACK_IMPORTED_MODULE_4__framebuffer__.a)&&(uniform=uniform.texture),_instanceof(uniform,__WEBPACK_IMPORTED_MODULE_3__texture__.a)){void 0===uniformSetter.textureIndex&&(uniformSetter.textureIndex=this._textureIndexCounter++);var texture=uniform,textureIndex=uniformSetter.textureIndex;texture.bind(textureIndex),sampler&&sampler.bind(textureIndex),uniformSetter(textureIndex)}else uniformSetter(uniform)}return this}},{key:"uniformBlockBinding",value:function uniformBlockBinding(blockIndex,blockBinding){Object(__WEBPACK_IMPORTED_MODULE_9__webgl_utils__.d)(this.gl),this.gl.uniformBlockBinding(this.handle,blockIndex,blockBinding)}},{key:"getAttributeCount",value:function getAttributeCount(){return this._getParameter(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ACTIVE_ATTRIBUTES)}},{key:"getAttributeLocation",value:function getAttributeLocation(attributeName){return this.gl.getAttribLocation(this.handle,attributeName)}},{key:"getAttributeInfo",value:function getAttributeInfo(location){return this.gl.getActiveAttrib(this.handle,location)}},{key:"getUniformCount",value:function getUniformCount(){return this._getParameter(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ACTIVE_UNIFORMS)}},{key:"getUniformInfo",value:function getUniformInfo(index){return this.gl.getActiveUniform(this.handle,index)}},{key:"getUniformLocation",value:function getUniformLocation(name){return this.gl.getUniformLocation(this.handle,name)}},{key:"getUniformValue",value:function getUniformValue(location){return this.gl.getUniform(this.handle,location)}},{key:"getActiveUniforms",value:function getActiveUniforms(uniformIndices,pname){return this.gl.getActiveUniforms(this.handle,uniformIndices,pname)}},{key:"getVarying",value:function getVarying(program,index){return this.gl.getTransformFeedbackVarying(program,index)}},{key:"getFragDataLocation",value:function getFragDataLocation(varyingName){return Object(__WEBPACK_IMPORTED_MODULE_9__webgl_utils__.d)(this.gl),this.gl.getFragDataLocation(this.handle,varyingName)}},{key:"getAttachedShaders",value:function getAttachedShaders(){return this.gl.getAttachedShaders(this.handle)}},{key:"getUniformBlockIndex",value:function getUniformBlockIndex(blockName){return Object(__WEBPACK_IMPORTED_MODULE_9__webgl_utils__.d)(this.gl),this.gl.getUniformBlockIndex(this.handle,blockName)}},{key:"getActiveUniformBlockParameter",value:function getActiveUniformBlockParameter(blockIndex,pname){return Object(__WEBPACK_IMPORTED_MODULE_9__webgl_utils__.d)(this.gl),this.gl.getActiveUniformBlockParameter(this.handle,blockIndex,pname)}},{key:"_setAttributeToGeneric",value:function _setAttributeToGeneric(_ref6){var location=_ref6.location,array=_ref6.array;this.vertexAttributes.setGeneric({location:location,array:array}),this.vertexAttributes.disable(location,!0)}},{key:"_setAttributeToBuffer",value:function _setAttributeToBuffer(_ref7){var location=_ref7.location,buffer=_ref7.buffer,layout=_ref7.layout,divisor=layout.instanced?1:0;this.vertexAttributes.setBuffer({location:location,buffer:buffer,layout:layout}),this.vertexAttributes.setDivisor(location,divisor),this.vertexAttributes.enable(location)}},{key:"_compileAndLink",value:function _compileAndLink(){var gl=this.gl;if((gl.attachShader(this.handle,this.vs.handle),gl.attachShader(this.handle,this.fs.handle),__WEBPACK_IMPORTED_MODULE_11__utils__.g.time(3,"linkProgram for ".concat(this._getName()))(),gl.linkProgram(this.handle),__WEBPACK_IMPORTED_MODULE_11__utils__.g.timeEnd(3,"linkProgram for ".concat(this._getName()))(),gl.debug||__WEBPACK_IMPORTED_MODULE_11__utils__.g.priority>0)&&(gl.validateProgram(this.handle),!gl.getProgramParameter(this.handle,gl.LINK_STATUS)))throw new Error("Error linking ".concat(gl.getProgramInfoLog(this.handle)));this._queryAttributeLocations(),this._queryUniformLocations()}},{key:"_sortBuffersByLocation",value:function _sortBuffersByLocation(buffers){var elements=null,locations=[];if(Object(__WEBPACK_IMPORTED_MODULE_11__utils__.d)(buffers))return{locations:locations,elements:elements};for(var bufferName in locations=new Array(this._attributeCount),buffers){var buffer=buffers[bufferName],location=this._attributeToLocationMap[bufferName];if(void 0===location){if(buffer.target===__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ELEMENT_ARRAY_BUFFER&&elements)throw new Error("".concat(this._print(bufferName)," duplicate GL.ELEMENT_ARRAY_BUFFER"));buffer.target===__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ELEMENT_ARRAY_BUFFER?elements=bufferName:this._warnedLocations[location]||(__WEBPACK_IMPORTED_MODULE_11__utils__.g.log(2,"".concat(this._print(bufferName)," not used"))(),this._warnedLocations[location]=!0)}else{if(buffer.target===__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ELEMENT_ARRAY_BUFFER)throw new Error("".concat(this._print(bufferName),":").concat(location," ")+"has both location and type gl.ELEMENT_ARRAY_BUFFER");locations[location]=bufferName}}return{locations:locations,elements:elements}}},{key:"_areAllAttributesEnabled",value:function _areAllAttributesEnabled(){for(var length=this._attributeCount,i=0;i<length;++i)if(!this.vertexAttributes.isEnabled(i))return!1;return!0}},{key:"_print",value:function _print(bufferName){return"Program ".concat(this.id,": Attribute ").concat(bufferName)}},{key:"_createHandle",value:function _createHandle(){return this.gl.createProgram()}},{key:"_deleteHandle",value:function _deleteHandle(){this.gl.deleteProgram(this.handle)}},{key:"_getName",value:function _getName(){var programName=this.vs.getName()||this.fs.getName();return programName=(programName=programName.replace(/shader/i,""))?"".concat(programName,"-program"):"program"}},{key:"_getOptionsFromHandle",value:function _getOptionsFromHandle(handle){var shaderHandles=this.gl.getAttachedShaders(handle),opts={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=shaderHandles[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var shaderHandle=_step.value;switch(this.gl.getShaderParameter(this.handle,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SHADER_TYPE)){case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.VERTEX_SHADER:opts.vs=new __WEBPACK_IMPORTED_MODULE_6__shader__.c({handle:shaderHandle});break;case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAGMENT_SHADER:opts.fs=new __WEBPACK_IMPORTED_MODULE_6__shader__.a({handle:shaderHandle})}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return opts}},{key:"_getParameter",value:function _getParameter(pname){return this.gl.getProgramParameter(this.handle,pname)}},{key:"_queryAttributeLocations",value:function _queryAttributeLocations(){this._attributeToLocationMap={},this._attributeCount=this.getAttributeCount();for(var location=0;location<this._attributeCount;location++){var name=this.getAttributeInfo(location).name;this._attributeToLocationMap[name]=this.getAttributeLocation(name)}this._warnedLocations={}}},{key:"_queryUniformLocations",value:function _queryUniformLocations(){var gl=this.gl;this._uniformSetters={},this._uniformCount=this.getUniformCount();for(var i=0;i<this._uniformCount;i++){var info=this.getUniformInfo(i),parsedName=Object(__WEBPACK_IMPORTED_MODULE_5__uniforms__.e)(info.name),location=this.getUniformLocation(parsedName.name);this._uniformSetters[parsedName.name]=Object(__WEBPACK_IMPORTED_MODULE_5__uniforms__.c)(gl,location,info,parsedName.isArray)}this._textureIndexCounter=0}},{key:"_setId",value:function _setId(id){if(!id){var programName=this._getName();this.id=Object(__WEBPACK_IMPORTED_MODULE_11__utils__.h)(programName)}}}]),Program}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return VertexArray});var __WEBPACK_IMPORTED_MODULE_0__resource__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_1__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_2__utils__=__webpack_require__(15);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var PARAMETERS=[34338,34339,34340,34341,34922,34373,34975,35069,35070],VertexArray=function(_Resource){function VertexArray(gl){var _this,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,VertexArray),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(VertexArray.__proto__||Object.getPrototypeOf(VertexArray)).call(this,gl,opts))).elements=null,_this.buffers={},_this.locations={},_this.names={},_this.drawParameters={},_this._bound=!1,_this._filledLocations={},Object.seal(_assertThisInitialized(_this)),_this.initialize(opts),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(VertexArray,__WEBPACK_IMPORTED_MODULE_0__resource__["a"]),_createClass(VertexArray,[{key:"MAX_ATTRIBUTES",get:function get(){return this.gl.getParameter(this.gl.MAX_VERTEX_ATTRIBS)}}],[{key:"isSupported",value:function isSupported(gl){return Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.l)(gl)||gl.getExtension("OES_vertex_array_object")}},{key:"getDefaultArray",value:function getDefaultArray(gl){return gl.luma=gl.luma||{},gl.luma.defaultVertexArray||(gl.luma.defaultVertexArray=new VertexArray(gl,{handle:null})),gl.luma.defaultVertexArray}},{key:"getMaxAttributes",value:function getMaxAttributes(gl){return gl.getParameter(gl.MAX_VERTEX_ATTRIBS)}}]),_createClass(VertexArray,[{key:"initialize",value:function initialize(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$buffers=_ref.buffers,buffers=void 0===_ref$buffers?{}:_ref$buffers,_ref$elements=_ref.elements,elements=void 0===_ref$elements?null:_ref$elements,_ref$locations=_ref.locations,locations=void 0===_ref$locations?{}:_ref$locations;this.setLocations(locations),this.setBuffers(buffers,{clear:!0}),this.setElements(elements)}},{key:"setBuffer",value:function setBuffer(){var _ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},location=_ref2.location,buffer=_ref2.buffer,target=_ref2.target,layout=_ref2.layout,gl=this.gl;target=void 0!==target?target:buffer.target,layout=void 0!==layout?layout:buffer.layout,Object(__WEBPACK_IMPORTED_MODULE_2__utils__.a)(target,"setBuffer needs target"),Object(__WEBPACK_IMPORTED_MODULE_2__utils__.a)(layout,"setBuffer called on uninitialized buffer"),this._filledLocations[location]=!0,this.bind(function(){buffer.bind({target:gl.ARRAY_BUFFER});var _layout=layout,size=_layout.size,type=_layout.type,normalized=_layout.normalized,stride=_layout.stride,offset=_layout.offset;layout.integer?(Object(__WEBPACK_IMPORTED_MODULE_2__utils__.a)(Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.l)(gl)),gl.vertexAttribIPointer(location,size,type,stride,offset)):gl.vertexAttribPointer(location,size,type,normalized,stride,offset)})}},{key:"setBuffers",value:function setBuffers(buffers){var _ref3$clear=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clear;(void 0===_ref3$clear||_ref3$clear)&&this.clearBindings();var _getLocations2=this._getLocations(buffers),locations=_getLocations2.locations,elements=_getLocations2.elements;for(var location in this.ext.bindVertexArray(this.handle),locations){var bufferData=locations[location];if(bufferData){var _getBufferAndLayout2=this._getBufferAndLayout(bufferData),buffer=_getBufferAndLayout2.buffer,layout=_getBufferAndLayout2.layout;this.setBuffer({location:location,buffer:buffer,layout:layout}),this.setDivisor(location,layout.instanced?1:0),this.enable(location)}else this.disable(location)}this.buffers=buffers,this.ext.bindVertexArray(null),elements&&this.setElements(elements)}},{key:"setLocations",value:function setLocations(locations){this.locations=locations,this.names={}}},{key:"setElements",value:function setElements(elements){return Object(__WEBPACK_IMPORTED_MODULE_2__utils__.a)(!elements||34963===elements.target,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.ext.bindVertexArray(this.handle),this.gl.bindBuffer(34963,elements&&elements.handle),this.ext.bindVertexArray(null),this.elements=elements,this}},{key:"clearBindings",value:function clearBindings(){var _this2=this,_ref4$disableZero=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).disableZero,disableZero=void 0!==_ref4$disableZero&&_ref4$disableZero;this.bind(function(){for(var location in _this2._filledLocations)_this2._filledLocations[location]&&(location>0||disableZero)&&_this2.gl.disableVertexAttribArray(location);_this2._filledLocations={}})}},{key:"enable",value:function enable(location){var _this3=this;this.bind(function(){_this3.gl.enableVertexAttribArray(location)})}},{key:"disable",value:function disable(location){var _this4=this,disableZero=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(location>0||disableZero)&&this.bind(function(){_this4.gl.disableVertexAttribArray(location)})}},{key:"setDivisor",value:function setDivisor(location,divisor){var _this5=this;this.bind(function(){_this5.ext.vertexAttribDivisor(location,divisor)})}},{key:"setGeneric",value:function setGeneric(_ref5){var location=_ref5.location,array=_ref5.array;switch(this._filledLocations[location]=!0,array.constructor){case Float32Array:this._setGenericFloatArray(location,array);break;case Int32Array:this._setGenericIntArray(location,array);break;case Uint32Array:this._setGenericUintArray(location,array);break;default:this.setGenericValues.apply(this,[location].concat(_toConsumableArray(array)))}}},{key:"setGenericValues",value:function setGenericValues(location,v0,v1,v2,v3){var gl=this.gl;switch(arguments.length-1){case 1:gl.vertexAttrib1f(location,v0);break;case 2:gl.vertexAttrib2f(location,v0,v1);break;case 3:gl.vertexAttrib3f(location,v0,v1,v2);break;case 4:gl.vertexAttrib4f(location,v0,v1,v2,v3);break;default:Object(__WEBPACK_IMPORTED_MODULE_2__utils__.a)(!1)}}},{key:"bind",value:function bind(){var value,funcOrHandle=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!=typeof funcOrHandle?(this.bindVertexArray(funcOrHandle),this):(this._bound?value=funcOrHandle():(this.ext.bindVertexArray(this.handle),this._bound=!0,value=funcOrHandle(),this.ext.bindVertexArray(null),this._bound=!1),value)}},{key:"_deduceDrawParameters",value:function _deduceDrawParameters(){var isInstanced=!1,isIndexed=!1,indexType=null;return this.elements&&(isIndexed=!0,indexType=this.elements.layout.type),this.buffers.forEach(function(buffer){buffer.layout.instanced>0&&(isInstanced=!0)}),{isInstanced:isInstanced,isIndexed:isIndexed,indexType:indexType}}},{key:"_getLocations",value:function _getLocations(buffers){var elements=null,locations={};for(var bufferName in buffers){var buffer=buffers[bufferName];buffer&&34963===buffer.target&&(Object(__WEBPACK_IMPORTED_MODULE_2__utils__.a)(!elements,"Duplicate GL.ELEMENT_ARRAY_BUFFER"),elements=buffer);var location=Number(bufferName);Number.isFinite(location)||(location=this.locations[bufferName]),Object(__WEBPACK_IMPORTED_MODULE_2__utils__.a)(Number.isFinite(location)),Object(__WEBPACK_IMPORTED_MODULE_2__utils__.a)(!locations[location],"Duplicate attribute for binding point ".concat(location)),locations[location]=buffer}return{locations:locations,elements:elements}}},{key:"_sortBuffersByLocation",value:function _sortBuffersByLocation(buffers){var elements=null,locations=new Array(this._attributeCount).fill(null);for(var bufferName in buffers){var buffer=buffers[bufferName];34963===buffer.target?(Object(__WEBPACK_IMPORTED_MODULE_2__utils__.a)(!elements,"Duplicate GL.ELEMENT_ARRAY_BUFFER"),elements=buffer):this._warn[bufferName]||(__WEBPACK_IMPORTED_MODULE_2__utils__.g.warn(2,"".concat(this._print(bufferName)," not used"))(),this._warn[bufferName]=!0);var location=Number(bufferName);Number.isFinite(location)||(location=this.locations[bufferName]),locations[location]=bufferName,Object(__WEBPACK_IMPORTED_MODULE_2__utils__.a)(null===locations[location],"Duplicate attribute for binding point ".concat(location)),locations[location]=location}return{locations:locations,elements:elements}}},{key:"_getBufferAndLayout",value:function _getBufferAndLayout(bufferData){var buffer,layout;return bufferData.handle?(buffer=bufferData,layout=bufferData.layout):(buffer=bufferData.buffer,layout=Object.assign({},buffer.layout,bufferData.layout||{},bufferData)),{buffer:buffer,layout:layout}}},{key:"_setGenericFloatArray",value:function _setGenericFloatArray(location,array){var gl=this.gl;switch(array.length){case 1:gl.vertexAttrib1fv(location,array);break;case 2:gl.vertexAttrib2fv(location,array);break;case 3:gl.vertexAttrib3fv(location,array);break;case 4:gl.vertexAttrib4fv(location,array);break;default:Object(__WEBPACK_IMPORTED_MODULE_2__utils__.a)(!1)}}},{key:"_setGenericIntArray",value:function _setGenericIntArray(location,array){var gl=this.gl;switch(Object(__WEBPACK_IMPORTED_MODULE_2__utils__.a)(Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.l)(gl)),array.length){case 1:gl.vertexAttribI1iv(location,array);break;case 2:gl.vertexAttribI2iv(location,array);break;case 3:gl.vertexAttribI3iv(location,array);break;case 4:gl.vertexAttribI4iv(location,array);break;default:Object(__WEBPACK_IMPORTED_MODULE_2__utils__.a)(!1)}}},{key:"_setGenericUintArray",value:function _setGenericUintArray(location,array){var gl=this.gl;switch(Object(__WEBPACK_IMPORTED_MODULE_2__utils__.a)(Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.l)(gl)),array.length){case 1:gl.vertexAttribI1uiv(location,array);break;case 2:gl.vertexAttribI2uiv(location,array);break;case 3:gl.vertexAttribI3uiv(location,array);break;case 4:gl.vertexAttribI4uiv(location,array);break;default:Object(__WEBPACK_IMPORTED_MODULE_2__utils__.a)(!1)}}},{key:"_createHandle",value:function _createHandle(){return this.ext.createVertexArray()}},{key:"_deleteHandle",value:function _deleteHandle(handle){return this.ext.deleteVertexArray(handle),[this.elements]}},{key:"_getParameter",value:function _getParameter(pname,_ref6){var result,location=_ref6.location;switch(Object(__WEBPACK_IMPORTED_MODULE_2__utils__.a)(Number.isFinite(location)),this.ext.bindVertexArray(this.handle),pname){case 34373:result=this.gl.getVertexAttribOffset(location,pname);break;default:result=this.ext.getVertexAttrib(location,pname)}return this.ext.bindVertexArray(null),result}},{key:"_getData",value:function _getData(){var _this6=this;return new Array(this.MAX_ATTRIBUTES).fill(0).map(function(_,location){var result={};return PARAMETERS.forEach(function(parameter){result[Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.h)(_this6.gl,parameter)]=_this6.getParameter(parameter,{location:location})}),result})}},{key:"_bind",value:function _bind(handle){this.ext.bindVertexArray(handle)}},{key:"filledLocations",get:function get(){return this._filledLocations}}]),VertexArray}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Texture2D});var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__texture__=__webpack_require__(155),__WEBPACK_IMPORTED_MODULE_2__webgl_utils__=__webpack_require__(11);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Texture2D=function(_Texture){function Texture2D(gl){var _this,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,Texture2D),Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.e)(gl),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(Texture2D.__proto__||Object.getPrototypeOf(Texture2D)).call(this,gl,Object.assign({},opts,{target:gl.TEXTURE_2D})))).initialize(opts),Object.seal(_assertThisInitialized(_this)),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Texture2D,__WEBPACK_IMPORTED_MODULE_1__texture__["a"]),_createClass(Texture2D,null,[{key:"isSupported",value:function isSupported(gl,opts){return __WEBPACK_IMPORTED_MODULE_1__texture__.a.isSupported(gl,opts)}}]),_createClass(Texture2D,[{key:"bind",value:function bind(){var textureUnit=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,gl=this.gl;if(void 0===textureUnit)throw new Error("Texture.bind: must specify texture unit");return this.textureUnit=textureUnit,gl.activeTexture(gl.TEXTURE0+textureUnit),gl.bindTexture(this.target,this.handle),textureUnit}},{key:"unbind",value:function unbind(){var gl=this.gl;if(void 0===this.textureUnit)throw new Error("Texture.unbind: texture unit not specified");return gl.activeTexture(gl.TEXTURE0+this.textureUnit),gl.bindTexture(this.target,null),this.textureUnit}},{key:"getActiveUnit",value:function getActiveUnit(){return this.gl.getParameter(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ACTIVE_TEXTURE)-__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE0}}]),Texture2D}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Renderbuffer});var _RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_2__resource__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_3__utils_assert__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var CB_FLOAT_WEBGL2="EXT_color_buffer_float",RENDERBUFFER_FORMATS=(_defineProperty(_RENDERBUFFER_FORMATS={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_COMPONENT16,{}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_COMPONENT24,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_COMPONENT32F,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_INDEX8,{}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_STENCIL,{}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH24_STENCIL8,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH32F_STENCIL8,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA4,{}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGB565,{}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGB5_A1,{}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.R8,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.R8UI,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.R8I,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.R16UI,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.R16I,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.R32UI,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.R32I,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RG8,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RG8UI,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RG8I,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RG16UI,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RG16I,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RG32UI,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RG32I,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGB8,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA8,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGB10_A2,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA8UI,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA8I,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGB10_A2UI,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA16UI,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA16I,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA32I,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA32UI,{gl2:!0}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.R16F,{gl2:CB_FLOAT_WEBGL2}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RG16F,{gl2:CB_FLOAT_WEBGL2}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA16F,{gl2:CB_FLOAT_WEBGL2}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.R32F,{gl2:CB_FLOAT_WEBGL2}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RG32F,{gl2:CB_FLOAT_WEBGL2}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA32F,{gl2:CB_FLOAT_WEBGL2}),_defineProperty(_RENDERBUFFER_FORMATS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.R11F_G11F_B10F,{gl2:CB_FLOAT_WEBGL2}),_RENDERBUFFER_FORMATS);var Renderbuffer=function(_Resource){function Renderbuffer(gl){var _this,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,Renderbuffer),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(Renderbuffer.__proto__||Object.getPrototypeOf(Renderbuffer)).call(this,gl,opts))).initialize(opts),Object.seal(_assertThisInitialized(_this)),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Renderbuffer,__WEBPACK_IMPORTED_MODULE_2__resource__["a"]),_createClass(Renderbuffer,null,[{key:"isSupported",value:function isSupported(gl){var format=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).format;return!format||function isFormatSupported(gl,format,formats){var info=formats[format];if(!info)return!1;var value=Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.l)(gl)&&info.gl2||info.gl1;return"string"==typeof value?gl.getExtension(value):value}(gl,format,RENDERBUFFER_FORMATS)}},{key:"getSamplesForFormat",value:function getSamplesForFormat(gl,_ref2){var format=_ref2.format;return gl.getInternalformatParameter(36161,format,32937)}}]),_createClass(Renderbuffer,[{key:"initialize",value:function initialize(_ref3){var format=_ref3.format,_ref3$width=_ref3.width,width=void 0===_ref3$width?1:_ref3$width,_ref3$height=_ref3.height,height=void 0===_ref3$height?1:_ref3$height,_ref3$samples=_ref3.samples,samples=void 0===_ref3$samples?0:_ref3$samples;return Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(format,"Needs format"),this.gl.bindRenderbuffer(36161,this.handle),0!==samples&&Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.l)(this.gl)?this.gl.renderbufferStorageMultisample(36161,samples,format,width,height):this.gl.renderbufferStorage(36161,format,width,height),this.format=format,this.width=width,this.height=height,this.samples=samples,this}},{key:"resize",value:function resize(_ref4){var width=_ref4.width,height=_ref4.height;return width!==this.width||height!==this.height?this.initialize({width:width,height:height,format:this.format,samples:this.samples}):this}},{key:"_createHandle",value:function _createHandle(){return this.gl.createRenderbuffer()}},{key:"_deleteHandle",value:function _deleteHandle(){this.gl.deleteRenderbuffer(this.handle)}},{key:"_syncHandle",value:function _syncHandle(handle){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}},{key:"_getParameter",value:function _getParameter(pname){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,pname)}}]),Renderbuffer}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.e=function parseUniformName(name){var matches=name.match(/([^\[]*)(\[[0-9]+\])?/);if(!matches||matches.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(name));return{name:matches[1],length:matches[2]||1,isArray:Boolean(matches[2])}},__webpack_exports__.c=function getUniformSetter(gl,location,info){var setter=UNIFORM_SETTERS[info.type];if(!setter)throw new Error("Unknown GLSL uniform type ".concat(info.type));return setter.bind(null,gl,location)},__webpack_exports__.b=function checkUniformValues(uniforms,source){for(var uniformName in uniforms){var value=uniforms[uniformName];if(!checkUniformValue(value))throw source=source?"".concat(source," "):"",console.error("".concat(source," Bad uniform ").concat(uniformName),value),new Error("".concat(source," Bad uniform ").concat(uniformName))}return!0},__webpack_exports__.a=function areUniformsEqual(uniform1,uniform2){if(Array.isArray(uniform1)||ArrayBuffer.isView(uniform1)){if(!uniform2)return!1;var len=uniform1.length;if(uniform2.length!==len)return!1;for(var i=0;i<len;i++)if(uniform1[i]!==uniform2[i])return!1;return!0}return uniform1===uniform2},__webpack_exports__.d=function getUniformsTable(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$header=_ref.header,header=void 0===_ref$header?"Uniforms":_ref$header,program=_ref.program,uniforms=_ref.uniforms,_ref$undefinedOnly=_ref.undefinedOnly,undefinedOnly=void 0!==_ref$undefinedOnly&&_ref$undefinedOnly;Object(__WEBPACK_IMPORTED_MODULE_4__utils_assert__.a)(program);var uniformLocations=program._uniformSetters,table={},uniformNames=Object.keys(uniformLocations).sort(),count=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=uniformNames[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _uniformName=_step.value;_uniformName.match(".*_.*")||_uniformName.match(".*Matrix")||addUniformToTable({table:table,header:header,uniforms:uniforms,uniformName:_uniformName,undefinedOnly:undefinedOnly})&&count++}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=uniformNames[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _uniformName2=_step2.value;_uniformName2.match(".*Matrix")&&addUniformToTable({table:table,header:header,uniforms:uniforms,uniformName:_uniformName2,undefinedOnly:undefinedOnly})&&count++}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=uniformNames[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var _uniformName3=_step3.value;table[_uniformName3]||addUniformToTable({table:table,header:header,uniforms:uniforms,uniformName:_uniformName3,undefinedOnly:undefinedOnly})&&count++}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}var unusedCount=0,unusedTable={};if(!undefinedOnly)for(var uniformName in uniforms){var uniform=uniforms[uniformName];table[uniformName]||(unusedCount++,unusedTable[uniformName]=_defineProperty({Type:"NOT USED: ".concat(uniform)},header,Object(__WEBPACK_IMPORTED_MODULE_3__utils__.b)(uniform)))}return{table:table,count:count,unusedTable:unusedTable,unusedCount:unusedCount}};var _UNIFORM_SETTERS,__WEBPACK_IMPORTED_MODULE_0__framebuffer__=__webpack_require__(219),__WEBPACK_IMPORTED_MODULE_1__texture__=__webpack_require__(155),__WEBPACK_IMPORTED_MODULE_2__sampler__=__webpack_require__(571),__WEBPACK_IMPORTED_MODULE_3__utils__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_4__utils_assert__=__webpack_require__(3);function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var UNIFORM_SETTERS=(_defineProperty(_UNIFORM_SETTERS={},5126,function(gl,location,value){return gl.uniform1f(location,value)}),_defineProperty(_UNIFORM_SETTERS,35664,function(gl,location,value){return gl.uniform2fv(location,toFloatArray(value,2))}),_defineProperty(_UNIFORM_SETTERS,35665,function(gl,location,value){return gl.uniform3fv(location,toFloatArray(value,3))}),_defineProperty(_UNIFORM_SETTERS,35666,function(gl,location,value){return gl.uniform4fv(location,toFloatArray(value,4))}),_defineProperty(_UNIFORM_SETTERS,5124,function(gl,location,value){return gl.uniform1i(location,value)}),_defineProperty(_UNIFORM_SETTERS,35667,function(gl,location,value){return gl.uniform2iv(location,toIntArray(value,2))}),_defineProperty(_UNIFORM_SETTERS,35668,function(gl,location,value){return gl.uniform3iv(location,toIntArray(value,3))}),_defineProperty(_UNIFORM_SETTERS,35669,function(gl,location,value){return gl.uniform4iv(location,toIntArray(value,4))}),_defineProperty(_UNIFORM_SETTERS,35670,function(gl,location,value){return gl.uniform1i(location,value)}),_defineProperty(_UNIFORM_SETTERS,35671,function(gl,location,value){return gl.uniform2iv(location,toIntArray(value,2))}),_defineProperty(_UNIFORM_SETTERS,35672,function(gl,location,value){return gl.uniform3iv(location,toIntArray(value,3))}),_defineProperty(_UNIFORM_SETTERS,35673,function(gl,location,value){return gl.uniform4iv(location,toIntArray(value,4))}),_defineProperty(_UNIFORM_SETTERS,35674,function(gl,location,value){return gl.uniformMatrix2fv(location,!1,toFloatArray(value,4))}),_defineProperty(_UNIFORM_SETTERS,35675,function(gl,location,value){return gl.uniformMatrix3fv(location,!1,toFloatArray(value,9))}),_defineProperty(_UNIFORM_SETTERS,35676,function(gl,location,value){return gl.uniformMatrix4fv(location,!1,toFloatArray(value,16))}),_defineProperty(_UNIFORM_SETTERS,35678,function(gl,location,value){return gl.uniform1i(location,value)}),_defineProperty(_UNIFORM_SETTERS,35680,function(gl,location,value){return gl.uniform1i(location,value)}),_defineProperty(_UNIFORM_SETTERS,5125,function(gl,location,value){return gl.uniform1ui(location,value)}),_defineProperty(_UNIFORM_SETTERS,36294,function(gl,location,value){return gl.uniform2uiv(location,toUIntArray(value,2))}),_defineProperty(_UNIFORM_SETTERS,36295,function(gl,location,value){return gl.uniform3uiv(location,toUIntArray(value,3))}),_defineProperty(_UNIFORM_SETTERS,36296,function(gl,location,value){return gl.uniform4uiv(location,toUIntArray(value,4))}),_defineProperty(_UNIFORM_SETTERS,35685,function(gl,location,value){return gl.uniformMatrix2x3fv(location,!1,toFloatArray(value,6))}),_defineProperty(_UNIFORM_SETTERS,35686,function(gl,location,value){return gl.uniformMatrix2x4fv(location,!1,toFloatArray(value,8))}),_defineProperty(_UNIFORM_SETTERS,35687,function(gl,location,value){return gl.uniformMatrix3x2fv(location,!1,toFloatArray(value,6))}),_defineProperty(_UNIFORM_SETTERS,35688,function(gl,location,value){return gl.uniformMatrix3x4fv(location,!1,toFloatArray(value,12))}),_defineProperty(_UNIFORM_SETTERS,35689,function(gl,location,value){return gl.uniformMatrix4x2fv(location,!1,toFloatArray(value,8))}),_defineProperty(_UNIFORM_SETTERS,35690,function(gl,location,value){return gl.uniformMatrix4x3fv(location,!1,toFloatArray(value,12))}),_defineProperty(_UNIFORM_SETTERS,35679,function(gl,location,value){return gl.uniform1i(location,value)}),_defineProperty(_UNIFORM_SETTERS,35682,function(gl,location,value){return gl.uniform1i(location,value)}),_defineProperty(_UNIFORM_SETTERS,36289,function(gl,location,value){return gl.uniform1i(location,value)}),_defineProperty(_UNIFORM_SETTERS,36292,function(gl,location,value){return gl.uniform1i(location,value)}),_defineProperty(_UNIFORM_SETTERS,36293,function(gl,location,value){return gl.uniform1i(location,value)}),_defineProperty(_UNIFORM_SETTERS,36298,function(gl,location,value){return gl.uniform1i(location,value)}),_defineProperty(_UNIFORM_SETTERS,36299,function(gl,location,value){return gl.uniform1i(location,value)}),_defineProperty(_UNIFORM_SETTERS,36300,function(gl,location,value){return gl.uniform1i(location,value)}),_defineProperty(_UNIFORM_SETTERS,36303,function(gl,location,value){return gl.uniform1i(location,value)}),_defineProperty(_UNIFORM_SETTERS,36306,function(gl,location,value){return gl.uniform1i(location,value)}),_defineProperty(_UNIFORM_SETTERS,36307,function(gl,location,value){return gl.uniform1i(location,value)}),_defineProperty(_UNIFORM_SETTERS,36308,function(gl,location,value){return gl.uniform1i(location,value)}),_defineProperty(_UNIFORM_SETTERS,36311,function(gl,location,value){return gl.uniform1i(location,value)}),_UNIFORM_SETTERS),FLOAT_ARRAY={},INT_ARRAY={},UINT_ARRAY={};function toTypedArray(value,uniformLength,Type,cache){var length=value.length;if(length%uniformLength&&__WEBPACK_IMPORTED_MODULE_3__utils__.g.warn("Uniform size should be multiples of ".concat(uniformLength),value)(),_instanceof(value,Type))return value;var result=cache[length];result||(result=new Type(length),cache[length]=result);for(var i=0;i<length;i++)result[i]=value[i];return result}function toFloatArray(value,uniformLength){return toTypedArray(value,uniformLength,Float32Array,FLOAT_ARRAY)}function toIntArray(value,uniformLength){return toTypedArray(value,uniformLength,Int32Array,INT_ARRAY)}function toUIntArray(value,uniformLength){return toTypedArray(value,uniformLength,Uint32Array,UINT_ARRAY)}function checkUniformValue(value){return Array.isArray(value)||ArrayBuffer.isView(value)?function checkUniformArray(value){if(0===value.length)return!1;for(var checkLength=Math.min(value.length,16),i=0;i<checkLength;++i)if(!Number.isFinite(value[i]))return!1;return!0}(value):!!isFinite(value)||(!0===value||!1===value||(!(!_instanceof(value,__WEBPACK_IMPORTED_MODULE_1__texture__.a)&&!_instanceof(value,__WEBPACK_IMPORTED_MODULE_2__sampler__.a))||!!_instanceof(value,__WEBPACK_IMPORTED_MODULE_0__framebuffer__.a)&&Boolean(value.texture)))}function addUniformToTable(_ref2){var _table$uniformName,table=_ref2.table,header=_ref2.header,uniforms=_ref2.uniforms,uniformName=_ref2.uniformName,undefinedOnly=_ref2.undefinedOnly,value=uniforms[uniformName],isDefined=function isUniformDefined(value){return void 0!==value&&null!==value}(value);return(!undefinedOnly||!isDefined)&&(table[uniformName]=(_defineProperty(_table$uniformName={},header,isDefined?Object(__WEBPACK_IMPORTED_MODULE_3__utils__.b)(value):"N/A"),_defineProperty(_table$uniformName,"Uniform Type",isDefined?value:"NOT PROVIDED"),_table$uniformName),!0)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Vector});var __WEBPACK_IMPORTED_MODULE_0__math_array__=__webpack_require__(263),__WEBPACK_IMPORTED_MODULE_1__common__=__webpack_require__(56);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var assert=function assert(x,m){if(!x)throw new Error(m)},Vector=function(_MathArray){function Vector(){return _classCallCheck(this,Vector),_possibleConstructorReturn(this,(Vector.__proto__||Object.getPrototypeOf(Vector)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Vector,__WEBPACK_IMPORTED_MODULE_0__math_array__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Vector,[{key:"len",value:function len(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function magnitude(){return Math.sqrt(this.lengthSquared())}},{key:"lengthSquared",value:function lengthSquared(){for(var length=0,i=0;i<this.ELEMENTS;++i)length+=this[i]*this[i];return length}},{key:"distance",value:function distance(mathArray){return Math.sqrt(this.distanceSquared(mathArray))}},{key:"distanceSquared",value:function distanceSquared(mathArray){for(var length=0,i=0;i<this.ELEMENTS;++i){var dist=this[i]-mathArray[i];length+=dist*dist}return Object(__WEBPACK_IMPORTED_MODULE_1__common__.a)(length)}},{key:"dot",value:function dot(mathArray){for(var product=0,i=0;i<this.ELEMENTS;++i)product+=this[i]*mathArray[i];return Object(__WEBPACK_IMPORTED_MODULE_1__common__.a)(product)}},{key:"normalize",value:function normalize(){var length=this.magnitude();if(0!==length)for(var i=0;i<this.ELEMENTS;++i)this[i]/=length;return this.check()}},{key:"add",value:function add(){for(var _len=arguments.length,vectors=new Array(_len),_key=0;_key<_len;_key++)vectors[_key]=arguments[_key];for(var _i=0;_i<vectors.length;_i++)for(var vector=vectors[_i],i=0;i<this.ELEMENTS;++i)this[i]+=vector[i];return this.check()}},{key:"subtract",value:function subtract(){for(var _len2=arguments.length,vectors=new Array(_len2),_key2=0;_key2<_len2;_key2++)vectors[_key2]=arguments[_key2];for(var _i2=0;_i2<vectors.length;_i2++)for(var vector=vectors[_i2],i=0;i<this.ELEMENTS;++i)this[i]-=vector[i];return this.check()}},{key:"multiply",value:function multiply(){for(var _len3=arguments.length,vectors=new Array(_len3),_key3=0;_key3<_len3;_key3++)vectors[_key3]=arguments[_key3];for(var _i3=0;_i3<vectors.length;_i3++)for(var vector=vectors[_i3],i=0;i<this.ELEMENTS;++i)this[i]*=vector[i];return this.check()}},{key:"divide",value:function divide(){for(var _len4=arguments.length,vectors=new Array(_len4),_key4=0;_key4<_len4;_key4++)vectors[_key4]=arguments[_key4];for(var _i4=0;_i4<vectors.length;_i4++)for(var vector=vectors[_i4],i=0;i<this.ELEMENTS;++i)this[i]/=vector[i];return this.check()}},{key:"scale",value:function scale(_scale){if(Array.isArray(_scale))return this.multiply(_scale);for(var i=0;i<this.ELEMENTS;++i)this[i]*=_scale;return this.check()}},{key:"scaleAndAdd",value:function scaleAndAdd(vector,scale){for(var i=0;i<this.ELEMENTS;++i)this[i]=this[i]*scale+vector[i];return this.check()}},{key:"lengthSq",value:function lengthSq(){return this.lengthSquared()}},{key:"distanceTo",value:function distanceTo(vector){return this.distance(vector)}},{key:"distanceToSquared",value:function distanceToSquared(vector){return this.distanceSquared(vector)}},{key:"getComponent",value:function getComponent(i){return assert(i>=0&&i<this.ELEMENTS,"index is out of range"),Object(__WEBPACK_IMPORTED_MODULE_1__common__.a)(this[i])}},{key:"setComponent",value:function setComponent(i,value){return assert(i>=0&&i<this.ELEMENTS,"index is out of range"),this[i]=value,this.check()}},{key:"addVectors",value:function addVectors(a,b){return this.copy(a).add(b)}},{key:"subVectors",value:function subVectors(a,b){return this.copy(a).subtract(b)}},{key:"multiplyVectors",value:function multiplyVectors(a,b){return this.copy(a).multiply(b)}},{key:"addScaledVector",value:function addScaledVector(a,b){return this.add(new this.constructor(a).multiplyScalar(b))}}]),Vector}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Matrix4});var __WEBPACK_IMPORTED_MODULE_0__lib_math_array__=__webpack_require__(263),__WEBPACK_IMPORTED_MODULE_1__lib_common__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_2__vector2__=__webpack_require__(578),__WEBPACK_IMPORTED_MODULE_3__vector3__=__webpack_require__(221),__WEBPACK_IMPORTED_MODULE_4__vector4__=__webpack_require__(582),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_determinant__=__webpack_require__(930),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_determinant___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_gl_mat4_determinant__),__WEBPACK_IMPORTED_MODULE_6_gl_mat4_fromQuat__=__webpack_require__(931),__WEBPACK_IMPORTED_MODULE_6_gl_mat4_fromQuat___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_gl_mat4_fromQuat__),__WEBPACK_IMPORTED_MODULE_7_gl_mat4_frustum__=__webpack_require__(932),__WEBPACK_IMPORTED_MODULE_7_gl_mat4_frustum___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_gl_mat4_frustum__),__WEBPACK_IMPORTED_MODULE_8_gl_mat4_lookAt__=__webpack_require__(156),__WEBPACK_IMPORTED_MODULE_8_gl_mat4_lookAt___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_gl_mat4_lookAt__),__WEBPACK_IMPORTED_MODULE_9_gl_mat4_ortho__=__webpack_require__(583),__WEBPACK_IMPORTED_MODULE_9_gl_mat4_ortho___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_gl_mat4_ortho__),__WEBPACK_IMPORTED_MODULE_10_gl_mat4_perspective__=__webpack_require__(157),__WEBPACK_IMPORTED_MODULE_10_gl_mat4_perspective___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_gl_mat4_perspective__),__WEBPACK_IMPORTED_MODULE_11_gl_mat4_transpose__=__webpack_require__(934),__WEBPACK_IMPORTED_MODULE_11_gl_mat4_transpose___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_gl_mat4_transpose__),__WEBPACK_IMPORTED_MODULE_12_gl_mat4_invert__=__webpack_require__(472),__WEBPACK_IMPORTED_MODULE_12_gl_mat4_invert___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_gl_mat4_invert__),__WEBPACK_IMPORTED_MODULE_13_gl_mat4_multiply__=__webpack_require__(158),__WEBPACK_IMPORTED_MODULE_13_gl_mat4_multiply___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_gl_mat4_multiply__),__WEBPACK_IMPORTED_MODULE_14_gl_mat4_rotate__=__webpack_require__(935),__WEBPACK_IMPORTED_MODULE_14_gl_mat4_rotate___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_gl_mat4_rotate__),__WEBPACK_IMPORTED_MODULE_15_gl_mat4_scale__=__webpack_require__(159),__WEBPACK_IMPORTED_MODULE_15_gl_mat4_scale___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15_gl_mat4_scale__),__WEBPACK_IMPORTED_MODULE_16_gl_mat4_translate__=__webpack_require__(160),__WEBPACK_IMPORTED_MODULE_16_gl_mat4_translate___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_16_gl_mat4_translate__),__WEBPACK_IMPORTED_MODULE_17_gl_vec2_transformMat4__=__webpack_require__(936),__WEBPACK_IMPORTED_MODULE_17_gl_vec2_transformMat4___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_17_gl_vec2_transformMat4__),__WEBPACK_IMPORTED_MODULE_18_gl_vec3_transformMat4__=__webpack_require__(937),__WEBPACK_IMPORTED_MODULE_18_gl_vec3_transformMat4___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_18_gl_vec3_transformMat4__),__WEBPACK_IMPORTED_MODULE_19_gl_vec4_transformMat4__=__webpack_require__(222),__WEBPACK_IMPORTED_MODULE_19_gl_vec4_transformMat4___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_19_gl_vec4_transformMat4__),__WEBPACK_IMPORTED_MODULE_20_gl_mat4_rotateX__=__webpack_require__(264),__WEBPACK_IMPORTED_MODULE_20_gl_mat4_rotateX___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_20_gl_mat4_rotateX__),__WEBPACK_IMPORTED_MODULE_21_gl_mat4_rotateY__=__webpack_require__(473),__WEBPACK_IMPORTED_MODULE_21_gl_mat4_rotateY___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_21_gl_mat4_rotateY__),__WEBPACK_IMPORTED_MODULE_22_gl_mat4_rotateZ__=__webpack_require__(265),__WEBPACK_IMPORTED_MODULE_22_gl_mat4_rotateZ___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_22_gl_mat4_rotateZ__);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var IDENTITY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function validateVector(v,length){return v.length===length&&v.every(Number.isFinite)}var Matrix4=function(_MathArray){function Matrix4(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _classCallCheck(this,Matrix4),_this=_possibleConstructorReturn(this,(Matrix4.__proto__||Object.getPrototypeOf(Matrix4)).call(this)),Array.isArray(args[0])&&1===arguments.length?_this.copy(args[0]):_this.identity(),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Matrix4,__WEBPACK_IMPORTED_MODULE_0__lib_math_array__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Matrix4,[{key:"setRowMajor",value:function setRowMajor(){var m00=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,m01=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,m02=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,m03=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,m10=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,m11=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,m12=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,m13=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,m20=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,m21=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,m22=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,m23=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,m30=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,m31=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,m32=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,m33=arguments.length>15&&void 0!==arguments[15]?arguments[15]:1;return this[0]=m00,this[1]=m10,this[2]=m20,this[3]=m30,this[4]=m01,this[5]=m11,this[6]=m21,this[7]=m31,this[8]=m02,this[9]=m12,this[10]=m22,this[11]=m32,this[12]=m03,this[13]=m13,this[14]=m23,this[15]=m33,this.check()}},{key:"setColumnMajor",value:function setColumnMajor(){var m00=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,m10=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,m20=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,m30=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,m01=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,m11=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,m21=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,m31=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,m02=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,m12=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,m22=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,m32=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,m03=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,m13=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,m23=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,m33=arguments.length>15&&void 0!==arguments[15]?arguments[15]:1;return this[0]=m00,this[1]=m10,this[2]=m20,this[3]=m30,this[4]=m01,this[5]=m11,this[6]=m21,this[7]=m31,this[8]=m02,this[9]=m12,this[10]=m22,this[11]=m32,this[12]=m03,this[13]=m13,this[14]=m23,this[15]=m33,this.check()}},{key:"copy",value:function copy(array){return this.setColumnMajor.apply(this,_toConsumableArray(array))}},{key:"set",value:function set(){return this.setColumnMajor.apply(this,arguments)}},{key:"getElement",value:function getElement(i,j){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?this[i][j]:this[j][i]}},{key:"setElement",value:function setElement(i,j,value){arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this[j][i]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value),this}},{key:"determinant",value:function determinant(){return __WEBPACK_IMPORTED_MODULE_5_gl_mat4_determinant___default()(this)}},{key:"identity",value:function identity(){return this.copy(IDENTITY)}},{key:"fromQuaternion",value:function fromQuaternion(q){return __WEBPACK_IMPORTED_MODULE_6_gl_mat4_fromQuat___default()(this,q),this.check()}},{key:"frustum",value:function frustum(_ref){var left=_ref.left,right=_ref.right,bottom=_ref.bottom,top=_ref.top,near=_ref.near,far=_ref.far;return __WEBPACK_IMPORTED_MODULE_7_gl_mat4_frustum___default()(this,left,right,bottom,top,near,far),this.check()}},{key:"lookAt",value:function lookAt(_ref2){var eye=_ref2.eye,_ref2$center=_ref2.center,center=void 0===_ref2$center?[0,0,0]:_ref2$center,_ref2$up=_ref2.up,up=void 0===_ref2$up?[0,1,0]:_ref2$up;return __WEBPACK_IMPORTED_MODULE_8_gl_mat4_lookAt___default()(this,eye,center,up),this.check()}},{key:"ortho",value:function ortho(_ref3){var left=_ref3.left,right=_ref3.right,bottom=_ref3.bottom,top=_ref3.top,_ref3$near=_ref3.near,near=void 0===_ref3$near?.1:_ref3$near,_ref3$far=_ref3.far,far=void 0===_ref3$far?500:_ref3$far;return __WEBPACK_IMPORTED_MODULE_9_gl_mat4_ortho___default()(this,left,right,bottom,top,near,far),this.check()}},{key:"orthographic",value:function orthographic(_ref4){var _ref4$fovy=_ref4.fovy,fovy=void 0===_ref4$fovy?45*Math.PI/180:_ref4$fovy,_ref4$aspect=_ref4.aspect,aspect=void 0===_ref4$aspect?1:_ref4$aspect,_ref4$focalDistance=_ref4.focalDistance,focalDistance=void 0===_ref4$focalDistance?1:_ref4$focalDistance,_ref4$near=_ref4.near,near=void 0===_ref4$near?.1:_ref4$near,_ref4$far=_ref4.far,far=void 0===_ref4$far?500:_ref4$far;if(fovy>2*Math.PI)throw Error("radians");var halfY=fovy/2,top=focalDistance*Math.tan(halfY),right=top*aspect;return(new Matrix4).ortho({left:-right,right:right,bottom:-top,top:top,near:near,far:far})}},{key:"perspective",value:function perspective(){var _ref5=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},fovy=_ref5.fovy,_ref5$fov=_ref5.fov,fov=void 0===_ref5$fov?45*Math.PI/180:_ref5$fov,_ref5$aspect=_ref5.aspect,aspect=void 0===_ref5$aspect?1:_ref5$aspect,_ref5$near=_ref5.near,near=void 0===_ref5$near?.1:_ref5$near,_ref5$far=_ref5.far,far=void 0===_ref5$far?500:_ref5$far;if((fovy=fovy||fov)>2*Math.PI)throw Error("radians");return __WEBPACK_IMPORTED_MODULE_10_gl_mat4_perspective___default()(this,fovy,aspect,near,far),this.check()}},{key:"transpose",value:function transpose(){return __WEBPACK_IMPORTED_MODULE_11_gl_mat4_transpose___default()(this,this),this.check()}},{key:"invert",value:function invert(){return __WEBPACK_IMPORTED_MODULE_12_gl_mat4_invert___default()(this,this),this.check()}},{key:"multiplyLeft",value:function multiplyLeft(a){return __WEBPACK_IMPORTED_MODULE_13_gl_mat4_multiply___default()(this,a,this),this.check()}},{key:"multiplyRight",value:function multiplyRight(a){return __WEBPACK_IMPORTED_MODULE_13_gl_mat4_multiply___default()(this,this,a),this.check()}},{key:"rotateX",value:function rotateX(radians){return __WEBPACK_IMPORTED_MODULE_20_gl_mat4_rotateX___default()(this,this,radians),this.check()}},{key:"rotateY",value:function rotateY(radians){return __WEBPACK_IMPORTED_MODULE_21_gl_mat4_rotateY___default()(this,this,radians),this.check()}},{key:"rotateZ",value:function rotateZ(radians){return __WEBPACK_IMPORTED_MODULE_22_gl_mat4_rotateZ___default()(this,this,radians),this.check()}},{key:"rotateXYZ",value:function rotateXYZ(_ref6){var _ref7=_slicedToArray(_ref6,3),rx=_ref7[0],ry=_ref7[1],rz=_ref7[2];return this.rotateX(rx).rotateY(ry).rotateZ(rz)}},{key:"rotateAxis",value:function rotateAxis(radians,axis){return __WEBPACK_IMPORTED_MODULE_14_gl_mat4_rotate___default()(this,this,radians,axis),this.check()}},{key:"scale",value:function scale(vec){return __WEBPACK_IMPORTED_MODULE_15_gl_mat4_scale___default()(this,this,vec),this.check()}},{key:"translate",value:function translate(vec){return __WEBPACK_IMPORTED_MODULE_16_gl_mat4_translate___default()(this,this,vec),this.check()}},{key:"transformVector2",value:function transformVector2(vector,out){return out=out||new __WEBPACK_IMPORTED_MODULE_2__vector2__.a,__WEBPACK_IMPORTED_MODULE_17_gl_vec2_transformMat4___default()(out,vector,this),validateVector(out,2),out}},{key:"transformVector3",value:function transformVector3(vector,out){return out=out||new __WEBPACK_IMPORTED_MODULE_3__vector3__.a,__WEBPACK_IMPORTED_MODULE_18_gl_vec3_transformMat4___default()(out,vector,this),validateVector(out,3),out}},{key:"transformVector4",value:function transformVector4(vector,out){return out=out||new __WEBPACK_IMPORTED_MODULE_4__vector4__.a,__WEBPACK_IMPORTED_MODULE_19_gl_vec4_transformMat4___default()(out,vector,this),validateVector(out,4),out.check()}},{key:"transformVector",value:function transformVector(vector,out){switch(vector.length){case 2:return this.transformVector2(vector,out);case 3:return this.transformVector3(vector,out);case 4:return this.transformVector4(vector,out);default:throw new Error("Illegal vector")}}},{key:"transformDirection",value:function transformDirection(vector,out){return this._transformVector(vector,out,0)}},{key:"transformPoint",value:function transformPoint(vector,out){return this._transformVector(vector,out,1)}},{key:"_transformVector",value:function _transformVector(vector,out,w){switch(vector.length){case 2:out=out||new __WEBPACK_IMPORTED_MODULE_2__vector2__.a,__WEBPACK_IMPORTED_MODULE_19_gl_vec4_transformMat4___default()(out,[vector[0],vector[1],0,w],this),out.length=2,validateVector(out,2);break;case 3:out=out||new __WEBPACK_IMPORTED_MODULE_3__vector3__.a,__WEBPACK_IMPORTED_MODULE_19_gl_vec4_transformMat4___default()(out,[vector[0],vector[1],vector[2],w],this),out.length=3,validateVector(out,3);break;case 4:if(Boolean(w)!==Boolean(vector[3]))throw new Error("math.gl: Matrix4.transformPoint - invalid vector");out=out||new __WEBPACK_IMPORTED_MODULE_4__vector4__.a,__WEBPACK_IMPORTED_MODULE_19_gl_vec4_transformMat4___default()(out,vector,this),validateVector(out,4);break;default:throw new Error("Illegal vector")}return out}},{key:"makeRotationX",value:function makeRotationX(radians){return this.identity().rotateX(radians)}},{key:"makeTranslation",value:function makeTranslation(x,y,z){return this.identity().translate([x,y,z])}},{key:"ELEMENTS",get:function get(){return 16}}]),Matrix4}()},function(module,exports){module.exports=function invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;if(!det)return null;return det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a02*b10-a01*b11-a03*b09)*det,out[2]=(a31*b05-a32*b04+a33*b03)*det,out[3]=(a22*b04-a21*b05-a23*b03)*det,out[4]=(a12*b08-a10*b11-a13*b07)*det,out[5]=(a00*b11-a02*b08+a03*b07)*det,out[6]=(a32*b02-a30*b05-a33*b01)*det,out[7]=(a20*b05-a22*b02+a23*b01)*det,out[8]=(a10*b10-a11*b08+a13*b06)*det,out[9]=(a01*b08-a00*b10-a03*b06)*det,out[10]=(a30*b04-a31*b02+a33*b00)*det,out[11]=(a21*b02-a20*b04-a23*b00)*det,out[12]=(a11*b07-a10*b09-a12*b06)*det,out[13]=(a00*b09-a01*b07+a02*b06)*det,out[14]=(a31*b01-a30*b03-a32*b00)*det,out[15]=(a20*b03-a21*b01+a22*b00)*det,out}},function(module,exports){module.exports=function rotateY(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a20=a[8],a21=a[9],a22=a[10],a23=a[11];a!==out&&(out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]);return out[0]=a00*c-a20*s,out[1]=a01*c-a21*s,out[2]=a02*c-a22*s,out[3]=a03*c-a23*s,out[8]=a00*s+a20*c,out[9]=a01*s+a21*c,out[10]=a02*s+a22*c,out[11]=a03*s+a23*c,out}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=registerShaderModules,__webpack_exports__.d=function setDefaultShaderModules(modules){defaultShaderModules=modules},__webpack_exports__.a=getShaderModule,__webpack_exports__.c=function resolveModules(modules){return function getShaderDependencies(modules){var result={};return function getDependencyGraph(_ref2){var modules=_ref2.modules,level=_ref2.level,result=_ref2.result;if(level>=5)throw new Error("Possible loop in shader dependency graph");var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=modules[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var moduleOrName=_step2.value,shaderModule=getShaderModule(moduleOrName);(void 0===result[shaderModule.name]||result[shaderModule.name]<level)&&(result[shaderModule.name]=level)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=modules[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var _moduleOrName=_step3.value,_shaderModule2=getShaderModule(_moduleOrName);_shaderModule2.dependencies&&getDependencyGraph({modules:_shaderModule2.dependencies,level:level+1,result:result})}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}return result}({modules:modules=modules.concat(defaultShaderModules),level:0,result:result}),Object.keys(result).sort(function(a,b){return result[b]-result[a]})}(modules.map(function(module){return"string"!=typeof module?(registerShaderModules([module],{ignoreMultipleRegistrations:!0}),module.name):module}))};var __WEBPACK_IMPORTED_MODULE_0__utils_assert__=__webpack_require__(3),shaderModules={},defaultShaderModules=[];function registerShaderModules(shaderModuleList){var _ref$ignoreMultipleRe=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ignoreMultipleRegistrations,ignoreMultipleRegistrations=void 0!==_ref$ignoreMultipleRe&&_ref$ignoreMultipleRe,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=shaderModuleList[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){registerShaderModule(_step.value,{ignoreMultipleRegistrations:ignoreMultipleRegistrations})}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}function getShaderModule(moduleOrName){if("string"!=typeof moduleOrName){var _shaderModule=moduleOrName;return Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)("string"==typeof _shaderModule.name),registerShaderModule(_shaderModule,{ignoreMultipleRegistrations:!0}),_shaderModule}var shaderModule=shaderModules[moduleOrName];return shaderModule||Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(!1,"Unknown shader module ".concat(moduleOrName)),shaderModule}function registerShaderModule(shaderModule,_ref3){var _ref3$ignoreMultipleR=_ref3.ignoreMultipleRegistrations,ignoreMultipleRegistrations=void 0!==_ref3$ignoreMultipleR&&_ref3$ignoreMultipleR;if(Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(shaderModule.name,"shader module has no name"),!ignoreMultipleRegistrations&&shaderModules[shaderModule.name])throw new Error("shader module ".concat(shaderModule.name," already registered"));shaderModules[shaderModule.name]=shaderModule,shaderModule.dependencies=shaderModule.dependencies||[],shaderModule.deprecations=function parseDeprecationDefinitions(){var deprecations=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return deprecations.forEach(function(def){switch(def.type){case"function":def.regex=new RegExp("\\b".concat(def.old,"\\("));break;default:def.regex=new RegExp("".concat(def.type," ").concat(def.old,";"))}}),deprecations}(shaderModule.deprecations)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},isBrowser="undefined"!=typeof window&&window.addEventListener,timers=new Map,isReady=function isReady(){return isBrowser&&window.__SEER_INITIALIZED__},throttle=function throttle(key,delay){var time=timers.get(key),now=Date.now();return!!(time&&now-time<delay)||(timers.set(key,now),!1)},send=function send(type){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(isBrowser&&isReady()){var seen=new Set,payload=JSON.stringify(data,function replacer(seen){return function(key,value){if(!value||"object"!==(void 0===value?"undefined":_typeof(value))||!seen.has(value))return seen.add(value),Object.prototype.toString.call(value).slice(8,-1).includes("Array")?Array.prototype.slice.call(value,0,20):value}}(seen));try{window.postMessage({type:type,payload:payload,source:"seer-agent"},"*")}catch(e){if(throttle("seer-log",2e3))return;console.log(e)}}},listeners=new Map,listener=function listener(message){if(message&&message.data&&"seer-core"===message.data.source){var _message$data=message.data,type=_message$data.type,payload=_message$data.payload,typeListeners=listeners.get(type);typeListeners&&typeListeners.forEach(function(cb){return cb(payload)})}},init=function init(){isBrowser&&!window.__SEER_LISTENER__&&(window.addEventListener("message",listener),window.__SEER_LISTENER__=!0)};exports.default={send:send,throttle:throttle,isReady:isReady,list:function list(key,data){return send("LIST",{key:key,data:data})},listItem:function listItem(key,itemKey){var data=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return send("LIST_ITEM",{key:key,itemKey:itemKey,data:data})},updateItem:function updateItem(key,itemKey,path,data){return send("UPDATE_ITEM",{key:key,itemKey:itemKey,path:path,data:data})},multiUpdate:function multiUpdate(key,itemKey,array){return send("MULTI_UPDATE_ITEM",{key:key,itemKey:itemKey,array:array})},deleteItem:function deleteItem(key,itemKey){return send("DELETE_ITEM",{key:key,itemKey:itemKey})},addLog:function addLog(key,itemKey,msg){return send("ADD_LOG",{key:key,itemKey:itemKey,msg:msg})},listeners:listeners,listenFor:function listenFor(type,cb){if(isBrowser){if(!type||!cb)throw new Error("Please provide a type and callback");listeners.has(type)||listeners.set(type,[]),window.__SEER_LISTENER__||init(),listeners.get(type).push(cb)}},removeListener:function removeListener(cb){listeners.forEach(function(typeListeners,key){listeners.set(key,typeListeners.filter(function(l){return l!==cb}))})},init:init,clean:function clean(){isBrowser&&window.__SEER_LISTENER__&&(window.removeEventListener("message",listener),delete window.__SEER_LISTENER__)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AnimationLoop});var __WEBPACK_IMPORTED_MODULE_0__webgl_context__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_1__webgl_context_debug_context__=__webpack_require__(463),__WEBPACK_IMPORTED_MODULE_2__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_3__utils__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_4__utils_assert__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_5__webgl__=__webpack_require__(154);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var DEFAULT_GL_OPTIONS={preserveDrawingBuffer:!0},AnimationLoop=function(){function AnimationLoop(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,AnimationLoop);var _props$onCreateContex=props.onCreateContext,onCreateContext=void 0===_props$onCreateContex?function(opts){return Object(__WEBPACK_IMPORTED_MODULE_0__webgl_context__.b)(opts)}:_props$onCreateContex,_props$onInitialize=props.onInitialize,onInitialize=void 0===_props$onInitialize?function(){}:_props$onInitialize,_props$onRender=props.onRender,onRender=void 0===_props$onRender?function(){}:_props$onRender,_props$onFinalize=props.onFinalize,onFinalize=void 0===_props$onFinalize?function(){}:_props$onFinalize,_props$offScreen=props.offScreen,offScreen=void 0!==_props$offScreen&&_props$offScreen,_props$gl=props.gl,gl=void 0===_props$gl?null:_props$gl,_props$glOptions=props.glOptions,glOptions=void 0===_props$glOptions?{}:_props$glOptions,_props$debug=props.debug,debug=void 0!==_props$debug&&_props$debug,_props$createFramebuf=props.createFramebuffer,createFramebuffer=void 0!==_props$createFramebuf&&_props$createFramebuf,_props$autoResizeView=props.autoResizeViewport,autoResizeViewport=void 0===_props$autoResizeView||_props$autoResizeView,_props$autoResizeDraw=props.autoResizeDrawingBuffer,autoResizeDrawingBuffer=void 0===_props$autoResizeDraw||_props$autoResizeDraw,_props$useDevicePixel=props.useDevicePixels,useDevicePixels=void 0===_props$useDevicePixel||_props$useDevicePixel;return"useDevicePixelRatio"in props&&(__WEBPACK_IMPORTED_MODULE_3__utils__.g.deprecated("useDevicePixelRatio","useDevicePixels")(),useDevicePixels=props.useDevicePixelRatio),this.props={onCreateContext:onCreateContext,onInitialize:onInitialize,onRender:onRender,onFinalize:onFinalize,gl:gl,glOptions:glOptions,debug:debug,createFramebuffer:createFramebuffer},this.gl=gl,this.offScreen=offScreen,this.needsRedraw=null,this.setProps({autoResizeViewport:autoResizeViewport,autoResizeDrawingBuffer:autoResizeDrawingBuffer,useDevicePixels:useDevicePixels}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._renderFrame=this._renderFrame.bind(this),this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AnimationLoop,[{key:"setNeedsRedraw",value:function setNeedsRedraw(reason){return Object(__WEBPACK_IMPORTED_MODULE_4__utils_assert__.a)("string"==typeof reason),this.needsRedraw=this.needsRedraw||reason,this}},{key:"setProps",value:function setProps(props){return"autoResizeViewport"in props&&(this.autoResizeViewport=props.autoResizeViewport),"autoResizeDrawingBuffer"in props&&(this.autoResizeDrawingBuffer=props.autoResizeDrawingBuffer),"useDevicePixels"in props&&(this.useDevicePixels=props.useDevicePixels),this}},{key:"start",value:function start(){var _this=this,opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._stopped=!1,this._animationFrameId||(this._startPromise=__WEBPACK_IMPORTED_MODULE_0__webgl_context__.d.then(function(){return _this._stopped?null:(_this._createWebGLContext(opts),_this._createFramebuffer(),_this._initializeCallbackData(),_this._updateCallbackData(),_this._resizeCanvasDrawingBuffer(),_this._resizeViewport(),_this.props.onInitialize(_this._callbackData))}).then(function(appContext){_this._stopped||(_this._addCallbackData(appContext||{}),!1===appContext||_this._animationFrameId||(_this._animationFrameId=Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.n)(_this._renderFrame)))})),this}},{key:"stop",value:function stop(){return this._animationFrameId&&(this._finalizeCallbackData(),Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.f)(this._animationFrameId),this._animationFrameId=null,this._stopped=!0),this}},{key:"setViewParameters",value:function setViewParameters(_ref){var _ref$autoResizeDrawin=_ref.autoResizeDrawingBuffer,autoResizeDrawingBuffer=void 0===_ref$autoResizeDrawin||_ref$autoResizeDrawin,_ref$autoResizeCanvas=_ref.autoResizeCanvas,autoResizeCanvas=void 0===_ref$autoResizeCanvas||_ref$autoResizeCanvas,_ref$autoResizeViewpo=_ref.autoResizeViewport,autoResizeViewport=void 0===_ref$autoResizeViewpo||_ref$autoResizeViewpo,_ref$useDevicePixels=_ref.useDevicePixels,useDevicePixels=void 0===_ref$useDevicePixels||_ref$useDevicePixels,_ref$useDevicePixelRa=_ref.useDevicePixelRatio,useDevicePixelRatio=void 0===_ref$useDevicePixelRa?null:_ref$useDevicePixelRa;return __WEBPACK_IMPORTED_MODULE_3__utils__.g.deprecated("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this.autoResizeViewport=autoResizeViewport,this.autoResizeCanvas=autoResizeCanvas,this.autoResizeDrawingBuffer=autoResizeDrawingBuffer,this.useDevicePixels=useDevicePixels,null!==useDevicePixelRatio&&(__WEBPACK_IMPORTED_MODULE_3__utils__.g.deprecated("useDevicePixelRatio","useDevicePixels")(),this.useDevicePixels=useDevicePixelRatio),this}},{key:"_setupFrame",value:function _setupFrame(){this._onSetupFrame?this._onSetupFrame(this._callbackData):(this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer())}},{key:"_renderFrame",value:function _renderFrame(){this._stopped||(this._setupFrame(),this._updateCallbackData(),this.props.onRender(this._callbackData),this.offScreen?this.gl.commit().then(this._renderFrame):this._animationFrameId=Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.n)(this._renderFrame))}},{key:"_initializeCallbackData",value:function _initializeCallbackData(){this._callbackData={gl:this.gl,canvas:this.gl.canvas,framebuffer:this.framebuffer,stop:this.stop,useDevicePixels:this.useDevicePixels,needsRedraw:null,tick:0,tock:0}}},{key:"_updateCallbackData",value:function _updateCallbackData(){var width=this.gl.drawingBufferWidth,height=this.gl.drawingBufferHeight;width===this._callbackData.width&&height===this._callbackData.height||this.setNeedsRedraw("drawing buffer resized"),this._callbackData.width=width,this._callbackData.height=height,this._callbackData.aspect=width/height,this._callbackData.needsRedraw=this.needsRedraw,this._callbackData.offScreen=this.offScreen,this._callbackData.needsRedraw=this.needsRedraw,this.needsRedraw=null,this._callbackData.tick++}},{key:"_finalizeCallbackData",value:function _finalizeCallbackData(){this.props.onFinalize(this._callbackData)}},{key:"_addCallbackData",value:function _addCallbackData(appContext){"object"===_typeof(appContext)&&null!==appContext&&(this._callbackData=Object.assign({},this._callbackData,appContext))}},{key:"_createWebGLContext",value:function _createWebGLContext(opts){if(opts=Object.assign({},opts,DEFAULT_GL_OPTIONS,this.props.glOptions),this.gl=this.props.gl||this.props.onCreateContext(opts),!Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.k)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");this.props.debug&&(this.gl=Object(__WEBPACK_IMPORTED_MODULE_1__webgl_context_debug_context__.a)(this.gl)),Object(__WEBPACK_IMPORTED_MODULE_0__webgl_context__.f)(this.gl)}},{key:"_resizeViewport",value:function _resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}},{key:"_resizeCanvasDrawingBuffer",value:function _resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&Object(__WEBPACK_IMPORTED_MODULE_0__webgl_context__.g)(this.gl,{useDevicePixels:this.useDevicePixels})}},{key:"_createFramebuffer",value:function _createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new __WEBPACK_IMPORTED_MODULE_5__webgl__.c(this.gl))}},{key:"_resizeFramebuffer",value:function _resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}}]),AnimationLoop}()},function(module,__webpack_exports__,__webpack_require__){"use strict";function isEqual(a,b){if(a===b)return!0;if(Array.isArray(a)){var len=a.length;if(!b||b.length!==len)return!1;for(var i=0;i<len;i++)if(a[i]!==b[i])return!1;return!0}return!1}__webpack_exports__.a=function memoize(compute){var cachedResult,cachedArgs={};return function(args){for(var key in args)if(!isEqual(args[key],cachedArgs[key])){cachedResult=compute(args),cachedArgs=args;break}return cachedResult}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Layer});var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(224),__WEBPACK_IMPORTED_MODULE_1__attribute_manager__=__webpack_require__(609),__WEBPACK_IMPORTED_MODULE_2__seer_integration__=__webpack_require__(479),__WEBPACK_IMPORTED_MODULE_3__lifecycle_props__=__webpack_require__(1018),__WEBPACK_IMPORTED_MODULE_4__utils_count__=__webpack_require__(1019),__WEBPACK_IMPORTED_MODULE_5__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_6_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_7__utils_assert__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_8__lifecycle_component__=__webpack_require__(1020),__WEBPACK_IMPORTED_MODULE_9__layer_state__=__webpack_require__(1023);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var noop=function noop(){},defaultProps={data:{type:"data",value:Object.freeze([]),async:!0},dataComparator:null,dataTransform:function dataTransform(data){return data},fetch:function(_fetch){function fetch(_x){return _fetch.apply(this,arguments)}return fetch.toString=function(){return _fetch.toString()},fetch}(function(url){return fetch(url).then(function(response){return response.json()})}),updateTriggers:{},numInstances:void 0,visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:.8},onHover:noop,onClick:noop,coordinateSystem:__WEBPACK_IMPORTED_MODULE_0__constants__.a.LNGLAT,coordinateOrigin:[0,0,0],parameters:{},uniforms:{},framebuffer:null,animation:null,getPolygonOffset:function getPolygonOffset(_ref){return[0,100*-_ref.layerIndex]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:[0,0,128,128]},Layer=function(_Component){function Layer(){return function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,Layer),_possibleConstructorReturn(this,(Layer.__proto__||Object.getPrototypeOf(Layer)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(Layer,__WEBPACK_IMPORTED_MODULE_8__lifecycle_component__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Layer,[{key:"toString",value:function toString(){var className=this.constructor.layerName||this.constructor.name;return"".concat(className,"({id: '").concat(this.props.id,"'})")}},{key:"setState",value:function setState(updateObject){Object.assign(this.state,updateObject),this.setNeedsRedraw()}},{key:"setNeedsRedraw",value:function setNeedsRedraw(){var redraw=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.internalState&&(this.internalState.needsRedraw=redraw)}},{key:"setLayerNeedsUpdate",value:function setLayerNeedsUpdate(){this.context.layerManager.setNeedsUpdate(String(this))}},{key:"getNeedsRedraw",value:function getNeedsRedraw(){var _ref2$clearRedrawFlag=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).clearRedrawFlags,clearRedrawFlags=void 0!==_ref2$clearRedrawFlag&&_ref2$clearRedrawFlag;return this._getNeedsRedraw(clearRedrawFlags)}},{key:"needsUpdate",value:function needsUpdate(){return this.shouldUpdateState(this._getUpdateParams())}},{key:"isPickable",value:function isPickable(){return this.props.pickable&&this.props.visible}},{key:"getModels",value:function getModels(){return this.state&&(this.state.models||(this.state.model?[this.state.model]:[]))}},{key:"getSingleModel",value:function getSingleModel(){return this.state&&this.state.model}},{key:"getAttributeManager",value:function getAttributeManager(){return this.internalState&&this.internalState.attributeManager}},{key:"getCurrentLayer",value:function getCurrentLayer(){return this.internalState&&this.internalState.layer}},{key:"getFirstObject",value:function getFirstObject(){var data=this.props.data,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){return _step.value}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return null}},{key:"project",value:function project(lngLat){var viewport=this.context.viewport;return Object(__WEBPACK_IMPORTED_MODULE_7__utils_assert__.a)(Array.isArray(lngLat)),viewport.project(lngLat)}},{key:"unproject",value:function unproject(xy){var viewport=this.context.viewport;return Object(__WEBPACK_IMPORTED_MODULE_7__utils_assert__.a)(Array.isArray(xy)),viewport.unproject(xy)}},{key:"projectFlat",value:function projectFlat(lngLat){var viewport=this.context.viewport;return Object(__WEBPACK_IMPORTED_MODULE_7__utils_assert__.a)(Array.isArray(lngLat)),viewport.projectFlat(lngLat)}},{key:"unprojectFlat",value:function unprojectFlat(xy){var viewport=this.context.viewport;return Object(__WEBPACK_IMPORTED_MODULE_7__utils_assert__.a)(Array.isArray(xy)),viewport.unprojectFlat(xy)}},{key:"is64bitEnabled",value:function is64bitEnabled(){if(this.props.fp64){if(this.props.coordinateSystem===__WEBPACK_IMPORTED_MODULE_0__constants__.a.LNGLAT)return!0;__WEBPACK_IMPORTED_MODULE_5__utils_log__.a.once(0,"64-bit mode only works with coordinateSystem set to\n        COORDINATE_SYSTEM.LNGLAT. Rendering in 32-bit mode instead")}return!1}},{key:"screenToDevicePixels",value:function screenToDevicePixels(screenPixels){return __WEBPACK_IMPORTED_MODULE_5__utils_log__.a.deprecated("screenToDevicePixels","DeckGL prop useDevicePixels for conversion")(),screenPixels*("undefined"!=typeof window?window.devicePixelRatio:1)}},{key:"nullPickingColor",value:function nullPickingColor(){return[0,0,0]}},{key:"encodePickingColor",value:function encodePickingColor(i){return Object(__WEBPACK_IMPORTED_MODULE_7__utils_assert__.a)(0==(i+1>>24&255),"index out of picking color range"),[i+1&255,i+1>>8&255,i+1>>8>>8&255]}},{key:"decodePickingColor",value:function decodePickingColor(color){Object(__WEBPACK_IMPORTED_MODULE_7__utils_assert__.a)(_instanceof(color,Uint8Array));var _color=_slicedToArray(color,3);return _color[0]+256*_color[1]+65536*_color[2]-1}},{key:"initializeState",value:function initializeState(){throw new Error("Layer ".concat(this," has not defined initializeState"))}},{key:"shouldUpdateState",value:function shouldUpdateState(_ref3){_ref3.oldProps,_ref3.props,_ref3.context;return _ref3.changeFlags.propsOrDataChanged}},{key:"updateState",value:function updateState(_ref4){_ref4.oldProps,_ref4.props,_ref4.context;var changeFlags=_ref4.changeFlags,attributeManager=this.getAttributeManager();changeFlags.dataChanged&&attributeManager&&attributeManager.invalidateAll()}},{key:"finalizeState",value:function finalizeState(){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this.getModels()[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){_step2.value.delete()}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}this.getAttributeManager().finalize()}},{key:"draw",value:function draw(opts){var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=this.getModels()[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){_step3.value.draw(opts)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}},{key:"getPickingInfo",value:function getPickingInfo(_ref5){var info=_ref5.info,index=(_ref5.mode,info.index);return index>=0&&Array.isArray(this.props.data)&&(info.object=this.props.data[index]),info}},{key:"invalidateAttribute",value:function invalidateAttribute(){var name=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",diffReason=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",attributeManager=this.getAttributeManager();attributeManager&&("all"===name?(__WEBPACK_IMPORTED_MODULE_5__utils_log__.a.log(1,"updateTriggers invalidating all attributes: ".concat(diffReason))(),attributeManager.invalidateAll()):(__WEBPACK_IMPORTED_MODULE_5__utils_log__.a.log(1,"updateTriggers invalidating attribute ".concat(name,": ").concat(diffReason))(),attributeManager.invalidate(name)))}},{key:"updateAttributes",value:function updateAttributes(props){var attributeManager=this.getAttributeManager();if(attributeManager){var numInstances=this.getNumInstances(props);attributeManager.update({data:props.data,numInstances:numInstances,props:props,transitions:props.transitions,buffers:props,context:this,ignoreUnknownAttributes:!0});var model=this.getSingleModel();if(model){var changedAttributes=attributeManager.getChangedAttributes({clearChangedFlags:!0});model.setAttributes(changedAttributes)}}}},{key:"updateTransition",value:function updateTransition(){var model=this.getSingleModel(),attributeManager=this.getAttributeManager(),isInTransition=attributeManager&&attributeManager.updateTransition();model&&isInTransition&&model.setAttributes(attributeManager.getChangedAttributes({transition:!0}))}},{key:"calculateInstancePickingColors",value:function calculateInstancePickingColors(attribute,_ref6){for(var numInstances=_ref6.numInstances,value=attribute.value,size=attribute.size,i=0;i<numInstances;i++){var pickingColor=this.encodePickingColor(i);value[i*size+0]=pickingColor[0],value[i*size+1]=pickingColor[1],value[i*size+2]=pickingColor[2]}}},{key:"_clearInstancePickingColor",value:function _clearInstancePickingColor(color){var attribute=this.getAttributeManager().attributes.instancePickingColors.state,value=attribute.value,size=attribute.size,i=this.decodePickingColor(color);value[i*size+0]=0,value[i*size+1]=0,value[i*size+2]=0;var models=this.getModels();models&&models.forEach(function(model){return model.setAttributes({instancePickingColors:attribute})})}},{key:"_clearPickingColor",value:function _clearPickingColor(color){for(var attribute=this.getAttributeManager().attributes.pickingColors.state,value=attribute.value,i=0;i<value.length;i+=3)value[i+0]===color[0]&&value[i+1]===color[1]&&value[i+2]===color[2]&&(value[i+0]=0,value[i+1]=0,value[i+2]=0);var models=this.getModels();models&&models.forEach(function(model){return model.setAttributes({pickingColors:attribute})})}},{key:"clearPickingColor",value:function clearPickingColor(color){this.getAttributeManager().attributes.pickingColors?this._clearPickingColor(color):this._clearInstancePickingColor(color)}},{key:"copyPickingColors",value:function copyPickingColors(){var _this$getAttributeMan=this.getAttributeManager().attributes,pickingColors=_this$getAttributeMan.pickingColors,instancePickingColors=_this$getAttributeMan.instancePickingColors;return new Uint8ClampedArray((pickingColors||instancePickingColors).value)}},{key:"restorePickingColors",value:function restorePickingColors(value){var _this$getAttributeMan2=this.getAttributeManager().attributes,pickingColors=_this$getAttributeMan2.pickingColors,instancePickingColors=_this$getAttributeMan2.instancePickingColors,colors=pickingColors||instancePickingColors;colors.value.set(value),colors.setNeedsUpdate(),this.updateAttributes(this.props)}},{key:"getNumInstances",value:function getNumInstances(props){if(props=props||this.props,this.state&&void 0!==this.state.numInstances)return this.state.numInstances;if(void 0!==props.numInstances)return props.numInstances;var data=this.props.data;return Object(__WEBPACK_IMPORTED_MODULE_4__utils_count__.a)(data)}},{key:"_initialize",value:function _initialize(){Object(__WEBPACK_IMPORTED_MODULE_7__utils_assert__.a)(this.context.gl),this._initState(),this.initializeState(this.context),this.state.attributeManager=this.getAttributeManager(),this.setChangeFlags({dataChanged:!0,propsChanged:!0,viewportChanged:!0}),this._updateState();var model=this.getSingleModel();model&&(model.id=this.props.id,model.program.id="".concat(this.props.id,"-program"),model.geometry.id="".concat(this.props.id,"-geometry"),model.setAttributes(this.getAttributeManager().getAttributes()))}},{key:"_update",value:function _update(){this.needsUpdate()&&this._updateState()}},{key:"_updateState",value:function _updateState(){var updateParams=this._getUpdateParams();this.updateState(updateParams),this.isComposite&&this._renderLayers(updateParams),this.updateAttributes(this.props),this._updateBaseUniforms(),this._updateModuleSettings(),this.state.model&&this.state.model.setInstanceCount(this.getNumInstances()),this.clearChangeFlags(),this.internalState.resetOldProps()}},{key:"_finalize",value:function _finalize(){Object(__WEBPACK_IMPORTED_MODULE_7__utils_assert__.a)(this.internalState&&this.state),this.finalizeState(this.context),Object(__WEBPACK_IMPORTED_MODULE_2__seer_integration__.d)(this.id)}},{key:"drawLayer",value:function drawLayer(_ref7){var _this=this,_ref7$moduleParameter=_ref7.moduleParameters,moduleParameters=void 0===_ref7$moduleParameter?null:_ref7$moduleParameter,_ref7$uniforms=_ref7.uniforms,uniforms=void 0===_ref7$uniforms?{}:_ref7$uniforms,_ref7$parameters=_ref7.parameters,parameters=void 0===_ref7$parameters?{}:_ref7$parameters;if(uniforms.picking_uActive||this.updateTransition(),moduleParameters){var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=this.getModels()[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){_step4.value.updateModuleSettings(moduleParameters)}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}}var getPolygonOffset=this.props.getPolygonOffset,offsets=getPolygonOffset&&getPolygonOffset(uniforms)||[0,0];parameters.polygonOffset=offsets,Object(__WEBPACK_IMPORTED_MODULE_6_luma_gl__.withParameters)(this.context.gl,parameters,function(){_this.draw({moduleParameters:moduleParameters,uniforms:uniforms,parameters:parameters,context:_this.context})})}},{key:"pickLayer",value:function pickLayer(opts){return this.getPickingInfo(opts)}},{key:"getChangeFlags",value:function getChangeFlags(){return this.internalState.changeFlags}},{key:"setChangeFlags",value:function setChangeFlags(flags){var _this2=this;this.internalState.changeFlags=this.internalState.changeFlags||{};var changeFlags=this.internalState.changeFlags;flags.dataChanged&&!changeFlags.dataChanged&&(changeFlags.dataChanged=flags.dataChanged,__WEBPACK_IMPORTED_MODULE_5__utils_log__.a.log(2,function(){return"dataChanged: ".concat(flags.dataChanged," in ").concat(_this2.id)})()),flags.updateTriggersChanged&&!changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged=changeFlags.updateTriggersChanged&&flags.updateTriggersChanged?Object.assign({},flags.updateTriggersChanged,changeFlags.updateTriggersChanged):flags.updateTriggersChanged||changeFlags.updateTriggersChanged,__WEBPACK_IMPORTED_MODULE_5__utils_log__.a.log(2,function(){return"updateTriggersChanged: "+"".concat(Object.keys(flags.updateTriggersChanged).join(", ")," in ").concat(_this2.id)})()),flags.propsChanged&&!changeFlags.propsChanged&&(changeFlags.propsChanged=flags.propsChanged,__WEBPACK_IMPORTED_MODULE_5__utils_log__.a.log(2,function(){return"propsChanged: ".concat(flags.propsChanged," in ").concat(_this2.id)})()),flags.viewportChanged&&!changeFlags.viewportChanged&&(changeFlags.viewportChanged=flags.viewportChanged,__WEBPACK_IMPORTED_MODULE_5__utils_log__.a.log(3,function(){return"viewportChanged: ".concat(flags.viewportChanged," in ").concat(_this2.id)})());var propsOrDataChanged=flags.dataChanged||flags.updateTriggersChanged||flags.propsChanged;changeFlags.propsOrDataChanged=changeFlags.propsOrDataChanged||propsOrDataChanged,changeFlags.somethingChanged=changeFlags.somethingChanged||propsOrDataChanged||flags.viewportChanged}},{key:"clearChangeFlags",value:function clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}},{key:"printChangeFlags",value:function printChangeFlags(){var flags=this.internalState.changeFlags;return"".concat(flags.dataChanged?"data ":"").concat(flags.propsChanged?"props ":"").concat(flags.updateTriggersChanged?"triggers ":"").concat(flags.viewportChanged?"viewport":"")}},{key:"diffProps",value:function diffProps(newProps,oldProps){var changeFlags=Object(__WEBPACK_IMPORTED_MODULE_3__lifecycle_props__.a)(newProps,oldProps);if(changeFlags.updateTriggersChanged)for(var key in changeFlags.updateTriggersChanged)changeFlags.updateTriggersChanged[key]&&this._activeUpdateTrigger(key);return this.setChangeFlags(changeFlags)}},{key:"_getUpdateParams",value:function _getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}},{key:"_getNeedsRedraw",value:function _getNeedsRedraw(clearRedrawFlags){if(!this.internalState)return!1;var redraw=!1;redraw=redraw||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!clearRedrawFlags;var attributeManager=this.getAttributeManager(),attributeManagerNeedsRedraw=attributeManager&&attributeManager.getNeedsRedraw({clearRedrawFlags:clearRedrawFlags});redraw=redraw||attributeManagerNeedsRedraw;var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=this.getModels()[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var model=_step5.value,modelNeedsRedraw=model.getNeedsRedraw({clearRedrawFlags:clearRedrawFlags});modelNeedsRedraw&&"string"!=typeof modelNeedsRedraw&&(modelNeedsRedraw="model ".concat(model.id)),redraw=redraw||modelNeedsRedraw}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{_iteratorNormalCompletion5||null==_iterator5.return||_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}return redraw}},{key:"_initState",value:function _initState(){Object(__WEBPACK_IMPORTED_MODULE_7__utils_assert__.a)(!this.internalState&&!this.state);var attributeManager=new __WEBPACK_IMPORTED_MODULE_1__attribute_manager__.a(this.context.gl,{id:this.props.id,stats:this.context.stats});attributeManager.addInstanced({instancePickingColors:{type:__WEBPACK_IMPORTED_MODULE_6_luma_gl__.GL.UNSIGNED_BYTE,size:3,update:this.calculateInstancePickingColors}}),this.internalState=new __WEBPACK_IMPORTED_MODULE_9__layer_state__.a({attributeManager:attributeManager,layer:this}),this.state={},this.state.attributeManager=this.getAttributeManager(),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props)}},{key:"_transferState",value:function _transferState(oldLayer){var state=oldLayer.state,internalState=oldLayer.internalState;if(Object(__WEBPACK_IMPORTED_MODULE_7__utils_assert__.a)(state&&internalState),this!==oldLayer){this.internalState=internalState,this.internalState.component=this,this.state=state,state.layer=this,this.internalState.setAsyncProps(this.props);var _iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _step6,_iterator6=this.getModels()[Symbol.iterator]();!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){_step6.value.userData.layer=this}}catch(err){_didIteratorError6=!0,_iteratorError6=err}finally{try{_iteratorNormalCompletion6||null==_iterator6.return||_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}this.internalState.setAsyncProps(this.props),this.diffProps(this.props,this.internalState.getOldProps())}}},{key:"_onAsyncPropUpdated",value:function _onAsyncPropUpdated(){this.diffProps(this.props,this.internalState.getOldProps()),this.setLayerNeedsUpdate()}},{key:"_activeUpdateTrigger",value:function _activeUpdateTrigger(propName){this.invalidateAttribute(propName)}},{key:"_checkRequiredProp",value:function _checkRequiredProp(propertyName,condition){var value=this.props[propertyName];if(void 0===value)throw new Error("Property ".concat(propertyName," undefined in layer ").concat(this));if(condition&&!condition(value))throw new Error("Bad property ".concat(propertyName," in layer ").concat(this))}},{key:"_updateBaseUniforms",value:function _updateBaseUniforms(){var uniforms={opacity:Math.pow(this.props.opacity,1/2.2),ONE:1},_iteratorNormalCompletion7=!0,_didIteratorError7=!1,_iteratorError7=void 0;try{for(var _step7,_iterator7=this.getModels()[Symbol.iterator]();!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=!0){_step7.value.setUniforms(uniforms)}}catch(err){_didIteratorError7=!0,_iteratorError7=err}finally{try{_iteratorNormalCompletion7||null==_iterator7.return||_iterator7.return()}finally{if(_didIteratorError7)throw _iteratorError7}}this.setNeedsRedraw()}},{key:"_updateModuleSettings",value:function _updateModuleSettings(){var settings={pickingHighlightColor:this.props.highlightColor},_iteratorNormalCompletion8=!0,_didIteratorError8=!1,_iteratorError8=void 0;try{for(var _step8,_iterator8=this.getModels()[Symbol.iterator]();!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=!0){_step8.value.updateModuleSettings(settings)}}catch(err){_didIteratorError8=!0,_iteratorError8=err}finally{try{_iteratorNormalCompletion8||null==_iterator8.return||_iterator8.return()}finally{if(_didIteratorError8)throw _iteratorError8}}}},{key:"setUniforms",value:function setUniforms(uniformMap){var _iteratorNormalCompletion9=!0,_didIteratorError9=!1,_iteratorError9=void 0;try{for(var _step9,_iterator9=this.getModels()[Symbol.iterator]();!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=!0){_step9.value.setUniforms(uniformMap)}}catch(err){_didIteratorError9=!0,_iteratorError9=err}finally{try{_iteratorNormalCompletion9||null==_iterator9.return||_iterator9.return()}finally{if(_didIteratorError9)throw _iteratorError9}}this.setNeedsRedraw(),__WEBPACK_IMPORTED_MODULE_5__utils_log__.a.deprecated("layer.setUniforms","model.setUniforms")()}}]),Layer}();Layer.layerName="Layer",Layer.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",function(){return setPropOverrides}),__webpack_require__.d(__webpack_exports__,"a",function(){return applyPropOverrides}),__webpack_require__.d(__webpack_exports__,"c",function(){return layerEditListener}),__webpack_require__.d(__webpack_exports__,"e",function(){return seerInitListener}),__webpack_require__.d(__webpack_exports__,"b",function(){return initLayerInSeer}),__webpack_require__.d(__webpack_exports__,"g",function(){return updateLayerInSeer}),__webpack_require__.d(__webpack_exports__,"d",function(){return removeLayerInSeer});var __WEBPACK_IMPORTED_MODULE_0_seer__=__webpack_require__(475),__WEBPACK_IMPORTED_MODULE_0_seer___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_seer__);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var overrides=new Map,setPropOverrides=function setPropOverrides(id,valuePath,value){__WEBPACK_IMPORTED_MODULE_0_seer___default.a.isReady()&&(overrides.has(id)||overrides.set(id,new Map),overrides.get(id).set(valuePath,value))},applyPropOverrides=function applyPropOverrides(props){if(__WEBPACK_IMPORTED_MODULE_0_seer___default.a.isReady()&&props.id){var overs=overrides.get(props.id);overs&&overs.forEach(function(value,valuePath){!function recursiveSet(obj,path,value){obj&&(path.length>1?recursiveSet(obj[path[0]],path.slice(1),value):obj[path[0]]=value)}(props,valuePath,value),"data"===valuePath[0]&&(props.data=_toConsumableArray(props.data))})}},layerEditListener=function layerEditListener(cb){__WEBPACK_IMPORTED_MODULE_0_seer___default.a.isReady()&&__WEBPACK_IMPORTED_MODULE_0_seer___default.a.listenFor("deck.gl",cb)},seerInitListener=function seerInitListener(cb){__WEBPACK_IMPORTED_MODULE_0_seer___default.a.isReady()&&__WEBPACK_IMPORTED_MODULE_0_seer___default.a.listenFor("init",cb)},initLayerInSeer=function initLayerInSeer(layer){if(__WEBPACK_IMPORTED_MODULE_0_seer___default.a.isReady()&&layer){var badges=[layer.constructor.layerName];__WEBPACK_IMPORTED_MODULE_0_seer___default.a.listItem("deck.gl",layer.id,{badges:badges,links:layer.state&&layer.state.model?["luma.gl:".concat(layer.state.model.id)]:void 0,parent:layer.parent?layer.parent.id:void 0})}},updateLayerInSeer=function updateLayerInSeer(layer){if(__WEBPACK_IMPORTED_MODULE_0_seer___default.a.isReady()&&!__WEBPACK_IMPORTED_MODULE_0_seer___default.a.throttle("deck.gl:".concat(layer.id),1e3)){var data=function logPayload(layer){var data=[{path:"objects.props",data:layer.props}],badges=[layer.constructor.layerName];if(layer.state){if(layer.getAttributeManager()){var attrs=layer.getAttributeManager().getAttributes();data.push({path:"objects.attributes",data:attrs}),badges.push(layer.getAttributeManager().stats.getTimeString())}if(layer.state.model){layer.state.model.timerQueryEnabled=!0;var lastFrameTime=layer.state.model.stats.lastFrameTime;lastFrameTime&&badges.push("".concat((1e3*lastFrameTime).toFixed(0),"μs"))}}return data.push({path:"badges",data:badges}),data}(layer);__WEBPACK_IMPORTED_MODULE_0_seer___default.a.multiUpdate("deck.gl",layer.id,data)}},removeLayerInSeer=function removeLayerInSeer(id){__WEBPACK_IMPORTED_MODULE_0_seer___default.a.isReady()&&id&&__WEBPACK_IMPORTED_MODULE_0_seer___default.a.deleteItem("deck.gl",id)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.c=function transformVector(matrix,vector){if(!matrix)return null;var result=__WEBPACK_IMPORTED_MODULE_1_gl_vec4_transformMat4___default()([0,0,0,0],vector,matrix),scale=1/result[3];return __WEBPACK_IMPORTED_MODULE_0_gl_vec4_multiply___default()(result,result,[scale,scale,scale,scale]),result},__webpack_exports__.a=function createMat4(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},__webpack_exports__.b=function extractCameraVectors(_ref){var viewMatrix=_ref.viewMatrix,viewMatrixInverse=_ref.viewMatrixInverse;return{eye:[viewMatrixInverse[12],viewMatrixInverse[13],viewMatrixInverse[14]],direction:[viewMatrix[2],viewMatrix[6],viewMatrix[10]],up:[viewMatrix[1],viewMatrix[5],viewMatrix[9]]}};var __WEBPACK_IMPORTED_MODULE_0_gl_vec4_multiply__=__webpack_require__(1026),__WEBPACK_IMPORTED_MODULE_0_gl_vec4_multiply___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_gl_vec4_multiply__),__WEBPACK_IMPORTED_MODULE_1_gl_vec4_transformMat4__=__webpack_require__(222),__WEBPACK_IMPORTED_MODULE_1_gl_vec4_transformMat4___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_gl_vec4_transformMat4__);__webpack_require__(18)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return WebMercatorViewport});var __WEBPACK_IMPORTED_MODULE_0__viewport__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_1_viewport_mercator_project__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_2_gl_vec2_add__=__webpack_require__(604),__WEBPACK_IMPORTED_MODULE_2_gl_vec2_add___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_gl_vec2_add__),__WEBPACK_IMPORTED_MODULE_3_gl_vec2_negate__=__webpack_require__(605),__WEBPACK_IMPORTED_MODULE_3_gl_vec2_negate___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_gl_vec2_negate__),__WEBPACK_IMPORTED_MODULE_4__utils_assert__=__webpack_require__(18);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var ERR_ARGUMENT="Illegal argument to WebMercatorViewport",WebMercatorViewport=function(_Viewport){function WebMercatorViewport(){var _this,opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,WebMercatorViewport);var _opts$latitude=opts.latitude,latitude=void 0===_opts$latitude?0:_opts$latitude,_opts$longitude=opts.longitude,longitude=void 0===_opts$longitude?0:_opts$longitude,_opts$zoom=opts.zoom,zoom=void 0===_opts$zoom?11:_opts$zoom,_opts$pitch=opts.pitch,pitch=void 0===_opts$pitch?0:_opts$pitch,_opts$bearing=opts.bearing,bearing=void 0===_opts$bearing?0:_opts$bearing,_opts$farZMultiplier=opts.farZMultiplier,farZMultiplier=void 0===_opts$farZMultiplier?10:_opts$farZMultiplier,_opts$orthographic=opts.orthographic,orthographic=void 0!==_opts$orthographic&&_opts$orthographic,width=opts.width,height=opts.height,_opts$altitude=opts.altitude,altitude=void 0===_opts$altitude?1.5:_opts$altitude;width=width||1,height=height||1,altitude=Math.max(.75,altitude);var _getProjectionParamet=Object(__WEBPACK_IMPORTED_MODULE_1_viewport_mercator_project__.f)({width:width,height:height,pitch:pitch,altitude:altitude,farZMultiplier:farZMultiplier}),fov=_getProjectionParamet.fov,aspect=_getProjectionParamet.aspect,focalDistance=_getProjectionParamet.focalDistance,near=_getProjectionParamet.near,far=_getProjectionParamet.far,viewMatrixUncentered=Object(__WEBPACK_IMPORTED_MODULE_1_viewport_mercator_project__.g)({height:height,pitch:pitch,bearing:bearing,altitude:altitude}),position=opts.position&&[opts.position[0],opts.position[1],0],viewportOpts=Object.assign({},opts,{width:width,height:height,viewMatrix:viewMatrixUncentered,longitude:longitude,latitude:latitude,zoom:zoom,position:position,orthographic:orthographic,fovyRadians:fov,aspect:aspect,orthographicFocalDistance:focalDistance,near:near,far:far});return(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(WebMercatorViewport.__proto__||Object.getPrototypeOf(WebMercatorViewport)).call(this,viewportOpts))).latitude=latitude,_this.longitude=longitude,_this.zoom=zoom,_this.pitch=pitch,_this.bearing=bearing,_this.altitude=altitude,_this.orthographic=orthographic,_this.metersToLngLatDelta=_this.metersToLngLatDelta.bind(_assertThisInitialized(_this)),_this.lngLatDeltaToMeters=_this.lngLatDeltaToMeters.bind(_assertThisInitialized(_this)),_this.addMetersToLngLat=_this.addMetersToLngLat.bind(_assertThisInitialized(_this)),Object.freeze(_assertThisInitialized(_this)),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(WebMercatorViewport,__WEBPACK_IMPORTED_MODULE_0__viewport__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(WebMercatorViewport,[{key:"metersToLngLatDelta",value:function metersToLngLatDelta(xyz){var _xyz=_slicedToArray(xyz,3),x=_xyz[0],y=_xyz[1],_xyz$=_xyz[2],z=void 0===_xyz$?0:_xyz$;Object(__WEBPACK_IMPORTED_MODULE_4__utils_assert__.a)(Number.isFinite(x)&&Number.isFinite(y)&&Number.isFinite(z),ERR_ARGUMENT);var _this$distanceScales=this.distanceScales,pixelsPerMeter=_this$distanceScales.pixelsPerMeter,degreesPerPixel=_this$distanceScales.degreesPerPixel,deltaLng=x*pixelsPerMeter[0]*degreesPerPixel[0],deltaLat=y*pixelsPerMeter[1]*degreesPerPixel[1];return 2===xyz.length?[deltaLng,deltaLat]:[deltaLng,deltaLat,z]}},{key:"lngLatDeltaToMeters",value:function lngLatDeltaToMeters(deltaLngLatZ){var _deltaLngLatZ=_slicedToArray(deltaLngLatZ,3),deltaLng=_deltaLngLatZ[0],deltaLat=_deltaLngLatZ[1],_deltaLngLatZ$=_deltaLngLatZ[2],deltaZ=void 0===_deltaLngLatZ$?0:_deltaLngLatZ$;Object(__WEBPACK_IMPORTED_MODULE_4__utils_assert__.a)(Number.isFinite(deltaLng)&&Number.isFinite(deltaLat)&&Number.isFinite(deltaZ),ERR_ARGUMENT);var _this$distanceScales2=this.distanceScales,pixelsPerDegree=_this$distanceScales2.pixelsPerDegree,metersPerPixel=_this$distanceScales2.metersPerPixel,deltaX=deltaLng*pixelsPerDegree[0]*metersPerPixel[0],deltaY=deltaLat*pixelsPerDegree[1]*metersPerPixel[1];return 2===deltaLngLatZ.length?[deltaX,deltaY]:[deltaX,deltaY,deltaZ]}},{key:"addMetersToLngLat",value:function addMetersToLngLat(lngLatZ,xyz){var _lngLatZ=_slicedToArray(lngLatZ,3),lng=_lngLatZ[0],lat=_lngLatZ[1],_lngLatZ$=_lngLatZ[2],Z=void 0===_lngLatZ$?0:_lngLatZ$,_this$metersToLngLatD2=_slicedToArray(this.metersToLngLatDelta(xyz),3),deltaLng=_this$metersToLngLatD2[0],deltaLat=_this$metersToLngLatD2[1],_this$metersToLngLatD3=_this$metersToLngLatD2[2],deltaZ=void 0===_this$metersToLngLatD3?0:_this$metersToLngLatD3;return 2===lngLatZ.length?[lng+deltaLng,lat+deltaLat]:[lng+deltaLng,lat+deltaLat,Z+deltaZ]}},{key:"getMapCenterByLngLatPosition",value:function getMapCenterByLngLatPosition(_ref){var lngLat=_ref.lngLat,pos=_ref.pos,fromLocation=Object(__WEBPACK_IMPORTED_MODULE_1_viewport_mercator_project__.k)(pos,this.pixelUnprojectionMatrix),toLocation=Object(__WEBPACK_IMPORTED_MODULE_1_viewport_mercator_project__.i)(lngLat,this.scale),translate=__WEBPACK_IMPORTED_MODULE_2_gl_vec2_add___default()([],toLocation,__WEBPACK_IMPORTED_MODULE_3_gl_vec2_negate___default()([],fromLocation)),newCenter=__WEBPACK_IMPORTED_MODULE_2_gl_vec2_add___default()([],this.center,translate);return Object(__WEBPACK_IMPORTED_MODULE_1_viewport_mercator_project__.l)(newCenter,this.scale)}},{key:"getLocationAtPoint",value:function getLocationAtPoint(_ref2){var lngLat=_ref2.lngLat,pos=_ref2.pos;return this.getMapCenterByLngLatPosition({lngLat:lngLat,pos:pos})}},{key:"fitBounds",value:function fitBounds(bounds){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},width=this.width,height=this.height,_fitBounds2=Object(__WEBPACK_IMPORTED_MODULE_1_viewport_mercator_project__.b)(Object.assign({width:width,height:height,bounds:bounds},options));return new WebMercatorViewport({width:width,height:height,longitude:_fitBounds2.longitude,latitude:_fitBounds2.latitude,zoom:_fitBounds2.zoom})}},{key:"isMapSynched",value:function isMapSynched(){var MAPBOX_LIMITS_pitch=60,MAPBOX_LIMITS_zoom=40,pitch=this.pitch,zoom=this.zoom;return pitch<=MAPBOX_LIMITS_pitch+1e-6&&zoom<=MAPBOX_LIMITS_zoom+1e-6}},{key:"_projectFlat",value:function _projectFlat(lngLat){var scale=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return Object(__WEBPACK_IMPORTED_MODULE_1_viewport_mercator_project__.i)(lngLat,scale)}},{key:"_unprojectFlat",value:function _unprojectFlat(xy){var scale=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return Object(__WEBPACK_IMPORTED_MODULE_1_viewport_mercator_project__.l)(xy,scale)}}]),WebMercatorViewport}();WebMercatorViewport.displayName="WebMercatorViewport"},function(module,__webpack_exports__,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__.d(__webpack_exports__,"a",function(){return Effect});var counter=0,Effect=function(){function Effect(){_classCallCheck(this,Effect),this.id="effect",this.count=counter++,this.visible=!0,this.priority=0,this.needsRedraw=!1}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Effect,[{key:"initialize",value:function initialize(_ref){_ref.gl,_ref.layerManager}},{key:"finalize",value:function finalize(_ref2){_ref2.gl,_ref2.layerManager}},{key:"preDraw",value:function preDraw(_ref3){_ref3.gl,_ref3.layerManager}},{key:"draw",value:function draw(_ref4){_ref4.gl,_ref4.layerManager}},{key:"setNeedsRedraw",value:function setNeedsRedraw(){var redraw=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.needsRedraw=redraw}}]),Effect}()},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__event_manager__=__webpack_require__(1028);__webpack_require__.d(__webpack_exports__,"EventManager",function(){return __WEBPACK_IMPORTED_MODULE_0__event_manager__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return LinearInterpolator});var __WEBPACK_IMPORTED_MODULE_0__transition_interpolator__=__webpack_require__(620),__WEBPACK_IMPORTED_MODULE_1_math_gl__=__webpack_require__(17);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var VIEWPORT_TRANSITION_PROPS=["longitude","latitude","zoom","bearing","pitch"],LinearInterpolator=function(_TransitionInterpolat){function LinearInterpolator(){var transitionProps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VIEWPORT_TRANSITION_PROPS;return _classCallCheck(this,LinearInterpolator),_possibleConstructorReturn(this,(LinearInterpolator.__proto__||Object.getPrototypeOf(LinearInterpolator)).call(this,transitionProps))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(LinearInterpolator,__WEBPACK_IMPORTED_MODULE_0__transition_interpolator__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LinearInterpolator,[{key:"interpolateProps",value:function interpolateProps(startProps,endProps,t){var viewport={};for(var key in endProps)viewport[key]=Object(__WEBPACK_IMPORTED_MODULE_1_math_gl__.j)(startProps[key],endProps[key],t);return viewport}}]),LinearInterpolator}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return PathLayer});var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2__path_layer_vertex_glsl__=__webpack_require__(1085),__WEBPACK_IMPORTED_MODULE_3__path_layer_vertex_64_glsl__=__webpack_require__(1086),__WEBPACK_IMPORTED_MODULE_4__path_layer_fragment_glsl__=__webpack_require__(1087);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.getPrototypeOf||function _getPrototypeOf(o){return o.__proto__})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var fp64LowPart=__WEBPACK_IMPORTED_MODULE_1_luma_gl__.fp64.fp64LowPart,DEFAULT_COLOR=[0,0,0,255],defaultProps={widthScale:1,widthMinPixels:0,widthMaxPixels:Number.MAX_SAFE_INTEGER,rounded:!1,miterLimit:4,fp64:!1,dashJustified:!1,getPath:function getPath(object){return object.path},getColor:function getColor(object){return object.color||DEFAULT_COLOR},getWidth:function getWidth(object){return object.width||1},getDashArray:null},isClosed=function isClosed(path){var firstPoint=path[0],lastPoint=path[path.length-1];return firstPoint[0]===lastPoint[0]&&firstPoint[1]===lastPoint[1]&&firstPoint[2]===lastPoint[2]},PathLayer=function(_Layer){function PathLayer(){return _classCallCheck(this,PathLayer),_possibleConstructorReturn(this,(PathLayer.__proto__||Object.getPrototypeOf(PathLayer)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(PathLayer,__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__["Layer"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PathLayer,[{key:"getShaders",value:function getShaders(){return this.is64bitEnabled()?{vs:__WEBPACK_IMPORTED_MODULE_3__path_layer_vertex_64_glsl__.a,fs:__WEBPACK_IMPORTED_MODULE_4__path_layer_fragment_glsl__.a,modules:["project64","picking"]}:{vs:__WEBPACK_IMPORTED_MODULE_2__path_layer_vertex_glsl__.a,fs:__WEBPACK_IMPORTED_MODULE_4__path_layer_fragment_glsl__.a,modules:["picking"]}}},{key:"initializeState",value:function initializeState(){this.getAttributeManager().addInstanced({instanceStartPositions:{size:3,update:this.calculateStartPositions},instanceEndPositions:{size:3,update:this.calculateEndPositions},instanceLeftDeltas:{size:3,update:this.calculateLeftDeltas},instanceRightDeltas:{size:3,update:this.calculateRightDeltas},instanceStrokeWidths:{size:1,accessor:"getWidth",update:this.calculateStrokeWidths,defaultValue:1},instanceDashArrays:{size:2,accessor:"getDashArray",update:this.calculateDashArrays},instanceColors:{size:4,type:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_BYTE,accessor:"getColor",update:this.calculateColors,defaultValue:DEFAULT_COLOR},instancePickingColors:{size:3,type:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_BYTE,update:this.calculatePickingColors}})}},{key:"updateAttribute",value:function updateAttribute(_ref){var props=_ref.props,oldProps=_ref.oldProps;_ref.changeFlags;if(props.fp64!==oldProps.fp64){var attributeManager=this.getAttributeManager();attributeManager.invalidateAll(),props.fp64&&props.coordinateSystem===__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.COORDINATE_SYSTEM.LNGLAT?attributeManager.addInstanced({instanceStartEndPositions64xyLow:{size:4,update:this.calculateInstanceStartEndPositions64xyLow}}):attributeManager.remove(["instanceStartEndPositions64xyLow"])}}},{key:"updateState",value:function updateState(_ref2){var oldProps=_ref2.oldProps,props=_ref2.props,changeFlags=_ref2.changeFlags;_get(PathLayer.prototype.__proto__||Object.getPrototypeOf(PathLayer.prototype),"updateState",this).call(this,{props:props,oldProps:oldProps,changeFlags:changeFlags});var getPath=this.props.getPath,attributeManager=this.getAttributeManager();if(props.fp64!==oldProps.fp64){var gl=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(gl)})}if(this.updateAttribute({props:props,oldProps:oldProps,changeFlags:changeFlags}),changeFlags.dataChanged||changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.all||changeFlags.updateTriggersChanged.getPath)){var paths=props.data.map(getPath),numInstances=paths.reduce(function(count,path){return count+path.length-1},0);this.setState({paths:paths,numInstances:numInstances}),attributeManager.invalidateAll()}}},{key:"draw",value:function draw(_ref3){var uniforms=_ref3.uniforms,_this$props=this.props,rounded=_this$props.rounded,miterLimit=_this$props.miterLimit,widthScale=_this$props.widthScale,widthMinPixels=_this$props.widthMinPixels,widthMaxPixels=_this$props.widthMaxPixels,dashJustified=_this$props.dashJustified;this.state.model.render(Object.assign({},uniforms,{jointType:Number(rounded),alignMode:Number(dashJustified),widthScale:widthScale,miterLimit:miterLimit,widthMinPixels:widthMinPixels,widthMaxPixels:widthMaxPixels}))}},{key:"_getModel",value:function _getModel(gl){return new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Model(gl,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Geometry({drawMode:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.TRIANGLES,attributes:{indices:new Uint16Array([0,2,1,1,2,4,1,4,3,3,4,5]),positions:new Float32Array([0,0,1,0,-1,0,0,1,0,1,-1,0,1,1,0,1,0,1])}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"calculateStartPositions",value:function calculateStartPositions(attribute){var paths=this.state.paths,value=attribute.value,i=0;paths.forEach(function(path){for(var numSegments=path.length-1,ptIndex=0;ptIndex<numSegments;ptIndex++){var point=path[ptIndex];value[i++]=point[0],value[i++]=point[1],value[i++]=point[2]||0}})}},{key:"calculateEndPositions",value:function calculateEndPositions(attribute){var paths=this.state.paths,value=attribute.value,i=0;paths.forEach(function(path){for(var ptIndex=1;ptIndex<path.length;ptIndex++){var point=path[ptIndex];value[i++]=point[0],value[i++]=point[1],value[i++]=point[2]||0}})}},{key:"calculateInstanceStartEndPositions64xyLow",value:function calculateInstanceStartEndPositions64xyLow(attribute){var paths=this.state.paths,value=attribute.value,i=0;paths.forEach(function(path){for(var numSegments=path.length-1,ptIndex=0;ptIndex<numSegments;ptIndex++){var startPoint=path[ptIndex],endPoint=path[ptIndex+1];value[i++]=fp64LowPart(startPoint[0]),value[i++]=fp64LowPart(startPoint[1]),value[i++]=fp64LowPart(endPoint[0]),value[i++]=fp64LowPart(endPoint[1])}})}},{key:"calculateLeftDeltas",value:function calculateLeftDeltas(attribute){var paths=this.state.paths,value=attribute.value,i=0;paths.forEach(function(path){for(var numSegments=path.length-1,prevPoint=isClosed(path)?path[path.length-2]:path[0],ptIndex=0;ptIndex<numSegments;ptIndex++){var point=path[ptIndex];value[i++]=point[0]-prevPoint[0],value[i++]=point[1]-prevPoint[1],value[i++]=point[2]-prevPoint[2]||0,prevPoint=point}})}},{key:"calculateRightDeltas",value:function calculateRightDeltas(attribute){var paths=this.state.paths,value=attribute.value,i=0;paths.forEach(function(path){for(var ptIndex=1;ptIndex<path.length;ptIndex++){var point=path[ptIndex],nextPoint=path[ptIndex+1];nextPoint||(nextPoint=isClosed(path)?path[1]:point),value[i++]=nextPoint[0]-point[0],value[i++]=nextPoint[1]-point[1],value[i++]=nextPoint[2]-point[2]||0}})}},{key:"calculateStrokeWidths",value:function calculateStrokeWidths(attribute){var _this$props2=this.props,data=_this$props2.data,getWidth=_this$props2.getWidth,paths=this.state.paths,value=attribute.value,i=0;paths.forEach(function(path,index){for(var width=getWidth(data[index],index),ptIndex=1;ptIndex<path.length;ptIndex++)value[i++]=width})}},{key:"calculateDashArrays",value:function calculateDashArrays(attribute){var _this$props3=this.props,data=_this$props3.data,getDashArray=_this$props3.getDashArray;if(getDashArray){var paths=this.state.paths,value=attribute.value,i=0;paths.forEach(function(path,index){for(var dashArray=getDashArray(data[index],index),ptIndex=1;ptIndex<path.length;ptIndex++)value[i++]=dashArray[0],value[i++]=dashArray[1]})}}},{key:"calculateColors",value:function calculateColors(attribute){var _this$props4=this.props,data=_this$props4.data,getColor=_this$props4.getColor,paths=this.state.paths,value=attribute.value,i=0;paths.forEach(function(path,index){var pointColor=getColor(data[index],index);isNaN(pointColor[3])&&(pointColor[3]=255);for(var ptIndex=1;ptIndex<path.length;ptIndex++)value[i++]=pointColor[0],value[i++]=pointColor[1],value[i++]=pointColor[2],value[i++]=pointColor[3]})}},{key:"calculatePickingColors",value:function calculatePickingColors(attribute){var _this=this,paths=this.state.paths,value=attribute.value,i=0;paths.forEach(function(path,index){for(var pickingColor=_this.encodePickingColor(index),ptIndex=1;ptIndex<path.length;ptIndex++)value[i++]=pickingColor[0],value[i++]=pickingColor[1],value[i++]=pickingColor[2]})}}]),PathLayer}();PathLayer.layerName="PathLayer",PathLayer.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__transition_interpolator__=__webpack_require__(487);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_0__transition_interpolator__.a});var __WEBPACK_IMPORTED_MODULE_1__viewport_fly_to_interpolator__=__webpack_require__(1110);__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_1__viewport_fly_to_interpolator__.a});var __WEBPACK_IMPORTED_MODULE_2__linear_interpolator__=__webpack_require__(1111);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_2__linear_interpolator__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_math_gl__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_1_assert__=__webpack_require__(228),__WEBPACK_IMPORTED_MODULE_1_assert___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_assert__),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var TransitionInterpolator=function(){function TransitionInterpolator(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TransitionInterpolator)}return _createClass(TransitionInterpolator,[{key:"arePropsEqual",value:function arePropsEqual(currentProps,nextProps){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=(this.propNames||[])[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var key=_step.value;if(!Object(__WEBPACK_IMPORTED_MODULE_0_math_gl__.h)(currentProps[key],nextProps[key]))return!1}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return!0}},{key:"initializeProps",value:function initializeProps(startProps,endProps){return{start:startProps,end:endProps}}},{key:"interpolateProps",value:function interpolateProps(startProps,endProps,t){__WEBPACK_IMPORTED_MODULE_1_assert___default()(!1,"interpolateProps is not implemented")}}]),TransitionInterpolator}();__webpack_exports__.a=TransitionInterpolator},function(module,exports){module.exports=function(){throw new Error("define cannot be used indirect")}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__number__=__webpack_require__(229);__webpack_exports__.a=function(values,p,valueof){if(null==valueof&&(valueof=__WEBPACK_IMPORTED_MODULE_0__number__.a),n=values.length){if((p=+p)<=0||n<2)return+valueof(values[0],0,values);if(p>=1)return+valueof(values[n-1],n-1,values);var n,i=(n-1)*p,i0=Math.floor(i),value0=+valueof(values[i0],i0,values);return value0+(+valueof(values[i0+1],i0+1,values)-value0)*(i-i0)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return prefix});var prefix="$";function Map(){}function map(object,f){var map=new Map;if(object instanceof Map)object.each(function(value,key){map.set(key,value)});else if(Array.isArray(object)){var o,i=-1,n=object.length;if(null==f)for(;++i<n;)map.set(i,object[i]);else for(;++i<n;)map.set(f(o=object[i],i,object),o)}else if(object)for(var key in object)map.set(key,object[key]);return map}Map.prototype=map.prototype={constructor:Map,has:function(key){return prefix+key in this},get:function(key){return this[prefix+key]},set:function(key,value){return this[prefix+key]=value,this},remove:function(key){var property=prefix+key;return property in this&&delete this[property]},clear:function(){for(var property in this)property[0]===prefix&&delete this[property]},keys:function(){var keys=[];for(var property in this)property[0]===prefix&&keys.push(property.slice(1));return keys},values:function(){var values=[];for(var property in this)property[0]===prefix&&values.push(this[property]);return values},entries:function(){var entries=[];for(var property in this)property[0]===prefix&&entries.push({key:property.slice(1),value:this[property]});return entries},size:function(){var size=0;for(var property in this)property[0]===prefix&&++size;return size},empty:function(){for(var property in this)if(property[0]===prefix)return!1;return!0},each:function(f){for(var property in this)property[0]===prefix&&f(this[property],property.slice(1),this)}},__webpack_exports__.a=map},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=Color,__webpack_require__.d(__webpack_exports__,"d",function(){return darker}),__webpack_require__.d(__webpack_exports__,"c",function(){return brighter}),__webpack_exports__.e=color,__webpack_exports__.h=rgbConvert,__webpack_exports__.g=rgb,__webpack_exports__.b=Rgb,__webpack_exports__.f=hsl;var __WEBPACK_IMPORTED_MODULE_0__define__=__webpack_require__(492);function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex3=/^#([0-9a-f]{3})$/,reHex6=/^#([0-9a-f]{6})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color(format){var m;return format=(format+"").trim().toLowerCase(),(m=reHex3.exec(format))?new Rgb((m=parseInt(m[1],16))>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1):(m=reHex6.exec(format))?rgbn(parseInt(m[1],16)):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb(r,g,b,a)}function rgbConvert(o){return o instanceof Color||(o=color(o)),o?new Rgb((o=o.rgb()).r,o.g,o.b,o.opacity):new Rgb}function rgb(r,g,b,opacity){return 1===arguments.length?rgbConvert(r):new Rgb(r,g,b,null==opacity?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function hsla(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl(h,s,l,a)}function hsl(h,s,l,opacity){return 1===arguments.length?function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;var r=(o=o.rgb()).r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl(h,s,l,o.opacity)}(h):new Hsl(h,s,l,null==opacity?1:opacity)}function Hsl(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function hsl2rgb(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Color,color,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Rgb,rgb,Object(__WEBPACK_IMPORTED_MODULE_0__define__.b)(Color,{brighter:function(k){return k=null==k?brighter:Math.pow(brighter,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker:function(k){return k=null==k?darker:Math.pow(darker,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}})),Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Hsl,hsl,Object(__WEBPACK_IMPORTED_MODULE_0__define__.b)(Color,{brighter:function(k){return k=null==k?brighter:Math.pow(brighter,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},darker:function(k){return k=null==k?darker:Math.pow(darker,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype},__webpack_exports__.a=function(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(102),__WEBPACK_IMPORTED_MODULE_1__rgb__=__webpack_require__(658),__WEBPACK_IMPORTED_MODULE_2__array__=__webpack_require__(661),__WEBPACK_IMPORTED_MODULE_3__date__=__webpack_require__(662),__WEBPACK_IMPORTED_MODULE_4__number__=__webpack_require__(274),__WEBPACK_IMPORTED_MODULE_5__object__=__webpack_require__(663),__WEBPACK_IMPORTED_MODULE_6__string__=__webpack_require__(664),__WEBPACK_IMPORTED_MODULE_7__constant__=__webpack_require__(660);__webpack_exports__.a=function(a,b){var c,t=typeof b;return null==b||"boolean"===t?Object(__WEBPACK_IMPORTED_MODULE_7__constant__.a)(b):("number"===t?__WEBPACK_IMPORTED_MODULE_4__number__.a:"string"===t?(c=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.color)(b))?(b=c,__WEBPACK_IMPORTED_MODULE_1__rgb__.a):__WEBPACK_IMPORTED_MODULE_6__string__.a:b instanceof __WEBPACK_IMPORTED_MODULE_0_d3_color__.color?__WEBPACK_IMPORTED_MODULE_1__rgb__.a:b instanceof Date?__WEBPACK_IMPORTED_MODULE_3__date__.a:Array.isArray(b)?__WEBPACK_IMPORTED_MODULE_2__array__.a:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?__WEBPACK_IMPORTED_MODULE_5__object__.a:__WEBPACK_IMPORTED_MODULE_4__number__.a)(a,b)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function basis(t1,v0,v1,v2,v3){var t2=t1*t1,t3=t2*t1;return((1-3*t1+3*t2-t3)*v0+(4-6*t2+3*t3)*v1+(1+3*t1+3*t2-3*t3)*v2+t3*v3)/6}__webpack_exports__.a=basis,__webpack_exports__.b=function(values){var n=values.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),v1=values[i],v2=values[i+1],v0=i>0?values[i-1]:2*v1-v2,v3=i<n-1?values[i+2]:2*v2-v1;return basis((t-i/n)*n,v0,v1,v2,v3)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return function(){return x}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x,p){if((i=(x=p?x.toExponential(p-1):x.toExponential()).indexOf("e"))<0)return null;var i,coefficient=x.slice(0,i);return[coefficient.length>1?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(i+1)]}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(40);var __WEBPACK_IMPORTED_MODULE_1__src_millisecond__=__webpack_require__(1179);__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_1__src_millisecond__.a}),__webpack_require__.d(__webpack_exports__,"n",function(){return __WEBPACK_IMPORTED_MODULE_1__src_millisecond__.a});var __WEBPACK_IMPORTED_MODULE_2__src_second__=__webpack_require__(1180);__webpack_require__.d(__webpack_exports__,"g",function(){return __WEBPACK_IMPORTED_MODULE_2__src_second__.a}),__webpack_require__.d(__webpack_exports__,"r",function(){return __WEBPACK_IMPORTED_MODULE_2__src_second__.a});var __WEBPACK_IMPORTED_MODULE_3__src_minute__=__webpack_require__(1181);__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_3__src_minute__.a});var __WEBPACK_IMPORTED_MODULE_4__src_hour__=__webpack_require__(1182);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_4__src_hour__.a});var __WEBPACK_IMPORTED_MODULE_5__src_day__=__webpack_require__(1183);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_5__src_day__.a});var __WEBPACK_IMPORTED_MODULE_6__src_week__=__webpack_require__(1184);__webpack_require__.d(__webpack_exports__,"j",function(){return __WEBPACK_IMPORTED_MODULE_6__src_week__.b}),__webpack_require__.d(__webpack_exports__,"h",function(){return __WEBPACK_IMPORTED_MODULE_6__src_week__.b}),__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_6__src_week__.a}),__webpack_require__.d(__webpack_exports__,"i",function(){return __WEBPACK_IMPORTED_MODULE_6__src_week__.c});var __WEBPACK_IMPORTED_MODULE_7__src_month__=__webpack_require__(1185);__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_7__src_month__.a});var __WEBPACK_IMPORTED_MODULE_8__src_year__=__webpack_require__(1186);__webpack_require__.d(__webpack_exports__,"k",function(){return __WEBPACK_IMPORTED_MODULE_8__src_year__.a});var __WEBPACK_IMPORTED_MODULE_9__src_utcMinute__=__webpack_require__(1187);__webpack_require__.d(__webpack_exports__,"o",function(){return __WEBPACK_IMPORTED_MODULE_9__src_utcMinute__.a});var __WEBPACK_IMPORTED_MODULE_10__src_utcHour__=__webpack_require__(1188);__webpack_require__.d(__webpack_exports__,"m",function(){return __WEBPACK_IMPORTED_MODULE_10__src_utcHour__.a});var __WEBPACK_IMPORTED_MODULE_11__src_utcDay__=__webpack_require__(1189);__webpack_require__.d(__webpack_exports__,"l",function(){return __WEBPACK_IMPORTED_MODULE_11__src_utcDay__.a});var __WEBPACK_IMPORTED_MODULE_12__src_utcWeek__=__webpack_require__(1190);__webpack_require__.d(__webpack_exports__,"u",function(){return __WEBPACK_IMPORTED_MODULE_12__src_utcWeek__.b}),__webpack_require__.d(__webpack_exports__,"s",function(){return __WEBPACK_IMPORTED_MODULE_12__src_utcWeek__.b}),__webpack_require__.d(__webpack_exports__,"p",function(){return __WEBPACK_IMPORTED_MODULE_12__src_utcWeek__.a}),__webpack_require__.d(__webpack_exports__,"t",function(){return __WEBPACK_IMPORTED_MODULE_12__src_utcWeek__.c});var __WEBPACK_IMPORTED_MODULE_13__src_utcMonth__=__webpack_require__(1191);__webpack_require__.d(__webpack_exports__,"q",function(){return __WEBPACK_IMPORTED_MODULE_13__src_utcMonth__.a});var __WEBPACK_IMPORTED_MODULE_14__src_utcYear__=__webpack_require__(1192);__webpack_require__.d(__webpack_exports__,"v",function(){return __WEBPACK_IMPORTED_MODULE_14__src_utcYear__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return timeFormat}),__webpack_require__.d(__webpack_exports__,"b",function(){return utcFormat}),__webpack_require__.d(__webpack_exports__,"c",function(){return utcParse});var locale,timeFormat,utcFormat,utcParse,__WEBPACK_IMPORTED_MODULE_0__locale__=__webpack_require__(674);!function defaultLocale(definition){return locale=Object(__WEBPACK_IMPORTED_MODULE_0__locale__.a)(definition),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,utcParse=locale.utcParse,locale}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var d3Color=__importStar(__webpack_require__(102)),d3_interpolate_1=__webpack_require__(273),d3Scale=__importStar(__webpack_require__(656)),types_1=__webpack_require__(277);exports.DEFAULT_DIMMED_OPACITY=.05;var opacityFloatToIntegerScale=d3Scale.scaleLinear().domain([0,1]).range([0,255]);function opacityFloatToInteger(opacity){return Math.round(opacityFloatToIntegerScale(opacity))}function getDefaultLocationCircleOutgoingColor(baseColor){return d3Color.hcl(baseColor).brighter(3).rgb().toString()}function getDefaultLocationCircleIncomingColor(baseColor){return d3Color.hcl(baseColor).darker(1.25).rgb().toString()}exports.opacityFloatToInteger=opacityFloatToInteger,exports.colorAsArray=function colorAsArray(color){var rgbColor=d3Color.rgb(color);return[rgbColor.r,rgbColor.g,rgbColor.b,opacityFloatToInteger(rgbColor.opacity)]},exports.getDefaultDimmedColor=function getDefaultDimmedColor(opacity){return[0,0,0,opacityFloatToInteger(opacity||exports.DEFAULT_DIMMED_OPACITY)]},exports.createFlowColorScale=function createFlowColorScale(domain,range){return d3Scale.scalePow().exponent(1/3).interpolate(d3_interpolate_1.interpolateHcl).range(range).domain(domain)},exports.getLocationCircleColors=function getLocationCircleColors(colors,isPositive){var typedColors=types_1.isDiffColors(colors)?!0===isPositive?colors.positive:colors.negative:colors;if(!typedColors.locationCircles){var flowsColor=typedColors.flows.max;return{inner:flowsColor,outgoing:getDefaultLocationCircleOutgoingColor(flowsColor),incoming:getDefaultLocationCircleIncomingColor(flowsColor)}}var _a=typedColors.locationCircles,inner=_a.inner,outgoing=_a.outgoing,incoming=_a.incoming;return{inner:inner,outgoing:outgoing||getDefaultLocationCircleOutgoingColor(inner),incoming:incoming||getDefaultLocationCircleIncomingColor(inner)}},exports.getDefaultLocationAreaHighlightedColor=function getDefaultLocationAreaHighlightedColor(selectedColor){return d3Color.hcl(selectedColor).brighter(1).rgb().toString()},exports.getDefaultLocationAreaConnectedColor=function getDefaultLocationAreaConnectedColor(normalColor){return d3Color.hcl(normalColor).darker(1.25).rgb().toString()},exports.getDefaultFlowMinColor=function getDefaultFlowMinColor(maxColor){return d3Color.hcl(maxColor).brighter(2).rgb().toString()}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return x}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=conicEqualAreaRaw;var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1__conic__=__webpack_require__(502),__WEBPACK_IMPORTED_MODULE_2__cylindricalEqualArea__=__webpack_require__(1221);function conicEqualAreaRaw(y0,y1){var sy0=Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(y0),n=(sy0+Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(y1))/2;if(Object(__WEBPACK_IMPORTED_MODULE_0__math__.a)(n)<__WEBPACK_IMPORTED_MODULE_0__math__.i)return Object(__WEBPACK_IMPORTED_MODULE_2__cylindricalEqualArea__.a)(y0);var c=1+sy0*(2*n-sy0),r0=Object(__WEBPACK_IMPORTED_MODULE_0__math__.u)(c)/n;function project(x,y){var r=Object(__WEBPACK_IMPORTED_MODULE_0__math__.u)(c-2*n*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(y))/n;return[r*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(x*=n),r0-r*Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(x)]}return project.invert=function(x,y){var r0y=r0-y;return[Object(__WEBPACK_IMPORTED_MODULE_0__math__.e)(x,Object(__WEBPACK_IMPORTED_MODULE_0__math__.a)(r0y))/n*Object(__WEBPACK_IMPORTED_MODULE_0__math__.s)(r0y),Object(__WEBPACK_IMPORTED_MODULE_0__math__.c)((c-(x*x+r0y*r0y)*n*n)/(2*n))]},project}__webpack_exports__.b=function(){return Object(__WEBPACK_IMPORTED_MODULE_1__conic__.a)(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function conicProjection(projectAt){var phi0=0,phi1=__WEBPACK_IMPORTED_MODULE_0__math__.o/3,m=Object(__WEBPACK_IMPORTED_MODULE_1__index__.b)(projectAt),p=m(phi0,phi1);return p.parallels=function(_){return arguments.length?m(phi0=_[0]*__WEBPACK_IMPORTED_MODULE_0__math__.r,phi1=_[1]*__WEBPACK_IMPORTED_MODULE_0__math__.r):[phi0*__WEBPACK_IMPORTED_MODULE_0__math__.h,phi1*__WEBPACK_IMPORTED_MODULE_0__math__.h]},p};var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1__index__=__webpack_require__(73)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=fitExtent,__webpack_exports__.c=function fitSize(projection,size,object){return fitExtent(projection,[[0,0],size],object)},__webpack_exports__.d=function fitWidth(projection,width,object){return fit(projection,function(b){var w=+width,k=w/(b[1][0]-b[0][0]),x=(w-k*(b[1][0]+b[0][0]))/2,y=-k*b[0][1];projection.scale(150*k).translate([x,y])},object)},__webpack_exports__.b=function fitHeight(projection,height,object){return fit(projection,function(b){var h=+height,k=h/(b[1][1]-b[0][1]),x=-k*b[0][0],y=(h-k*(b[1][1]+b[0][1]))/2;projection.scale(150*k).translate([x,y])},object)};var __WEBPACK_IMPORTED_MODULE_0__stream__=__webpack_require__(144),__WEBPACK_IMPORTED_MODULE_1__path_bounds__=__webpack_require__(689);function fit(projection,fitBounds,object){var clip=projection.clipExtent&&projection.clipExtent();return projection.scale(150).translate([0,0]),null!=clip&&projection.clipExtent(null),Object(__WEBPACK_IMPORTED_MODULE_0__stream__.a)(object,projection.stream(__WEBPACK_IMPORTED_MODULE_1__path_bounds__.a)),fitBounds(__WEBPACK_IMPORTED_MODULE_1__path_bounds__.a.result()),null!=clip&&projection.clipExtent(clip),projection}function fitExtent(projection,extent,object){return fit(projection,function(b){var w=extent[1][0]-extent[0][0],h=extent[1][1]-extent[0][1],k=Math.min(w/(b[1][0]-b[0][0]),h/(b[1][1]-b[0][1])),x=+extent[0][0]+(w-k*(b[1][0]+b[0][0]))/2,y=+extent[0][1]+(h-k*(b[1][1]+b[0][1]))/2;projection.scale(150*k).translate([x,y])},object)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.c=mercatorRaw,__webpack_exports__.b=mercatorProjection;var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1__rotation__=__webpack_require__(278),__WEBPACK_IMPORTED_MODULE_2__index__=__webpack_require__(73);function mercatorRaw(lambda,phi){return[lambda,Object(__WEBPACK_IMPORTED_MODULE_0__math__.n)(Object(__WEBPACK_IMPORTED_MODULE_0__math__.v)((__WEBPACK_IMPORTED_MODULE_0__math__.l+phi)/2))]}function mercatorProjection(project){var y0,x1,y1,m=Object(__WEBPACK_IMPORTED_MODULE_2__index__.a)(project),center=m.center,scale=m.scale,translate=m.translate,clipExtent=m.clipExtent,x0=null;function reclip(){var k=__WEBPACK_IMPORTED_MODULE_0__math__.o*scale(),t=m(Object(__WEBPACK_IMPORTED_MODULE_1__rotation__.a)(m.rotate()).invert([0,0]));return clipExtent(null==x0?[[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]]:project===mercatorRaw?[[Math.max(t[0]-k,x0),y0],[Math.min(t[0]+k,x1),y1]]:[[x0,Math.max(t[1]-k,y0)],[x1,Math.min(t[1]+k,y1)]])}return m.scale=function(_){return arguments.length?(scale(_),reclip()):scale()},m.translate=function(_){return arguments.length?(translate(_),reclip()):translate()},m.center=function(_){return arguments.length?(center(_),reclip()):center()},m.clipExtent=function(_){return arguments.length?(null==_?x0=y0=x1=y1=null:(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reclip()):null==x0?null:[[x0,y0],[x1,y1]]},reclip()}mercatorRaw.invert=function(x,y){return[x,2*Object(__WEBPACK_IMPORTED_MODULE_0__math__.d)(Object(__WEBPACK_IMPORTED_MODULE_0__math__.k)(y))-__WEBPACK_IMPORTED_MODULE_0__math__.l]},__webpack_exports__.a=function(){return mercatorProjection(mercatorRaw).scale(961/__WEBPACK_IMPORTED_MODULE_0__math__.w)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linkTo=exports.action=exports.forceReRender=exports.getStorybook=exports.configure=exports.addDecorator=exports.setAddon=exports.storiesOf=void 0;var _preview=__webpack_require__(772);Object.defineProperty(exports,"storiesOf",{enumerable:!0,get:function get(){return _preview.storiesOf}}),Object.defineProperty(exports,"setAddon",{enumerable:!0,get:function get(){return _preview.setAddon}}),Object.defineProperty(exports,"addDecorator",{enumerable:!0,get:function get(){return _preview.addDecorator}}),Object.defineProperty(exports,"configure",{enumerable:!0,get:function get(){return _preview.configure}}),Object.defineProperty(exports,"getStorybook",{enumerable:!0,get:function get(){return _preview.getStorybook}}),Object.defineProperty(exports,"forceReRender",{enumerable:!0,get:function get(){return _preview.forceReRender}});var _utilDeprecate2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(845)),_addonActions=__webpack_require__(550),_addonLinks=__webpack_require__(556);exports.action=(0,_utilDeprecate2.default)(_addonActions.action,"@storybook/react action is deprecated. See: https://github.com/storybooks/storybook/tree/master/addons/actions"),exports.linkTo=(0,_utilDeprecate2.default)(_addonLinks.linkTo,"@storybook/react linkTo is deprecated. See: https://github.com/storybooks/storybook/tree/master/addons/links")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ActionTypes}),__webpack_exports__.b=function createStore(reducer,preloadedState,enhancer){var _ref2;"function"==typeof preloadedState&&void 0===enhancer&&(enhancer=preloadedState,preloadedState=void 0);if(void 0!==enhancer){if("function"!=typeof enhancer)throw new Error("Expected the enhancer to be a function.");return enhancer(createStore)(reducer,preloadedState)}if("function"!=typeof reducer)throw new Error("Expected the reducer to be a function.");var currentReducer=reducer;var currentState=preloadedState;var currentListeners=[];var nextListeners=currentListeners;var isDispatching=!1;function ensureCanMutateNextListeners(){nextListeners===currentListeners&&(nextListeners=currentListeners.slice())}function getState(){return currentState}function subscribe(listener){if("function"!=typeof listener)throw new Error("Expected listener to be a function.");var isSubscribed=!0;return ensureCanMutateNextListeners(),nextListeners.push(listener),function unsubscribe(){if(isSubscribed){isSubscribed=!1,ensureCanMutateNextListeners();var index=nextListeners.indexOf(listener);nextListeners.splice(index,1)}}}function dispatch(action){if(!Object(__WEBPACK_IMPORTED_MODULE_0_lodash_es_isPlainObject__.a)(action))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===action.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(isDispatching)throw new Error("Reducers may not dispatch actions.");try{isDispatching=!0,currentState=currentReducer(currentState,action)}finally{isDispatching=!1}for(var listeners=currentListeners=nextListeners,i=0;i<listeners.length;i++){var listener=listeners[i];listener()}return action}dispatch({type:ActionTypes.INIT});return _ref2={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:function replaceReducer(nextReducer){if("function"!=typeof nextReducer)throw new Error("Expected the nextReducer to be a function.");currentReducer=nextReducer,dispatch({type:ActionTypes.INIT})}},_ref2[__WEBPACK_IMPORTED_MODULE_1_symbol_observable__.a]=function observable(){var _ref,outerSubscribe=subscribe;return(_ref={subscribe:function subscribe(observer){if("object"!=typeof observer)throw new TypeError("Expected the observer to be an object.");function observeState(){observer.next&&observer.next(getState())}observeState();var unsubscribe=outerSubscribe(observeState);return{unsubscribe:unsubscribe}}})[__WEBPACK_IMPORTED_MODULE_1_symbol_observable__.a]=function(){return this},_ref},_ref2};var __WEBPACK_IMPORTED_MODULE_0_lodash_es_isPlainObject__=__webpack_require__(542),__WEBPACK_IMPORTED_MODULE_1_symbol_observable__=__webpack_require__(782),ActionTypes={INIT:"@@redux/INIT"}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__baseGetTag_js__=__webpack_require__(774),__WEBPACK_IMPORTED_MODULE_1__getPrototype_js__=__webpack_require__(779),__WEBPACK_IMPORTED_MODULE_2__isObjectLike_js__=__webpack_require__(781),objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);__webpack_exports__.a=function isPlainObject(value){if(!Object(__WEBPACK_IMPORTED_MODULE_2__isObjectLike_js__.a)(value)||Object(__WEBPACK_IMPORTED_MODULE_0__baseGetTag_js__.a)(value)!=objectTag)return!1;var proto=Object(__WEBPACK_IMPORTED_MODULE_1__getPrototype_js__.a)(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}},function(module,__webpack_exports__,__webpack_require__){"use strict";var Symbol=__webpack_require__(775).a.Symbol;__webpack_exports__.a=Symbol},function(module,__webpack_exports__,__webpack_require__){"use strict"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function compose(){for(var _len=arguments.length,funcs=Array(_len),_key=0;_key<_len;_key++)funcs[_key]=arguments[_key];if(0===funcs.length)return function(arg){return arg};if(1===funcs.length)return funcs[0];return funcs.reduce(function(a,b){return function(){return a(b.apply(void 0,arguments))}})}},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var console=global.console;exports.logger={info:function info(message){return console.log(message)},warn:function warn(message){return console.warn(message)},error:function error(message){return console.error(message)}}}).call(exports,__webpack_require__(13))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _keys2=_interopRequireDefault(__webpack_require__(49)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(22)),_classCallCheck3=_interopRequireDefault(__webpack_require__(8)),_createClass3=_interopRequireDefault(__webpack_require__(9)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(23)),_inherits3=_interopRequireDefault(__webpack_require__(24));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var count=0;function getId(){return count+=1}var StoryStore=function(_EventEmitter){function StoryStore(){(0,_classCallCheck3.default)(this,StoryStore);var _this=(0,_possibleConstructorReturn3.default)(this,(StoryStore.__proto__||(0,_getPrototypeOf2.default)(StoryStore)).call(this));return _this._data={},_this._revision=0,_this}return(0,_inherits3.default)(StoryStore,_EventEmitter),(0,_createClass3.default)(StoryStore,[{key:"getRevision",value:function getRevision(){return this._revision}},{key:"incrementRevision",value:function incrementRevision(){this._revision+=1}},{key:"addStory",value:function addStory(kind,name,fn,fileName){this._data[kind]||(this._data[kind]={kind:kind,fileName:fileName,index:getId(),stories:{}}),this._data[kind].stories[name]={name:name,index:getId(),fn:fn},this.emit("storyAdded",kind,name,fn)}},{key:"getStoryKinds",value:function getStoryKinds(){var _this2=this;return(0,_keys2.default)(this._data).map(function(key){return _this2._data[key]}).filter(function(kind){return(0,_keys2.default)(kind.stories).length>0}).sort(function(info1,info2){return info1.index-info2.index}).map(function(info){return info.kind})}},{key:"getStories",value:function getStories(kind){var _this3=this;return this._data[kind]?(0,_keys2.default)(this._data[kind].stories).map(function(name){return _this3._data[kind].stories[name]}).sort(function(info1,info2){return info1.index-info2.index}).map(function(info){return info.name}):[]}},{key:"getStoryFileName",value:function getStoryFileName(kind){var storiesKind=this._data[kind];return storiesKind?storiesKind.fileName:null}},{key:"getStory",value:function getStory(kind,name){var storiesKind=this._data[kind];if(!storiesKind)return null;var storyInfo=storiesKind.stories[name];return storyInfo?storyInfo.fn:null}},{key:"removeStoryKind",value:function removeStoryKind(kind){this.hasStoryKind(kind)&&(this._data[kind].stories={})}},{key:"hasStoryKind",value:function hasStoryKind(kind){return Boolean(this._data[kind])}},{key:"hasStory",value:function hasStory(kind,name){return Boolean(this.getStory(kind,name))}},{key:"dumpStoryBook",value:function dumpStoryBook(){var _this4=this;return this.getStoryKinds().map(function(kind){return{kind:kind,stories:_this4.getStories(kind)}})}},{key:"size",value:function size(){return(0,_keys2.default)(this._data).length}},{key:"clean",value:function clean(){var _this5=this;this.getStoryKinds().forEach(function(kind){return delete _this5._data[kind]})}}]),StoryStore}(__webpack_require__(430).EventEmitter);exports.default=StoryStore},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__replaceSubstitutionTransformer__=__webpack_require__(807);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__replaceSubstitutionTransformer__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__removeNonPrintingValuesTransformer__=__webpack_require__(812);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__removeNonPrintingValuesTransformer__.a})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.decorateAction=exports.configureActions=exports.action=exports.EVENT_ID=exports.PANEL_ID=exports.ADDON_ID=void 0;var _preview=__webpack_require__(551),ADDON_ID=exports.ADDON_ID="storybook/actions";exports.PANEL_ID=ADDON_ID+"/actions-panel",exports.EVENT_ID=ADDON_ID+"/action-event";exports.action=_preview.action,exports.configureActions=_preview.configureActions,exports.decorateAction=_preview.decorateAction},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _action=__webpack_require__(846);Object.defineProperty(exports,"action",{enumerable:!0,get:function get(){return _interopRequireDefault(_action).default}});var _configureActions=__webpack_require__(555);Object.defineProperty(exports,"configureActions",{enumerable:!0,get:function get(){return _configureActions.configureActions}});var _decorateAction=__webpack_require__(894);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"decorateAction",{enumerable:!0,get:function get(){return _interopRequireDefault(_decorateAction).default}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var nameDescriptor=(0,function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(850)).default)(function unnamed(){},"name"),canConfigureName=!nameDescriptor||nameDescriptor.configurable;exports.default=canConfigureName},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function configureDepth(obj){var depth=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return obj[DEPTH_KEY]=depth,obj};var DEPTH_KEY=exports.DEPTH_KEY="$___storybook.depthKey"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _util=__webpack_require__(254);exports.default=function reviver(key,value){if((0,_util.isObject)(value)){var result=(0,_util.typeReviver)(value);if(result)return result.value}return value}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.config=void 0;var _assign2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(81));exports.configureActions=function configureActions(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,_assign2.default)(config,options)};var config=exports.config={depth:10}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _preview=__webpack_require__(895);Object.defineProperty(exports,"linkTo",{enumerable:!0,get:function get(){return _preview.linkTo}}),Object.defineProperty(exports,"hrefTo",{enumerable:!0,get:function get(){return _preview.hrefTo}}),exports.LinkTo=function LinkTo(){hasWarned||(console.error("\nLinkTo has moved to addon-links/react:\n\nimport LinkTo from '@storybook/addon-links/react';\n    "),hasWarned=!0);return null};var ADDON_ID=exports.ADDON_ID="storybook/links",hasWarned=(exports.EVENT_ID=ADDON_ID+"/link-event",exports.REQUEST_HREF_EVENT_ID=ADDON_ID+"/request-href-event",exports.RECEIVE_HREF_EVENT_ID=ADDON_ID+"/receive-href-event",!1)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.startTimestamp=void 0,exports.getTimestamp=getTimestamp;var _globals=__webpack_require__(153);function getTimestamp(){if(!_globals.isBrowser){var secondsAndNanoseconds=_globals.process.hrtime();return secondsAndNanoseconds[0]+secondsAndNanoseconds[1]/1e6}return _globals.window.performance?_globals.window.performance.now():Date.now()}exports.startTimestamp=getTimestamp()},function(module,exports,__webpack_require__){"use strict";function getSISuffix(multipleOf3){var SI_SUFFIXES={0:"",1:"K",2:"M",3:"G","-1":"m","-2":"µ","-3":"n"},key=multipleOf3+"";return key in SI_SUFFIXES?SI_SUFFIXES[key]:"e"+3*multipleOf3}function formatValue(v){var _Mathabs=Math.abs,opts=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},_opts$isInteger=opts.isInteger,isInteger=void 0!==_opts$isInteger&&_opts$isInteger;if(Array.isArray(v)||ArrayBuffer.isView(v))return function formatArrayValue(v,opts){for(var _opts$maxElts=opts.maxElts,maxElts=void 0===_opts$maxElts?16:_opts$maxElts,_opts$size=opts.size,size=void 0===_opts$size?1:_opts$size,string="[",i=0;i<v.length&&i<maxElts;++i)0<i&&(string+=","+(0==i%size?" ":"")),string+=formatValue(v[i],opts);var terminator=v.length>maxElts?"...":"]";return""+string+terminator}(v,opts);if(!Number.isFinite(v))return v+"";if(_Mathabs(v)<1e-16)return isInteger?"0":"0.";if(isInteger)return v.toFixed(0);if(100<_Mathabs(v)&&1e4>_Mathabs(v))return v.toFixed(0);var string=v.toPrecision(2);return string.indexOf(".0")===string.length-2?string.slice(0,-1):string}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatTime=function formatTime(ms){return 10>ms?ms.toFixed(2)+"ms":100>ms?ms.toFixed(1)+"ms":1e3>ms?ms.toFixed(0)+"ms":(ms/1e3).toFixed(2)+"s"},exports.leftPad=function leftPad(string){var length=1<arguments.length&&void 0!==arguments[1]?arguments[1]:8,padLength=Math.max(length-string.length,0);return""+" ".repeat(padLength)+string},exports.rightPad=function rightPad(string){var length=1<arguments.length&&void 0!==arguments[1]?arguments[1]:8,padLength=Math.max(length-string.length,0);return""+string+" ".repeat(padLength)},exports.getSISuffix=getSISuffix,exports.formatSI=function formatSI(number){var precision=1<arguments.length&&void 0!==arguments[1]?arguments[1]:3,_splitIntoBaseAndExpo=function splitIntoBaseAndExponent(number){var base=number,exponent=0;if(0!==number){for(;10<=base||-10>=base;)base/=10,exponent++;for(;1>base&&-1<base;)base*=10,exponent--}return{base:base,exponent:exponent}}(number),base=_splitIntoBaseAndExpo.base,exponent=_splitIntoBaseAndExpo.exponent,multipleOf3=Math.floor(exponent/3);return""+(base*Math.pow(10,exponent-3*multipleOf3)).toPrecision(precision)+getSISuffix(multipleOf3)},exports.formatValue=formatValue,exports.formatImage=function formatImage(image,message,scale){var _Mathfloor=Math.floor,maxWidth=3<arguments.length&&void 0!==arguments[3]?arguments[3]:600,imageUrl=image.src.replace(/\(/g,"%28").replace(/\)/g,"%29");image.width>maxWidth&&(scale=Math.min(scale,maxWidth/image.width));var width=image.width*scale,height=image.height*scale,style=["font-size:1px;","padding:"+_Mathfloor(height/2)+"px "+_Mathfloor(width/2)+"px;","line-height:"+height+"px;","background:url("+imageUrl+");","background-size:"+width+"px "+height+"px;","color:transparent;"].join("");return[message+" %c+",style]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.COLOR=void 0,exports.addColor=function addColor(string,color,background){return _globals.isBrowser||"string"!=typeof string||(color&&(color=getColor(color),string="["+color+"m"+string+"[39m"),background&&(color=getColor(background),string="["+(background+10)+"m"+string+"[49m")),string};var _globals=__webpack_require__(153),COLOR=exports.COLOR={BLACK:30,RED:31,GREEN:32,YELLOW:33,BLUE:34,MAGENTA:35,CYAN:36,WHITE:37,BRIGHT_BLACK:90,BRIGHT_RED:91,BRIGHT_GREEN:92,BRIGHT_YELLOW:93,BRIGHT_BLUE:94,BRIGHT_MAGENTA:95,BRIGHT_CYAN:96,BRIGHT_WHITE:97};function getColor(color){return"string"==typeof color?COLOR[color.toUpperCase()]||COLOR.WHITE:color}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_exports__.initializeShaderModules=initializeShaderModules;var __WEBPACK_IMPORTED_MODULE_0_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_1__shaderlib_project_project__=__webpack_require__(223),__WEBPACK_IMPORTED_MODULE_2__shaderlib_project32_project32__=__webpack_require__(1009),__WEBPACK_IMPORTED_MODULE_3__shaderlib_project64_project64__=__webpack_require__(606),__WEBPACK_IMPORTED_MODULE_4__shaderlib_lighting_lighting__=__webpack_require__(607);function initializeShaderModules(){Object(__WEBPACK_IMPORTED_MODULE_0_luma_gl__.registerShaderModules)([__WEBPACK_IMPORTED_MODULE_0_luma_gl__.fp32,__WEBPACK_IMPORTED_MODULE_0_luma_gl__.fp64,__WEBPACK_IMPORTED_MODULE_1__shaderlib_project_project__.a,__WEBPACK_IMPORTED_MODULE_2__shaderlib_project32_project32__.a,__WEBPACK_IMPORTED_MODULE_3__shaderlib_project64_project64__.a,__WEBPACK_IMPORTED_MODULE_4__shaderlib_lighting_lighting__.a,__WEBPACK_IMPORTED_MODULE_0_luma_gl__.picking]),Object(__WEBPACK_IMPORTED_MODULE_0_luma_gl__.setDefaultShaderModules)([__WEBPACK_IMPORTED_MODULE_1__shaderlib_project_project__.a])}__webpack_require__.d(__webpack_exports__,"fp32",function(){return __WEBPACK_IMPORTED_MODULE_0_luma_gl__.fp32}),__webpack_require__.d(__webpack_exports__,"fp64",function(){return __WEBPACK_IMPORTED_MODULE_0_luma_gl__.fp64}),__webpack_require__.d(__webpack_exports__,"picking",function(){return __WEBPACK_IMPORTED_MODULE_0_luma_gl__.picking}),__webpack_require__.d(__webpack_exports__,"project",function(){return __WEBPACK_IMPORTED_MODULE_1__shaderlib_project_project__.a}),__webpack_require__.d(__webpack_exports__,"project64",function(){return __WEBPACK_IMPORTED_MODULE_3__shaderlib_project64_project64__.a}),__webpack_require__.d(__webpack_exports__,"lighting",function(){return __WEBPACK_IMPORTED_MODULE_4__shaderlib_lighting_lighting__.a}),initializeShaderModules()},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__utils_is_browser__=__webpack_require__(257),__WEBPACK_IMPORTED_MODULE_1__utils_globals__=__webpack_require__(218),__WEBPACK_IMPORTED_MODULE_2__utils_log__=__webpack_require__(562);__webpack_require__.d(__webpack_exports__,"global",function(){return __WEBPACK_IMPORTED_MODULE_1__utils_globals__.a});if(__WEBPACK_IMPORTED_MODULE_1__utils_globals__.a.luma&&"5.3.0"!==__WEBPACK_IMPORTED_MODULE_1__utils_globals__.a.luma.VERSION)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(__WEBPACK_IMPORTED_MODULE_1__utils_globals__.a.luma.VERSION," vs ").concat("5.3.0"));__WEBPACK_IMPORTED_MODULE_1__utils_globals__.a.luma||(__WEBPACK_IMPORTED_MODULE_0__utils_is_browser__.a&&__WEBPACK_IMPORTED_MODULE_2__utils_log__.a.log(0,"luma.gl ".concat("5.3.0"," - ").concat("set luma.log.priority=1 (or higher) to trace rendering"))(),__WEBPACK_IMPORTED_MODULE_1__utils_globals__.a.luma=__WEBPACK_IMPORTED_MODULE_1__utils_globals__.a.luma||{VERSION:"5.3.0",version:"5.3.0",log:__WEBPACK_IMPORTED_MODULE_2__utils_log__.a,stats:{},globals:{modules:{},nodeIO:{}}}),__webpack_exports__.default=__WEBPACK_IMPORTED_MODULE_1__utils_globals__.a.luma},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_probe_gl__=__webpack_require__(256);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_probe_gl__);__webpack_exports__.a=new __WEBPACK_IMPORTED_MODULE_0_probe_gl__.Log({id:"luma"}).enable()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.c=isWebGL,__webpack_exports__.d=isWebGL2,__webpack_exports__.b=function assertWebGLContext(gl){Object(__WEBPACK_IMPORTED_MODULE_1__utils_assert__.a)(isWebGL(gl),ERR_CONTEXT)},__webpack_exports__.a=function assertWebGL2Context(gl){Object(__WEBPACK_IMPORTED_MODULE_1__utils_assert__.a)(isWebGL2(gl),ERR_WEBGL2)};var __WEBPACK_IMPORTED_MODULE_0__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_1__utils_assert__=__webpack_require__(3);function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}var GL_ARRAY_BUFFER=34962,GL_TEXTURE_BINDING_3D=32874,ERR_CONTEXT="Invalid WebGLRenderingContext",ERR_WEBGL2="Requires WebGL2";function isWebGL(gl){return Boolean(gl&&(_instanceof(gl,__WEBPACK_IMPORTED_MODULE_0__webgl_utils__.c)||gl.ARRAY_BUFFER===GL_ARRAY_BUFFER))}function isWebGL2(gl){return Boolean(gl&&(_instanceof(gl,__WEBPACK_IMPORTED_MODULE_0__webgl_utils__.a)||gl.TEXTURE_BINDING_3D===GL_TEXTURE_BINDING_3D))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function getShaderName(shader){var match=shader.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return match?match[1]:"unnamed"},__webpack_exports__.b=function getShaderTypeName(type){switch(type){case GL_FRAGMENT_SHADER:return"fragment";case GL_VERTEX_SHADER:return"vertex";default:return"unknown type"}};var GL_FRAGMENT_SHADER=35632,GL_VERTEX_SHADER=35633},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_exports__.a=function createHeadlessContext(_ref){var width=_ref.width,height=_ref.height,opts=_ref.opts,onError=_ref.onError,webgl1=opts.webgl1;if(opts.webgl2&&!webgl1)return onError("headless-gl does not support WebGL2");if(!headlessGL)return onError(ERR_HEADLESSGL_NOT_AVAILABLE);var gl=headlessGL(width,height,opts);if(!gl)return onError(ERR_HEADLESSGL_FAILED);return gl};var __WEBPACK_IMPORTED_MODULE_0__utils_is_browser__=__webpack_require__(257),ERR_HEADLESSGL_NOT_AVAILABLE="Failed to create WebGL context in Node.js, headless gl not available",ERR_HEADLESSGL_FAILED="Failed to create WebGL context in Node.js, headless gl returned null",headlessGL=null;if(!__WEBPACK_IMPORTED_MODULE_0__utils_is_browser__.a)try{headlessGL=module.require("gl")}catch(error){console.error(),console.error("".concat('WebGL not available in Node.js, install using "npm install gl".',"\n").concat(error.message))}__WEBPACK_IMPORTED_MODULE_0__utils_is_browser__.a}).call(__webpack_exports__,__webpack_require__(240)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return pageLoadPromise}),__webpack_exports__.c=getPageLoadPromise,__webpack_exports__.a=createCanvas,__webpack_exports__.b=function getCanvas(_ref2){var targetCanvas,canvas=_ref2.canvas,width=_ref2.width,height=_ref2.height,_ref2$onError=_ref2.onError,onError=void 0===_ref2$onError?function(){}:_ref2$onError;"string"==typeof canvas?(isPageLoaded||onError("createGLContext called on canvas '".concat(canvas,"' before page was loaded")),targetCanvas=document.getElementById(canvas)):targetCanvas=canvas||createCanvas({id:"lumagl-canvas",width:width,height:height,onError:onError});return targetCanvas};var isPage=__webpack_require__(15).c&&"undefined"!=typeof document,isPageLoaded=isPage&&"complete"===document.readyState,pageLoadPromise=isPage?new Promise(function(resolve,reject){isPageLoaded?resolve(document):window.onload=function(){isPageLoaded=!0,resolve(document)}}):Promise.resolve({});function getPageLoadPromise(){return pageLoadPromise}function createCanvas(_ref){var _ref$width=_ref.width,width=void 0===_ref$width?800:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?600:_ref$height,_ref$id=_ref.id,id=void 0===_ref$id?"gl-canvas":_ref$id,_ref$insert=_ref.insert,insert=void 0===_ref$insert||_ref$insert,canvas=document.createElement("canvas");return canvas.id=id,canvas.style.width=Number.isFinite(width)?"".concat(width,"px"):"100%",canvas.style.height=Number.isFinite(height)?"".concat(height,"px"):"100%",insert&&getPageLoadPromise().then(function(document){var body=document.body;body.insertBefore(canvas,body.firstChild)}),canvas}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function createBrowserContext(_ref){var canvas=_ref.canvas,_ref$opts=_ref.opts,opts=void 0===_ref$opts?{}:_ref$opts,_ref$onError=_ref.onError,onError=void 0===_ref$onError?function(message){return null}:_ref$onError;function onContextCreationError(error){onError("WebGL context: ".concat(error.statusMessage||"Unknown error"))}canvas.addEventListener("webglcontextcreationerror",onContextCreationError,!1);var _opts$webgl=opts.webgl1,webgl1=void 0===_opts$webgl||_opts$webgl,_opts$webgl2=opts.webgl2,webgl2=void 0===_opts$webgl2||_opts$webgl2,gl=null;webgl2&&(gl=(gl=gl||canvas.getContext("webgl2",opts))||canvas.getContext("experimental-webgl2",opts));webgl1&&(gl=(gl=gl||canvas.getContext("webgl",opts))||canvas.getContext("experimental-webgl",opts));if(canvas.removeEventListener("webglcontextcreationerror",onContextCreationError,!1),!gl)return onError("Failed to create ".concat(webgl2&&!webgl1?"WebGL2":"WebGL"," context"));return gl},__webpack_exports__.b=function trackContextCreation(_ref2){var _ref2$onContextCreate=_ref2.onContextCreate,onContextCreate=void 0===_ref2$onContextCreate?function(){return null}:_ref2$onContextCreate,_ref2$onContextCreate2=_ref2.onContextCreated,onContextCreated=void 0===_ref2$onContextCreate2?function(){}:_ref2$onContextCreate2;if(Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(onContextCreate||onContextCreated),"undefined"!=typeof HTMLCanvasElement){var getContext=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function getContextSpy(type,opts){var context;return"webgl"===type&&(context=onContextCreate({canvas:this,type:type,opts:opts,getContext:getContext.bind(this)})),function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(context=context||getContext.call(this,type,opts),WebGLRenderingContext)&&onContextCreated({canvas:this,context:context,type:type,opts:opts}),context}}};var __WEBPACK_IMPORTED_MODULE_0__utils_assert__=__webpack_require__(3)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return GL_PARAMETER_DEFAULTS}),__webpack_exports__.f=function setParameter(gl,key,value){var getter=GL_PARAMETER_GETTERS[key],prevValue=getter?getter(gl,Number(key)):gl.getParameter(Number(key)),setter=GL_PARAMETER_SETTERS[key];return Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)("function"==typeof setter),setter(gl,value,Number(key)),prevValue},__webpack_exports__.g=setParameters,__webpack_exports__.c=getParameter,__webpack_exports__.d=getParameters,__webpack_exports__.e=function resetParameters(gl){setParameters(gl,function getDefaultParameters(gl){return Object.assign({},GL_PARAMETER_DEFAULTS,{})}())},__webpack_exports__.b=function getModifiedParameters(gl){var values=getParameters(GL_PARAMETER_DEFAULTS),modified={};for(var key in GL_PARAMETER_DEFAULTS)deepArrayEqual(values[key],GL_PARAMETER_DEFAULTS[key])||(modified[key]=values[key]);return modified};var _GL_PARAMETER_DEFAULT,_GL_PARAMETER_SETTERS,_GL_PARAMETER_GETTERS,__WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_2__utils_assert__=__webpack_require__(3);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var GL_PARAMETER_DEFAULTS=(_defineProperty(_GL_PARAMETER_DEFAULT={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND,!1),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_COLOR,new Float32Array([0,0,0,0])),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_EQUATION_RGB,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FUNC_ADD),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_EQUATION_ALPHA,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FUNC_ADD),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_SRC_RGB,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ONE),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_DST_RGB,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ZERO),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_SRC_ALPHA,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ONE),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_DST_ALPHA,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ZERO),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.COLOR_CLEAR_VALUE,new Float32Array([0,0,0,0])),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.COLOR_WRITEMASK,[!0,!0,!0,!0]),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.CULL_FACE,!1),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.CULL_FACE_MODE,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BACK),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_TEST,!1),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_CLEAR_VALUE,1),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_FUNC,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.LESS),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_RANGE,new Float32Array([0,1])),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_WRITEMASK,!0),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DITHER,!0),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAMEBUFFER_BINDING,null),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT_FACE,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.CCW),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.GENERATE_MIPMAP_HINT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DONT_CARE),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.LINE_WIDTH,1),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.POLYGON_OFFSET_FILL,!1),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.POLYGON_OFFSET_FACTOR,0),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.POLYGON_OFFSET_UNITS,0),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SAMPLE_COVERAGE_VALUE,1),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SAMPLE_COVERAGE_INVERT,!1),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SCISSOR_TEST,!1),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SCISSOR_BOX,new Int32Array([0,0,1024,1024])),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_TEST,!1),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_CLEAR_VALUE,0),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_WRITEMASK,4294967295),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_WRITEMASK,4294967295),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_FUNC,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ALWAYS),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_REF,0),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_VALUE_MASK,4294967295),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_FUNC,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.ALWAYS),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_REF,0),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_VALUE_MASK,4294967295),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_FAIL,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.KEEP),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_PASS_DEPTH_FAIL,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.KEEP),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_PASS_DEPTH_PASS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.KEEP),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_FAIL,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.KEEP),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_PASS_DEPTH_FAIL,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.KEEP),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_PASS_DEPTH_PASS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.KEEP),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.VIEWPORT,new Int32Array([0,0,1024,1024])),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.PACK_ALIGNMENT,4),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_ALIGNMENT,4),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_FLIP_Y_WEBGL,!1),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_COLORSPACE_CONVERSION_WEBGL,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BROWSER_DEFAULT_WEBGL),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAGMENT_SHADER_DERIVATIVE_HINT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DONT_CARE),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.READ_FRAMEBUFFER_BINDING,null),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RASTERIZER_DISCARD,!1),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.PACK_ROW_LENGTH,0),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.PACK_SKIP_PIXELS,0),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.PACK_SKIP_ROWS,0),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_ROW_LENGTH,0),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_IMAGE_HEIGHT,0),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_SKIP_PIXELS,0),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_SKIP_ROWS,0),_defineProperty(_GL_PARAMETER_DEFAULT,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_SKIP_IMAGES,0),_GL_PARAMETER_DEFAULT),enable=function enable(gl,value,key){return value?gl.enable(key):gl.disable(key)},hint=function hint(gl,value,key){return gl.hint(key,value)},pixelStorei=function pixelStorei(gl,value,key){return gl.pixelStorei(key,value)},GL_PARAMETER_SETTERS=(_defineProperty(_GL_PARAMETER_SETTERS={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND,enable),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_COLOR,function(gl,value){return gl.blendColor.apply(gl,_toConsumableArray(value))}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_EQUATION_RGB,"blendEquation"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_EQUATION_ALPHA,"blendEquation"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_SRC_RGB,"blendFunc"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_DST_RGB,"blendFunc"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_SRC_ALPHA,"blendFunc"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_DST_ALPHA,"blendFunc"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.COLOR_CLEAR_VALUE,function(gl,value){return gl.clearColor.apply(gl,_toConsumableArray(value))}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.COLOR_WRITEMASK,function(gl,value){return gl.colorMask.apply(gl,_toConsumableArray(value))}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.CULL_FACE,enable),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.CULL_FACE_MODE,function(gl,value){return gl.cullFace(value)}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_TEST,enable),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_CLEAR_VALUE,function(gl,value){return gl.clearDepth(value)}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_FUNC,function(gl,value){return gl.depthFunc(value)}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_RANGE,function(gl,value){return gl.depthRange.apply(gl,_toConsumableArray(value))}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_WRITEMASK,function(gl,value){return gl.depthMask(value)}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DITHER,enable),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAGMENT_SHADER_DERIVATIVE_HINT,hint),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAMEBUFFER_BINDING,function drawFramebuffer(gl,value){var target=Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.l)(gl)?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DRAW_FRAMEBUFFER:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRAMEBUFFER;return gl.bindFramebuffer(target,value)}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT_FACE,function(gl,value){return gl.frontFace(value)}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.GENERATE_MIPMAP_HINT,hint),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.LINE_WIDTH,function(gl,value){return gl.lineWidth(value)}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.POLYGON_OFFSET_FILL,enable),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.POLYGON_OFFSET_FACTOR,"polygonOffset"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.POLYGON_OFFSET_UNITS,"polygonOffset"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RASTERIZER_DISCARD,enable),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SAMPLE_COVERAGE_VALUE,"sampleCoverage"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SAMPLE_COVERAGE_INVERT,"sampleCoverage"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SCISSOR_TEST,enable),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SCISSOR_BOX,function(gl,value){return gl.scissor.apply(gl,_toConsumableArray(value))}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_TEST,enable),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_CLEAR_VALUE,function(gl,value){return gl.clearStencil(value)}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_WRITEMASK,function(gl,value){return gl.stencilMaskSeparate(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT,value)}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_WRITEMASK,function(gl,value){return gl.stencilMaskSeparate(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BACK,value)}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_FUNC,"stencilFuncFront"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_REF,"stencilFuncFront"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_VALUE_MASK,"stencilFuncFront"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_FUNC,"stencilFuncBack"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_REF,"stencilFuncBack"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_VALUE_MASK,"stencilFuncBack"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_FAIL,"stencilOpFront"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_PASS_DEPTH_FAIL,"stencilOpFront"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_PASS_DEPTH_PASS,"stencilOpFront"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_FAIL,"stencilOpBack"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_PASS_DEPTH_FAIL,"stencilOpBack"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_PASS_DEPTH_PASS,"stencilOpBack"),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.VIEWPORT,function(gl,value){return gl.viewport.apply(gl,_toConsumableArray(value))}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.PACK_ALIGNMENT,pixelStorei),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_ALIGNMENT,pixelStorei),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_FLIP_Y_WEBGL,pixelStorei),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pixelStorei),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_COLORSPACE_CONVERSION_WEBGL,pixelStorei),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.PACK_ROW_LENGTH,pixelStorei),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.PACK_SKIP_PIXELS,pixelStorei),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.PACK_SKIP_ROWS,pixelStorei),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.READ_FRAMEBUFFER_BINDING,function readFramebuffer(gl,value){return gl.bindFramebuffer(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.READ_FRAMEBUFFER,value)}),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_ROW_LENGTH,pixelStorei),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_IMAGE_HEIGHT,pixelStorei),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_SKIP_PIXELS,pixelStorei),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_SKIP_ROWS,pixelStorei),_defineProperty(_GL_PARAMETER_SETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNPACK_SKIP_IMAGES,pixelStorei),_GL_PARAMETER_SETTERS),COMPOSITE_GL_PARAMETER_SETTERS={blendEquation:function blendEquation(gl,values){return gl.blendEquationSeparate(values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_EQUATION_RGB],values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_EQUATION_ALPHA])},blendFunc:function blendFunc(gl,values){return gl.blendFuncSeparate(values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_SRC_RGB],values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_DST_RGB],values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_SRC_ALPHA],values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND_DST_ALPHA])},polygonOffset:function polygonOffset(gl,values){return gl.polygonOffset(values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.POLYGON_OFFSET_FACTOR],values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.POLYGON_OFFSET_UNITS])},sampleCoverage:function sampleCoverage(gl,values){return gl.sampleCoverage(values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SAMPLE_COVERAGE_VALUE],values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SAMPLE_COVERAGE_INVERT])},stencilFuncFront:function stencilFuncFront(gl,values){return gl.stencilFuncSeparate(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT,values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_FUNC],values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_REF],values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_VALUE_MASK])},stencilFuncBack:function stencilFuncBack(gl,values){return gl.stencilFuncSeparate(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BACK,values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_FUNC],values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_REF],values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_VALUE_MASK])},stencilOpFront:function stencilOpFront(gl,values){return gl.stencilOpSeparate(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.FRONT,values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_FAIL],values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_PASS_DEPTH_FAIL],values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_PASS_DEPTH_PASS])},stencilOpBack:function stencilOpBack(gl,values){return gl.stencilOpSeparate(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BACK,values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_FAIL],values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_PASS_DEPTH_FAIL],values[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_BACK_PASS_DEPTH_PASS])}},isEnabled=function isEnabled(gl,key){return gl.isEnabled(key)},GL_PARAMETER_GETTERS=(_defineProperty(_GL_PARAMETER_GETTERS={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.BLEND,isEnabled),_defineProperty(_GL_PARAMETER_GETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.CULL_FACE,isEnabled),_defineProperty(_GL_PARAMETER_GETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DEPTH_TEST,isEnabled),_defineProperty(_GL_PARAMETER_GETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.DITHER,isEnabled),_defineProperty(_GL_PARAMETER_GETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.POLYGON_OFFSET_FILL,isEnabled),_defineProperty(_GL_PARAMETER_GETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SAMPLE_ALPHA_TO_COVERAGE,isEnabled),_defineProperty(_GL_PARAMETER_GETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SAMPLE_COVERAGE,isEnabled),_defineProperty(_GL_PARAMETER_GETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SCISSOR_TEST,isEnabled),_defineProperty(_GL_PARAMETER_GETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.STENCIL_TEST,isEnabled),_defineProperty(_GL_PARAMETER_GETTERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RASTERIZER_DISCARD,isEnabled),_GL_PARAMETER_GETTERS),deepArrayEqual=function deepArrayEqual(x,y){if(x===y)return!0;var isArrayX=Array.isArray(x)||ArrayBuffer.isView(x),isArrayY=Array.isArray(y)||ArrayBuffer.isView(y);if(isArrayX&&isArrayY&&x.length===y.length){for(var i=0;i<x.length;++i)if(x[i]!==y[i])return!1;return!0}return!1};function setParameters(gl,values){var compositeSetters={};for(var key in values){var glConstant=Number(key),setter=GL_PARAMETER_SETTERS[key];setter&&("string"==typeof setter?compositeSetters[setter]=!0:setter(gl,values[key],glConstant))}var cache=gl.state&&gl.state.cache;if(cache){var mergedValues=Object.assign({},cache,values);for(var _key in compositeSetters){(0,COMPOSITE_GL_PARAMETER_SETTERS[_key])(gl,mergedValues)}}}function getParameter(gl,key){var getter=GL_PARAMETER_GETTERS[key];return getter?getter(gl,Number(key)):gl.getParameter(Number(key))}function getParameters(gl,parameters){parameters=parameters||GL_PARAMETER_DEFAULTS;var parameterKeys=Array.isArray(parameters)?parameters:Object.keys(parameters),state={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=parameterKeys[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var key=_step.value;state[key]=getParameter(gl,key)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return state}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function polyfillContext(gl){if(gl.luma=gl.luma||{},function initializeExtensions(gl){gl.luma.extensions={};var EXTENSIONS=gl.getSupportedExtensions(),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=EXTENSIONS[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var extension=_step.value;gl.luma[extension]=gl.getExtension(extension)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}(gl),!gl.luma.polyfilled){for(var extension in WEBGL_CONTEXT_POLYFILLS)"overrides"!==extension&&polyfillExtension(gl,{extension:extension,target:gl.luma,target2:gl});!function installOverrides(gl,_ref2){var target=_ref2.target,target2=_ref2.target2,OVERRIDES=WEBGL_CONTEXT_POLYFILLS.OVERRIDES;Object.keys(OVERRIDES).forEach(function(key){if("function"==typeof OVERRIDES[key]){var originalFunc=gl[key]?gl[key].bind(gl):function(){},polyfill=OVERRIDES[key].bind(null,gl,originalFunc);target[key]=polyfill,target2[key]=polyfill}})}(gl,{target:gl.luma,target2:gl}),gl.luma.polyfilled=!0}return gl};var _WEBGL_CONTEXT_POLYFI,__WEBPACK_IMPORTED_MODULE_0__utils_assert__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__polyfill_get_parameter__=__webpack_require__(917);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function isWebGL2(gl){return gl&&32874===gl.TEXTURE_BINDING_3D}var WEBGL_CONTEXT_POLYFILLS=(_defineProperty(_WEBGL_CONTEXT_POLYFI={},"OES_vertex_array_object",{meta:{suffix:"OES"},createVertexArray:function createVertexArray(){Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:function deleteVertexArray(){},bindVertexArray:function bindVertexArray(){},isVertexArray:function isVertexArray(){return!1}}),_defineProperty(_WEBGL_CONTEXT_POLYFI,"ANGLE_instanced_arrays",{meta:{suffix:"ANGLE"},vertexAttribDivisor:function vertexAttribDivisor(location,divisor){Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(0===divisor,"WebGL instanced rendering not supported")},drawElementsInstanced:function drawElementsInstanced(){},drawArraysInstanced:function drawArraysInstanced(){}}),_defineProperty(_WEBGL_CONTEXT_POLYFI,"WEBGL_draw_buffers",{meta:{suffix:"WEBGL"},drawBuffers:function drawBuffers(){Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(!1)}}),_defineProperty(_WEBGL_CONTEXT_POLYFI,"EXT_disjoint_timer_query",{meta:{suffix:"EXT"},createQuery:function createQuery(){Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(!1)},deleteQuery:function deleteQuery(){Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(!1)},beginQuery:function beginQuery(){Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(!1)},endQuery:function endQuery(){},getQuery:function getQuery(handle,pname){return this.getQueryObject(handle,pname)},getQueryParameter:function getQueryParameter(handle,pname){return this.getQueryObject(handle,pname)},queryCounter:function queryCounter(){},getQueryObject:function getQueryObject(){}}),_defineProperty(_WEBGL_CONTEXT_POLYFI,"EXT_disjoint_timer_query_webgl2",{meta:{suffix:"EXT"},queryCounter:null}),_defineProperty(_WEBGL_CONTEXT_POLYFI,"OVERRIDES",{readBuffer:function readBuffer(gl,originalFunc,attachment){isWebGL2(gl)&&originalFunc(attachment)},getVertexAttrib:function getVertexAttrib(gl,originalFunc,location,pname){var result,_getExtensionData=function getExtensionData(gl,extension){return{webgl2:isWebGL2(gl),ext:gl.getExtension(extension)}}(gl,"ANGLE_instanced_arrays"),webgl2=_getExtensionData.webgl2,ext=_getExtensionData.ext;switch(pname){case 35069:result=!!webgl2&&void 0;break;case 35070:result=webgl2||ext?void 0:0}return void 0!==result?result:originalFunc(location,pname)},getProgramParameter:function getProgramParameter(gl,originalFunc,program,pname){if(!isWebGL2(gl))switch(pname){case 35967:return 35981;case 35971:case 35382:return 0}return originalFunc(program,pname)},getInternalformatParameter:function getInternalformatParameter(gl,originalFunc,target,format,pname){if(!isWebGL2(gl))switch(pname){case 32937:return new Int32Array([0])}return gl.getInternalformatParameter(target,format,pname)},getTexParameter:function getTexParameter(gl,originalFunc,target,pname){switch(pname){case 34046:var ext=gl.luma.extensions.EXT_texture_filter_anisotropic;pname=ext&&ext.TEXTURE_MAX_ANISOTROPY_EXT||34046}return originalFunc(target,pname)},getParameter:__WEBPACK_IMPORTED_MODULE_1__polyfill_get_parameter__.a,hint:function hint(gl,originalFunc,pname,value){return originalFunc(pname,value)}}),_WEBGL_CONTEXT_POLYFI);function polyfillExtension(gl,_ref){var extension=_ref.extension,target=_ref.target,target2=_ref.target2,defaults=WEBGL_CONTEXT_POLYFILLS[extension];Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(defaults);var _defaults$meta=defaults.meta,_meta$suffix=(void 0===_defaults$meta?{}:_defaults$meta).suffix,suffix=void 0===_meta$suffix?"":_meta$suffix,ext=gl.getExtension(extension);Object.keys(defaults).forEach(function(key){var extKey="".concat(key).concat(suffix),polyfill=null;"meta"===key||"function"==typeof gl[key]||(ext&&"function"==typeof ext[extKey]?polyfill=function polyfill(){return ext[extKey].apply(ext,arguments)}:"function"==typeof defaults[key]&&(polyfill=defaults[key].bind(target))),polyfill&&(target[key]=polyfill,target2[key]=polyfill)})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Attribute});var __WEBPACK_IMPORTED_MODULE_0__utils_assert__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__webgl__=__webpack_require__(154),__WEBPACK_IMPORTED_MODULE_2__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_2__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__constants__);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Attribute=function(){function Attribute(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Attribute);var _opts$id=opts.id,id=void 0===_opts$id?"unnamed-attribute":_opts$id,type=opts.type,_opts$isIndexed=opts.isIndexed,isIndexed=void 0!==_opts$isIndexed&&_opts$isIndexed;this.gl=gl,this.id=id,this.isIndexed=isIndexed,this.target=isIndexed?__WEBPACK_IMPORTED_MODULE_2__constants___default.a.ELEMENT_ARRAY_BUFFER:__WEBPACK_IMPORTED_MODULE_2__constants___default.a.ARRAY_BUFFER,this.type=type,this.value=null,this.externalBuffer=null,this.buffer=null,this.userData={},this.update(opts),Object.seal(this),this._validateAttributeDefinition()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Attribute,[{key:"delete",value:function _delete(){this.buffer&&(this.buffer.delete(),this.buffer=null)}},{key:"update",value:function update(_ref){var value=_ref.value,buffer=_ref.buffer,_ref$size=_ref.size,size=void 0===_ref$size?this.size:_ref$size,_ref$offset=_ref.offset,offset=void 0===_ref$offset?this.offset||0:_ref$offset,_ref$stride=_ref.stride,stride=void 0===_ref$stride?this.stride||0:_ref$stride,_ref$normalized=_ref.normalized,normalized=void 0===_ref$normalized?this.normalized||!1:_ref$normalized,_ref$integer=_ref.integer,integer=void 0===_ref$integer?this.integer||!1:_ref$integer,_ref$instanced=_ref.instanced,instanced=void 0===_ref$instanced?this.instanced||0:_ref$instanced,_ref$isGeneric=_ref.isGeneric,isGeneric=void 0===_ref$isGeneric?this.isGeneric||!1:_ref$isGeneric,isInstanced=_ref.isInstanced;this.size=size,this.offset=offset,this.stride=stride,this.normalized=normalized,this.integer=integer,this.isGeneric=isGeneric,this.instanced=void 0!==isInstanced?isInstanced?1:0:instanced,buffer?(this.externalBuffer=buffer,this.type=buffer.type):value&&(this.externalBuffer=null,this.value=value,isGeneric||(this.buffer=this.buffer||new __WEBPACK_IMPORTED_MODULE_1__webgl__.b(this.gl,{target:this.target,type:this.type}),this.buffer.setData({data:value}),this.type=this.buffer.type))}},{key:"getBuffer",value:function getBuffer(){return this.isGeneric?null:this.externalBuffer||this.buffer}},{key:"_validateAttributeDefinition",value:function _validateAttributeDefinition(){Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(this.size>=1&&this.size<=4,"Attribute definition for ".concat(this.id," invalid size"))}}]),Attribute}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Sampler});var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_2__resource__=__webpack_require__(69);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Sampler=function(_Resource){function Sampler(gl,opts){var _this;return _classCallCheck(this,Sampler),Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.d)(gl),_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(Sampler.__proto__||Object.getPrototypeOf(Sampler)).call(this,gl,opts)),Object.seal(_assertThisInitialized(_this)),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Sampler,__WEBPACK_IMPORTED_MODULE_2__resource__["a"]),_createClass(Sampler,null,[{key:"isSupported",value:function isSupported(gl){return Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.l)(gl)}},{key:"isHandle",value:function isHandle(handle){return this.gl.isSampler(this.handle)}}]),_createClass(Sampler,[{key:"bind",value:function bind(unit){return this.gl.bindSampler(unit,this.handle),this}},{key:"unbind",value:function unbind(unit){return this.gl.bindSampler(unit,null),this}},{key:"_createHandle",value:function _createHandle(){return this.gl.createSampler()}},{key:"_deleteHandle",value:function _deleteHandle(){this.gl.deleteSampler(this.handle)}},{key:"_getParameter",value:function _getParameter(pname){return this.gl.getSamplerParameter(this.handle,pname)}},{key:"_setParameter",value:function _setParameter(pname,param){switch(pname){case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_MIN_LOD:case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_MAX_LOD:this.gl.samplerParameterf(this.handle,pname,param);break;default:this.gl.samplerParameteri(this.handle,pname,param)}return this}}]),Sampler}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return TextureCube});var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__texture__=__webpack_require__(155),__WEBPACK_IMPORTED_MODULE_2__utils_assert__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var FACES=[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_CUBE_MAP_POSITIVE_X,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_CUBE_MAP_NEGATIVE_X,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_CUBE_MAP_POSITIVE_Y,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_CUBE_MAP_NEGATIVE_Y,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_CUBE_MAP_POSITIVE_Z,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_CUBE_MAP_NEGATIVE_Z],TextureCube=function(_Texture){function TextureCube(gl){var _this,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,TextureCube),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(TextureCube.__proto__||Object.getPrototypeOf(TextureCube)).call(this,gl,Object.assign({},opts,{target:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_CUBE_MAP})))).initialize(opts),Object.seal(_assertThisInitialized(_this)),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(TextureCube,__WEBPACK_IMPORTED_MODULE_1__texture__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(TextureCube,[{key:"initialize",value:function initialize(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_opts$format=opts.format,format=void 0===_opts$format?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA:_opts$format,_opts$mipmaps=opts.mipmaps,mipmaps=void 0===_opts$mipmaps||_opts$mipmaps,_opts$width=opts.width,width=void 0===_opts$width?1:_opts$width,_opts$height=opts.height,height=void 0===_opts$height?1:_opts$height,_opts$type=opts.type,type=void 0===_opts$type?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_BYTE:_opts$type,dataFormat=opts.dataFormat,_deduceParameters=this._deduceParameters({format:format,type:type,dataFormat:dataFormat});type=_deduceParameters.type,dataFormat=_deduceParameters.dataFormat;var _deduceImageSize=this._deduceImageSize({data:opts[__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_CUBE_MAP_POSITIVE_X],width:width,height:height});width=_deduceImageSize.width,height=_deduceImageSize.height,Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(width===height),this.setCubeMapImageData(opts),mipmaps&&this.generateMipmap(opts),this.opts=opts}},{key:"subImage",value:function subImage(_ref){var face=_ref.face,data=_ref.data,_ref$x=_ref.x,x=void 0===_ref$x?0:_ref$x,_ref$y=_ref.y,y=void 0===_ref$y?0:_ref$y,_ref$mipmapLevel=_ref.mipmapLevel,mipmapLevel=void 0===_ref$mipmapLevel?0:_ref$mipmapLevel;return this._subImage({target:face,data:data,x:x,y:y,mipmapLevel:mipmapLevel})}},{key:"setCubeMapImageData",value:function setCubeMapImageData(_ref2){var width=_ref2.width,height=_ref2.height,pixels=_ref2.pixels,data=_ref2.data,_ref2$border=_ref2.border,border=void 0===_ref2$border?0:_ref2$border,_ref2$format=_ref2.format,format=void 0===_ref2$format?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA:_ref2$format,_ref2$type=_ref2.type,type=void 0===_ref2$type?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_BYTE:_ref2$type,gl=(_ref2.generateMipmap,this.gl);if(pixels=pixels||data,this.bind(),this.width||this.height)for(var _i=0;_i<FACES.length;_i++){var face=FACES[_i];gl.texImage2D(face,0,format,width,height,border,format,type,pixels[face])}else for(var _i2=0;_i2<FACES.length;_i2++){var _face=FACES[_i2];gl.texImage2D(_face,0,format,format,type,pixels[_face])}}},{key:"bind",value:function bind(){var index=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).index;return void 0!==index&&this.gl.activeTexture(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE0+index),this.gl.bindTexture(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_CUBE_MAP,this.handle),index}},{key:"unbind",value:function unbind(){return this.gl.bindTexture(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_CUBE_MAP,null),this}}]),TextureCube}();TextureCube.FACES=FACES},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function draw(gl,_ref){var _ref$drawMode=_ref.drawMode,drawMode=void 0===_ref$drawMode?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TRIANGLES:_ref$drawMode,vertexCount=_ref.vertexCount,_ref$offset=_ref.offset,offset=void 0===_ref$offset?0:_ref$offset,_ref$isIndexed=_ref.isIndexed,isIndexed=void 0!==_ref$isIndexed&&_ref$isIndexed,_ref$indexType=_ref.indexType,indexType=void 0===_ref$indexType?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_SHORT:_ref$indexType,_ref$isInstanced=_ref.isInstanced,isInstanced=void 0!==_ref$isInstanced&&_ref$isInstanced,_ref$instanceCount=_ref.instanceCount,instanceCount=void 0===_ref$instanceCount?0:_ref$instanceCount;Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.e)(gl);gl.getExtension("ANGLE_instanced_arrays");if(isInstanced){var webgl2=isWebGL2(gl),_extension=gl.getExtension("ANGLE_instanced_arrays"),context=webgl2?gl:_extension,suffix=webgl2?"":"ANGLE",drawElements="drawElementsInstanced"+suffix,drawArrays="drawArraysInstanced"+suffix;isIndexed?context[drawElements](drawMode,vertexCount,indexType,offset,instanceCount):context[drawArrays](drawMode,offset,vertexCount,instanceCount)}else isIndexed?gl.drawElements(drawMode,vertexCount,indexType,offset):gl.drawArrays(drawMode,offset,vertexCount)};var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__webgl_utils__=__webpack_require__(11);__webpack_require__(3)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function readPixels(gl,_ref){var x=_ref.x,y=_ref.y,_ref$width=_ref.width,width=void 0===_ref$width?1:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?1:_ref$height,data=_ref.data,_ref$dataOffset=_ref.dataOffset,dataOffset=void 0===_ref$dataOffset?0:_ref$dataOffset,_ref$type=_ref.type,type=void 0===_ref$type?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_BYTE:_ref$type,sourceHeight=_ref.sourceHeight,_ref$format=_ref.format,format=void 0===_ref$format?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA:_ref$format;data=data||new Uint8Array(4*width*height),y=sourceHeight?sourceHeight-y:y,dataOffset?(Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.d)(gl),gl.readPixels(x,y,width,height,format,type,data,dataOffset)):gl.readPixels(x,y,width,height,format,type,data);return data};var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_2__webgl_utils__=(__webpack_require__(99),__webpack_require__(11));__webpack_require__(3)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Query});var __WEBPACK_IMPORTED_MODULE_0__resource__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_1__webgl_context_context_features__=__webpack_require__(260),__WEBPACK_IMPORTED_MODULE_2__webgl_context__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_3__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_4__webgl_utils_query_manager__=__webpack_require__(464);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var noop=function noop(x){return x},Query=function(_Resource){function Query(gl){var _this,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Query),_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(Query.__proto__||Object.getPrototypeOf(Query)).call(this,gl,opts));var _opts$onComplete=opts.onComplete,onComplete=void 0===_opts$onComplete?noop:_opts$onComplete,_opts$onError=opts.onError,onError=void 0===_opts$onError?noop:_opts$onError;return _this.target=null,_this.onComplete=onComplete,_this.onError=onError,_this.promise=null,Object.seal(_assertThisInitialized(_this)),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Query,__WEBPACK_IMPORTED_MODULE_0__resource__["a"]),_createClass(Query,null,[{key:"isSupported",value:function isSupported(gl){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$queries=_ref.queries,queries=void 0!==_ref$queries&&_ref$queries,_ref$timers=_ref.timers,timers=void 0!==_ref$timers&&_ref$timers,_ref$timestamps=_ref.timestamps,timestamps=void 0!==_ref$timestamps&&_ref$timestamps,webgl2=Object(__WEBPACK_IMPORTED_MODULE_3__webgl_utils__.l)(gl),hasTimerQueries=Object(__WEBPACK_IMPORTED_MODULE_1__webgl_context_context_features__.e)(gl,__WEBPACK_IMPORTED_MODULE_1__webgl_context_context_features__.a.TIMER_QUERY),supported=webgl2||hasTimerQueries;if(queries&&(supported=supported&&webgl2),timers&&(supported=supported&&hasTimerQueries),timestamps){Object(__WEBPACK_IMPORTED_MODULE_2__webgl_context__.e)(gl);var queryCounterBits=gl.getQuery(36392,34916);supported=supported&&queryCounterBits>0}return supported}}]),_createClass(Query,[{key:"beginTimeElapsedQuery",value:function beginTimeElapsedQuery(){return this.begin(35007)}},{key:"beginOcclusionQuery",value:function beginOcclusionQuery(){var _ref2$conservative=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).conservative,conservative=void 0!==_ref2$conservative&&_ref2$conservative;return this.begin(conservative?36202:35887)}},{key:"beginTransformFeedbackQuery",value:function beginTransformFeedbackQuery(){return this.begin(35976)}},{key:"getTimestamp",value:function getTimestamp(){__WEBPACK_IMPORTED_MODULE_4__webgl_utils_query_manager__.a.beginQuery(this,this.onComplete,this.onError);try{this.gl.queryCounter(this.handle,36392)}catch(error){__WEBPACK_IMPORTED_MODULE_4__webgl_utils_query_manager__.a.rejectQuery(this,'Timer queries require "EXT_disjoint_timer_query" extension')}return this}},{key:"begin",value:function begin(target){__WEBPACK_IMPORTED_MODULE_4__webgl_utils_query_manager__.a.beginQuery(this,this.onComplete,this.onError),this.target=target;try{this.gl.beginQuery(this.target,this.handle)}catch(error){__WEBPACK_IMPORTED_MODULE_4__webgl_utils_query_manager__.a.rejectQuery(this,"Query not supported")}return this}},{key:"end",value:function end(){return this.target&&(this.ext.endQuery(this.target),this.target=null),this}},{key:"cancel",value:function cancel(){return this.end(),__WEBPACK_IMPORTED_MODULE_4__webgl_utils_query_manager__.a.cancelQuery(this),this}},{key:"isResultAvailable",value:function isResultAvailable(){return this.gl.getQueryParameter(this.handle,34919)}},{key:"getResult",value:function getResult(){var result=this.gl.getQueryParameter(this.handle,34918);return Number.isFinite(result)?result/1e6:0}},{key:"_createHandle",value:function _createHandle(){return Query.isSupported(this.gl)?this.gl.createQuery():null}},{key:"_deleteHandle",value:function _deleteHandle(){__WEBPACK_IMPORTED_MODULE_4__webgl_utils_query_manager__.a.deleteQuery(this),this.gl.deleteQuery(this.handle)}}],[{key:"poll",value:function poll(gl){__WEBPACK_IMPORTED_MODULE_4__webgl_utils_query_manager__.a.poll(gl)}}]),Query}();__WEBPACK_IMPORTED_MODULE_4__webgl_utils_query_manager__.a.setInvalidator({queryType:Query,errorMessage:"Disjoint GPU operation invalidated timer queries",checkInvalid:function checkInvalid(gl){return gl.getParameter(36795)}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return TranformFeedback});var __WEBPACK_IMPORTED_MODULE_0__resource__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_1__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_2__utils_assert__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var TranformFeedback=function(_Resource){function TranformFeedback(gl){var _this,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,TranformFeedback),Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.d)(gl),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(TranformFeedback.__proto__||Object.getPrototypeOf(TranformFeedback)).call(this,gl,opts))).buffers={},Object.seal(_assertThisInitialized(_this)),_this.initialize(opts),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(TranformFeedback,__WEBPACK_IMPORTED_MODULE_0__resource__["a"]),_createClass(TranformFeedback,null,[{key:"isSupported",value:function isSupported(gl){return Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.l)(gl)}},{key:"isHandle",value:function isHandle(handle){return this.gl.isTransformFeedback(this.handle)}}]),_createClass(TranformFeedback,[{key:"initialize",value:function initialize(_ref){var _ref$buffers=_ref.buffers,buffers=void 0===_ref$buffers?{}:_ref$buffers,_ref$varyingMap=_ref.varyingMap,varyingMap=void 0===_ref$varyingMap?{}:_ref$varyingMap;this.bindBuffers(buffers,{clear:!0,varyingMap:varyingMap})}},{key:"bindBuffers",value:function bindBuffers(){var buffers=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref2$clear=_ref2.clear,clear=void 0!==_ref2$clear&&_ref2$clear,_ref2$varyingMap=_ref2.varyingMap,varyingMap=void 0===_ref2$varyingMap?{}:_ref2$varyingMap;for(var bufferName in clear&&(this._unbindBuffers(),this.buffers={}),buffers){var buffer=buffers[bufferName],index=Number.isFinite(Number(bufferName))?Number(bufferName):varyingMap[bufferName];Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(Number.isFinite(index)),this.buffers[index]=buffer}}},{key:"begin",value:function begin(primitiveMode){return this._bindBuffers(),this.gl.bindTransformFeedback(36386,this.handle),this.gl.beginTransformFeedback(primitiveMode),this}},{key:"pause",value:function pause(){return this.gl.bindTransformFeedback(36386,this.handle),this.gl.pauseTransformFeedback(),this.gl.bindTransformFeedback(36386,null),this._unbindBuffers(),this}},{key:"resume",value:function resume(){return this._bindBuffers(),this.gl.bindTransformFeedback(36386,this.handle),this.gl.resumeTransformFeedback(),this}},{key:"end",value:function end(){return this.gl.bindTransformFeedback(36386,this.handle),this.gl.endTransformFeedback(),this.gl.bindTransformFeedback(36386,null),this._unbindBuffers(),this}},{key:"bindBuffer",value:function bindBuffer(_ref3){var index=_ref3.index,buffer=_ref3.buffer,_ref3$offset=_ref3.offset,offset=void 0===_ref3$offset?0:_ref3$offset,size=_ref3.size;return buffer.unbind(),this.gl.bindTransformFeedback(36386,this.handle),void 0===size?this.gl.bindBufferBase(35982,index,buffer.handle):this.gl.bindBufferRange(35982,index,buffer.handle,offset,size),this}},{key:"unbindBuffer",value:function unbindBuffer(_ref4){var index=_ref4.index;return this.gl.bindTransformFeedback(36386,this.handle),this.gl.bindBufferBase(35982,index,null),this}},{key:"_bindBuffers",value:function _bindBuffers(){for(var bufferIndex in this.buffers)this.bindBuffer({buffer:this.buffers[bufferIndex],index:Number(bufferIndex)})}},{key:"_unbindBuffers",value:function _unbindBuffers(){for(var bufferIndex in this.buffers)this.unbindBuffer({buffer:this.buffers[bufferIndex],index:Number(bufferIndex)})}},{key:"_createHandle",value:function _createHandle(){return this.gl.createTransformFeedback()}},{key:"_deleteHandle",value:function _deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}}]),TranformFeedback}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Object3D});var __WEBPACK_IMPORTED_MODULE_0__utils__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_1_math_gl__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_2__utils_assert__=__webpack_require__(3);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Object3D=function(){function Object3D(_ref){var id=_ref.id;_ref.display;_classCallCheck(this,Object3D),this.position=new __WEBPACK_IMPORTED_MODULE_1_math_gl__.d,this.rotation=new __WEBPACK_IMPORTED_MODULE_1_math_gl__.d,this.scale=new __WEBPACK_IMPORTED_MODULE_1_math_gl__.d(1,1,1),this.matrix=new __WEBPACK_IMPORTED_MODULE_1_math_gl__.a,this.id=id||Object(__WEBPACK_IMPORTED_MODULE_0__utils__.h)(this.constructor.name),this.display=!0,this.userData={}}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Object3D,[{key:"setPosition",value:function setPosition(position){return Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(3===position.length,"setPosition requires vector argument"),this.position=position,this}},{key:"setRotation",value:function setRotation(rotation){return Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(3===rotation.length,"setRotation requires vector argument"),this.rotation=rotation,this}},{key:"setScale",value:function setScale(scale){return Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(3===scale.length,"setScale requires vector argument"),this.scale=scale,this}},{key:"setMatrixComponents",value:function setMatrixComponents(_ref2){var position=_ref2.position,rotation=_ref2.rotation,scale=_ref2.scale,_ref2$update=_ref2.update,update=void 0===_ref2$update||_ref2$update;return position&&this.setPosition(position),rotation&&this.setRotation(rotation),scale&&this.setScale(scale),update&&this.updateMatrix(),this}},{key:"updateMatrix",value:function updateMatrix(){var pos=this.position,rot=this.rotation,scale=this.scale;return this.matrix.identity(),this.matrix.translate(pos),this.matrix.rotateXYZ(rot),this.matrix.scale(scale),this}},{key:"update",value:function update(){var _ref3=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},position=_ref3.position,rotation=_ref3.rotation,scale=_ref3.scale;return position&&this.setPosition(position),rotation&&this.setRotation(rotation),scale&&this.setScale(scale),this.updateMatrix(),this}},{key:"getCoordinateUniforms",value:function getCoordinateUniforms(viewMatrix,modelMatrix){Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(viewMatrix),modelMatrix=modelMatrix||this.matrix;var worldMatrix=new __WEBPACK_IMPORTED_MODULE_1_math_gl__.a(viewMatrix).multiplyRight(modelMatrix),worldInverse=worldMatrix.invert();return{viewMatrix:viewMatrix,modelMatrix:modelMatrix,objectMatrix:modelMatrix,worldMatrix:worldMatrix,worldInverseMatrix:worldInverse,worldInverseTransposeMatrix:worldInverse.transpose()}}},{key:"transform",value:function transform(){if(this.parent){var parent=this.parent;this.endPosition.set(this.position.add(parent.endPosition)),this.endRotation.set(this.rotation.add(parent.endRotation)),this.endScale.set(this.scale.add(parent.endScale))}else this.endPosition.set(this.position),this.endRotation.set(this.rotation),this.endScale.set(this.scale);for(var ch=this.children,i=0;i<ch.length;++i)ch[i].transform();return this}}]),Object3D}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Vector2});var __WEBPACK_IMPORTED_MODULE_0__lib_vector__=__webpack_require__(470),__WEBPACK_IMPORTED_MODULE_1__lib_common__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_2_gl_vec2_cross__=__webpack_require__(924),__WEBPACK_IMPORTED_MODULE_2_gl_vec2_cross___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_gl_vec2_cross__);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var Vector2=function(_Vector){function Vector2(){var _this,x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _classCallCheck(this,Vector2),_this=_possibleConstructorReturn(this,(Vector2.__proto__||Object.getPrototypeOf(Vector2)).call(this)),Array.isArray(x)&&1===arguments.length?_this.copy(x):_this.set(x,y),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Vector2,__WEBPACK_IMPORTED_MODULE_0__lib_vector__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Vector2,[{key:"cross",value:function cross(vector){return __WEBPACK_IMPORTED_MODULE_2_gl_vec2_cross___default()(this,this,vector),this.check()}},{key:"horizontalAngle",value:function horizontalAngle(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function verticalAngle(){return Math.atan2(this.x,this.y)}},{key:"operation",value:function operation(_operation){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return _operation.apply(void 0,[this,this].concat(args)),this.check()}},{key:"ELEMENTS",get:function get(){return 2}},{key:"x",get:function get(){return this[0]},set:function set(value){return this[0]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"y",get:function get(){return this[1]},set:function set(value){return this[1]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}}]),Vector2}()},function(module,exports){module.exports=function normalize(out,a){var x=a[0],y=a[1],z=a[2],len=x*x+y*y+z*z;len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len,out[2]=a[2]*len);return out}},function(module,exports){module.exports=function dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}},function(module,exports){module.exports=function cross(out,a,b){var ax=a[0],ay=a[1],az=a[2],bx=b[0],by=b[1],bz=b[2];return out[0]=ay*bz-az*by,out[1]=az*bx-ax*bz,out[2]=ax*by-ay*bx,out}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Vector4});var __WEBPACK_IMPORTED_MODULE_0__lib_vector__=__webpack_require__(470),__WEBPACK_IMPORTED_MODULE_1__lib_common__=__webpack_require__(56);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var Vector4=function(_Vector){function Vector4(){var _this,x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,w=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return _classCallCheck(this,Vector4),_this=_possibleConstructorReturn(this,(Vector4.__proto__||Object.getPrototypeOf(Vector4)).call(this)),Array.isArray(x)&&1===arguments.length?_this.copy(x):_this.set(x,y,z,w),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Vector4,__WEBPACK_IMPORTED_MODULE_0__lib_vector__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Vector4,[{key:"applyMatrix4",value:function applyMatrix4(m){return m.transformVector(this,this),this}},{key:"ELEMENTS",get:function get(){return 4}},{key:"x",get:function get(){return this[0]},set:function set(value){return this[0]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"y",get:function get(){return this[1]},set:function set(value){return this[1]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"z",get:function get(){return this[2]},set:function set(value){return this[2]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"w",get:function get(){return this[3]},set:function set(value){return this[3]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}}]),Vector4}()},function(module,exports){module.exports=function ortho(out,left,right,bottom,top,near,far){var lr=1/(left-right),bt=1/(bottom-top),nf=1/(near-far);return out[0]=-2*lr,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=-2*bt,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=2*nf,out[11]=0,out[12]=(left+right)*lr,out[13]=(top+bottom)*bt,out[14]=(far+near)*nf,out[15]=1,out}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Quaternion});var __WEBPACK_IMPORTED_MODULE_0__lib_math_array__=__webpack_require__(263),__WEBPACK_IMPORTED_MODULE_1__lib_common__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_2_gl_quat_fromMat3__=__webpack_require__(938),__WEBPACK_IMPORTED_MODULE_2_gl_quat_fromMat3___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_gl_quat_fromMat3__),__WEBPACK_IMPORTED_MODULE_3_gl_quat_identity__=__webpack_require__(939),__WEBPACK_IMPORTED_MODULE_3_gl_quat_identity___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_gl_quat_identity__),__WEBPACK_IMPORTED_MODULE_4_gl_quat_length__=__webpack_require__(940),__WEBPACK_IMPORTED_MODULE_4_gl_quat_length___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_gl_quat_length__),__WEBPACK_IMPORTED_MODULE_5_gl_quat_squaredLength__=__webpack_require__(942),__WEBPACK_IMPORTED_MODULE_5_gl_quat_squaredLength___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_gl_quat_squaredLength__),__WEBPACK_IMPORTED_MODULE_6_gl_quat_dot__=__webpack_require__(944),__WEBPACK_IMPORTED_MODULE_6_gl_quat_dot___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_gl_quat_dot__),__WEBPACK_IMPORTED_MODULE_7_gl_quat_rotationTo__=__webpack_require__(946),__WEBPACK_IMPORTED_MODULE_7_gl_quat_rotationTo___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_gl_quat_rotationTo__),__WEBPACK_IMPORTED_MODULE_8_gl_quat_add__=__webpack_require__(948),__WEBPACK_IMPORTED_MODULE_8_gl_quat_add___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_gl_quat_add__),__WEBPACK_IMPORTED_MODULE_9_gl_quat_calculateW__=__webpack_require__(950),__WEBPACK_IMPORTED_MODULE_9_gl_quat_calculateW___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_gl_quat_calculateW__),__WEBPACK_IMPORTED_MODULE_10_gl_quat_conjugate__=__webpack_require__(951),__WEBPACK_IMPORTED_MODULE_10_gl_quat_conjugate___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_gl_quat_conjugate__),__WEBPACK_IMPORTED_MODULE_11_gl_quat_invert__=__webpack_require__(952),__WEBPACK_IMPORTED_MODULE_11_gl_quat_invert___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_gl_quat_invert__),__WEBPACK_IMPORTED_MODULE_12_gl_quat_lerp__=__webpack_require__(953),__WEBPACK_IMPORTED_MODULE_12_gl_quat_lerp___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_gl_quat_lerp__),__WEBPACK_IMPORTED_MODULE_13_gl_quat_multiply__=__webpack_require__(955),__WEBPACK_IMPORTED_MODULE_13_gl_quat_multiply___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_gl_quat_multiply__),__WEBPACK_IMPORTED_MODULE_14_gl_quat_normalize__=__webpack_require__(586),__WEBPACK_IMPORTED_MODULE_14_gl_quat_normalize___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_gl_quat_normalize__),__WEBPACK_IMPORTED_MODULE_15_gl_quat_rotateX__=__webpack_require__(956),__WEBPACK_IMPORTED_MODULE_15_gl_quat_rotateX___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15_gl_quat_rotateX__),__WEBPACK_IMPORTED_MODULE_16_gl_quat_rotateY__=__webpack_require__(957),__WEBPACK_IMPORTED_MODULE_16_gl_quat_rotateY___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_16_gl_quat_rotateY__),__WEBPACK_IMPORTED_MODULE_17_gl_quat_rotateZ__=__webpack_require__(958),__WEBPACK_IMPORTED_MODULE_17_gl_quat_rotateZ___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_17_gl_quat_rotateZ__),__WEBPACK_IMPORTED_MODULE_18_gl_quat_scale__=__webpack_require__(959),__WEBPACK_IMPORTED_MODULE_18_gl_quat_scale___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_18_gl_quat_scale__),__WEBPACK_IMPORTED_MODULE_19_gl_quat_set__=__webpack_require__(960),__WEBPACK_IMPORTED_MODULE_19_gl_quat_set___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_19_gl_quat_set__),__WEBPACK_IMPORTED_MODULE_20_gl_quat_setAxisAngle__=__webpack_require__(587),__WEBPACK_IMPORTED_MODULE_20_gl_quat_setAxisAngle___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_20_gl_quat_setAxisAngle__),__WEBPACK_IMPORTED_MODULE_21_gl_quat_slerp__=__webpack_require__(962),__WEBPACK_IMPORTED_MODULE_21_gl_quat_slerp___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_21_gl_quat_slerp__);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var IDENTITY_QUATERNION=[0,0,0,1];var Quaternion=function(_MathArray){function Quaternion(){var _this,x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,w=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return _classCallCheck(this,Quaternion),_this=_possibleConstructorReturn(this,(Quaternion.__proto__||Object.getPrototypeOf(Quaternion)).call(this)),Array.isArray(x)&&1===arguments.length?_this.copy(x):_this.set(x,y,z,w),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Quaternion,__WEBPACK_IMPORTED_MODULE_0__lib_math_array__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Quaternion,[{key:"fromMatrix3",value:function fromMatrix3(m){return __WEBPACK_IMPORTED_MODULE_2_gl_quat_fromMat3___default()(this,m),this.check()}},{key:"fromValues",value:function fromValues(x,y,z,w){return this.set(x,y,z,w)}},{key:"identity",value:function identity(){return __WEBPACK_IMPORTED_MODULE_3_gl_quat_identity___default()(this),this.check()}},{key:"length",value:function length(){return __WEBPACK_IMPORTED_MODULE_4_gl_quat_length___default()(this)}},{key:"squaredLength",value:function squaredLength(a){return __WEBPACK_IMPORTED_MODULE_5_gl_quat_squaredLength___default()(this)}},{key:"dot",value:function dot(a,b){if(void 0!==b)throw new Error("Quaternion.dot only takes one argument");return __WEBPACK_IMPORTED_MODULE_6_gl_quat_dot___default()(this,a)}},{key:"rotationTo",value:function rotationTo(vectorA,vectorB){return __WEBPACK_IMPORTED_MODULE_7_gl_quat_rotationTo___default()(this,vectorA,vectorB),this.check()}},{key:"add",value:function add(a,b){if(void 0!==b)throw new Error("Quaternion.add only takes one argument");return __WEBPACK_IMPORTED_MODULE_8_gl_quat_add___default()(this,a),this.check()}},{key:"calculateW",value:function calculateW(){return __WEBPACK_IMPORTED_MODULE_9_gl_quat_calculateW___default()(this,this),this.check()}},{key:"conjugate",value:function conjugate(){return __WEBPACK_IMPORTED_MODULE_10_gl_quat_conjugate___default()(this,this),this.check()}},{key:"invert",value:function invert(){return __WEBPACK_IMPORTED_MODULE_11_gl_quat_invert___default()(this,this),this.check()}},{key:"lerp",value:function lerp(a,b,t){return __WEBPACK_IMPORTED_MODULE_12_gl_quat_lerp___default()(this,a,b,t),this.check()}},{key:"multiply",value:function multiply(a,b){if(void 0!==b)throw new Error("Quaternion.multiply only takes one argument");return __WEBPACK_IMPORTED_MODULE_13_gl_quat_multiply___default()(this,this,b),this.check()}},{key:"normalize",value:function normalize(){return __WEBPACK_IMPORTED_MODULE_14_gl_quat_normalize___default()(this,this),this.check()}},{key:"rotateX",value:function rotateX(rad){return __WEBPACK_IMPORTED_MODULE_15_gl_quat_rotateX___default()(this,this,rad),this.check()}},{key:"rotateY",value:function rotateY(rad){return __WEBPACK_IMPORTED_MODULE_16_gl_quat_rotateY___default()(this,this,rad),this.check()}},{key:"rotateZ",value:function rotateZ(rad){return __WEBPACK_IMPORTED_MODULE_17_gl_quat_rotateZ___default()(this,this,rad),this.check()}},{key:"scale",value:function scale(b){return __WEBPACK_IMPORTED_MODULE_18_gl_quat_scale___default()(this,this,b),this.check()}},{key:"set",value:function set(i,j,k,l){return __WEBPACK_IMPORTED_MODULE_19_gl_quat_set___default()(this,i,j,k,l),this.check()}},{key:"setAxisAngle",value:function setAxisAngle(axis,rad){return __WEBPACK_IMPORTED_MODULE_20_gl_quat_setAxisAngle___default()(this,axis,rad),this.check()}},{key:"slerp",value:function slerp(_ref){var _ref$start=_ref.start,start=void 0===_ref$start?IDENTITY_QUATERNION:_ref$start,target=_ref.target,ratio=_ref.ratio;return __WEBPACK_IMPORTED_MODULE_21_gl_quat_slerp___default()(this,start,target,ratio),this.check()}},{key:"ELEMENTS",get:function get(){return 4}},{key:"x",get:function get(){return this[0]},set:function set(value){return this[0]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"y",get:function get(){return this[1]},set:function set(value){return this[1]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"z",get:function get(){return this[2]},set:function set(value){return this[2]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"w",get:function get(){return this[3]},set:function set(value){return this[3]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}}]),Quaternion}()},function(module,exports){module.exports=function length(a){var x=a[0],y=a[1],z=a[2];return Math.sqrt(x*x+y*y+z*z)}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(947)},function(module,exports){module.exports=function setAxisAngle(out,axis,rad){rad*=.5;var s=Math.sin(rad);return out[0]=s*axis[0],out[1]=s*axis[1],out[2]=s*axis[2],out[3]=Math.cos(rad),out}},function(module,exports){module.exports=function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Euler});var __WEBPACK_IMPORTED_MODULE_0__lib_math_array__=__webpack_require__(263),__WEBPACK_IMPORTED_MODULE_1__lib_common__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_2__matrix4__=__webpack_require__(471),__WEBPACK_IMPORTED_MODULE_3__quaternion__=__webpack_require__(584),__WEBPACK_IMPORTED_MODULE_4__vector3__=__webpack_require__(221);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var ERR_UNKNOWN_ORDER="Unknown Euler angle order";var Euler=function(_MathArray){function Euler(){var _this,_this2,x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,order=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Euler.DefaultOrder;(_classCallCheck(this,Euler),_this=_possibleConstructorReturn(this,(Euler.__proto__||Object.getPrototypeOf(Euler)).call(this)),arguments.length>0&&Array.isArray(arguments[0]))?(_this2=_this).fromVector3.apply(_this2,arguments):_this.set(x,y,z,order);return _this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Euler,__WEBPACK_IMPORTED_MODULE_0__lib_math_array__["a"]),_createClass(Euler,[{key:"ELEMENTS",get:function get(){return 4}}],[{key:"rotationOrder",value:function rotationOrder(order){return Euler.RotationOrders[order]}},{key:"ZYX",get:function get(){return 0}},{key:"YXZ",get:function get(){return 1}},{key:"XZY",get:function get(){return 2}},{key:"ZXY",get:function get(){return 3}},{key:"YZX",get:function get(){return 4}},{key:"XYZ",get:function get(){return 5}},{key:"RollPitchYaw",get:function get(){return 0}},{key:"DefaultOrder",get:function get(){return Euler.ZYX}},{key:"RotationOrders",get:function get(){return["ZYX","YXZ","XZY","ZXY","YZX","XYZ"]}}]),_createClass(Euler,[{key:"copy",value:function copy(array){for(var i=0;i<3;++i)this[i]=array[i];return this[3]=Number.isFinite(array[3])||this.order,this.check()}},{key:"set",value:function set(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,order=arguments.length>3?arguments[3]:void 0;return this[0]=x,this[1]=y,this[2]=z,this[3]=Number.isFinite(order)?order:this[3],this.check()}},{key:"validate",value:function validate(){return function validateOrder(value){return value>=0&&value<6}(this[3])&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2])}},{key:"toArray",value:function toArray(){var array=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return array[offset]=this[0],array[offset+1]=this[1],array[offset+2]=this[2],array}},{key:"toArray4",value:function toArray4(){var array=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return array[offset]=this[0],array[offset+1]=this[1],array[offset+2]=this[2],array[offset+3]=this[3],array}},{key:"toVector3",value:function toVector3(optionalResult){return optionalResult?optionalResult.set(this[0],this[1],this[2]):new __WEBPACK_IMPORTED_MODULE_4__vector3__.a(this[0],this[1],this[2])}},{key:"fromVector3",value:function fromVector3(v,order){return this.set(v[0],v[1],v[2],Number.isFinite(order)?order:this[3])}},{key:"fromArray",value:function fromArray(array){var offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=array[0+offset],this[1]=array[1+offset],this[2]=array[2+offset],void 0!==array[3]&&(this[3]=array[3]),this.check()}},{key:"fromRollPitchYaw",value:function fromRollPitchYaw(roll,pitch,yaw){return this.set(roll,pitch,yaw,Euler.ZYX)}},{key:"fromQuaternion",value:function fromQuaternion(q,order){return this._fromRotationMatrix(__WEBPACK_IMPORTED_MODULE_2__matrix4__.a.fromQuaternion(q),order),this.check()}},{key:"fromRotationMatrix",value:function fromRotationMatrix(m){var order=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Euler.DefaultOrder;return this._fromRotationMatrix(m,order),this.check()}},{key:"getRotationMatrix",value:function getRotationMatrix(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new __WEBPACK_IMPORTED_MODULE_2__matrix4__.a;return this._getRotationMatrix(m),m}},{key:"getQuaternion",value:function getQuaternion(){var q=new __WEBPACK_IMPORTED_MODULE_3__quaternion__.a;switch(this[4]){case Euler.XYZ:return q.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case Euler.YXZ:return q.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case Euler.ZXY:return q.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case Euler.ZYX:return q.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case Euler.YZX:return q.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case Euler.XZY:return q.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(ERR_UNKNOWN_ORDER)}}},{key:"_fromRotationMatrix",value:function _fromRotationMatrix(m){var order=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Euler.DefaultOrder,te=m.elements,m11=te[0],m12=te[4],m13=te[8],m21=te[1],m22=te[5],m23=te[9],m31=te[2],m32=te[6],m33=te[10];switch(order=order||this[3]){case Euler.XYZ:this[1]=Math.asin(Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.b)(m13,-1,1)),Math.abs(m13)<.99999?(this[0]=Math.atan2(-m23,m33),this[2]=Math.atan2(-m12,m11)):(this[0]=Math.atan2(m32,m22),this[2]=0);break;case Euler.YXZ:this[0]=Math.asin(-Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.b)(m23,-1,1)),Math.abs(m23)<.99999?(this[1]=Math.atan2(m13,m33),this[2]=Math.atan2(m21,m22)):(this[1]=Math.atan2(-m31,m11),this[2]=0);break;case Euler.ZXY:this[0]=Math.asin(Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.b)(m32,-1,1)),Math.abs(m32)<.99999?(this[1]=Math.atan2(-m31,m33),this[2]=Math.atan2(-m12,m22)):(this[1]=0,this[2]=Math.atan2(m21,m11));break;case Euler.ZYX:this[1]=Math.asin(-Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.b)(m31,-1,1)),Math.abs(m31)<.99999?(this[0]=Math.atan2(m32,m33),this[2]=Math.atan2(m21,m11)):(this[0]=0,this[2]=Math.atan2(-m12,m22));break;case Euler.YZX:this[2]=Math.asin(Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.b)(m21,-1,1)),Math.abs(m21)<.99999?(this[0]=Math.atan2(-m23,m22),this[1]=Math.atan2(-m31,m11)):(this[0]=0,this[1]=Math.atan2(m13,m33));break;case Euler.XZY:this[2]=Math.asin(-Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.b)(m12,-1,1)),Math.abs(m12)<.99999?(this[0]=Math.atan2(m32,m22),this[1]=Math.atan2(m13,m11)):(this[0]=Math.atan2(-m23,m33),this[1]=0);break;default:throw new Error(ERR_UNKNOWN_ORDER)}return this[3]=order,this}},{key:"_getRotationMatrix",value:function _getRotationMatrix(){var te=new __WEBPACK_IMPORTED_MODULE_2__matrix4__.a,x=this.x,y=this.y,z=this.z,a=Math.cos(x),c=Math.cos(y),e=Math.cos(z),b=Math.sin(x),d=Math.sin(y),f=Math.sin(z);switch(this[3]){case Euler.XYZ:var ae=a*e,af=a*f,be=b*e,bf=b*f;te[0]=c*e,te[4]=-c*f,te[8]=d,te[1]=af+be*d,te[5]=ae-bf*d,te[9]=-b*c,te[2]=bf-ae*d,te[6]=be+af*d,te[10]=a*c;break;case Euler.YXZ:var ce=c*e,cf=c*f,de=d*e,df=d*f;te[0]=ce+df*b,te[4]=de*b-cf,te[8]=a*d,te[1]=a*f,te[5]=a*e,te[9]=-b,te[2]=cf*b-de,te[6]=df+ce*b,te[10]=a*c;break;case Euler.ZXY:var _ce=c*e,_cf=c*f,_de=d*e,_df=d*f;te[0]=_ce-_df*b,te[4]=-a*f,te[8]=_de+_cf*b,te[1]=_cf+_de*b,te[5]=a*e,te[9]=_df-_ce*b,te[2]=-a*d,te[6]=b,te[10]=a*c;break;case Euler.ZYX:var _ae=a*e,_af=a*f,_be=b*e,_bf=b*f;te[0]=c*e,te[4]=_be*d-_af,te[8]=_ae*d+_bf,te[1]=c*f,te[5]=_bf*d+_ae,te[9]=_af*d-_be,te[2]=-d,te[6]=b*c,te[10]=a*c;break;case Euler.YZX:var ac=a*c,ad=a*d,bc=b*c,bd=b*d;te[0]=c*e,te[4]=bd-ac*f,te[8]=bc*f+ad,te[1]=f,te[5]=a*e,te[9]=-b*e,te[2]=-d*e,te[6]=ad*f+bc,te[10]=ac-bd*f;break;case Euler.XZY:var _ac=a*c,_ad=a*d,_bc=b*c,_bd=b*d;te[0]=c*e,te[4]=-f,te[8]=d*e,te[1]=_ac*f+_bd,te[5]=a*e,te[9]=_ad*f-_bc,te[2]=_bc*f-_ad,te[6]=b*e,te[10]=_bd*f+_ac;break;default:throw new Error(ERR_UNKNOWN_ORDER)}return te[3]=0,te[7]=0,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,this}},{key:"x",get:function get(){return this[0]},set:function set(value){return this[0]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"y",get:function get(){return this[1]},set:function set(value){return this[1]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"z",get:function get(){return this[2]},set:function set(value){return this[2]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"alpha",get:function get(){return this[0]},set:function set(value){return this[0]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"beta",get:function get(){return this[1]},set:function set(value){return this[1]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"gamma",get:function get(){return this[2]},set:function set(value){return this[2]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"phi",get:function get(){return this[0]},set:function set(value){return this[0]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"theta",get:function get(){return this[1]},set:function set(value){return this[1]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"psi",get:function get(){return this[2]},set:function set(value){return this[2]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"roll",get:function get(){return this[0]},set:function set(value){return this[0]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"pitch",get:function get(){return this[1]},set:function set(value){return this[1]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"yaw",get:function get(){return this[2]},set:function set(value){return this[2]=Object(__WEBPACK_IMPORTED_MODULE_1__lib_common__.a)(value)}},{key:"order",get:function get(){return this[3]},set:function set(value){return this[3]=function checkOrder(value){if(value<0&&value>=6)throw new Error(ERR_UNKNOWN_ORDER);return value}(value)}}]),Euler}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function assembleShaders(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},vs=opts.vs,fs=opts.fs,modules=Object(__WEBPACK_IMPORTED_MODULE_0__shader_modules__.c)(opts.modules||[]);return{gl:gl,vs:assembleShader(gl,Object.assign({},opts,{source:vs,type:VERTEX_SHADER,modules:modules})),fs:assembleShader(gl,Object.assign({},opts,{source:fs,type:FRAGMENT_SHADER,modules:modules})),getUniforms:function assembleGetUniforms(modules){return function getUniforms(opts){var uniforms={},_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=modules[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var moduleName=_step2.value,shaderModule=Object(__WEBPACK_IMPORTED_MODULE_0__shader_modules__.a)(moduleName),moduleUniforms=shaderModule.getUniforms?shaderModule.getUniforms(opts,uniforms):{};Object.assign(uniforms,moduleUniforms)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return uniforms}}(modules),modules:function assembleModuleMap(modules){var result={},_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=modules[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var moduleName=_step3.value,shaderModule=Object(__WEBPACK_IMPORTED_MODULE_0__shader_modules__.a)(moduleName);result[moduleName]=shaderModule}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}return result}(modules)}};var _SHADER_TYPE,_MODULE_INJECTORS,__WEBPACK_IMPORTED_MODULE_0__shader_modules__=__webpack_require__(474),__WEBPACK_IMPORTED_MODULE_1__platform_defines__=__webpack_require__(970),__WEBPACK_IMPORTED_MODULE_2__modules_module_injectors__=__webpack_require__(971),__WEBPACK_IMPORTED_MODULE_3__utils_assert__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_4__utils__=__webpack_require__(15);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var VERTEX_SHADER="vs",FRAGMENT_SHADER="fs",SHADER_TYPE=(_defineProperty(_SHADER_TYPE={},VERTEX_SHADER,"vertex"),_defineProperty(_SHADER_TYPE,FRAGMENT_SHADER,"fragment"),_SHADER_TYPE),MODULE_INJECTORS=(_defineProperty(_MODULE_INJECTORS={},VERTEX_SHADER,__WEBPACK_IMPORTED_MODULE_2__modules_module_injectors__.b),_defineProperty(_MODULE_INJECTORS,FRAGMENT_SHADER,__WEBPACK_IMPORTED_MODULE_2__modules_module_injectors__.a),_MODULE_INJECTORS),FRAGMENT_SHADER_PROLOGUE="#ifdef GL_ES\nprecision highp float;\n#endif\n\n";function checkDeprecation(moduleName,shaderSource){Object(__WEBPACK_IMPORTED_MODULE_0__shader_modules__.a)(moduleName).deprecations.forEach(function(def){def.regex.test(shaderSource)&&(def.deprecated?__WEBPACK_IMPORTED_MODULE_4__utils__.g.deprecated(def.old,def.new)():__WEBPACK_IMPORTED_MODULE_4__utils__.g.removed(def.old,def.new)())})}function getModuleSource(moduleName,type){var moduleSource,shaderModule=Object(__WEBPACK_IMPORTED_MODULE_0__shader_modules__.a)(moduleName);switch(type){case VERTEX_SHADER:moduleSource=shaderModule.vs||shaderModule.vertexShader;break;case FRAGMENT_SHADER:moduleSource=shaderModule.fs||shaderModule.fragmentShader;break;default:Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(!1)}return"string"!=typeof moduleSource?"":"#define MODULE_".concat(moduleName.toUpperCase(),"\n").concat(moduleSource,"// END MODULE_").concat(moduleName,"\n\n")}function assembleShader(gl,_ref2){var id=_ref2.id,source=_ref2.source,type=_ref2.type,_ref2$modules=_ref2.modules,modules=void 0===_ref2$modules?[]:_ref2$modules,_ref2$defines=_ref2.defines,defines=void 0===_ref2$defines?{}:_ref2$defines;Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)("string"==typeof source,"shader source must be a string");var sourceLines=source.split("\n"),versionLine="",coreSource=source;0===sourceLines[0].indexOf("#version ")&&(versionLine=sourceLines[0],coreSource=sourceLines.slice(1).join("\n"));var assembledSource="".concat(function getShaderName(_ref){var id=_ref.id,source=_ref.source,type=_ref.type;return id&&"string"==typeof id&&-1===source.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(id,"_").concat(SHADER_TYPE[type],"\n\n"):""}({id:id,source:source,type:type}),"\n").concat(Object(__WEBPACK_IMPORTED_MODULE_1__platform_defines__.a)(gl),"\n").concat(Object(__WEBPACK_IMPORTED_MODULE_1__platform_defines__.b)(gl),"\n").concat(function getApplicationDefines(){var defines=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},count=0,sourceText="";for(var define in defines)0===count&&(sourceText+="\n// APPLICATION DEFINES\n"),count++,sourceText+="#define ".concat(define.toUpperCase()," ").concat(defines[define],"\n");return 0===count&&(sourceText+="\n"),sourceText}(defines),"\n").concat(type===FRAGMENT_SHADER?FRAGMENT_SHADER_PROLOGUE:"","\n"),inject=!1,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=modules[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var moduleName=_step.value;switch(moduleName){case"inject":inject=!0;break;default:checkDeprecation(moduleName,coreSource),assembledSource+=getModuleSource(moduleName,type)}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return assembledSource=versionLine+assembledSource+coreSource,inject&&assembledSource.replace("}s*$",MODULE_INJECTORS),assembledSource}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ShaderCache});var __WEBPACK_IMPORTED_MODULE_0__webgl_shader__=__webpack_require__(261),__WEBPACK_IMPORTED_MODULE_1__webgl_program__=__webpack_require__(465),__WEBPACK_IMPORTED_MODULE_2__utils_assert__=__webpack_require__(3);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ShaderCache=function(){function ShaderCache(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},gl=_ref.gl,_ref$_cachePrograms=_ref._cachePrograms,_cachePrograms=void 0!==_ref$_cachePrograms&&_ref$_cachePrograms;_classCallCheck(this,ShaderCache),Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(gl),this.gl=gl,this.vertexShaders={},this.fragmentShaders={},this.programs={},this._cachePrograms=_cachePrograms}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ShaderCache,[{key:"delete",value:function _delete(){return this}},{key:"getVertexShader",value:function getVertexShader(gl,source){Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)("string"==typeof source),Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(this._compareContexts(gl,this.gl));var shader=this.vertexShaders[source];return shader||(shader=new __WEBPACK_IMPORTED_MODULE_0__webgl_shader__.c(gl,source),this.vertexShaders[source]=shader),shader}},{key:"getFragmentShader",value:function getFragmentShader(gl,source){Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)("string"==typeof source),Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(this._compareContexts(gl,this.gl));var shader=this.fragmentShaders[source];return shader||(shader=new __WEBPACK_IMPORTED_MODULE_0__webgl_shader__.a(gl,source),this.fragmentShaders[source]=shader),shader}},{key:"getProgram",value:function getProgram(gl,opts){Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(this._compareContexts(gl,this.gl)),Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)("string"==typeof opts.vs),Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)("string"==typeof opts.fs),Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)("string"==typeof opts.id);var cacheKey=this._getProgramKey(opts),program=this.programs[cacheKey];return program?(this._resetProgram(program),program):(program=this._createNewProgram(gl,opts),this._cachePrograms&&this._checkProgramProp(program)&&(program._isCached=!0,this.programs[cacheKey]=program),program)}},{key:"_getProgramKey",value:function _getProgramKey(opts){return"".concat(opts.id,"-").concat(opts.vs,"-").concat(opts.fs)}},{key:"_checkProgramProp",value:function _checkProgramProp(program){return!program.varyings}},{key:"_createNewProgram",value:function _createNewProgram(gl,opts){var vs=opts.vs,fs=opts.fs,vertexShader=this.getVertexShader(gl,vs),fragmentShader=this.getFragmentShader(gl,fs);return new __WEBPACK_IMPORTED_MODULE_1__webgl_program__.a(this.gl,Object.assign({},opts,{vs:vertexShader,fs:fragmentShader}))}},{key:"_resetProgram",value:function _resetProgram(program,opts){program.reset()}},{key:"_compareContexts",value:function _compareContexts(gl1,gl2){return(gl1.gl||gl1)===(gl2.gl||gl2)}}]),ShaderCache}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AnimationLoopProxy});var __WEBPACK_IMPORTED_MODULE_0__animation_loop__=__webpack_require__(476),__WEBPACK_IMPORTED_MODULE_1__webgl_context__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_2__webgl_utils__=__webpack_require__(11);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var AnimationLoopProxy=function(){function AnimationLoopProxy(_ref){var worker=_ref.worker,_ref$onInitialize=_ref.onInitialize,onInitialize=void 0===_ref$onInitialize?function(){}:_ref$onInitialize,_ref$onFinalize=_ref.onFinalize,onFinalize=void 0===_ref$onFinalize?function(){}:_ref$onFinalize,_ref$useDevicePixels=_ref.useDevicePixels,useDevicePixels=void 0===_ref$useDevicePixels||_ref$useDevicePixels,_ref$autoResizeDrawin=_ref.autoResizeDrawingBuffer,autoResizeDrawingBuffer=void 0===_ref$autoResizeDrawin||_ref$autoResizeDrawin;_classCallCheck(this,AnimationLoopProxy),this.props={worker:worker,onInitialize:onInitialize,onFinalize:onFinalize,autoResizeDrawingBuffer:autoResizeDrawingBuffer,useDevicePixels:useDevicePixels},this.canvas=null,this.width=null,this.height=null,this._stopped=!0,this._animationFrameId=null,this._startPromise=null,this._updateFrame=this._updateFrame.bind(this)}return _createClass(AnimationLoopProxy,null,[{key:"createWorker",value:function createWorker(opts){return function(self){self.animationLoop=new __WEBPACK_IMPORTED_MODULE_0__animation_loop__.a(Object.assign({},opts,{offScreen:!0,useDevicePixels:!1,autoResizeDrawingBuffer:!1})),self.canvas=null,self.addEventListener("message",function(evt){var animationLoop=self.animationLoop;switch(evt.data.command){case"start":self.canvas=evt.data.opts.canvas,animationLoop.start(evt.data.opts);break;case"stop":animationLoop.stop();break;case"resize":self.canvas.width=evt.data.width,self.canvas.height=evt.data.height}})}}}]),_createClass(AnimationLoopProxy,[{key:"start",value:function start(){var _this=this,opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._stopped=!1,this._animationFrameId||(this._startPromise=Object(__WEBPACK_IMPORTED_MODULE_1__webgl_context__.c)().then(function(){return _this._createAndTransferCanvas(opts),_this.props.onInitialize(_this)}).then(function(){_this._stopped||(_this._animationFrameId=Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.n)(_this._updateFrame))})),this}},{key:"stop",value:function stop(){return this._animationFrameId&&(Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.f)(this._animationFrameId),this._animationFrameId=null,this._stopped=!0,this.props.onFinalize(this)),this.props.worker.postMessage({command:"stop"}),this}},{key:"_updateFrame",value:function _updateFrame(){this._resizeCanvasDrawingBuffer(),this._animationFrameId=Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.n)(this._updateFrame)}},{key:"_createAndTransferCanvas",value:function _createAndTransferCanvas(opts){var screenCanvas=Object(__WEBPACK_IMPORTED_MODULE_1__webgl_context__.a)(opts);screenCanvas.transferControlToOffscreen||onError("OffscreenCanvas is not available. Enable Experimental canvas features in chrome://flags");var offscreenCanvas=screenCanvas.transferControlToOffscreen();this.props.worker.postMessage({command:"start",opts:Object.assign({},opts,{canvas:offscreenCanvas})},[offscreenCanvas]),this.canvas=screenCanvas}},{key:"_resizeCanvasDrawingBuffer",value:function _resizeCanvasDrawingBuffer(){if(this.props.autoResizeDrawingBuffer){var devicePixelRatio=this.props.useDevicePixels&&window.devicePixelRatio||1,width=this.canvas.clientWidth*devicePixelRatio,height=this.canvas.clientHeight*devicePixelRatio;this.width===width&&this.height===height||(this.width=width,this.height=height,this.props.worker.postMessage({command:"resize",width:width,height:height}))}}}]),AnimationLoopProxy}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ConeGeometry});var __WEBPACK_IMPORTED_MODULE_0__truncated_cone_geometry__=__webpack_require__(266);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var ConeGeometry=function(_TruncatedConeGeometr){function ConeGeometry(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,ConeGeometry);var _opts$radius=opts.radius,radius=void 0===_opts$radius?1:_opts$radius,_opts$cap=opts.cap,cap=void 0===_opts$cap||_opts$cap;return _possibleConstructorReturn(this,(ConeGeometry.__proto__||Object.getPrototypeOf(ConeGeometry)).call(this,Object.assign({},opts,{topRadius:0,topCap:Boolean(cap),bottomCap:Boolean(cap),bottomRadius:radius})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ConeGeometry,__WEBPACK_IMPORTED_MODULE_0__truncated_cone_geometry__["a"]),ConeGeometry}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CubeGeometry});var __WEBPACK_IMPORTED_MODULE_0__geometry__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_1__utils__=__webpack_require__(15);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var CubeGeometry=function(_Geometry){function CubeGeometry(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,CubeGeometry);var _opts$id=opts.id,id=void 0===_opts$id?Object(__WEBPACK_IMPORTED_MODULE_1__utils__.h)("cube-geometry"):_opts$id;return _possibleConstructorReturn(this,(CubeGeometry.__proto__||Object.getPrototypeOf(CubeGeometry)).call(this,Object.assign({},opts,{id:id,attributes:function getCubeAttributes(){return{indices:new Uint16Array(CUBE_INDICES),positions:new Float32Array(CUBE_POSITIONS),normals:new Float32Array(CUBE_NORMALS),texCoords:new Float32Array(CUBE_TEX_COORDS)}}()})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(CubeGeometry,__WEBPACK_IMPORTED_MODULE_0__geometry__["a"]),CubeGeometry}(),CUBE_INDICES=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),CUBE_POSITIONS=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),CUBE_NORMALS=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),CUBE_TEX_COORDS=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CylinderGeometry});var __WEBPACK_IMPORTED_MODULE_0__truncated_cone_geometry__=__webpack_require__(266);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var CylinderGeometry=function(_TruncatedConeGeometr){function CylinderGeometry(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,CylinderGeometry);var _opts$radius=opts.radius,radius=void 0===_opts$radius?1:_opts$radius;return _possibleConstructorReturn(this,(CylinderGeometry.__proto__||Object.getPrototypeOf(CylinderGeometry)).call(this,Object.assign({},opts,{bottomRadius:radius,topRadius:radius})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(CylinderGeometry,__WEBPACK_IMPORTED_MODULE_0__truncated_cone_geometry__["a"]),CylinderGeometry}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IcoSphereGeometry});var __WEBPACK_IMPORTED_MODULE_0__geometry__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_1_math_gl__=__webpack_require__(17);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var ICO_POSITIONS=[-1,0,0,0,1,0,0,0,-1,0,0,1,0,-1,0,1,0,0],ICO_INDICES=[3,4,5,3,5,1,3,1,0,3,0,4,4,0,2,4,2,5,2,0,1,5,2,1],IcoSphereGeometry=function(_Geometry){function IcoSphereGeometry(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,IcoSphereGeometry);var _opts$iterations=opts.iterations,iterations=void 0===_opts$iterations?0:_opts$iterations,PI=Math.PI,PI2=2*PI,positions=ICO_POSITIONS.concat(),indices=ICO_INDICES.concat();positions.push(),indices.push();for(var pointMemo,getMiddlePoint=(pointMemo={},function(i1,i2){var maxi=(i1*=3)>(i2*=3)?i1:i2,key="".concat(i1<i2?i1:i2,"|").concat(maxi);if(key in pointMemo)return pointMemo[key];var x1=positions[i1],y1=positions[i1+1],z1=positions[i1+2],xm=(x1+positions[i2])/2,ym=(y1+positions[i2+1])/2,zm=(z1+positions[i2+2])/2,len=Math.sqrt(xm*xm+ym*ym+zm*zm);return xm/=len,ym/=len,zm/=len,positions.push(xm,ym,zm),pointMemo[key]=positions.length/3-1}),i=0;i<iterations;i++){for(var indices2=[],j=0;j<indices.length;j+=3){var a=getMiddlePoint(indices[j+0],indices[j+1]),b=getMiddlePoint(indices[j+1],indices[j+2]),c=getMiddlePoint(indices[j+2],indices[j+0]);indices2.push(c,indices[j+0],a,a,indices[j+1],b,b,indices[j+2],c,a,b,c)}indices=indices2}for(var normals=new Array(3*indices.length),texCoords=new Array(2*indices.length),_i=indices.length-3;_i>=0;_i-=3){var i1=indices[_i+0],i2=indices[_i+1],i3=indices[_i+2],in1=3*i1,in2=3*i2,in3=3*i3,iu1=2*i1,iu2=2*i2,iu3=2*i3,x1=positions[in1+0],y1=positions[in1+1],z1=positions[in1+2],v1=Math.acos(z1/Math.sqrt(x1*x1+y1*y1+z1*z1))/PI,u1=1-(Math.atan2(y1,x1)+PI)/PI2,x2=positions[in2+0],y2=positions[in2+1],z2=positions[in2+2],v2=Math.acos(z2/Math.sqrt(x2*x2+y2*y2+z2*z2))/PI,u2=1-(Math.atan2(y2,x2)+PI)/PI2,x3=positions[in3+0],y3=positions[in3+1],z3=positions[in3+2],v3=Math.acos(z3/Math.sqrt(x3*x3+y3*y3+z3*z3))/PI,u3=1-(Math.atan2(y3,x3)+PI)/PI2,vec1=[x3-x2,y3-y2,z3-z2],vec2=[x1-x2,y1-y2,z1-z2],normal=new __WEBPACK_IMPORTED_MODULE_1_math_gl__.d(vec1).cross(vec2).normalize(),newIndex=void 0;(0===u1||0===u2||0===u3)&&(0===u1||u1>.5)&&(0===u2||u2>.5)&&(0===u3||u3>.5)&&(positions.push(positions[in1+0],positions[in1+1],positions[in1+2]),newIndex=positions.length/3-1,indices.push(newIndex),texCoords[2*newIndex+0]=1,texCoords[2*newIndex+1]=v1,normals[3*newIndex+0]=normal.x,normals[3*newIndex+1]=normal.y,normals[3*newIndex+2]=normal.z,positions.push(positions[in2+0],positions[in2+1],positions[in2+2]),newIndex=positions.length/3-1,indices.push(newIndex),texCoords[2*newIndex+0]=1,texCoords[2*newIndex+1]=v2,normals[3*newIndex+0]=normal.x,normals[3*newIndex+1]=normal.y,normals[3*newIndex+2]=normal.z,positions.push(positions[in3+0],positions[in3+1],positions[in3+2]),newIndex=positions.length/3-1,indices.push(newIndex),texCoords[2*newIndex+0]=1,texCoords[2*newIndex+1]=v3,normals[3*newIndex+0]=normal.x,normals[3*newIndex+1]=normal.y,normals[3*newIndex+2]=normal.z),normals[in1+0]=normals[in2+0]=normals[in3+0]=normal.x,normals[in1+1]=normals[in2+1]=normals[in3+1]=normal.y,normals[in1+2]=normals[in2+2]=normals[in3+2]=normal.z,texCoords[iu1+0]=u1,texCoords[iu1+1]=v1,texCoords[iu2+0]=u2,texCoords[iu2+1]=v2,texCoords[iu3+0]=u3,texCoords[iu3+1]=v3}return _possibleConstructorReturn(this,(IcoSphereGeometry.__proto__||Object.getPrototypeOf(IcoSphereGeometry)).call(this,Object.assign({},opts,{attributes:{positions:new Float32Array(positions),normals:new Float32Array(normals),texCoords:new Float32Array(texCoords),indices:new Uint16Array(indices)}})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(IcoSphereGeometry,__WEBPACK_IMPORTED_MODULE_0__geometry__["a"]),IcoSphereGeometry}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return PlaneGeometry});var __WEBPACK_IMPORTED_MODULE_0__geometry__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_1__utils__=__webpack_require__(15);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var PlaneGeometry=function(_Geometry){function PlaneGeometry(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,PlaneGeometry);var _opts$type=opts.type,type=void 0===_opts$type?"x,y":_opts$type,_opts$offset=opts.offset,offset=void 0===_opts$offset?0:_opts$offset,_opts$flipCull=opts.flipCull,flipCull=void 0!==_opts$flipCull&&_opts$flipCull,_opts$unpack=opts.unpack,unpack=void 0!==_opts$unpack&&_opts$unpack,_opts$id=opts.id,id=void 0===_opts$id?Object(__WEBPACK_IMPORTED_MODULE_1__utils__.h)("plane-geometry"):_opts$id,coords=type.split(","),c1len=opts["".concat(coords[0],"len")],c2len=opts["".concat(coords[1],"len")],subdivisions1=opts["n".concat(coords[0])]||1,subdivisions2=opts["n".concat(coords[1])]||1,numVertices=(subdivisions1+1)*(subdivisions2+1),positions=new Float32Array(3*numVertices),normals=new Float32Array(3*numVertices),texCoords=new Float32Array(2*numVertices);flipCull&&(c1len=-c1len);for(var i2=0,i3=0,z=0;z<=subdivisions2;z++)for(var x=0;x<=subdivisions1;x++){var u=x/subdivisions1,v=z/subdivisions2;switch(texCoords[i2+0]=flipCull?1-u:u,texCoords[i2+1]=v,type){case"x,y":positions[i3+0]=c1len*u-.5*c1len,positions[i3+1]=c2len*v-.5*c2len,positions[i3+2]=offset,normals[i3+0]=0,normals[i3+1]=0,normals[i3+2]=flipCull?1:-1;break;case"x,z":positions[i3+0]=c1len*u-.5*c1len,positions[i3+1]=offset,positions[i3+2]=c2len*v-.5*c2len,normals[i3+0]=0,normals[i3+1]=flipCull?1:-1,normals[i3+2]=0;break;case"y,z":positions[i3+0]=offset,positions[i3+1]=c1len*u-.5*c1len,positions[i3+2]=c2len*v-.5*c2len,normals[i3+0]=flipCull?1:-1,normals[i3+1]=0,normals[i3+2]=0}i2+=2,i3+=3}for(var numVertsAcross=subdivisions1+1,indices=new Uint16Array(subdivisions1*subdivisions2*6),_z=0;_z<subdivisions2;_z++)for(var _x=0;_x<subdivisions1;_x++){var index=6*(_z*subdivisions1+_x);indices[index+0]=(_z+0)*numVertsAcross+_x,indices[index+1]=(_z+1)*numVertsAcross+_x,indices[index+2]=(_z+0)*numVertsAcross+_x+1,indices[index+3]=(_z+1)*numVertsAcross+_x,indices[index+4]=(_z+1)*numVertsAcross+_x+1,indices[index+5]=(_z+0)*numVertsAcross+_x+1}if(unpack){for(var positions2=new Float32Array(3*indices.length),normals2=new Float32Array(3*indices.length),texCoords2=new Float32Array(2*indices.length),_x2=0;_x2<indices.length;++_x2){var _index=indices[_x2];positions2[3*_x2+0]=positions[3*_index+0],positions2[3*_x2+1]=positions[3*_index+1],positions2[3*_x2+2]=positions[3*_index+2],normals2[3*_x2+0]=normals[3*_index+0],normals2[3*_x2+1]=normals[3*_index+1],normals2[3*_x2+2]=normals[3*_index+2],texCoords2[2*_x2+0]=texCoords[2*_index+0],texCoords2[2*_x2+1]=texCoords[2*_index+1]}positions=positions2,normals=normals2,texCoords=texCoords2,indices=void 0}var attributes={positions:positions,normals:normals,texCoords:texCoords};return indices&&(attributes.indices=indices),_possibleConstructorReturn(this,(PlaneGeometry.__proto__||Object.getPrototypeOf(PlaneGeometry)).call(this,Object.assign({},opts,{attributes:attributes,id:id})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(PlaneGeometry,__WEBPACK_IMPORTED_MODULE_0__geometry__["a"]),PlaneGeometry}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return SphereGeometry});var __WEBPACK_IMPORTED_MODULE_0__geometry__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_1__utils__=__webpack_require__(15);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var SphereGeometry=function(_Geometry){function SphereGeometry(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,SphereGeometry);var _opts$nlat=opts.nlat,nlat=void 0===_opts$nlat?10:_opts$nlat,_opts$nlong=opts.nlong,nlong=void 0===_opts$nlong?10:_opts$nlong,_opts$radius=opts.radius,radius=void 0===_opts$radius?1:_opts$radius,_opts$id=opts.id,id=void 0===_opts$id?Object(__WEBPACK_IMPORTED_MODULE_1__utils__.h)("sphere-geometry"):_opts$id;return _possibleConstructorReturn(this,(SphereGeometry.__proto__||Object.getPrototypeOf(SphereGeometry)).call(this,Object.assign({},opts,{id:id,attributes:function getSphereAttributes(nlat,nlong,radius){var latRange=Math.PI-0,longRange=2*Math.PI-0,numVertices=(nlat+1)*(nlong+1);if("number"==typeof radius){var value=radius;radius=function radius(n1,n2,n3,u,v){return value}}for(var positions=new Float32Array(3*numVertices),normals=new Float32Array(3*numVertices),texCoords=new Float32Array(2*numVertices),indices=new Uint16Array(nlat*nlong*6),y=0;y<=nlat;y++)for(var x=0;x<=nlong;x++){var u=x/nlong,v=y/nlat,index=x+y*(nlong+1),i2=2*index,i3=3*index,theta=longRange*u,phi=latRange*v,sinTheta=Math.sin(theta),cosTheta=Math.cos(theta),sinPhi=Math.sin(phi),cosPhi=Math.cos(phi),ux=cosTheta*sinPhi,uy=cosPhi,uz=sinTheta*sinPhi,r=radius(ux,uy,uz,u,v);positions[i3+0]=r*ux,positions[i3+1]=r*uy,positions[i3+2]=r*uz,normals[i3+0]=ux,normals[i3+1]=uy,normals[i3+2]=uz,texCoords[i2+0]=u,texCoords[i2+1]=v}for(var numVertsAround=nlat+1,_x=0;_x<nlat;_x++)for(var _y=0;_y<nlong;_y++){var _index=6*(_x*nlong+_y);indices[_index+0]=_y*numVertsAround+_x,indices[_index+1]=_y*numVertsAround+_x+1,indices[_index+2]=(_y+1)*numVertsAround+_x,indices[_index+3]=(_y+1)*numVertsAround+_x,indices[_index+4]=_y*numVertsAround+_x+1,indices[_index+5]=(_y+1)*numVertsAround+_x+1}return{positions:positions,indices:indices,normals:normals,texCoords:texCoords}}(nlat,nlong,radius)})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(SphereGeometry,__WEBPACK_IMPORTED_MODULE_0__geometry__["a"]),SphereGeometry}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.c=function setPathPrefix(prefix){pathPrefix=prefix},__webpack_exports__.a=function loadFile(url,opts){"string"==typeof url||opts||(url=(opts=url).url);return opts.url=pathPrefix?pathPrefix+url:url,Object(__WEBPACK_IMPORTED_MODULE_0__browser_request_file__.a)(opts)},__webpack_exports__.b=function loadImage(url,opts){return url=pathPrefix?pathPrefix+url:url,new Promise(function(resolve,reject){try{var image=new Image;image.onload=function(){return resolve(image)},image.onerror=function(){return reject(new Error("Could not load image ".concat(url,".")))},image.crossOrigin=opts&&opts.crossOrigin||"anonymous",image.src=url}catch(error){reject(error)}})};var __WEBPACK_IMPORTED_MODULE_0__browser_request_file__=__webpack_require__(987),pathPrefix=""},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=loadFiles,__webpack_exports__.b=loadImages,__webpack_exports__.e=function loadTextures(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},urls=opts.urls,_opts$onProgress4=opts.onProgress,onProgress=void 0===_opts$onProgress4?noop:_opts$onProgress4;return Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(urls.every(function(url){return"string"==typeof url}),"loadTextures: {urls} must be array of strings"),loadImages(Object.assign({urls:urls,onProgress:onProgress},opts)).then(function(images){return images.map(function(img,i){var params=Array.isArray(opts.parameters)?opts.parameters[i]:opts.parameters;return params=void 0===params?{}:params,new __WEBPACK_IMPORTED_MODULE_2__webgl__.e(gl,Object.assign({id:urls[i]},params,{data:img}))})})},__webpack_exports__.d=function loadProgram(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},vs=opts.vs,fs=opts.fs,_opts$onProgress5=opts.onProgress,onProgress=void 0===_opts$onProgress5?noop:_opts$onProgress5;return loadFiles(Object.assign({urls:[vs,fs],onProgress:onProgress},opts)).then(function(_ref){var _ref2=_slicedToArray(_ref,2),vsText=_ref2[0],fsText=_ref2[1];return new __WEBPACK_IMPORTED_MODULE_2__webgl__.d(gl,Object.assign({vs:vsText,fs:fsText},opts))})},__webpack_exports__.c=function loadModel(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},url=opts.url,_opts$onProgress6=opts.onProgress,onProgress=void 0===_opts$onProgress6?noop:_opts$onProgress6;return loadFiles(Object.assign({urls:[url],onProgress:onProgress},opts)).then(function(_ref3){var _ref4=_slicedToArray(_ref3,1),file=_ref4[0];return parseModel(gl,Object.assign({file:file},opts))})},__webpack_exports__.f=parseModel;var __WEBPACK_IMPORTED_MODULE_0__utils_assert__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__browser_load__=__webpack_require__(599),__WEBPACK_IMPORTED_MODULE_2__webgl__=__webpack_require__(154),__WEBPACK_IMPORTED_MODULE_3__core__=__webpack_require__(141),__WEBPACK_IMPORTED_MODULE_4__geometry__=__webpack_require__(88);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function noop(){}function loadFiles(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},urls=opts.urls,_opts$onProgress2=opts.onProgress,onProgress=void 0===_opts$onProgress2?noop:_opts$onProgress2;Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(urls.every(function(url){return"string"==typeof url}),"loadImages: {urls} must be array of strings");var count=0;return Promise.all(urls.map(function(url){var promise=Object(__WEBPACK_IMPORTED_MODULE_1__browser_load__.a)(Object.assign({url:url},opts));return promise.then(function(file){return onProgress({progress:++count/urls.length,count:count,total:urls.length,url:url})}),promise}))}function loadImages(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},urls=opts.urls,_opts$onProgress3=opts.onProgress,onProgress=void 0===_opts$onProgress3?noop:_opts$onProgress3;Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(urls.every(function(url){return"string"==typeof url}),"loadImages: {urls} must be array of strings");var count=0;return Promise.all(urls.map(function(url){var promise=Object(__WEBPACK_IMPORTED_MODULE_1__browser_load__.b)(url,opts);return promise.then(function(file){return onProgress({progress:++count/urls.length,count:count,total:urls.length,url:url})}),promise}))}function parseModel(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},file=opts.file,_opts$program=opts.program,program=void 0===_opts$program?new __WEBPACK_IMPORTED_MODULE_2__webgl__.d(gl):_opts$program,json="string"==typeof file?function parseJSON(file){try{return JSON.parse(file)}catch(error){throw new Error("Failed to parse JSON: ".concat(error))}}(file):file,attributes={},modelOptions={};for(var key in json){var value=json[key];Array.isArray(value)?attributes[key]="indices"===key?new Uint16Array(value):new Float32Array(value):modelOptions[key]=value}return new __WEBPACK_IMPORTED_MODULE_3__core__.a(gl,Object.assign({program:program,geometry:new __WEBPACK_IMPORTED_MODULE_4__geometry__.d({attributes:attributes})},modelOptions,opts))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_math_gl__=__webpack_require__(17),IDENTITY_MATRIX=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],DEFAULT_MODULE_OPTIONS={modelMatrix:IDENTITY_MATRIX,viewMatrix:IDENTITY_MATRIX,projectionMatrix:IDENTITY_MATRIX,cameraPositionWorld:[0,0,0]};var common="varying vec4 project_vPositionWorld;\nvarying vec3 project_vNormalWorld;\n\nvec4 project_getPosition_World() {\n  return project_vPositionWorld;\n}\n\nvec3 project_getNormal_World() {\n  return project_vNormalWorld;\n}\n",vs="".concat(common,"\n\n// Unprefixed uniforms\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewProjectionMatrix;\nuniform vec3 cameraPositionWorld;\n\nstruct World {\n  vec3 position;\n  vec3 normal;\n};\n\nWorld world;\n\nvoid project_setPosition(vec4 position) {\n  project_vPositionWorld = position;\n}\n\nvoid project_setNormal(vec3 normal) {\n  project_vNormalWorld = normal;\n}\n\nvoid project_setPositionAndNormal_World(vec3 position, vec3 normal) {\n  world.position = position;\n  world.normal = normal;\n}\n\nvoid project_setPositionAndNormal_Model(vec3 position, vec3 normal) {\n  world.position = (modelMatrix * vec4(position, 1.)).xyz;\n  world.normal = mat3(modelMatrix) * normal;\n}\n\nvec4 project_model_to_clipspace(vec4 position) {\n  return viewProjectionMatrix * modelMatrix * position;\n}\n\nvec4 project_model_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * modelMatrix * vec4(position, 1.);\n}\n\nvec4 project_world_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_view_to_clipspace(vec3 position) {\n  return projectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n"),fs="\n".concat(common);__webpack_exports__.a={name:"project",getUniforms:function getUniforms(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DEFAULT_MODULE_OPTIONS,uniforms=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],{});return void 0!==opts.modelMatrix&&(uniforms.modelMatrix=opts.modelMatrix),void 0!==opts.viewMatrix&&(uniforms.viewMatrix=opts.viewMatrix),void 0!==opts.projectionMatrix&&(uniforms.projectionMatrix=opts.projectionMatrix),void 0!==opts.cameraPositionWorld&&(uniforms.cameraPositionWorld=opts.cameraPositionWorld),void 0===opts.projectionMatrix&&void 0===opts.viewMatrix||(uniforms.viewProjectionMatrix=new __WEBPACK_IMPORTED_MODULE_0_math_gl__.a(opts.projectionMatrix).multiplyRight(opts.viewMatrix)),uniforms},vs:vs,fs:fs}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function assert(condition){if(!condition)throw new Error("viewport-mercator-project: assertion failed.")}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function fitBounds(_ref){var _Mathabs=Math.abs,_NumberisFinite=Number.isFinite,width=_ref.width,height=_ref.height,bounds=_ref.bounds,_ref$padding=_ref.padding,padding=void 0===_ref$padding?0:_ref$padding,_ref$offset=_ref.offset,offset=void 0===_ref$offset?[0,0]:_ref$offset,_bounds=_slicedToArray(bounds,2),_bounds$=_slicedToArray(_bounds[0],2),west=_bounds$[0],south=_bounds$[1],_bounds$2=_slicedToArray(_bounds[1],2),east=_bounds$2[0],north=_bounds$2[1];if(_NumberisFinite(padding)){var p=padding;padding={top:p,bottom:p,left:p,right:p}}else Object(__WEBPACK_IMPORTED_MODULE_1__assert__.a)(_NumberisFinite(padding.top)&&_NumberisFinite(padding.bottom)&&_NumberisFinite(padding.left)&&_NumberisFinite(padding.right));var viewport=new __WEBPACK_IMPORTED_MODULE_0__web_mercator_viewport__.a({width:width,height:height,longitude:0,latitude:0,zoom:0}),nw=viewport.project([west,north]),se=viewport.project([east,south]),size=[_Mathabs(se[0]-nw[0]),_Mathabs(se[1]-nw[1])],targetSize=[width-padding.left-padding.right-2*_Mathabs(offset[0]),height-padding.top-padding.bottom-2*_Mathabs(offset[1])];Object(__WEBPACK_IMPORTED_MODULE_1__assert__.a)(0<targetSize[0]&&0<targetSize[1]);var scaleX=targetSize[0]/size[0],scaleY=targetSize[1]/size[1],offsetX=(padding.right-padding.left)/2/scaleX,offsetY=(padding.bottom-padding.top)/2/scaleY,center=[(se[0]+nw[0])/2+offsetX,(se[1]+nw[1])/2+offsetY],centerLngLat=viewport.unproject(center),zoom=viewport.zoom+Math.log2(_Mathabs(Math.min(scaleX,scaleY)));return{longitude:centerLngLat[0],latitude:centerLngLat[1],zoom:zoom}};var __WEBPACK_IMPORTED_MODULE_0__web_mercator_viewport__=__webpack_require__(225),__WEBPACK_IMPORTED_MODULE_1__assert__=__webpack_require__(602);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}},function(module,exports){module.exports=function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out}},function(module,exports){module.exports=function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_1__project_project__=__webpack_require__(223),__WEBPACK_IMPORTED_MODULE_2__utils_memoize__=__webpack_require__(477),__WEBPACK_IMPORTED_MODULE_3__project64_glsl__=__webpack_require__(1010),fp64ify=__WEBPACK_IMPORTED_MODULE_0_luma_gl__.fp64.fp64ify,fp64ifyMatrix4=__WEBPACK_IMPORTED_MODULE_0_luma_gl__.fp64.fp64ifyMatrix4;__webpack_exports__.a={name:"project64",dependencies:[__WEBPACK_IMPORTED_MODULE_1__project_project__.a,__WEBPACK_IMPORTED_MODULE_0_luma_gl__.fp64],vs:__WEBPACK_IMPORTED_MODULE_3__project64_glsl__.a,getUniforms:function getUniforms(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},project_uViewProjectionMatrix=context.project_uViewProjectionMatrix,project_uScale=context.project_uScale;if(project_uViewProjectionMatrix&&project_uScale)return getMemoizedUniforms({project_uViewProjectionMatrix:project_uViewProjectionMatrix,project_uScale:project_uScale});return{}},deprecations:[{type:"uniform vec2",old:"projectionFP64[16]",new:"project_uViewProjectionMatrixFP64"},{type:"uniform vec2",old:"projectionScaleFP64",new:"project64_uScale"}]};var getMemoizedUniforms=Object(__WEBPACK_IMPORTED_MODULE_2__utils_memoize__.a)(function calculateUniforms(_ref){var project_uViewProjectionMatrix=_ref.project_uViewProjectionMatrix,project_uScale=_ref.project_uScale,glViewProjectionMatrixFP64=fp64ifyMatrix4(project_uViewProjectionMatrix),scaleFP64=fp64ify(project_uScale);return{project_uViewProjectionMatrixFP64:glViewProjectionMatrixFP64,project64_uViewProjectionMatrix:glViewProjectionMatrixFP64,project64_uScale:scaleFP64}})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__lighting_glsl__=__webpack_require__(1011),__WEBPACK_IMPORTED_MODULE_1__project_project__=__webpack_require__(223),__WEBPACK_IMPORTED_MODULE_2__lib_constants__=__webpack_require__(224),__WEBPACK_IMPORTED_MODULE_3__project_project_functions__=__webpack_require__(1012),__WEBPACK_IMPORTED_MODULE_4__utils_memoize__=__webpack_require__(477);__webpack_exports__.a={name:"lighting",dependencies:[__WEBPACK_IMPORTED_MODULE_1__project_project__.a],vs:__WEBPACK_IMPORTED_MODULE_0__lighting_glsl__.a,getUniforms:function getUniforms(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:INITIAL_MODULE_OPTIONS;if(!opts.lightSettings)return{};var _opts$lightSettings=opts.lightSettings,_opts$lightSettings$n=_opts$lightSettings.numberOfLights,numberOfLights=void 0===_opts$lightSettings$n?1:_opts$lightSettings$n,_opts$lightSettings$l=_opts$lightSettings.lightsPosition,lightsPosition=void 0===_opts$lightSettings$l?DEFAULT_LIGHTS_POSITION:_opts$lightSettings$l,_opts$lightSettings$l2=_opts$lightSettings.lightsStrength,lightsStrength=void 0===_opts$lightSettings$l2?DEFAULT_LIGHTS_STRENGTH:_opts$lightSettings$l2,_opts$lightSettings$c=_opts$lightSettings.coordinateSystem,coordinateSystem=void 0===_opts$lightSettings$c?__WEBPACK_IMPORTED_MODULE_2__lib_constants__.a.LNGLAT:_opts$lightSettings$c,_opts$lightSettings$c2=_opts$lightSettings.coordinateOrigin,coordinateOrigin=void 0===_opts$lightSettings$c2?DEFAULT_COORDINATE_ORIGIN:_opts$lightSettings$c2,_opts$lightSettings$m=_opts$lightSettings.modelMatrix,modelMatrix=void 0===_opts$lightSettings$m?null:_opts$lightSettings$m,_opts$lightSettings$a=_opts$lightSettings.ambientRatio,ambientRatio=void 0===_opts$lightSettings$a?DEFAULT_AMBIENT_RATIO:_opts$lightSettings$a,_opts$lightSettings$d=_opts$lightSettings.diffuseRatio,diffuseRatio=void 0===_opts$lightSettings$d?DEFAULT_DIFFUSE_RATIO:_opts$lightSettings$d,_opts$lightSettings$s=_opts$lightSettings.specularRatio,specularRatio=void 0===_opts$lightSettings$s?DEFAULT_SPECULAR_RATIO:_opts$lightSettings$s;return{lighting_lightPositions:getMemoizedLightPositions({lightsPosition:lightsPosition,numberOfLights:numberOfLights,viewport:opts.viewport,modelMatrix:modelMatrix,coordinateSystem:opts.coordinateSystem,coordinateOrigin:opts.coordinateOrigin,fromCoordinateSystem:coordinateSystem,fromCoordinateOrigin:coordinateOrigin}),lighting_lightStrengths:lightsStrength,lighting_ambientRatio:ambientRatio,lighting_diffuseRatio:diffuseRatio,lighting_specularRatio:specularRatio,lighting_numberOfLights:numberOfLights}},deprecations:[{type:"function",old:"getLightWeight",new:"lighting_getLightWeight",deprecated:!0}]};var INITIAL_MODULE_OPTIONS={},DEFAULT_LIGHTS_POSITION=[-122.45,37.75,8e3],DEFAULT_LIGHTS_STRENGTH=[2,0],DEFAULT_AMBIENT_RATIO=.4,DEFAULT_DIFFUSE_RATIO=.6,DEFAULT_SPECULAR_RATIO=.8,DEFAULT_COORDINATE_ORIGIN=[0,0,0],getMemoizedLightPositions=Object(__WEBPACK_IMPORTED_MODULE_4__utils_memoize__.a)(function preprojectLightPositions(_ref){for(var lightsPosition=_ref.lightsPosition,numberOfLights=_ref.numberOfLights,viewport=_ref.viewport,modelMatrix=_ref.modelMatrix,coordinateSystem=_ref.coordinateSystem,coordinateOrigin=_ref.coordinateOrigin,fromCoordinateSystem=_ref.fromCoordinateSystem,fromCoordinateOrigin=_ref.fromCoordinateOrigin,projectionParameters={viewport:viewport,modelMatrix:modelMatrix,coordinateSystem:coordinateSystem,coordinateOrigin:coordinateOrigin,fromCoordinateSystem:fromCoordinateSystem,fromCoordinateOrigin:fromCoordinateOrigin},lightsPositionWorld=[],i=0;i<numberOfLights;i++){var position=Object(__WEBPACK_IMPORTED_MODULE_3__project_project_functions__.a)(lightsPosition.slice(3*i,3*i+3),projectionParameters);lightsPositionWorld[3*i]=position[0],lightsPositionWorld[3*i+1]=position[1],lightsPositionWorld[3*i+2]=position[2]}return lightsPositionWorld})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return LayerManager});var __WEBPACK_IMPORTED_MODULE_0__utils_assert__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_1_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2_seer__=__webpack_require__(475),__WEBPACK_IMPORTED_MODULE_2_seer___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_seer__),__WEBPACK_IMPORTED_MODULE_3__layer__=__webpack_require__(478),__WEBPACK_IMPORTED_MODULE_4__draw_layers__=__webpack_require__(613),__WEBPACK_IMPORTED_MODULE_5__pick_layers__=__webpack_require__(1024),__WEBPACK_IMPORTED_MODULE_6__lifecycle_constants__=__webpack_require__(611),__WEBPACK_IMPORTED_MODULE_7__views_view_manager__=__webpack_require__(1025),__WEBPACK_IMPORTED_MODULE_8__views_map_view__=__webpack_require__(615),__WEBPACK_IMPORTED_MODULE_9__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_10__utils_flatten__=__webpack_require__(227),__WEBPACK_IMPORTED_MODULE_11_probe_gl__=__webpack_require__(256),__WEBPACK_IMPORTED_MODULE_12__seer_integration__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_probe_gl__),__webpack_require__(479));function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}var INITIAL_CONTEXT=Object.seal({layerManager:null,gl:null,useDevicePixels:!0,stats:null,viewport:null,shaderCache:null,pickingFBO:null,lastPickedInfo:{index:-1,layerId:null},userData:{}}),layerName=function layerName(layer){return _instanceof(layer,__WEBPACK_IMPORTED_MODULE_3__layer__.a)?"".concat(layer):layer?"invalid":"null"},LayerManager=function(){function LayerManager(gl){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},eventManager=_ref.eventManager,stats=_ref.stats;!function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,LayerManager),this.lastRenderedLayers=[],this.layers=[],this.context=Object.assign({},INITIAL_CONTEXT,{layerManager:this,gl:gl,shaderCache:new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.ShaderCache({gl:gl,_cachePrograms:!0}),stats:stats||new __WEBPACK_IMPORTED_MODULE_11_probe_gl__.Stats({id:"deck.gl"})}),this.viewManager=new __WEBPACK_IMPORTED_MODULE_7__views_view_manager__.a,this.layerFilter=null,this.drawPickingColors=!1,this._needsRedraw="Initial render",this._needsUpdate=!1,this._pickingRadius=0,this._eventManager=null,this._onLayerClick=null,this._onLayerHover=null,this._onClick=this._onClick.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerLeave=this._onPointerLeave.bind(this),this._pickAndCallback=this._pickAndCallback.bind(this),this._initSeer=this._initSeer.bind(this),this._editSeer=this._editSeer.bind(this),this.width=100,this.height=100,Object.seal(this),Object(__WEBPACK_IMPORTED_MODULE_12__seer_integration__.e)(this._initSeer),Object(__WEBPACK_IMPORTED_MODULE_12__seer_integration__.c)(this._editSeer),eventManager&&this._initEventHandling(eventManager),this.setViews()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LayerManager,[{key:"finalize",value:function finalize(){__WEBPACK_IMPORTED_MODULE_2_seer___default.a.removeListener(this._initSeer),__WEBPACK_IMPORTED_MODULE_2_seer___default.a.removeListener(this._editSeer)}},{key:"needsRedraw",value:function needsRedraw(){var _ref2$clearRedrawFlag=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).clearRedrawFlags,clearRedrawFlags=void 0===_ref2$clearRedrawFlag||_ref2$clearRedrawFlag;return this._checkIfNeedsRedraw(clearRedrawFlags)}},{key:"needsUpdate",value:function needsUpdate(){return this._needsUpdate}},{key:"setNeedsRedraw",value:function setNeedsRedraw(reason){this._needsRedraw=this._needsRedraw||reason}},{key:"setNeedsUpdate",value:function setNeedsUpdate(reason){this._needsUpdate=this._needsUpdate||reason}},{key:"getLayers",value:function getLayers(){var _ref3$layerIds=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).layerIds,layerIds=void 0===_ref3$layerIds?null:_ref3$layerIds;return layerIds?this.layers.filter(function(layer){return layerIds.find(function(layerId){return 0===layer.id.indexOf(layerId)})}):this.layers}},{key:"getViews",value:function getViews(){return this.viewManager.views}},{key:"getViewports",value:function getViewports(){var viewports=this.viewManager.getViewports();return viewports.length&&this._activateViewport(viewports[0]),viewports}},{key:"setProps",value:function setProps(props){"eventManager"in props&&this._initEventHandling(props.eventManager),("pickingRadius"in props||"onLayerClick"in props||"onLayerHover"in props)&&this._setEventHandlingParameters(props),("width"in props||"height"in props)&&(this.viewManager.setSize(props.width,props.height),this.width=props.width,this.height=props.height),"views"in props&&this.setViews(props.views),"viewState"in props&&this.viewManager.setViewState(props.viewState),"layers"in props&&this.setLayers(props.layers),"layerFilter"in props&&this.layerFilter!==props.layerFilter&&(this.layerFilter=props.layerFilter,this.setNeedsRedraw("layerFilter changed")),"drawPickingColors"in props&&props.drawPickingColors!==this.drawPickingColors&&(this.drawPickingColors=props.drawPickingColors,this.setNeedsRedraw("drawPickingColors changed")),"userData"in props&&(this.context.userData=props.userData),"useDevicePixels"in props&&(this.context.useDevicePixels=props.useDevicePixels)}},{key:"setViews",value:function setViews(views){views&&0!==views.length||(views=[new __WEBPACK_IMPORTED_MODULE_8__views_map_view__.a({id:"default-view"})]),this.viewManager.setViews(views)}},{key:"setLayers",value:function setLayers(newLayers){if(this.getViewports(),Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(this.context.viewport,"LayerManager.updateLayers: viewport not set"),newLayers===this.lastRenderedLayers)return __WEBPACK_IMPORTED_MODULE_9__utils_log__.a.log(3,"Ignoring layer update due to layer array not changed")(),this;this.lastRenderedLayers=newLayers,newLayers=Object(__WEBPACK_IMPORTED_MODULE_10__utils_flatten__.b)(newLayers,{filter:Boolean});var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=newLayers[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){_step.value.context=this.context}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var _this$_updateLayers=this._updateLayers({oldLayers:this.layers,newLayers:newLayers}),error=_this$_updateLayers.error,generatedLayers=_this$_updateLayers.generatedLayers;if(this.layers=generatedLayers,error)throw error;return this}},{key:"updateLayers",value:function updateLayers(){var reason=this.needsUpdate();reason&&(this.setNeedsRedraw("updating layers: ".concat(reason)),this.setLayers(_toConsumableArray(this.lastRenderedLayers)))}},{key:"drawLayers",value:function drawLayers(){var _ref4=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref4$pass=_ref4.pass,pass=void 0===_ref4$pass?"render to screen":_ref4$pass,_ref4$redrawReason=_ref4.redrawReason,redrawReason=void 0===_ref4$redrawReason?"unknown reason":_ref4$redrawReason,drawPickingColors=this.drawPickingColors,_this$context=this.context,gl=_this$context.gl,useDevicePixels=_this$context.useDevicePixels;Object(__WEBPACK_IMPORTED_MODULE_4__draw_layers__.a)(gl,{layers:this.layers,viewports:this.getViewports(),onViewportActive:this._activateViewport.bind(this),useDevicePixels:useDevicePixels,drawPickingColors:drawPickingColors,pass:pass,layerFilter:this.layerFilter,redrawReason:redrawReason})}},{key:"pickObject",value:function pickObject(_ref5){var x=_ref5.x,y=_ref5.y,mode=_ref5.mode,_ref5$radius=_ref5.radius,radius=void 0===_ref5$radius?0:_ref5$radius,layerIds=_ref5.layerIds,layerFilter=_ref5.layerFilter,_ref5$depth=_ref5.depth,depth=void 0===_ref5$depth?1:_ref5$depth,_this$context2=this.context,gl=_this$context2.gl,useDevicePixels=_this$context2.useDevicePixels,layers=this.getLayers({layerIds:layerIds});return Object(__WEBPACK_IMPORTED_MODULE_5__pick_layers__.a)(gl,{x:x,y:y,radius:radius,layers:layers,mode:mode,layerFilter:layerFilter,depth:depth,viewports:this.getViewports(),onViewportActive:this._activateViewport.bind(this),pickingFBO:this._getPickingBuffer(),lastPickedInfo:this.context.lastPickedInfo,useDevicePixels:useDevicePixels})}},{key:"pickObjects",value:function pickObjects(_ref6){var x=_ref6.x,y=_ref6.y,width=_ref6.width,height=_ref6.height,layerIds=_ref6.layerIds,layerFilter=_ref6.layerFilter,_this$context3=this.context,gl=_this$context3.gl,useDevicePixels=_this$context3.useDevicePixels,layers=this.getLayers({layerIds:layerIds});return Object(__WEBPACK_IMPORTED_MODULE_5__pick_layers__.b)(gl,{x:x,y:y,width:width,height:height,layers:layers,layerFilter:layerFilter,mode:"pickObjects",viewports:this.getViewports(),onViewportActive:this._activateViewport.bind(this),pickingFBO:this._getPickingBuffer(),useDevicePixels:useDevicePixels})}},{key:"setParameters",value:function setParameters(parameters){return this.setProps(parameters)}},{key:"setSize",value:function setSize(width,height){this.setProps({width:width,height:height})}},{key:"setViewState",value:function setViewState(viewState){this.setProps({viewState:viewState})}},{key:"setViewports",value:function setViewports(viewports){return __WEBPACK_IMPORTED_MODULE_9__utils_log__.a.deprecated("setViewport","setViews")(),this.setViews(viewports),this}},{key:"setViewport",value:function setViewport(viewport){return __WEBPACK_IMPORTED_MODULE_9__utils_log__.a.deprecated("setViewport","setViews")(),this.setViews([viewport]),this}},{key:"_checkIfNeedsRedraw",value:function _checkIfNeedsRedraw(clearRedrawFlags){var redraw=this._needsRedraw;clearRedrawFlags&&(this._needsRedraw=!1),redraw=redraw||this.viewManager.needsRedraw();var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this.layers[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var layerNeedsRedraw=_step2.value.getNeedsRedraw({clearRedrawFlags:clearRedrawFlags});redraw=redraw||layerNeedsRedraw}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return redraw}},{key:"_initEventHandling",value:function _initEventHandling(eventManager){this._eventManager=eventManager,this._eventManager.on({click:this._onClick,pointermove:this._onPointerMove,pointerleave:this._onPointerLeave})}},{key:"_setEventHandlingParameters",value:function _setEventHandlingParameters(_ref7){var pickingRadius=_ref7.pickingRadius,onLayerClick=_ref7.onLayerClick,onLayerHover=_ref7.onLayerHover;isNaN(pickingRadius)||(this._pickingRadius=pickingRadius),void 0!==onLayerClick&&(this._onLayerClick=onLayerClick),void 0!==onLayerHover&&(this._onLayerHover=onLayerHover),this._validateEventHandling()}},{key:"_activateViewport",value:function _activateViewport(viewport){var oldViewport=this.context.viewport;if(!oldViewport||!viewport.equals(oldViewport)){__WEBPACK_IMPORTED_MODULE_9__utils_log__.a.log(4,"Viewport changed",viewport)(),this.context.viewport=viewport;var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=this.layers[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var layer=_step3.value;layer.setChangeFlags({viewportChanged:"Viewport changed"}),this._updateLayer(layer)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}return Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(this.context.viewport,"LayerManager: viewport not set"),this}},{key:"_getPickingBuffer",value:function _getPickingBuffer(){var gl=this.context.gl;return this.context.pickingFBO=this.context.pickingFBO||new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Framebuffer(gl),this.context.pickingFBO.resize({width:gl.canvas.width,height:gl.canvas.height}),this.context.pickingFBO}},{key:"_updateLayers",value:function _updateLayers(_ref8){var oldLayers=_ref8.oldLayers,newLayers=_ref8.newLayers,oldLayerMap={},_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=oldLayers[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var oldLayer=_step4.value;oldLayerMap[oldLayer.id]?__WEBPACK_IMPORTED_MODULE_9__utils_log__.a.warn("Multiple old layers with same id ".concat(layerName(oldLayer)))():oldLayerMap[oldLayer.id]=oldLayer}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}var generatedLayers=[],error=this._updateSublayersRecursively({newLayers:newLayers,oldLayerMap:oldLayerMap,generatedLayers:generatedLayers}),error2=this._finalizeOldLayers(oldLayerMap);return this._needsUpdate=!1,{error:error||error2,generatedLayers:generatedLayers}}},{key:"_updateSublayersRecursively",value:function _updateSublayersRecursively(_ref9){var newLayers=_ref9.newLayers,oldLayerMap=_ref9.oldLayerMap,generatedLayers=_ref9.generatedLayers,error=null,_iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=newLayers[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var newLayer=_step5.value;newLayer.context=this.context;var oldLayer=oldLayerMap[newLayer.id];null===oldLayer&&__WEBPACK_IMPORTED_MODULE_9__utils_log__.a.warn("Multiple new layers with same id ".concat(layerName(newLayer)))(),oldLayerMap[newLayer.id]=null;var sublayers=null;try{oldLayer?(this._transferLayerState(oldLayer,newLayer),this._updateLayer(newLayer),Object(__WEBPACK_IMPORTED_MODULE_12__seer_integration__.g)(newLayer)):(this._initializeLayer(newLayer),Object(__WEBPACK_IMPORTED_MODULE_12__seer_integration__.b)(newLayer)),generatedLayers.push(newLayer),sublayers=newLayer.isComposite&&newLayer.getSubLayers()}catch(err){__WEBPACK_IMPORTED_MODULE_9__utils_log__.a.warn("error during matching of ".concat(layerName(newLayer)),err),error=error||err}sublayers&&this._updateSublayersRecursively({newLayers:sublayers,oldLayerMap:oldLayerMap,generatedLayers:generatedLayers})}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{_iteratorNormalCompletion5||null==_iterator5.return||_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}return error}},{key:"_finalizeOldLayers",value:function _finalizeOldLayers(oldLayerMap){var error=null;for(var layerId in oldLayerMap){var layer=oldLayerMap[layerId];layer&&(error=error||this._finalizeLayer(layer))}return error}},{key:"_initializeLayer",value:function _initializeLayer(layer){__WEBPACK_IMPORTED_MODULE_9__utils_log__.a.log(2,"initializing ".concat(layerName(layer)))();var error=null;try{layer._initialize(),layer.lifecycle=__WEBPACK_IMPORTED_MODULE_6__lifecycle_constants__.a.INITIALIZED}catch(err){__WEBPACK_IMPORTED_MODULE_9__utils_log__.a.warn("error while initializing ".concat(layerName(layer),"\n"),err)(),error=error||err}layer.internalState.layer=layer;var _iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _step6,_iterator6=layer.getModels()[Symbol.iterator]();!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){_step6.value.userData.layer=layer}}catch(err){_didIteratorError6=!0,_iteratorError6=err}finally{try{_iteratorNormalCompletion6||null==_iterator6.return||_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}return error}},{key:"_transferLayerState",value:function _transferLayerState(oldLayer,newLayer){newLayer._transferState(oldLayer),newLayer.lifecycle=__WEBPACK_IMPORTED_MODULE_6__lifecycle_constants__.a.MATCHED,newLayer!==oldLayer?(__WEBPACK_IMPORTED_MODULE_9__utils_log__.a.log(4,"matched ".concat(layerName(newLayer)),oldLayer,"->",newLayer)(),oldLayer.lifecycle=__WEBPACK_IMPORTED_MODULE_6__lifecycle_constants__.a.AWAITING_GC):__WEBPACK_IMPORTED_MODULE_9__utils_log__.a.log(4,"Matching layer is unchanged ".concat(newLayer.id))()}},{key:"_updateLayer",value:function _updateLayer(layer){__WEBPACK_IMPORTED_MODULE_9__utils_log__.a.log(4,"updating ".concat(layer," because: ").concat(layer.printChangeFlags()))();var error=null;try{layer._update()}catch(err){__WEBPACK_IMPORTED_MODULE_9__utils_log__.a.warn("error during update of ".concat(layerName(layer)),err)(),error=err}return error}},{key:"_finalizeLayer",value:function _finalizeLayer(layer){Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(layer.lifecycle!==__WEBPACK_IMPORTED_MODULE_6__lifecycle_constants__.a.AWAITING_FINALIZATION),layer.lifecycle=__WEBPACK_IMPORTED_MODULE_6__lifecycle_constants__.a.AWAITING_FINALIZATION;var error=null;this.setNeedsRedraw("finalized ".concat(layerName(layer)));try{layer._finalize()}catch(err){__WEBPACK_IMPORTED_MODULE_9__utils_log__.a.warn("error during finalization of ".concat(layerName(layer)),err)(),error=err}return layer.lifecycle=__WEBPACK_IMPORTED_MODULE_6__lifecycle_constants__.a.FINALIZED,__WEBPACK_IMPORTED_MODULE_9__utils_log__.a.log(2,"finalizing ".concat(layerName(layer))),error}},{key:"_validateEventHandling",value:function _validateEventHandling(){(this.onLayerClick||this.onLayerHover)&&this.layers.length&&!this.layers.some(function(layer){return layer.props.pickable})&&__WEBPACK_IMPORTED_MODULE_9__utils_log__.a.warn("You have supplied a top-level input event handler (e.g. `onLayerClick`), but none of your layers have set the `pickable` flag.")()}},{key:"_onClick",value:function _onClick(event){event.offsetCenter&&this._pickAndCallback({callback:this._onLayerClick,event:event,mode:"click"})}},{key:"_onPointerMove",value:function _onPointerMove(event){event.leftButton||event.rightButton||this._pickAndCallback({callback:this._onLayerHover,event:event,mode:"hover"})}},{key:"_onPointerLeave",value:function _onPointerLeave(event){this.pickObject({x:-1,y:-1,radius:this._pickingRadius,mode:"hover"})}},{key:"_pickAndCallback",value:function _pickAndCallback(options){var pos=options.event.offsetCenter,radius=this._pickingRadius,selectedInfos=this.pickObject({x:pos.x,y:pos.y,radius:radius,mode:options.mode});if(options.callback){var firstInfo=selectedInfos.find(function(info){return info.index>=0})||null;options.callback(firstInfo,selectedInfos,options.event.srcEvent)}}},{key:"_initSeer",value:function _initSeer(){this.layers.forEach(function(layer){Object(__WEBPACK_IMPORTED_MODULE_12__seer_integration__.b)(layer),Object(__WEBPACK_IMPORTED_MODULE_12__seer_integration__.g)(layer)})}},{key:"_editSeer",value:function _editSeer(payload){if("edit"===payload.type&&"props"===payload.valuePath[0]){Object(__WEBPACK_IMPORTED_MODULE_12__seer_integration__.f)(payload.itemKey,payload.valuePath.slice(1),payload.value);var newLayers=this.layers.map(function(layer){return new layer.constructor(layer.props)});this.updateLayers({newLayers:newLayers})}}}]),LayerManager}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AttributeManager});var __WEBPACK_IMPORTED_MODULE_0__attribute__=__webpack_require__(1015),__WEBPACK_IMPORTED_MODULE_1__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_2__utils_assert__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_3__attribute_transition_manager__=__webpack_require__(1016);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function noop(){}var logFunctions={savedMessages:null,timeStart:null,onLog:function onLog(_ref){var level=_ref.level,message=_ref.message;__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.log(level,message)()},onUpdateStart:function onUpdateStart(_ref2){_ref2.level,_ref2.numInstances;logFunctions.savedMessages=[],logFunctions.timeStart=new Date},onUpdate:function onUpdate(_ref3){_ref3.level;var message=_ref3.message;logFunctions.savedMessages&&logFunctions.savedMessages.push(message)},onUpdateEnd:function onUpdateEnd(_ref4){var level=_ref4.level,id=_ref4.id,numInstances=_ref4.numInstances,timeMs=Math.round(new Date-logFunctions.timeStart),time="".concat(timeMs,"ms");__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.group(level,"Updated attributes for ".concat(numInstances," instances in ").concat(id," in ").concat(time),{collapsed:!0})();var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=logFunctions.savedMessages[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var message=_step.value;__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.log(level,message)()}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.groupEnd(level,"Updated attributes for ".concat(numInstances," instances in ").concat(id," in ").concat(time))(),logFunctions.savedMessages=null}},AttributeManager=function(){function AttributeManager(gl){var _ref6=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref6$id=_ref6.id,id=void 0===_ref6$id?"attribute-manager":_ref6$id,stats=_ref6.stats;_classCallCheck(this,AttributeManager),this.id=id,this.gl=gl,this.attributes={},this.updateTriggers={},this.accessors={},this.needsRedraw=!0,this.userData={},this.stats=stats,this.attributeTransitionManager=new __WEBPACK_IMPORTED_MODULE_3__attribute_transition_manager__.a(gl,{id:"".concat(id,"-transitions")}),Object.seal(this)}return _createClass(AttributeManager,null,[{key:"setDefaultLogFunctions",value:function setDefaultLogFunctions(){var _ref5=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},onLog=_ref5.onLog,onUpdateStart=_ref5.onUpdateStart,onUpdate=_ref5.onUpdate,onUpdateEnd=_ref5.onUpdateEnd;void 0!==onLog&&(logFunctions.onLog=onLog||noop),void 0!==onUpdateStart&&(logFunctions.onUpdateStart=onUpdateStart||noop),void 0!==onUpdate&&(logFunctions.onUpdate=onUpdate||noop),void 0!==onUpdateEnd&&(logFunctions.onUpdateEnd=onUpdateEnd||noop)}}]),_createClass(AttributeManager,[{key:"finalize",value:function finalize(){for(var attributeName in this.attributes)this.attributes[attributeName].delete();this.attributeTransitionManager.finalize()}},{key:"getNeedsRedraw",value:function getNeedsRedraw(){var _ref7$clearRedrawFlag=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).clearRedrawFlags,clearRedrawFlags=void 0!==_ref7$clearRedrawFlag&&_ref7$clearRedrawFlag,redraw=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!clearRedrawFlags,redraw&&this.id}},{key:"setNeedsRedraw",value:function setNeedsRedraw(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.needsRedraw=!0,this}},{key:"add",value:function add(attributes){var updaters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._add(attributes,updaters)}},{key:"addInstanced",value:function addInstanced(attributes){var updaters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._add(attributes,updaters,{instanced:1})}},{key:"remove",value:function remove(attributeNameArray){for(var i=0;i<attributeNameArray.length;i++){var name=attributeNameArray[i];void 0!==this.attributes[name]&&(this.attributes[name].delete(),delete this.attributes[name])}}},{key:"invalidate",value:function invalidate(triggerName){var invalidatedAttributes=this._invalidateTrigger(triggerName);logFunctions.onLog({level:3,message:"invalidated attributes ".concat(invalidatedAttributes," (").concat(triggerName,") for ").concat(this.id)})}},{key:"invalidateAll",value:function invalidateAll(){for(var attributeName in this.attributes)this.attributes[attributeName].setNeedsUpdate();logFunctions.onLog({level:3,message:"invalidated all attributes for ".concat(this.id)})}},{key:"update",value:function update(){var _ref8=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},data=_ref8.data,numInstances=_ref8.numInstances,transitions=_ref8.transitions,_ref8$props=_ref8.props,props=void 0===_ref8$props?{}:_ref8$props,_ref8$buffers=_ref8.buffers,buffers=void 0===_ref8$buffers?{}:_ref8$buffers,_ref8$context=_ref8.context,context=void 0===_ref8$context?{}:_ref8$context,_ref8$ignoreUnknownAt=_ref8.ignoreUnknownAttributes,ignoreUnknownAttributes=void 0!==_ref8$ignoreUnknownAt&&_ref8$ignoreUnknownAt;this._checkExternalBuffers({buffers:buffers,ignoreUnknownAttributes:ignoreUnknownAttributes}),this._setExternalBuffers(buffers),this._setGenericAttributes({data:data,props:props,context:context}),this._checkIfBuffersNeedUpdating({numInstances:numInstances})&&(logFunctions.onUpdateStart({level:2,id:this.id,numInstances:numInstances}),this.stats&&this.stats.timeStart("attribute updates",this.id),this._allocateBuffers({numInstances:numInstances,data:data,props:props,context:context}),this._updateBuffers({numInstances:numInstances,data:data,props:props,context:context}),this.stats&&this.stats.timeEnd("attribute updates",this.id),logFunctions.onUpdateEnd({level:2,id:this.id,numInstances:numInstances})),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:numInstances,transitions:transitions})}},{key:"updateTransition",value:function updateTransition(){var transitionUpdated=this.attributeTransitionManager.setCurrentTime(Date.now());return this.needsRedraw=this.needsRedraw||transitionUpdated,transitionUpdated}},{key:"getAttributes",value:function getAttributes(){return this.attributes}},{key:"getChangedAttributes",value:function getChangedAttributes(_ref9){var _ref9$transition=_ref9.transition,transition=void 0!==_ref9$transition&&_ref9$transition,attributes=(_ref9.clearChangedFlags,this.attributes),attributeTransitionManager=this.attributeTransitionManager;if(transition)return attributeTransitionManager.getAttributes();var changedAttributes={};for(var attributeName in attributes){var attribute=attributes[attributeName];attribute.needsRedraw({clearChangedFlags:!0})&&(attributeTransitionManager.hasAttribute(attributeName)||(changedAttributes[attributeName]=attribute))}return changedAttributes}},{key:"getAccessors",value:function getAccessors(){return this.updateTriggers}},{key:"_add",value:function _add(attributes,updaters){var extraProps=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};updaters&&__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.removed("AttributeManager.add({updaters}) - updater map no longer supported");var newAttributes={};for(var attributeName in attributes){var attribute=attributes[attributeName];newAttributes[attributeName]=new __WEBPACK_IMPORTED_MODULE_0__attribute__.a(this.gl,Object.assign({},attribute,{id:attributeName,isGeneric:attribute.isGeneric||!1,isIndexed:attribute.isIndexed||attribute.elements,size:attribute.elements?1:attribute.size,value:attribute.value||null,instanced:attribute.instanced||extraProps.instanced}))}Object.assign(this.attributes,newAttributes),this._mapUpdateTriggersToAttributes()}},{key:"_mapUpdateTriggersToAttributes",value:function _mapUpdateTriggersToAttributes(){var _this=this,triggers={},_loop=function _loop(attributeName){_this.attributes[attributeName].getUpdateTriggers().forEach(function(triggerName){triggers[triggerName]||(triggers[triggerName]=[]),triggers[triggerName].push(attributeName)})};for(var attributeName in this.attributes)_loop(attributeName);this.updateTriggers=triggers}},{key:"_invalidateTrigger",value:function _invalidateTrigger(triggerName){var attributes=this.attributes,invalidatedAttributes=this.updateTriggers[triggerName];if(invalidatedAttributes)invalidatedAttributes.forEach(function(name){var attribute=attributes[name];attribute&&attribute.setNeedsUpdate()});else{var message="invalidating non-existent trigger ".concat(triggerName," for ").concat(this.id,"\n");message+="Valid triggers: ".concat(Object.keys(attributes).join(", ")),__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.warn(message,invalidatedAttributes)()}return invalidatedAttributes}},{key:"_setExternalBuffers",value:function _setExternalBuffers(bufferMap){for(var attributeName in this.attributes){var attribute=this.attributes[attributeName],buffer=bufferMap[attributeName];attribute.setExternalBuffer(buffer,this.numInstances),this.needsRedraw|=attribute.needsRedraw()}}},{key:"_checkExternalBuffers",value:function _checkExternalBuffers(){var _ref10=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref10$buffers=_ref10.buffers,buffers=void 0===_ref10$buffers?{}:_ref10$buffers,_ref10$ignoreUnknownA=_ref10.ignoreUnknownAttributes,ignoreUnknownAttributes=void 0!==_ref10$ignoreUnknownA&&_ref10$ignoreUnknownA,attributes=this.attributes;for(var attributeName in buffers){if(!attributes[attributeName]&&!ignoreUnknownAttributes)throw new Error("Unknown attribute prop ".concat(attributeName))}}},{key:"_checkIfBuffersNeedUpdating",value:function _checkIfBuffersNeedUpdating(_ref11){var numInstances=_ref11.numInstances;Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(void 0!==numInstances,"numInstances not defined");var needsUpdate=!1;for(var attributeName in this.attributes){var attribute=this.attributes[attributeName];attribute.setNumInstances(numInstances),needsUpdate=needsUpdate||attribute.needsUpdate()}return needsUpdate}},{key:"_setGenericAttributes",value:function _setGenericAttributes(_ref12){_ref12.data;var props=_ref12.props,attributes=(_ref12.context,this.attributes);for(var attributeName in attributes){attributes[attributeName].setGenericValue({props:props})}}},{key:"_allocateBuffers",value:function _allocateBuffers(_ref13){var numInstances=_ref13.numInstances,attributes=(_ref13.data,_ref13.props,_ref13.context,this.attributes);for(var attributeName in attributes){attributes[attributeName].allocate(numInstances)&&logFunctions.onUpdate({level:3,message:"".concat(attributeName," allocated ").concat(numInstances),id:this.id})}}},{key:"_updateBuffers",value:function _updateBuffers(_ref14){var numInstances=_ref14.numInstances,data=_ref14.data,props=_ref14.props,context=_ref14.context;for(var attributeName in this.attributes){var attribute=this.attributes[attributeName],timeStart=Date.now();if(attribute.updateBuffer({numInstances:numInstances,data:data,props:props,context:context})){this.needsRedraw=!0;var timeMs=Math.round(Date.now()-timeStart);logFunctions.onUpdate({level:3,message:"".concat(attributeName," updated ").concat(numInstances," in ").concat(timeMs,"ms")})}}}}]),AttributeManager}()},function(module,__webpack_exports__,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__.d(__webpack_exports__,"a",function(){return Transition});var TRANSITION_STATE={NONE:"none",PENDING:"pending",IN_PROGRESS:"in_progress",ENDED:"ended"};function noop(){}var Transition=function(){function Transition(props){_classCallCheck(this,Transition),this._startTime=null,this._state=TRANSITION_STATE.NONE,this.duration=1,this.easing=function(t){return t},this.onStart=noop,this.onUpdate=noop,this.onInterrupt=noop,this.onEnd=noop,Object.assign(this,props)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Transition,[{key:"start",value:function start(props){this.inProgress&&this.onInterrupt(this),Object.assign(this,props),this._setState(TRANSITION_STATE.PENDING)}},{key:"cancel",value:function cancel(){this.inProgress&&(this.onInterrupt(this),this._setState(TRANSITION_STATE.NONE))}},{key:"update",value:function update(currentTime){if(this.state===TRANSITION_STATE.PENDING&&(this._startTime=currentTime,this._setState(TRANSITION_STATE.IN_PROGRESS)),this.state===TRANSITION_STATE.IN_PROGRESS){var shouldEnd=!1,time=(currentTime-this._startTime)/this.duration;return time>=1&&(time=1,shouldEnd=!0),this.time=this.easing(time),this.onUpdate(this),shouldEnd&&this._setState(TRANSITION_STATE.ENDED),!0}return!1}},{key:"_setState",value:function _setState(newState){if(this._state!==newState)switch(this._state=newState,newState){case TRANSITION_STATE.PENDING:this.onStart(this);break;case TRANSITION_STATE.ENDED:this.onEnd(this)}}},{key:"state",get:function get(){return this._state}},{key:"inProgress",get:function get(){return this._state===TRANSITION_STATE.PENDING||this._state===TRANSITION_STATE.IN_PROGRESS}}]),Transition}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return LIFECYCLE});var LIFECYCLE={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ComponentState});var __WEBPACK_IMPORTED_MODULE_0__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_1__utils_assert__=__webpack_require__(18);function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var EMPTY_PROPS=Object.freeze({}),ComponentState=function(){function ComponentState(){var component=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,ComponentState),this.component=component,this.asyncProps={},this.onAsyncPropUpdated=function(){},this.oldProps=EMPTY_PROPS,this.oldAsyncProps=null}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ComponentState,[{key:"getOldProps",value:function getOldProps(){return this.oldAsyncProps||this.oldProps}},{key:"resetOldProps",value:function resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component.props}},{key:"freezeAsyncOldProps",value:function freezeAsyncOldProps(){if(!this.oldAsyncProps)for(var propName in this.oldProps=this.oldProps||this.component.props,this.oldAsyncProps={},this.oldProps)this.oldAsyncProps[propName]=this.oldProps[propName]}},{key:"hasAsyncProp",value:function hasAsyncProp(propName){return propName in this.asyncProps}},{key:"getAsyncProp",value:function getAsyncProp(propName){var asyncProp=this.asyncProps[propName];return asyncProp&&asyncProp.resolvedValue}},{key:"isAsyncPropLoading",value:function isAsyncPropLoading(propName){var asyncProp=this.asyncProps[propName];return Boolean(asyncProp&&asyncProp.pendingLoadCount>0&&asyncProp.pendingLoadCount!==asyncProp.resolvedLoadCount)}},{key:"setAsyncProps",value:function setAsyncProps(props){var resolvedValues=props._asyncPropResolvedValues||{},originalValues=props._asyncPropOriginalValues||props,defaultValues=props._asyncPropDefaultValues||{};for(var propName in resolvedValues){var value=resolvedValues[propName];this._createAsyncPropData(propName,value,defaultValues[propName]),this._updateAsyncProp(propName,value)}for(var _propName in originalValues){var _value=originalValues[_propName];this._createAsyncPropData(_propName,_value,defaultValues[_propName]),this._updateAsyncProp(_propName,_value)}}},{key:"_updateAsyncProp",value:function _updateAsyncProp(propName,value){if(this._didAsyncInputValueChange(propName,value)){if("string"==typeof value)value=(0,this.layer.props.fetch)(value);_instanceof(value,Promise)?this._watchPromise(propName,value):this._setPropValue(propName,value)}}},{key:"_didAsyncInputValueChange",value:function _didAsyncInputValueChange(propName,value){var asyncProp=this.asyncProps[propName];return value!==asyncProp.lastValue&&(asyncProp.lastValue=value,!0)}},{key:"_setPropValue",value:function _setPropValue(propName,value){var asyncProp=this.asyncProps[propName];asyncProp.value=value,asyncProp.resolvedValue=value,asyncProp.pendingLoadCount++,asyncProp.resolvedLoadCount=asyncProp.pendingLoadCount}},{key:"_setAsyncPropValue",value:function _setAsyncPropValue(propName,value,loadCount){var asyncProp=this.asyncProps[propName];asyncProp&&loadCount>=asyncProp.resolvedLoadCount&&(Object(__WEBPACK_IMPORTED_MODULE_1__utils_assert__.a)(void 0!==value),this.freezeAsyncOldProps(),value=this._postProcessValue(propName,value),asyncProp.resolvedValue=value,asyncProp.resolvedLoadCount=loadCount,this.onAsyncPropUpdated(propName,value))}},{key:"_watchPromise",value:function _watchPromise(propName,promise){var _this=this,asyncProp=this.asyncProps[propName];asyncProp.pendingLoadCount++;var loadCount=asyncProp.pendingLoadCount;promise.then(function(data){return _this._setAsyncPropValue(propName,data,loadCount)}).catch(function(error){return __WEBPACK_IMPORTED_MODULE_0__utils_log__.a.error(error)})}},{key:"_postProcessValue",value:function _postProcessValue(propName,value){var dataTransform=(this.component?this.component.props:{}).dataTransform;return"data"===propName&&dataTransform&&(value=dataTransform(value)),value}},{key:"_createAsyncPropData",value:function _createAsyncPropData(propName,value,defaultValue){this.asyncProps[propName]||(this.asyncProps[propName]={lastValue:null,resolvedValue:defaultValue,pendingLoadCount:0,resolvedLoadCount:0})}}]),ComponentState}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return getPixelRatio}),__webpack_exports__.a=drawLayers,__webpack_exports__.b=function drawPickingBuffer(gl,_ref5){var layers=_ref5.layers,viewports=_ref5.viewports,onViewportActive=_ref5.onViewportActive,useDevicePixels=_ref5.useDevicePixels,pickingFBO=_ref5.pickingFBO,_ref5$deviceRect=_ref5.deviceRect,x=_ref5$deviceRect.x,y=_ref5$deviceRect.y,width=_ref5$deviceRect.width,height=_ref5$deviceRect.height,_ref5$layerFilter=_ref5.layerFilter,layerFilter=void 0===_ref5$layerFilter?null:_ref5$layerFilter,_ref5$redrawReason=_ref5.redrawReason,redrawReason=void 0===_ref5$redrawReason?"":_ref5$redrawReason;return Object(__WEBPACK_IMPORTED_MODULE_0_luma_gl__.withParameters)(gl,{framebuffer:pickingFBO,scissorTest:!0,scissor:[x,y,width,height],clearColor:[0,0,0,0]},function(){drawLayers(gl,{layers:layers,viewports:viewports,onViewportActive:onViewportActive,useDevicePixels:useDevicePixels,drawPickingColors:!0,layerFilter:layerFilter,pass:"picking",redrawReason:redrawReason,parameters:{blend:!0,blendFunc:[gl.ONE,gl.ZERO,gl.CONSTANT_ALPHA,gl.ZERO],blendEquation:gl.FUNC_ADD,blendColor:[0,0,0,0]}})})};var __WEBPACK_IMPORTED_MODULE_0_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_1__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_2__utils_assert__=__webpack_require__(18),LOG_PRIORITY_DRAW=2,renderCount=0,getPixelRatio=function getPixelRatio(_ref){var useDevicePixels=_ref.useDevicePixels;return Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)("boolean"==typeof useDevicePixels,"Invalid useDevicePixels"),useDevicePixels&&"undefined"!=typeof window?window.devicePixelRatio:1},getGLViewport=function getGLViewport(gl,_ref2){var viewport=_ref2.viewport,pixelRatio=_ref2.pixelRatio,height=gl.canvas?gl.canvas.clientHeight:100,dimensions=viewport;return[dimensions.x*pixelRatio,(height-dimensions.y-dimensions.height)*pixelRatio,dimensions.width*pixelRatio,dimensions.height*pixelRatio]};function drawLayers(gl,_ref4){var layers=_ref4.layers,viewports=_ref4.viewports,onViewportActive=_ref4.onViewportActive,useDevicePixels=_ref4.useDevicePixels,_ref4$drawPickingColo=_ref4.drawPickingColors,drawPickingColors=void 0!==_ref4$drawPickingColo&&_ref4$drawPickingColo,_ref4$deviceRect=_ref4.deviceRect,deviceRect=void 0===_ref4$deviceRect?null:_ref4$deviceRect,_ref4$parameters=_ref4.parameters,parameters=void 0===_ref4$parameters?{}:_ref4$parameters,_ref4$layerFilter=_ref4.layerFilter,layerFilter=void 0===_ref4$layerFilter?null:_ref4$layerFilter,_ref4$pass=_ref4.pass,pass=void 0===_ref4$pass?"draw":_ref4$pass,_ref4$redrawReason=_ref4.redrawReason,redrawReason=void 0===_ref4$redrawReason?"":_ref4$redrawReason,stats=_ref4.stats;!function clearCanvas(gl,_ref3){_ref3.useDevicePixels;var width=gl.drawingBufferWidth,height=gl.drawingBufferHeight;Object(__WEBPACK_IMPORTED_MODULE_0_luma_gl__.withParameters)(gl,{viewport:[0,0,width,height]},function(){gl.clear(__WEBPACK_IMPORTED_MODULE_0_luma_gl__.GL.COLOR_BUFFER_BIT|__WEBPACK_IMPORTED_MODULE_0_luma_gl__.GL.DEPTH_BUFFER_BIT)})}(gl,{useDevicePixels:useDevicePixels}),viewports.forEach(function(viewportOrDescriptor,i){var viewport=function getViewportFromDescriptor(viewportOrDescriptor){return viewportOrDescriptor.viewport?viewportOrDescriptor.viewport:viewportOrDescriptor}(viewportOrDescriptor);onViewportActive(viewport),function drawLayersInViewport(gl,_ref6){var layers=_ref6.layers,viewport=_ref6.viewport,useDevicePixels=_ref6.useDevicePixels,_ref6$drawPickingColo=_ref6.drawPickingColors,drawPickingColors=void 0!==_ref6$drawPickingColo&&_ref6$drawPickingColo,_ref6$parameters=(_ref6.deviceRect,_ref6.parameters),parameters=void 0===_ref6$parameters?{}:_ref6$parameters,layerFilter=_ref6.layerFilter,_ref6$pass=_ref6.pass,pass=void 0===_ref6$pass?"draw":_ref6$pass,_ref6$redrawReason=_ref6.redrawReason,redrawReason=void 0===_ref6$redrawReason?"":_ref6$redrawReason,stats=_ref6.stats,pixelRatio=getPixelRatio({useDevicePixels:useDevicePixels}),glViewport=getGLViewport(gl,{viewport:viewport,pixelRatio:pixelRatio}),renderStats={totalCount:layers.length,visibleCount:0,compositeCount:0,pickableCount:0};Object(__WEBPACK_IMPORTED_MODULE_0_luma_gl__.setParameters)(gl,parameters||{}),layers.forEach(function(layer,layerIndex){var shouldDrawLayer=layer.props.visible;drawPickingColors&&(shouldDrawLayer=shouldDrawLayer&&layer.props.pickable),shouldDrawLayer&&layerFilter&&(shouldDrawLayer=layerFilter({layer:layer,viewport:viewport,isPicking:drawPickingColors})),shouldDrawLayer&&layer.props.pickable&&renderStats.pickableCount++,layer.isComposite&&renderStats.compositeCount++,shouldDrawLayer&&(layer.isComposite||renderStats.visibleCount++,function drawLayerInViewport(_ref7){_ref7.gl;var layer=_ref7.layer,layerIndex=_ref7.layerIndex,drawPickingColors=_ref7.drawPickingColors,pixelRatio=_ref7.pixelRatio,glViewport=_ref7.glViewport,parameters=_ref7.parameters,moduleParameters=Object.assign(Object.create(layer.props),{viewport:layer.context.viewport,pickingActive:drawPickingColors?1:0,devicePixelRatio:pixelRatio}),uniforms=Object.assign({},layer.context.uniforms,{layerIndex:layerIndex}),layerParameters=Object.assign({},layer.props.parameters||{},parameters);Object.assign(layerParameters,{viewport:glViewport}),drawPickingColors?Object.assign(layerParameters,{blendColor:[0,0,0,(layerIndex+1)/255]}):Object.assign(moduleParameters,function getObjectHighlightParameters(layer){if(Number.isInteger(layer.props.highlightedObjectIndex)){var pickingSelectedColor=layer.props.highlightedObjectIndex>=0?layer.encodePickingColor(layer.props.highlightedObjectIndex):null;return{pickingSelectedColor:pickingSelectedColor}}return null}(layer));layer.drawLayer({moduleParameters:moduleParameters,uniforms:uniforms,parameters:layerParameters})}({gl:gl,layer:layer,layerIndex:layerIndex,drawPickingColors:drawPickingColors,pixelRatio:pixelRatio,glViewport:glViewport,parameters:parameters}))}),renderCount++,function logRenderStats(_ref8){var renderStats=_ref8.renderStats,pass=_ref8.pass,redrawReason=_ref8.redrawReason,stats=_ref8.stats;if(__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.priority>=LOG_PRIORITY_DRAW){var totalCount=renderStats.totalCount,visibleCount=renderStats.visibleCount,compositeCount=renderStats.compositeCount,pickableCount=renderStats.pickableCount,primitiveCount=totalCount-compositeCount,hiddenCount=primitiveCount-visibleCount,message="";message+="RENDER #".concat(renderCount," ").concat(visibleCount," (of ").concat(totalCount," layers) to ").concat(pass," because ").concat(redrawReason," "),__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.priority>LOG_PRIORITY_DRAW&&(message+="(".concat(hiddenCount," hidden, ").concat(compositeCount," composite ").concat(pickableCount," pickable)")),__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.log(LOG_PRIORITY_DRAW,message)(),stats&&stats.increment("redraw layers",visibleCount)}}({renderStats:renderStats,pass:pass,redrawReason:redrawReason,stats:stats})}(gl,{layers:layers,viewport:viewport,useDevicePixels:useDevicePixels,drawPickingColors:drawPickingColors,deviceRect:deviceRect,parameters:parameters,layerFilter:layerFilter,pass:pass,redrawReason:redrawReason,stats:stats})})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function deepEqual(a,b){return Object.keys(a).some(function(key){return Array.isArray(a[key])&&Array.isArray(b[key])?deepEqual(a[key],b[key]):a[key]===b[key]})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MapView});var __WEBPACK_IMPORTED_MODULE_0__view__=__webpack_require__(101),__WEBPACK_IMPORTED_MODULE_1__viewports_web_mercator_viewport__=__webpack_require__(481);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var MapView=function(_View){function MapView(props){return _classCallCheck(this,MapView),_possibleConstructorReturn(this,(MapView.__proto__||Object.getPrototypeOf(MapView)).call(this,Object.assign({},props,{type:__WEBPACK_IMPORTED_MODULE_1__viewports_web_mercator_viewport__.a})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(MapView,__WEBPACK_IMPORTED_MODULE_0__view__["a"]),MapView}();MapView.displayName="MapView"},function(module,__webpack_exports__,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__.d(__webpack_exports__,"a",function(){return EffectManager});var EffectManager=function(){function EffectManager(_ref){var gl=_ref.gl,layerManager=_ref.layerManager;_classCallCheck(this,EffectManager),this.gl=gl,this.layerManager=layerManager,this._effects=[]}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(EffectManager,[{key:"addEffect",value:function addEffect(effect){this._effects.push(effect),this._sortEffects(),effect.initialize({gl:this.gl,layerManager:this.layerManager})}},{key:"removeEffect",value:function removeEffect(effect){var i=this._effects.indexOf(effect);return i>=0&&(effect.finalize({gl:this.gl,layerManager:this.layerManager}),this._effects.splice(i,1),!0)}},{key:"preDraw",value:function preDraw(){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this._effects[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var effect=_step.value;effect.needsRedraw&&effect.preDraw({gl:this.gl,layerManager:this.layerManager})}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"draw",value:function draw(){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this._effects[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var effect=_step2.value;effect.needsRedraw&&effect.draw({gl:this.gl,layerManager:this.layerManager})}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}},{key:"_sortEffects",value:function _sortEffects(){this._effects.sort(function(a,b){return a.priority>b.priority?-1:a.priority<b.priority?1:a.count-b.count})}}]),EffectManager}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Manager});var __WEBPACK_IMPORTED_MODULE_0__globals__=__webpack_require__(618),__WEBPACK_IMPORTED_MODULE_1__hammer_overrides__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__globals__),__webpack_require__(1031)),hammerjs=void 0;__WEBPACK_IMPORTED_MODULE_0__globals__.isBrowser&&(hammerjs=__webpack_require__(1032)),hammerjs&&(Object(__WEBPACK_IMPORTED_MODULE_1__hammer_overrides__.b)(hammerjs.PointerEventInput),Object(__WEBPACK_IMPORTED_MODULE_1__hammer_overrides__.a)(hammerjs.MouseInput));var Manager=hammerjs?hammerjs.Manager:function HammerManagerMock(m){var instance={},chainedNoop=function chainedNoop(){return instance};return instance.get=function(){return null},instance.set=chainedNoop,instance.on=chainedNoop,instance.off=chainedNoop,instance.destroy=chainedNoop,instance.emit=chainedNoop,instance};__webpack_exports__.b=hammerjs},function(module,exports,__webpack_require__){(function(global){var isBrowser=__webpack_require__(1029).default,userAgent="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";module.exports={window:"undefined"!=typeof window?window:global,global:void 0!==global?global:window,document:"undefined"!=typeof document?document:{},isBrowser:isBrowser,userAgent:userAgent}}).call(exports,__webpack_require__(13))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MAPBOX_LIMITS}),__webpack_require__.d(__webpack_exports__,"b",function(){return MapController});var __WEBPACK_IMPORTED_MODULE_0_math_gl__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_1__controller__=__webpack_require__(269),__WEBPACK_IMPORTED_MODULE_2__view_state__=__webpack_require__(622),__WEBPACK_IMPORTED_MODULE_3_viewport_mercator_project__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_4__utils_assert__=__webpack_require__(18);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var MAPBOX_LIMITS={minZoom:0,maxZoom:20,minPitch:0,maxPitch:60},DEFAULT_STATE={pitch:0,bearing:0,altitude:1.5},MapState=function(_ViewState){function MapState(){var _this,_ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},width=_ref.width,height=_ref.height,latitude=_ref.latitude,longitude=_ref.longitude,zoom=_ref.zoom,_ref$bearing=_ref.bearing,bearing=void 0===_ref$bearing?DEFAULT_STATE.bearing:_ref$bearing,_ref$pitch=_ref.pitch,pitch=void 0===_ref$pitch?DEFAULT_STATE.pitch:_ref$pitch,_ref$altitude=_ref.altitude,altitude=void 0===_ref$altitude?DEFAULT_STATE.altitude:_ref$altitude,_ref$maxZoom=_ref.maxZoom,maxZoom=void 0===_ref$maxZoom?MAPBOX_LIMITS.maxZoom:_ref$maxZoom,_ref$minZoom=_ref.minZoom,minZoom=void 0===_ref$minZoom?MAPBOX_LIMITS.minZoom:_ref$minZoom,_ref$maxPitch=_ref.maxPitch,maxPitch=void 0===_ref$maxPitch?MAPBOX_LIMITS.maxPitch:_ref$maxPitch,_ref$minPitch=_ref.minPitch,minPitch=void 0===_ref$minPitch?MAPBOX_LIMITS.minPitch:_ref$minPitch,startPanLngLat=_ref.startPanLngLat,startZoomLngLat=_ref.startZoomLngLat,startBearing=_ref.startBearing,startPitch=_ref.startPitch,startZoom=_ref.startZoom;return _classCallCheck(this,MapState),Object(__WEBPACK_IMPORTED_MODULE_4__utils_assert__.a)(Number.isFinite(longitude),"`longitude` must be supplied"),Object(__WEBPACK_IMPORTED_MODULE_4__utils_assert__.a)(Number.isFinite(latitude),"`latitude` must be supplied"),Object(__WEBPACK_IMPORTED_MODULE_4__utils_assert__.a)(Number.isFinite(zoom),"`zoom` must be supplied"),(_this=_possibleConstructorReturn(this,(MapState.__proto__||Object.getPrototypeOf(MapState)).call(this,{width:width,height:height,latitude:latitude,longitude:longitude,zoom:zoom,bearing:bearing,pitch:pitch,altitude:altitude,maxZoom:maxZoom,minZoom:minZoom,maxPitch:maxPitch,minPitch:minPitch})))._interactiveState={startPanLngLat:startPanLngLat,startZoomLngLat:startZoomLngLat,startBearing:startBearing,startPitch:startPitch,startZoom:startZoom},_this}return _inherits(MapState,__WEBPACK_IMPORTED_MODULE_2__view_state__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(MapState,[{key:"getViewportProps",value:function getViewportProps(){return this._viewportProps}},{key:"getInteractiveState",value:function getInteractiveState(){return this._interactiveState}},{key:"panStart",value:function panStart(_ref2){var pos=_ref2.pos;return this._getUpdatedState({startPanLngLat:this._unproject(pos)})}},{key:"pan",value:function pan(_ref3){var pos=_ref3.pos,startPos=_ref3.startPos,startPanLngLat=this._interactiveState.startPanLngLat||this._unproject(startPos);if(!startPanLngLat)return this;var _this$_calculateNewLn2=_slicedToArray(this._calculateNewLngLat({startPanLngLat:startPanLngLat,pos:pos}),2),longitude=_this$_calculateNewLn2[0],latitude=_this$_calculateNewLn2[1];return this._getUpdatedState({longitude:longitude,latitude:latitude})}},{key:"panEnd",value:function panEnd(){return this._getUpdatedState({startPanLngLat:null})}},{key:"rotateStart",value:function rotateStart(_ref4){_ref4.pos;return this._getUpdatedState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function rotate(_ref5){var _ref5$deltaScaleX=_ref5.deltaScaleX,deltaScaleX=void 0===_ref5$deltaScaleX?0:_ref5$deltaScaleX,_ref5$deltaScaleY=_ref5.deltaScaleY,deltaScaleY=void 0===_ref5$deltaScaleY?0:_ref5$deltaScaleY,_this$_interactiveSta=this._interactiveState,startBearing=_this$_interactiveSta.startBearing,startPitch=_this$_interactiveSta.startPitch;if(!Number.isFinite(startBearing)||!Number.isFinite(startPitch))return this;var _this$_calculateNewPi=this._calculateNewPitchAndBearing({deltaScaleX:deltaScaleX,deltaScaleY:deltaScaleY,startBearing:startBearing,startPitch:startPitch}),pitch=_this$_calculateNewPi.pitch,bearing=_this$_calculateNewPi.bearing;return this._getUpdatedState({bearing:bearing,pitch:pitch})}},{key:"rotateEnd",value:function rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function zoomStart(_ref6){var pos=_ref6.pos;return this._getUpdatedState({startZoomLngLat:this._unproject(pos),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function zoom(_ref7){var pos=_ref7.pos,startPos=_ref7.startPos,scale=_ref7.scale;Object(__WEBPACK_IMPORTED_MODULE_4__utils_assert__.a)(scale>0,"`scale` must be a positive number");var _this$_interactiveSta2=this._interactiveState,startZoom=_this$_interactiveSta2.startZoom,startZoomLngLat=_this$_interactiveSta2.startZoomLngLat;Number.isFinite(startZoom)||(startZoom=this._viewportProps.zoom,startZoomLngLat=this._unproject(startPos)||this._unproject(pos)),Object(__WEBPACK_IMPORTED_MODULE_4__utils_assert__.a)(startZoomLngLat,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var zoom=this._calculateNewZoom({scale:scale,startZoom:startZoom}),_zoomedViewport$getLo2=_slicedToArray(new __WEBPACK_IMPORTED_MODULE_3_viewport_mercator_project__.a(Object.assign({},this._viewportProps,{zoom:zoom})).getLocationAtPoint({lngLat:startZoomLngLat,pos:pos}),2),longitude=_zoomedViewport$getLo2[0],latitude=_zoomedViewport$getLo2[1];return this._getUpdatedState({zoom:zoom,longitude:longitude,latitude:latitude})}},{key:"zoomEnd",value:function zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}},{key:"zoomIn",value:function zoomIn(){return this._zoomFromCenter(2)}},{key:"zoomOut",value:function zoomOut(){return this._zoomFromCenter(.5)}},{key:"moveLeft",value:function moveLeft(){return this._panFromCenter([100,0])}},{key:"moveRight",value:function moveRight(){return this._panFromCenter([-100,0])}},{key:"moveUp",value:function moveUp(){return this._panFromCenter([0,100])}},{key:"moveDown",value:function moveDown(){return this._panFromCenter([0,-100])}},{key:"rotateLeft",value:function rotateLeft(){return this._getUpdatedState({bearing:this._viewportProps.bearing-15})}},{key:"rotateRight",value:function rotateRight(){return this._getUpdatedState({bearing:this._viewportProps.bearing+15})}},{key:"rotateUp",value:function rotateUp(){return this._getUpdatedState({pitch:this._viewportProps.pitch+10})}},{key:"rotateDown",value:function rotateDown(){return this._getUpdatedState({pitch:this._viewportProps.pitch-10})}},{key:"shortestPathFrom",value:function shortestPathFrom(viewState){var fromProps=viewState.getViewportProps(),props=Object.assign({},this._viewportProps),bearing=props.bearing,longitude=props.longitude;return Math.abs(bearing-fromProps.bearing)>180&&(props.bearing=bearing<0?bearing+360:bearing-360),Math.abs(longitude-fromProps.longitude)>180&&(props.longitude=longitude<0?longitude+360:longitude-360),props}},{key:"_zoomFromCenter",value:function _zoomFromCenter(scale){var _this$_viewportProps=this._viewportProps,width=_this$_viewportProps.width,height=_this$_viewportProps.height;return this.zoom({pos:[width/2,height/2],scale:scale})}},{key:"_panFromCenter",value:function _panFromCenter(offset){var _this$_viewportProps2=this._viewportProps,width=_this$_viewportProps2.width,height=_this$_viewportProps2.height;return this.pan({startPos:[width/2,height/2],pos:[width/2+offset[0],height/2+offset[1]]})}},{key:"_getUpdatedState",value:function _getUpdatedState(newProps){return new MapState(Object.assign({},this._viewportProps,this._interactiveState,newProps))}},{key:"_applyConstraints",value:function _applyConstraints(props){var maxZoom=props.maxZoom,minZoom=props.minZoom,zoom=props.zoom;props.zoom=Object(__WEBPACK_IMPORTED_MODULE_0_math_gl__.f)(zoom,minZoom,maxZoom);var maxPitch=props.maxPitch,minPitch=props.minPitch,pitch=props.pitch;return props.pitch=Object(__WEBPACK_IMPORTED_MODULE_0_math_gl__.f)(pitch,minPitch,maxPitch),Object.assign(props,Object(__WEBPACK_IMPORTED_MODULE_3_viewport_mercator_project__.j)(props)),props}},{key:"_unproject",value:function _unproject(pos){var viewport=new __WEBPACK_IMPORTED_MODULE_3_viewport_mercator_project__.a(this._viewportProps);return pos&&viewport.unproject(pos)}},{key:"_calculateNewLngLat",value:function _calculateNewLngLat(_ref8){var startPanLngLat=_ref8.startPanLngLat,pos=_ref8.pos;return new __WEBPACK_IMPORTED_MODULE_3_viewport_mercator_project__.a(this._viewportProps).getMapCenterByLngLatPosition({lngLat:startPanLngLat,pos:pos})}},{key:"_calculateNewZoom",value:function _calculateNewZoom(_ref9){var scale=_ref9.scale,startZoom=_ref9.startZoom,_this$_viewportProps3=this._viewportProps,maxZoom=_this$_viewportProps3.maxZoom,minZoom=_this$_viewportProps3.minZoom,zoom=startZoom+Math.log2(scale);return Object(__WEBPACK_IMPORTED_MODULE_0_math_gl__.f)(zoom,minZoom,maxZoom)}},{key:"_calculateNewPitchAndBearing",value:function _calculateNewPitchAndBearing(_ref10){var deltaScaleX=_ref10.deltaScaleX,deltaScaleY=_ref10.deltaScaleY,startBearing=_ref10.startBearing,startPitch=_ref10.startPitch;deltaScaleY=Object(__WEBPACK_IMPORTED_MODULE_0_math_gl__.f)(deltaScaleY,-1,1);var _this$_viewportProps4=this._viewportProps,minPitch=_this$_viewportProps4.minPitch,maxPitch=_this$_viewportProps4.maxPitch,pitch=startPitch;return deltaScaleY>0?pitch=startPitch+deltaScaleY*(maxPitch-startPitch):deltaScaleY<0&&(pitch=startPitch-deltaScaleY*(minPitch-startPitch)),{pitch:pitch,bearing:startBearing+180*deltaScaleX}}}]),MapState}(),MapController=function(_Controller){function MapController(props){var _this2;return _classCallCheck(this,MapController),(_this2=_possibleConstructorReturn(this,(MapController.__proto__||Object.getPrototypeOf(MapController)).call(this,MapState,props))).invertPan=!0,_this2}return _inherits(MapController,__WEBPACK_IMPORTED_MODULE_1__controller__["a"]),MapController}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return TransitionInterpolator});var __WEBPACK_IMPORTED_MODULE_0_math_gl__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_1__utils_assert__=__webpack_require__(18);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var TransitionInterpolator=function(){function TransitionInterpolator(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,TransitionInterpolator),Array.isArray(opts)&&(opts={compare:opts,extract:opts,required:opts});var _opts=opts,compare=_opts.compare,extract=_opts.extract,required=_opts.required;this._propsToCompare=compare,this._propsToExtract=extract,this._requiredProps=required}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(TransitionInterpolator,[{key:"arePropsEqual",value:function arePropsEqual(currentProps,nextProps){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=(this._propsToCompare||Object.keys(nextProps))[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var key=_step.value;if(!Object(__WEBPACK_IMPORTED_MODULE_0_math_gl__.h)(currentProps[key],nextProps[key]))return!1}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return!0}},{key:"initializeProps",value:function initializeProps(startProps,endProps){var result;if(this._propsToExtract){var startViewStateProps={},endViewStateProps={},_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this._propsToExtract[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var key=_step2.value;startViewStateProps[key]=startProps[key],endViewStateProps[key]=endProps[key]}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}result={start:startViewStateProps,end:endViewStateProps}}else result={start:startProps,end:endProps};return this._checkRequiredProps(result.start),this._checkRequiredProps(result.end),result}},{key:"interpolateProps",value:function interpolateProps(startProps,endProps,t){Object(__WEBPACK_IMPORTED_MODULE_1__utils_assert__.a)(!1,"interpolateProps is not implemented")}},{key:"_checkRequiredProps",value:function _checkRequiredProps(props){this._requiredProps&&this._requiredProps.forEach(function(propName){var value=props[propName];Object(__WEBPACK_IMPORTED_MODULE_1__utils_assert__.a)(Number.isFinite(value)||Array.isArray(value),"".concat(propName," is required for transition"))})}}]),TransitionInterpolator}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return TRANSITION_EVENTS}),__webpack_require__.d(__webpack_exports__,"b",function(){return TransitionManager});var __WEBPACK_IMPORTED_MODULE_0__transitions_linear_interpolator__=__webpack_require__(484),__WEBPACK_IMPORTED_MODULE_1__transitions_transition__=__webpack_require__(610),__WEBPACK_IMPORTED_MODULE_2__utils_assert__=__webpack_require__(18);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var noop=function noop(){},TRANSITION_EVENTS={BREAK:1,SNAP_TO_END:2,IGNORE:3},DEFAULT_PROPS={transitionDuration:0,transitionEasing:function transitionEasing(t){return t},transitionInterpolator:new __WEBPACK_IMPORTED_MODULE_0__transitions_linear_interpolator__.a,transitionInterruption:TRANSITION_EVENTS.BREAK,onTransitionStart:noop,onTransitionInterrupt:noop,onTransitionEnd:noop},TransitionManager=function(){function TransitionManager(ControllerState){var props=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,TransitionManager),Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(ControllerState),this.ControllerState=ControllerState,this.props=Object.assign({},DEFAULT_PROPS,props),this.animation=null,this.propsInTransition=null,this.transition=new __WEBPACK_IMPORTED_MODULE_1__transitions_transition__.a,this._onTransitionFrame=this._onTransitionFrame.bind(this),this._onTransitionUpdate=this._onTransitionUpdate.bind(this)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(TransitionManager,[{key:"getViewportInTransition",value:function getViewportInTransition(){return this.propsInTransition}},{key:"processViewStateChange",value:function processViewStateChange(nextProps){var transitionTriggered=!1,currentProps=this.props;if(nextProps=Object.assign({},this.props,nextProps),this.props=nextProps,this._shouldIgnoreViewportChange(currentProps,nextProps))return transitionTriggered;if(this._isTransitionEnabled(nextProps)){var startProps=Object.assign({},currentProps,this.transition.interruption===TRANSITION_EVENTS.SNAP_TO_END?this.transition.endProps:this.propsInTransition||currentProps);this._triggerTransition(startProps,nextProps),transitionTriggered=!0}else this.transition.cancel();return transitionTriggered}},{key:"_isTransitionEnabled",value:function _isTransitionEnabled(props){return props.transitionDuration>0&&props.transitionInterpolator}},{key:"_isUpdateDueToCurrentTransition",value:function _isUpdateDueToCurrentTransition(props){return!!this.transition.inProgress&&this.transition.interpolator.arePropsEqual(props,this.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function _shouldIgnoreViewportChange(currentProps,nextProps){return this.transition.inProgress?this.transition.interruption===TRANSITION_EVENTS.IGNORE||this._isUpdateDueToCurrentTransition(nextProps):!this._isTransitionEnabled(nextProps)||nextProps.transitionInterpolator.arePropsEqual(currentProps,nextProps)}},{key:"_triggerTransition",value:function _triggerTransition(startProps,endProps){Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(this._isTransitionEnabled(endProps),"Transition is not enabled"),cancelAnimationFrame(this.animation);var startViewstate=new this.ControllerState(startProps),endViewStateProps=new this.ControllerState(endProps).shortestPathFrom(startViewstate),initialProps=endProps.transitionInterpolator.initializeProps(startProps,endViewStateProps);this.propsInTransition={},this.transition.start({duration:endProps.transitionDuration,easing:endProps.transitionEasing,interpolator:endProps.transitionInterpolator,interruption:endProps.transitionInterruption,startProps:initialProps.start,endProps:initialProps.end,onStart:endProps.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(endProps.onTransitionInterrupt),onEnd:this._onTransitionEnd(endProps.onTransitionEnd)}),this._onTransitionFrame()}},{key:"_onTransitionFrame",value:function _onTransitionFrame(){this.animation=requestAnimationFrame(this._onTransitionFrame),this.transition.update(Date.now())}},{key:"_onTransitionEnd",value:function _onTransitionEnd(callback){var _this=this;return function(transition){cancelAnimationFrame(_this.animation),_this.propsInTransition=null,callback(transition)}}},{key:"_onTransitionUpdate",value:function _onTransitionUpdate(transition){var interpolator=transition.interpolator,startProps=transition.startProps,endProps=transition.endProps,time=transition.time,viewport=interpolator.interpolateProps(startProps,endProps,time);this.propsInTransition=new this.ControllerState(Object.assign({},this.props,viewport)).getViewportProps(),this.props.onViewportChange&&this.props.onViewportChange(this.propsInTransition,{inTransition:!0}),this.props.onViewStateChange&&this.props.onViewStateChange({viewState:this.propsInTransition},{inTransition:!0})}}]),TransitionManager}();TransitionManager.defaultProps=DEFAULT_PROPS},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ViewState});var __WEBPACK_IMPORTED_MODULE_0_math_gl__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_1__utils_assert__=__webpack_require__(18);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var SphericalCoordinates=__WEBPACK_IMPORTED_MODULE_0_math_gl__.i.SphericalCoordinates,defaultState={position:[0,0,0],lookAt:[0,0,0],up:[0,0,1],rotationX:0,rotationY:0,fov:50,near:1,far:100},ViewState=function(){function ViewState(opts){_classCallCheck(this,ViewState);var width=opts.width,height=opts.height,_opts$position=opts.position,position=void 0===_opts$position?defaultState.position:_opts$position;Object(__WEBPACK_IMPORTED_MODULE_1__utils_assert__.a)(Number.isFinite(width),"`width` must be supplied"),Object(__WEBPACK_IMPORTED_MODULE_1__utils_assert__.a)(Number.isFinite(height),"`height` must be supplied"),this._viewportProps=this._applyConstraints(Object.assign({},opts,{position:new __WEBPACK_IMPORTED_MODULE_0_math_gl__.d(position)}))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ViewState,[{key:"getViewportProps",value:function getViewportProps(){return this._viewportProps}},{key:"getDirection",value:function getDirection(){return new SphericalCoordinates({bearing:this._viewportProps.bearing,pitch:this._viewportProps.pitch}).toVector3().normalize()}},{key:"getDirectionFromBearing",value:function getDirectionFromBearing(bearing){return new SphericalCoordinates({bearing:bearing,pitch:90}).toVector3().normalize()}},{key:"shortestPathFrom",value:function shortestPathFrom(viewState){return this._viewportProps}},{key:"_applyConstraints",value:function _applyConstraints(props){return props}}]),ViewState}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return OrbitViewport});var __WEBPACK_IMPORTED_MODULE_0__viewports_viewport__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_1__utils_math_utils__=__webpack_require__(480),__WEBPACK_IMPORTED_MODULE_2_gl_mat4_multiply__=__webpack_require__(158),__WEBPACK_IMPORTED_MODULE_2_gl_mat4_multiply___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_gl_mat4_multiply__),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_lookAt__=__webpack_require__(156),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_lookAt___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_gl_mat4_lookAt__),__WEBPACK_IMPORTED_MODULE_4_gl_mat4_scale__=__webpack_require__(159),__WEBPACK_IMPORTED_MODULE_4_gl_mat4_scale___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_gl_mat4_scale__),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_perspective__=__webpack_require__(157),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_perspective___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_gl_mat4_perspective__),__WEBPACK_IMPORTED_MODULE_6_gl_mat4_translate__=__webpack_require__(160),__WEBPACK_IMPORTED_MODULE_6_gl_mat4_translate___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_gl_mat4_translate__),__WEBPACK_IMPORTED_MODULE_7_gl_mat4_rotateX__=__webpack_require__(264),__WEBPACK_IMPORTED_MODULE_7_gl_mat4_rotateX___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_gl_mat4_rotateX__),__WEBPACK_IMPORTED_MODULE_8_gl_mat4_rotateY__=__webpack_require__(473),__WEBPACK_IMPORTED_MODULE_8_gl_mat4_rotateY___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_gl_mat4_rotateY__),__WEBPACK_IMPORTED_MODULE_9_gl_mat4_rotateZ__=__webpack_require__(265),__WEBPACK_IMPORTED_MODULE_9_gl_mat4_rotateZ___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_gl_mat4_rotateZ__);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var DEGREES_TO_RADIANS=Math.PI/180,OrbitViewport=function(_Viewport){function OrbitViewport(_ref){var _this,_ref$id=_ref.id,id=void 0===_ref$id?"orbit-viewport":_ref$id,width=_ref.width,height=_ref.height,distance=_ref.distance,_ref$rotationX=_ref.rotationX,rotationX=void 0===_ref$rotationX?0:_ref$rotationX,_ref$rotationOrbit=_ref.rotationOrbit,rotationOrbit=void 0===_ref$rotationOrbit?0:_ref$rotationOrbit,_ref$orbitAxis=_ref.orbitAxis,orbitAxis=void 0===_ref$orbitAxis?"Z":_ref$orbitAxis,_ref$lookAt=_ref.lookAt,lookAt=void 0===_ref$lookAt?[0,0,0]:_ref$lookAt,_ref$up=_ref.up,up=void 0===_ref$up?[0,1,0]:_ref$up,_ref$fov=_ref.fov,fov=void 0===_ref$fov?75:_ref$fov,_ref$near=_ref.near,near=void 0===_ref$near?1:_ref$near,_ref$far=_ref.far,far=void 0===_ref$far?100:_ref$far,_ref$zoom=_ref.zoom,zoom=void 0===_ref$zoom?1:_ref$zoom;_classCallCheck(this,OrbitViewport);var rotationMatrix=__WEBPACK_IMPORTED_MODULE_7_gl_mat4_rotateX___default()([],Object(__WEBPACK_IMPORTED_MODULE_1__utils_math_utils__.a)(),-rotationX/180*Math.PI);"Z"===orbitAxis?__WEBPACK_IMPORTED_MODULE_9_gl_mat4_rotateZ___default()(rotationMatrix,rotationMatrix,-rotationOrbit/180*Math.PI):__WEBPACK_IMPORTED_MODULE_8_gl_mat4_rotateY___default()(rotationMatrix,rotationMatrix,-rotationOrbit/180*Math.PI);var translateMatrix=Object(__WEBPACK_IMPORTED_MODULE_1__utils_math_utils__.a)();__WEBPACK_IMPORTED_MODULE_4_gl_mat4_scale___default()(translateMatrix,translateMatrix,[zoom,zoom,zoom]),__WEBPACK_IMPORTED_MODULE_6_gl_mat4_translate___default()(translateMatrix,translateMatrix,[-lookAt[0],-lookAt[1],-lookAt[2]]);var viewMatrix=__WEBPACK_IMPORTED_MODULE_3_gl_mat4_lookAt___default()([],[0,0,distance],[0,0,0],up),fovRadians=fov*DEGREES_TO_RADIANS,aspect=width/height,perspectiveMatrix=__WEBPACK_IMPORTED_MODULE_5_gl_mat4_perspective___default()([],fovRadians,aspect,near,far);return(_this=_possibleConstructorReturn(this,(OrbitViewport.__proto__||Object.getPrototypeOf(OrbitViewport)).call(this,{id:id,viewMatrix:__WEBPACK_IMPORTED_MODULE_2_gl_mat4_multiply___default()(viewMatrix,viewMatrix,__WEBPACK_IMPORTED_MODULE_2_gl_mat4_multiply___default()(rotationMatrix,rotationMatrix,translateMatrix)),projectionMatrix:perspectiveMatrix,width:width,height:height}))).width=width,_this.height=height,_this.distance=distance,_this.rotationX=rotationX,_this.rotationOrbit=rotationOrbit,_this.orbitAxis=orbitAxis,_this.lookAt=lookAt,_this.up=up,_this.fov=fov,_this.near=near,_this.far=far,_this.zoom=zoom,_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(OrbitViewport,__WEBPACK_IMPORTED_MODULE_0__viewports_viewport__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(OrbitViewport,[{key:"project",value:function project(xyz){var _ref2$topLeft=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).topLeft,topLeft=void 0!==_ref2$topLeft&&_ref2$topLeft,_v=_slicedToArray(Object(__WEBPACK_IMPORTED_MODULE_1__utils_math_utils__.c)(this.pixelProjectionMatrix,_toConsumableArray(xyz).concat([1])),3),x=_v[0],y=_v[1],z=_v[2];return[x,topLeft?this.height-y:y,z]}},{key:"unproject",value:function unproject(xyz){var _ref3$topLeft=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).topLeft,topLeft=void 0!==_ref3$topLeft&&_ref3$topLeft,_xyz=_slicedToArray(xyz,3),x=_xyz[0],y=_xyz[1],z=_xyz[2],y2=topLeft?this.height-y:y;return Object(__WEBPACK_IMPORTED_MODULE_1__utils_math_utils__.c)(this.pixelUnprojectionMatrix,[x,y2,z,1])}},{key:"getDistance",value:function getDistance(_ref4){var boundingBox=_ref4.boundingBox,fov=_ref4.fov;return Math.max(boundingBox[0],boundingBox[1],boundingBox[2])/2/Math.tan(fov/180*Math.PI/2)}},{key:"fitBounds",value:function fitBounds(boundingBox){var width=this.width,height=this.height,rotationX=this.rotationX,rotationOrbit=this.rotationOrbit,orbitAxis=this.orbitAxis,lookAt=this.lookAt,up=this.up,fov=this.fov;return new OrbitViewport({width:width,height:height,rotationX:rotationX,rotationOrbit:rotationOrbit,orbitAxis:orbitAxis,up:up,fov:fov,near:this.near,far:this.far,zoom:this.zoom,lookAt:lookAt,distance:this.getDistance({boundingBox:boundingBox,fov:fov})})}}]),OrbitViewport}();OrbitViewport.displayName="OrbitViewport"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IconLayer});var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2__icon_layer_vertex_glsl__=__webpack_require__(1062),__WEBPACK_IMPORTED_MODULE_3__icon_layer_fragment_glsl__=__webpack_require__(1063);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.getPrototypeOf||function _getPrototypeOf(o){return o.__proto__})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var fp64LowPart=__WEBPACK_IMPORTED_MODULE_1_luma_gl__.fp64.fp64LowPart,DEFAULT_COLOR=[0,0,0,255],DEFAULT_TEXTURE_MIN_FILTER=__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.LINEAR_MIPMAP_LINEAR,DEFAULT_TEXTURE_MAG_FILTER=__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.LINEAR,defaultProps={iconAtlas:null,iconMapping:{},sizeScale:1,fp64:!1,getPosition:function getPosition(x){return x.position},getIcon:function getIcon(x){return x.icon},getColor:function getColor(x){return x.color||DEFAULT_COLOR},getSize:function getSize(x){return x.size||1},getAngle:function getAngle(x){return x.angle||0}},IconLayer=function(_Layer){function IconLayer(){return function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,IconLayer),_possibleConstructorReturn(this,(IconLayer.__proto__||Object.getPrototypeOf(IconLayer)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(IconLayer,__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__["Layer"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(IconLayer,[{key:"getShaders",value:function getShaders(){var projectModule=this.is64bitEnabled()?"project64":"project32";return{vs:__WEBPACK_IMPORTED_MODULE_2__icon_layer_vertex_glsl__.a,fs:__WEBPACK_IMPORTED_MODULE_3__icon_layer_fragment_glsl__.a,modules:[projectModule,"picking"]}}},{key:"initializeState",value:function initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,transition:!0,accessor:"getPosition"},instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",update:this.calculateInstanceOffsets},instanceIconFrames:{size:4,accessor:"getIcon",update:this.calculateInstanceIconFrames},instanceColorModes:{size:1,type:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_BYTE,accessor:"getIcon",update:this.calculateInstanceColorMode},instanceColors:{size:4,type:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_BYTE,transition:!0,accessor:"getColor",defaultValue:DEFAULT_COLOR},instanceAngles:{size:1,transition:!0,accessor:"getAngle",defaultValue:0}})}},{key:"updateState",value:function updateState(_ref){var _this=this,oldProps=_ref.oldProps,props=_ref.props,changeFlags=_ref.changeFlags;_get(IconLayer.prototype.__proto__||Object.getPrototypeOf(IconLayer.prototype),"updateState",this).call(this,{props:props,oldProps:oldProps,changeFlags:changeFlags});var _iconAtlas$setParamet,iconAtlas=props.iconAtlas,iconMapping=props.iconMapping;if(oldProps.iconMapping!==iconMapping){var attributeManager=this.getAttributeManager();attributeManager.invalidate("instanceOffsets"),attributeManager.invalidate("instanceIconFrames"),attributeManager.invalidate("instanceColorModes")}oldProps.iconAtlas!==iconAtlas&&(_instanceof(iconAtlas,__WEBPACK_IMPORTED_MODULE_1_luma_gl__.Texture2D)?(iconAtlas.setParameters((_defineProperty(_iconAtlas$setParamet={},__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.TEXTURE_MIN_FILTER,DEFAULT_TEXTURE_MIN_FILTER),_defineProperty(_iconAtlas$setParamet,__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.TEXTURE_MAG_FILTER,DEFAULT_TEXTURE_MAG_FILTER),_iconAtlas$setParamet)),this.setState({iconsTexture:iconAtlas})):"string"==typeof iconAtlas&&Object(__WEBPACK_IMPORTED_MODULE_1_luma_gl__.loadTextures)(this.context.gl,{urls:[iconAtlas]}).then(function(_ref2){var _texture$setParameter,texture=_slicedToArray(_ref2,1)[0];texture.setParameters((_defineProperty(_texture$setParameter={},__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.TEXTURE_MIN_FILTER,DEFAULT_TEXTURE_MIN_FILTER),_defineProperty(_texture$setParameter,__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.TEXTURE_MAG_FILTER,DEFAULT_TEXTURE_MAG_FILTER),_texture$setParameter)),_this.setState({iconsTexture:texture})}));if(props.fp64!==oldProps.fp64){var gl=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(gl)}),this.state.attributeManager.invalidateAll()}}},{key:"draw",value:function draw(_ref4){var uniforms=_ref4.uniforms,sizeScale=this.props.sizeScale,iconsTexture=this.state.iconsTexture;iconsTexture&&this.state.model.render(Object.assign({},uniforms,{iconsTexture:iconsTexture,iconsTextureDim:[iconsTexture.width,iconsTexture.height],sizeScale:sizeScale}))}},{key:"_getModel",value:function _getModel(gl){return new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Model(gl,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Geometry({drawMode:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.TRIANGLE_FAN,attributes:{positions:new Float32Array([-1,-1,0,-1,1,0,1,1,0,1,-1,0])}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"calculateInstancePositions64xyLow",value:function calculateInstancePositions64xyLow(attribute){var isFP64=this.is64bitEnabled();if(attribute.isGeneric=!isFP64,isFP64){var _this$props=this.props,data=_this$props.data,getPosition=_this$props.getPosition,value=attribute.value,i=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var position=getPosition(_step.value);value[i++]=fp64LowPart(position[0]),value[i++]=fp64LowPart(position[1])}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}else attribute.value=new Float32Array(2)}},{key:"calculateInstanceOffsets",value:function calculateInstanceOffsets(attribute){var _this$props2=this.props,data=_this$props2.data,iconMapping=_this$props2.iconMapping,getIcon=_this$props2.getIcon,value=attribute.value,i=0,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=data[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var rect=iconMapping[getIcon(_step2.value)]||{};value[i++]=rect.width/2-rect.anchorX||0,value[i++]=rect.height/2-rect.anchorY||0}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}},{key:"calculateInstanceColorMode",value:function calculateInstanceColorMode(attribute){var _this$props3=this.props,data=_this$props3.data,iconMapping=_this$props3.iconMapping,getIcon=_this$props3.getIcon,value=attribute.value,i=0,_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=data[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var icon=getIcon(_step3.value),colorMode=iconMapping[icon]&&iconMapping[icon].mask;value[i++]=colorMode?1:0}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}},{key:"calculateInstanceIconFrames",value:function calculateInstanceIconFrames(attribute){var _this$props4=this.props,data=_this$props4.data,iconMapping=_this$props4.iconMapping,getIcon=_this$props4.getIcon,value=attribute.value,i=0,_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=data[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var rect=iconMapping[getIcon(_step4.value)]||{};value[i++]=rect.x||0,value[i++]=rect.y||0,value[i++]=rect.width||0,value[i++]=rect.height||0}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}}}]),IconLayer}();IconLayer.layerName="IconLayer",IconLayer.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ScatterplotLayer});var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2__scatterplot_layer_vertex_glsl__=__webpack_require__(1070),__WEBPACK_IMPORTED_MODULE_3__scatterplot_layer_fragment_glsl__=__webpack_require__(1071);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.getPrototypeOf||function _getPrototypeOf(o){return o.__proto__})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var fp64LowPart=__WEBPACK_IMPORTED_MODULE_1_luma_gl__.fp64.fp64LowPart,DEFAULT_COLOR=[0,0,0,255],defaultProps={radiusScale:1,radiusMinPixels:0,radiusMaxPixels:Number.MAX_SAFE_INTEGER,strokeWidth:1,outline:!1,fp64:!1,getPosition:function getPosition(x){return x.position},getRadius:function getRadius(x){return x.radius||1},getColor:function getColor(x){return x.color||DEFAULT_COLOR}},ScatterplotLayer=function(_Layer){function ScatterplotLayer(){return _classCallCheck(this,ScatterplotLayer),_possibleConstructorReturn(this,(ScatterplotLayer.__proto__||Object.getPrototypeOf(ScatterplotLayer)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(ScatterplotLayer,__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__["Layer"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ScatterplotLayer,[{key:"getShaders",value:function getShaders(id){var projectModule=this.is64bitEnabled()?"project64":"project32";return{vs:__WEBPACK_IMPORTED_MODULE_2__scatterplot_layer_vertex_glsl__.a,fs:__WEBPACK_IMPORTED_MODULE_3__scatterplot_layer_fragment_glsl__.a,modules:[projectModule,"picking"]}}},{key:"initializeState",value:function initializeState(){this.state.attributeManager.addInstanced({instancePositions:{size:3,transition:!0,accessor:"getPosition"},instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceColors:{size:4,transition:!0,type:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_BYTE,accessor:"getColor",defaultValue:[0,0,0,255]}})}},{key:"updateState",value:function updateState(_ref){var props=_ref.props,oldProps=_ref.oldProps,changeFlags=_ref.changeFlags;if(_get(ScatterplotLayer.prototype.__proto__||Object.getPrototypeOf(ScatterplotLayer.prototype),"updateState",this).call(this,{props:props,oldProps:oldProps,changeFlags:changeFlags}),props.fp64!==oldProps.fp64){var gl=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(gl)}),this.state.attributeManager.invalidateAll()}}},{key:"draw",value:function draw(_ref2){var uniforms=_ref2.uniforms,_this$props=this.props,radiusScale=_this$props.radiusScale,radiusMinPixels=_this$props.radiusMinPixels,radiusMaxPixels=_this$props.radiusMaxPixels,outline=_this$props.outline,strokeWidth=_this$props.strokeWidth;this.state.model.render(Object.assign({},uniforms,{outline:outline?1:0,strokeWidth:strokeWidth,radiusScale:radiusScale,radiusMinPixels:radiusMinPixels,radiusMaxPixels:radiusMaxPixels}))}},{key:"_getModel",value:function _getModel(gl){return new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Model(gl,Object.assign(this.getShaders(),{id:this.props.id,geometry:new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Geometry({drawMode:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.TRIANGLE_FAN,attributes:{positions:new Float32Array([-1,-1,0,-1,1,0,1,1,0,1,-1,0])}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"calculateInstancePositions64xyLow",value:function calculateInstancePositions64xyLow(attribute){var isFP64=this.is64bitEnabled();if(attribute.isGeneric=!isFP64,isFP64){var _this$props2=this.props,data=_this$props2.data,getPosition=_this$props2.getPosition,value=attribute.value,i=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var position=getPosition(_step.value);value[i++]=fp64LowPart(position[0]),value[i++]=fp64LowPart(position[1])}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}else attribute.value=new Float32Array(2)}}]),ScatterplotLayer}();ScatterplotLayer.layerName="ScatterplotLayer",ScatterplotLayer.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return GridCellLayer});var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2__grid_cell_layer_vertex_glsl__=__webpack_require__(1076),__WEBPACK_IMPORTED_MODULE_3__grid_cell_layer_fragment_glsl__=__webpack_require__(1077);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.getPrototypeOf||function _getPrototypeOf(o){return o.__proto__})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var fp64LowPart=__WEBPACK_IMPORTED_MODULE_1_luma_gl__.fp64.fp64LowPart,DEFAULT_COLOR=[255,0,255,255],GridCellLayer=function(_Layer){function GridCellLayer(){return _classCallCheck(this,GridCellLayer),_possibleConstructorReturn(this,(GridCellLayer.__proto__||Object.getPrototypeOf(GridCellLayer)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(GridCellLayer,__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__["Layer"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(GridCellLayer,[{key:"getShaders",value:function getShaders(){var projectModule=this.is64bitEnabled()?"project64":"project32";return{vs:__WEBPACK_IMPORTED_MODULE_2__grid_cell_layer_vertex_glsl__.a,fs:__WEBPACK_IMPORTED_MODULE_3__grid_cell_layer_fragment_glsl__.a,modules:[projectModule,"lighting","picking"]}}},{key:"initializeState",value:function initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,transition:!0,accessor:"getPosition"},instanceElevations:{size:1,transition:!0,accessor:"getElevation"},instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow},instanceColors:{size:4,type:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_BYTE,transition:!0,accessor:"getColor",defaultValue:DEFAULT_COLOR}})}},{key:"updateState",value:function updateState(_ref){var props=_ref.props,oldProps=_ref.oldProps,changeFlags=_ref.changeFlags;if(_get(GridCellLayer.prototype.__proto__||Object.getPrototypeOf(GridCellLayer.prototype),"updateState",this).call(this,{props:props,oldProps:oldProps,changeFlags:changeFlags}),props.fp64!==oldProps.fp64){var gl=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(gl)}),this.state.attributeManager.invalidateAll()}}},{key:"_getModel",value:function _getModel(gl){return new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Model(gl,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.CubeGeometry,isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"draw",value:function draw(_ref2){var uniforms=_ref2.uniforms,_this$props=this.props,cellSize=_this$props.cellSize,extruded=_this$props.extruded,elevationScale=_this$props.elevationScale,coverage=_this$props.coverage;this.state.model.render(Object.assign({},uniforms,{cellSize:cellSize,extruded:extruded,elevationScale:elevationScale,coverage:coverage}))}},{key:"calculateInstancePositions64xyLow",value:function calculateInstancePositions64xyLow(attribute){var isFP64=this.is64bitEnabled();if(attribute.isGeneric=!isFP64,isFP64){var _this$props2=this.props,data=_this$props2.data,getPosition=_this$props2.getPosition,value=attribute.value,i=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var position=getPosition(_step.value);value[i++]=fp64LowPart(position[0]),value[i++]=fp64LowPart(position[1])}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}else attribute.value=new Float32Array(2)}}]),GridCellLayer}();GridCellLayer.layerName="GridCellLayer",GridCellLayer.defaultProps={cellSize:{type:"number",min:0,max:1e3,value:1e3},coverage:{type:"number",min:0,max:1,value:1},elevationScale:{type:"number",min:0,value:1},extruded:!0,fp64:!1,getPosition:function getPosition(x){return x.position},getElevation:function getElevation(x){return x.elevation},getColor:function getColor(x){return x.color},lightSettings:{}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return HexagonCellLayer});var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2__hexagon_cell_layer_vertex_glsl__=__webpack_require__(1080),__WEBPACK_IMPORTED_MODULE_3__hexagon_cell_layer_fragment_glsl__=__webpack_require__(1081);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.getPrototypeOf||function _getPrototypeOf(o){return o.__proto__})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var fp64LowPart=__WEBPACK_IMPORTED_MODULE_1_luma_gl__.fp64.fp64LowPart,DEFAULT_COLOR=[255,0,255,255],HexagonCellLayer=function(_Layer){function HexagonCellLayer(props){_classCallCheck(this,HexagonCellLayer);var missingProps=!1;return props.hexagonVertices||props.radius&&Number.isFinite(props.angle)?props.hexagonVertices&&(!Array.isArray(props.hexagonVertices)||props.hexagonVertices.length<6)&&(__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.log.once(0,"HexagonCellLayer: hexagonVertices needs to be an array of 6 points")(),missingProps=!0):(__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.log.once(0,"HexagonCellLayer: Either hexagonVertices or radius and angle are needed to calculate primitive hexagon.")(),missingProps=!0),missingProps&&(__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.log.once(0,"Now using 1000 meter as default radius, 0 as default angle")(),props.radius=1e3,props.angle=0),_possibleConstructorReturn(this,(HexagonCellLayer.__proto__||Object.getPrototypeOf(HexagonCellLayer)).call(this,props))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(HexagonCellLayer,__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__["Layer"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(HexagonCellLayer,[{key:"getShaders",value:function getShaders(){var projectModule=this.is64bitEnabled()?"project64":"project32";return{vs:__WEBPACK_IMPORTED_MODULE_2__hexagon_cell_layer_vertex_glsl__.a,fs:__WEBPACK_IMPORTED_MODULE_3__hexagon_cell_layer_fragment_glsl__.a,modules:[projectModule,"lighting","picking"]}}},{key:"initializeState",value:function initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:2,transition:!0,accessor:"getCentroid"},instanceElevations:{size:1,transition:!0,accessor:"getElevation"},instancePositions64xyLow:{size:2,accessor:"getCentroid",update:this.calculateInstancePositions64xyLow},instanceColors:{size:4,type:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_BYTE,transition:!0,accessor:"getColor",defaultValue:DEFAULT_COLOR}})}},{key:"updateState",value:function updateState(_ref){var props=_ref.props,oldProps=_ref.oldProps,changeFlags=_ref.changeFlags;if(_get(HexagonCellLayer.prototype.__proto__||Object.getPrototypeOf(HexagonCellLayer.prototype),"updateState",this).call(this,{props:props,oldProps:oldProps,changeFlags:changeFlags}),props.fp64!==oldProps.fp64){var gl=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(gl)}),this.state.attributeManager.invalidateAll()}props.hexagonVertices===oldProps.hexagonVertices&&props.radius===oldProps.radius&&props.angle===oldProps.angle||this.updateRadiusAngle()}},{key:"updateRadiusAngle",value:function updateRadiusAngle(){var _this$props=this.props,angle=_this$props.angle,radius=_this$props.radius,hexagonVertices=this.props.hexagonVertices;if(Array.isArray(hexagonVertices)&&hexagonVertices.length>=6){var vertices=this.props.hexagonVertices,vertex0=vertices[0],vertex3=vertices[3],pixelsPerMeter=this.context.viewport.getDistanceScales().pixelsPerMeter,spaceCoord0=this.projectFlat(vertex0),spaceCoord3=this.projectFlat(vertex3),dx=spaceCoord0[0]-spaceCoord3[0],dy=spaceCoord0[1]-spaceCoord3[1],dxy=Math.sqrt(dx*dx+dy*dy);angle=Math.acos(dx/dxy)*-Math.sign(dy)+Math.PI/2,radius=dxy/2/pixelsPerMeter[0]}this.setState({angle:angle,radius:radius})}},{key:"getCylinderGeometry",value:function getCylinderGeometry(radius){return new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.CylinderGeometry({radius:radius,topRadius:radius,bottomRadius:radius,topCap:!0,bottomCap:!0,height:1,verticalAxis:"z",nradial:6,nvertical:1})}},{key:"_getModel",value:function _getModel(gl){return new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Model(gl,Object.assign({},this.getShaders(),{id:this.props.id,geometry:this.getCylinderGeometry(1),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"draw",value:function draw(_ref2){var uniforms=_ref2.uniforms,_this$props2=this.props,elevationScale=_this$props2.elevationScale,extruded=_this$props2.extruded,coverage=_this$props2.coverage,_this$state=this.state,radius=_this$state.radius,angle=_this$state.angle;this.state.model.render(Object.assign({},uniforms,{radius:radius,angle:angle,extruded:extruded,coverage:coverage,elevationScale:elevationScale}))}},{key:"calculateInstancePositions64xyLow",value:function calculateInstancePositions64xyLow(attribute){var isFP64=this.is64bitEnabled();if(attribute.isGeneric=!isFP64,isFP64){var _this$props3=this.props,data=_this$props3.data,getCentroid=_this$props3.getCentroid,value=attribute.value,i=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var position=getCentroid(_step.value);value[i++]=fp64LowPart(position[0]),value[i++]=fp64LowPart(position[1])}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}else attribute.value=new Float32Array(2)}}]),HexagonCellLayer}();HexagonCellLayer.layerName="HexagonCellLayer",HexagonCellLayer.defaultProps={hexagonVertices:null,radius:null,angle:null,coverage:{type:"number",min:0,max:1,value:1},elevationScale:{type:"number",min:0,value:1},extruded:!0,fp64:!1,getCentroid:function getCentroid(x){return x.centroid},getColor:function getColor(x){return x.color},getElevation:function getElevation(x){return x.elevation},lightSettings:{}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return SolidPolygonLayer});var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2__polygon_tesselator__=__webpack_require__(1089),__WEBPACK_IMPORTED_MODULE_3__solid_polygon_layer_vertex_glsl__=__webpack_require__(1091),__WEBPACK_IMPORTED_MODULE_4__solid_polygon_layer_fragment_glsl__=__webpack_require__(1092);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.getPrototypeOf||function _getPrototypeOf(o){return o.__proto__})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var defaultLineColor=[0,0,0,255],defaultFillColor=[0,0,0,255],defaultProps={filled:!0,extruded:!1,wireframe:!1,fp64:!1,elevationScale:1,getPolygon:function getPolygon(f){return f.polygon},getElevation:function getElevation(f){return f.elevation||0},getFillColor:function getFillColor(f){return f.fillColor||defaultFillColor},getLineColor:function getLineColor(f){return f.lineColor||defaultLineColor},lightSettings:{}},SIDE_FILL_POSITIONS=new Float32Array([0,1,0,0,1,1,1,0]),SIDE_WIRE_POSITIONS=new Float32Array([1,1,0,1,0,0,1,0]),ATTRIBUTE_OVERRIDES={TOP:null,SIDE:{instanced:1},WIRE:{instanced:1}},ATTRIBUTE_MAPS={TOP:{indices:"indices",positions:"positions",positions64xyLow:"positions64xyLow",elevations:"elevations",colors:"fillColors",pickingColors:"pickingColors"},SIDE:{positions:"positions",positions64xyLow:"positions64xyLow",nextPositions:"nextPositions",nextPositions64xyLow:"nextPositions64xyLow",elevations:"elevations",colors:"fillColors",pickingColors:"pickingColors"},WIRE:{positions:"positions",positions64xyLow:"positions64xyLow",nextPositions:"nextPositions",nextPositions64xyLow:"nextPositions64xyLow",elevations:"elevations",colors:"lineColors",pickingColors:"pickingColors"}},SolidPolygonLayer=function(_Layer){function SolidPolygonLayer(){return _classCallCheck(this,SolidPolygonLayer),_possibleConstructorReturn(this,(SolidPolygonLayer.__proto__||Object.getPrototypeOf(SolidPolygonLayer)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(SolidPolygonLayer,__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__["Layer"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(SolidPolygonLayer,[{key:"getShaders",value:function getShaders(){var projectModule=this.is64bitEnabled()?"project64":"project32";return{vs:__WEBPACK_IMPORTED_MODULE_3__solid_polygon_layer_vertex_glsl__.a,fs:__WEBPACK_IMPORTED_MODULE_4__solid_polygon_layer_fragment_glsl__.a,modules:[projectModule,"lighting","picking"]}}},{key:"initializeState",value:function initializeState(){var gl=this.context.gl;this.setState({numInstances:0,IndexType:Object(__WEBPACK_IMPORTED_MODULE_1_luma_gl__.hasFeature)(gl,__WEBPACK_IMPORTED_MODULE_1_luma_gl__.FEATURES.ELEMENT_INDEX_UINT32)?Uint32Array:Uint16Array});this.getAttributeManager().add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:!0},positions:{size:3,accessor:["extruded","fp64"],update:this.calculatePositions,noAlloc:!0},positions64xyLow:{size:2,accessor:"fp64",update:this.calculatePositionsLow},nextPositions:{size:3,accessor:["extruded","fp64"],update:this.calculateNextPositions,noAlloc:!0},nextPositions64xyLow:{size:2,accessor:"fp64",update:this.calculateNextPositionsLow},elevations:{size:1,accessor:["extruded","getElevation"],update:this.calculateElevations,noAlloc:!0},fillColors:{alias:"colors",size:4,type:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_BYTE,accessor:"getFillColor",update:this.calculateFillColors,defaultValue:defaultFillColor,noAlloc:!0},lineColors:{alias:"colors",size:4,type:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_BYTE,accessor:"getLineColor",update:this.calculateLineColors,defaultValue:defaultLineColor,noAlloc:!0},pickingColors:{size:3,type:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_BYTE,update:this.calculatePickingColors,noAlloc:!0}})}},{key:"draw",value:function draw(_ref){var uniforms=_ref.uniforms,_this$props=this.props,extruded=_this$props.extruded,elevationScale=_this$props.elevationScale,renderUniforms=Object.assign({},uniforms,{extruded:extruded?1:0,elevationScale:elevationScale});this.state.models.forEach(function(model){model.render(renderUniforms)})}},{key:"updateState",value:function updateState(updateParams){_get(SolidPolygonLayer.prototype.__proto__||Object.getPrototypeOf(SolidPolygonLayer.prototype),"updateState",this).call(this,updateParams),this.updateGeometry(updateParams);var props=updateParams.props,oldProps=updateParams.oldProps;(props.fp64!==oldProps.fp64||props.filled!==oldProps.filled||props.extruded!==oldProps.extruded||props.wireframe!==oldProps.wireframe)&&(this.state.models&&this.state.models.forEach(function(model){return model.delete()}),this.setState(Object.assign({modelsChanged:!0},this._getModels(this.context.gl)))),props.extruded!==oldProps.extruded&&this.state.attributeManager.invalidate("extruded"),props.fp64!==oldProps.fp64&&this.state.attributeManager.invalidate("fp64")}},{key:"updateGeometry",value:function updateGeometry(_ref2){var props=_ref2.props,oldProps=_ref2.oldProps,changeFlags=_ref2.changeFlags,geometryConfigChanged=changeFlags.dataChanged||changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.all||changeFlags.updateTriggersChanged.getPolygon);if(geometryConfigChanged){var polygons=props.data.map(props.getPolygon);this.setState({polygonTesselator:new __WEBPACK_IMPORTED_MODULE_2__polygon_tesselator__.a({polygons:polygons,IndexType:this.state.IndexType})}),this.state.attributeManager.invalidateAll()}(geometryConfigChanged||props.extruded!==oldProps.extruded||props.fp64!==oldProps.fp64)&&this.state.polygonTesselator.updatePositions({fp64:props.fp64,extruded:props.extruded})}},{key:"updateAttributes",value:function updateAttributes(props){var _this$state=this.state,attributeManager=_this$state.attributeManager,modelsChanged=_this$state.modelsChanged;if(attributeManager.update({data:props.data,numInstances:0,props:props,buffers:props,context:this,ignoreUnknownAttributes:!0}),modelsChanged)this._updateAttributes(attributeManager.getAttributes()),this.setState({modelsChanged:!1});else{var changedAttributes=attributeManager.getChangedAttributes({clearChangedFlags:!0});this._updateAttributes(changedAttributes)}}},{key:"_updateAttributes",value:function _updateAttributes(attributes){var modelsByName=this.state.modelsByName;for(var modelName in modelsByName){var model=modelsByName[modelName];"TOP"===modelName?model.setVertexCount(this.state.numVertex):model.setInstanceCount(this.state.numInstances);var attributeMap=ATTRIBUTE_MAPS[modelName],attributeOverride=ATTRIBUTE_OVERRIDES[modelName],newAttributes={};for(var attributeName in attributeMap){var attribute=attributes[attributeMap[attributeName]];attribute&&(newAttributes[attributeName]=attributeOverride?Object.assign({},attribute,attributeOverride,{buffer:attribute.getBuffer()}):attribute)}model.setAttributes(newAttributes)}}},{key:"_getModels",value:function _getModels(gl){var _this$props2=this.props,id=_this$props2.id,filled=_this$props2.filled,extruded=_this$props2.extruded,wireframe=_this$props2.wireframe,models={};return filled&&(models.TOP=new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Model(gl,Object.assign({},this.getShaders(),{id:"".concat(id,"-top"),geometry:new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Geometry({drawMode:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.TRIANGLES,attributes:{vertexPositions:{size:2,isGeneric:!0,value:new Float32Array([0,1])},nextPositions:{size:3,isGeneric:!0,value:new Float32Array(3)},nextPositions64xyLow:{size:2,isGeneric:!0,value:new Float32Array(2)}}}),uniforms:{isSideVertex:0},vertexCount:0,isIndexed:!0,shaderCache:this.context.shaderCache}))),filled&&extruded&&(models.SIDE=new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Model(gl,Object.assign({},this.getShaders(),{id:"".concat(id,"-side"),geometry:new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Geometry({drawMode:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.TRIANGLE_STRIP,vertexCount:4,attributes:{vertexPositions:{size:2,value:SIDE_FILL_POSITIONS}}}),uniforms:{isSideVertex:1},isInstanced:1,shaderCache:this.context.shaderCache}))),extruded&&wireframe&&(models.WIRE=new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Model(gl,Object.assign({},this.getShaders(),{id:"".concat(id,"-wire"),geometry:new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Geometry({drawMode:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.LINE_STRIP,vertexCount:4,attributes:{vertexPositions:{size:2,value:SIDE_WIRE_POSITIONS}}}),uniforms:{isSideVertex:1},isInstanced:1,shaderCache:this.context.shaderCache}))),{models:[models.WIRE,models.SIDE,models.TOP].filter(Boolean),modelsByName:models}}},{key:"calculateIndices",value:function calculateIndices(attribute){attribute.value=this.state.polygonTesselator.indices();var numVertex=attribute.value.length/attribute.size;this.setState({numVertex:numVertex})}},{key:"calculatePositions",value:function calculatePositions(attribute){attribute.value=this.state.polygonTesselator.positions();var numInstances=attribute.value.length/attribute.size;this.setState({numInstances:numInstances})}},{key:"calculatePositionsLow",value:function calculatePositionsLow(attribute){var isFP64=this.is64bitEnabled();attribute.isGeneric=!isFP64,attribute.value=isFP64?this.state.polygonTesselator.positions64xyLow():new Float32Array(2)}},{key:"calculateNextPositions",value:function calculateNextPositions(attribute){attribute.value=this.state.polygonTesselator.nextPositions()}},{key:"calculateNextPositionsLow",value:function calculateNextPositionsLow(attribute){var isFP64=this.is64bitEnabled();attribute.isGeneric=!isFP64,attribute.value=isFP64?this.state.polygonTesselator.nextPositions64xyLow():new Float32Array(2)}},{key:"calculateElevations",value:function calculateElevations(attribute){var _this=this,_this$props3=this.props,extruded=_this$props3.extruded,_getElevation=_this$props3.getElevation;if(extruded&&"function"==typeof _getElevation)attribute.isGeneric=!1,attribute.value=this.state.polygonTesselator.elevations({getElevation:function getElevation(polygonIndex){return _getElevation(_this.props.data[polygonIndex])}});else{var elevation=extruded?_getElevation:0;attribute.isGeneric=!0,attribute.value=new Float32Array([elevation])}}},{key:"calculateFillColors",value:function calculateFillColors(attribute){var _this2=this;attribute.value=this.state.polygonTesselator.colors({key:"fillColors",getColor:function getColor(polygonIndex){return _this2.props.getFillColor(_this2.props.data[polygonIndex])}})}},{key:"calculateLineColors",value:function calculateLineColors(attribute){var _this3=this;attribute.value=this.state.polygonTesselator.colors({key:"lineColors",getColor:function getColor(polygonIndex){return _this3.props.getLineColor(_this3.props.data[polygonIndex])}})}},{key:"calculatePickingColors",value:function calculatePickingColors(attribute){attribute.value=this.state.polygonTesselator.pickingColors()}}]),SolidPolygonLayer}();SolidPolygonLayer.layerName="SolidPolygonLayer",SolidPolygonLayer.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.e=normalize,__webpack_exports__.d=function getVertexCount(polygon){return isSimple(polygon)?polygon.length:polygon.reduce(function(length,simplePolygon){return length+simplePolygon.length},0)},__webpack_exports__.c=function getTriangleCount(polygon){var triangleCount=0,first=!0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=normalize(polygon)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var simplePolygon=_step.value,size=simplePolygon.length;triangleCount+=first?size>=3?size-2:0:size+1,first=!1}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return triangleCount},__webpack_exports__.a=function forEachVertex(polygon,visitor){if(isSimple(polygon))return void polygon.forEach(visitor);polygon.forEach(function(simplePolygon){simplePolygon.forEach(visitor)})},__webpack_exports__.b=function getSurfaceIndices(complexPolygon){var holeIndices=function getHoleIndices(complexPolygon){var holeIndices=null;if(complexPolygon.length>1){var polygonStartIndex=0;holeIndices=[],complexPolygon.forEach(function(polygon){polygonStartIndex+=polygon.length,holeIndices.push(polygonStartIndex)}),holeIndices.pop()}return holeIndices}(complexPolygon),verts=flattenVertices(complexPolygon,{dimensions:2,result:[]});return __WEBPACK_IMPORTED_MODULE_1_earcut___default()(verts,holeIndices,2)};var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1_earcut__=__webpack_require__(1090),__WEBPACK_IMPORTED_MODULE_1_earcut___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_earcut__),flattenVertices=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.flattenVertices;function isSimple(polygon){return polygon.length>=1&&polygon[0].length>=2&&Number.isFinite(polygon[0][0])}function normalize(polygon){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).dimensions;return isSimple(polygon)?[polygon]:polygon}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"DeckGL",{enumerable:!0,get:function get(){return _deckgl.default}}),Object.defineProperty(exports,"default",{enumerable:!0,get:function get(){return _deckgl.default}}),Object.defineProperty(exports,"ViewportController",{enumerable:!0,get:function get(){return _viewportController.default}}),Object.defineProperty(exports,"autobind",{enumerable:!0,get:function get(){return _autobind.default}});var _deckgl=_interopRequireDefault(__webpack_require__(1099)),_viewportController=_interopRequireDefault(__webpack_require__(1101)),_autobind=_interopRequireDefault(__webpack_require__(631));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function autobind(obj){var proto=Object.getPrototypeOf(obj),propNames=Object.getOwnPropertyNames(proto),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_loop=function _loop(){var key=_step.value;"function"==typeof obj[key]&&(PREDEFINED.find(function(name){return key===name})||(obj[key]=obj[key].bind(obj)))},_iterator=propNames[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_loop()}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}};var PREDEFINED=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"]},function(module,exports,__webpack_require__){(function(global,module){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){var undefined,LARGE_ARRAY_SIZE=200,CORE_ERROR_TEXT="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",MAX_MEMOIZE_SIZE=500,PLACEHOLDER="__lodash_placeholder__",CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512,DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",HOT_COUNT=800,HOT_SPAN=16,LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e308,NAN=NaN,MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,wrapFlags=[["ary",WRAP_ARY_FLAG],["bind",WRAP_BIND_FLAG],["bindKey",WRAP_BIND_KEY_FLAG],["curry",WRAP_CURRY_FLAG],["curryRight",WRAP_CURRY_RIGHT_FLAG],["flip",WRAP_FLIP_FLAG],["partial",WRAP_PARTIAL_FLAG],["partialRight",WRAP_PARTIAL_RIGHT_FLAG],["rearg",WRAP_REARG_FLAG]],argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",domExcTag="[object DOMException]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source),reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/,reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,rsComboRange="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsAstral="[\\ud800-\\udfff]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="[\\u2700-\\u27bf]",rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsMisc="[^\\ud800-\\udfff"+rsBreakRange+rsDigits+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reApos=RegExp("['’]","g"),reComboMark=RegExp(rsCombo,"g"),reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+(?:['’](?:d|ll|m|re|s|t|ve))?",rsUpper+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsDigits,rsEmoji].join("|"),"g"),reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff"+rsComboRange+"\\ufe0e\\ufe0f]"),reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeParseFloat=parseFloat,freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){for(var index=-1,length=null==array?0:array.length;++index<length;){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}function arrayEachRight(array,iteratee){for(var length=null==array?0:array.length;length--&&!1!==iteratee(array[length],length,array););return array}function arrayEvery(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}function arrayIncludes(array,value){return!!(null==array?0:array.length)&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}var asciiSize=baseProperty("length");function baseFindKey(collection,predicate,eachFunc){var result;return eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection))return result=key,!1}),result}function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){return value==value?function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;for(;++index<length;)if(array[index]===value)return index;return-1}(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){for(var index=fromIndex-1,length=array.length;++index<length;)if(comparator(array[index],value))return index;return-1}function baseIsNaN(value){return value!=value}function baseMean(array,iteratee){var length=null==array?0:array.length;return length?baseSum(array,iteratee)/length:NAN}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyOf(object){return function(key){return null==object?undefined:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}function baseSum(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);current!==undefined&&(result=result===undefined?current:result+current)}return result}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){for(var index=-1,length=strSymbols.length;++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function charsEndIndex(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}var deburrLetter=basePropertyOf({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),escapeHtmlChar=basePropertyOf({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function hasUnicode(string){return reHasUnicode.test(string)}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index];value!==placeholder&&value!==PLACEHOLDER||(array[index]=PLACEHOLDER,result[resIndex++]=index)}return result}function safeGet(object,key){return"__proto__"==key?undefined:object[key]}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}function setToPairs(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=[value,value]}),result}function stringSize(string){return hasUnicode(string)?function unicodeSize(string){var result=reUnicode.lastIndex=0;for(;reUnicode.test(string);)++result;return result}(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?function unicodeToArray(string){return string.match(reUnicode)||[]}(string):function asciiToArray(string){return string.split("")}(string)}var unescapeHtmlChar=basePropertyOf({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var _=function runInContext(context){var uid,Array=(context=null==context?root:_.defaults(root.Object(),context,_.pick(root,contextProps))).Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=context["__core-js_shared__"],funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",nativeObjectToString=objectProto.toString,objectCtorString=funcToString.call(Object),oldDash=root._,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,symIterator=Symbol?Symbol.iterator:undefined,symToStringTag=Symbol?Symbol.toStringTag:undefined,defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}(),ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout,nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse,DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create"),metaMap=WeakMap&&new WeakMap,realNames={},dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=undefined,result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value,this.__actions__=[],this.__chain__=!!chainAll,this.__index__=0,this.__values__=undefined}function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=MAX_ARRAY_LENGTH,this.__views__=[]}function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){(value===undefined||eq(object[key],value))&&(value!==undefined||key in object)||baseAssignValue(object,key,value)}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(value!==undefined||key in object)||baseAssignValue(object,key,value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseAggregator(collection,setter,iteratee,accumulator){return baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)}),accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}function baseAt(object,paths){for(var index=-1,length=paths.length,result=Array(length),skip=null==object;++index<length;)result[index]=skip?undefined:get(object,paths[index]);return result}function baseClamp(number,lower,upper){return number==number&&(upper!==undefined&&(number=number<=upper?number:upper),lower!==undefined&&(number=number>=lower?number:lower)),number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}(value,function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}(result,value)):function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}(object);case setTag:return new Ctor;case symbolTag:return function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}(object)}}(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;if(stack.set(value,result),isSet(value))return value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))}),result;if(isMap(value))return value.forEach(function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))}),result;var props=isArr?undefined:(isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys)(value);return arrayEach(props||value,function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))}),result}function baseConformsTo(object,source,props){var length=props.length;if(null==object)return!length;for(object=Object(object);length--;){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value))return!1}return!0}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):values.length>=LARGE_ARRAY_SIZE&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=null==iteratee?value:iteratee(value);if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype.clear=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0},Hash.prototype.delete=function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result},Hash.prototype.get=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined},Hash.prototype.has=function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)},Hash.prototype.set=function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0||(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,0))},ListCache.prototype.get=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]},ListCache.prototype.has=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result},MapCache.prototype.get=function mapCacheGet(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function mapCacheHas(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this},SetCache.prototype.has=function setCacheHas(value){return this.__data__.has(value)},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result},Stack.prototype.get=function stackGet(key){return this.__data__.get(key)},Stack.prototype.has=function stackHas(key){return this.__data__.has(key)},Stack.prototype.set=function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this};var baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0);function baseEvery(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection){return result=!!predicate(value,index,collection)}),result}function baseExtremum(array,iteratee,comparator){for(var index=-1,length=array.length;++index<length;){var value=array[index],current=iteratee(value);if(null!=current&&(computed===undefined?current==current&&!isSymbol(current):comparator(current,computed)))var computed=current,result=value}return result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}var baseFor=createBaseFor(),baseForRight=createBaseFor(!0);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){return null==value?value===undefined?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}(value):function objectToString(value){return nativeObjectToString.call(value)}(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return null!=object&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return null!=object&&key in Object(object)}function baseIntersection(arrays,iteratee,comparator){for(var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=1/0,result=[];othIndex--;){var array=arrays[othIndex];othIndex&&iteratee&&(array=arrayMap(array,baseUnary(iteratee))),maxLength=nativeMin(array.length,maxLength),caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:for(;++index<length&&result.length<maxLength;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){for(othIndex=othLength;--othIndex;){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator)))continue outer}seen&&seen.push(computed),result.push(value)}}return result}function baseInvoke(object,path,args){var func=null==(object=parent(object,path=castPath(path,object)))?object:object[toKey(last(path))];return null==func?undefined:apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other),objIsObj=(objTag=objTag==argsTag?objectTag:objTag)==objectTag,othIsObj=(othTag=othTag==argsTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othLength=getAllKeys(other).length;if(objLength!=othLength&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object),stack.delete(other),result}(object,other,bitmask,customizer,equalFunc,stack))}(value,other,bitmask,customizer,baseIsEqual,stack))}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result))return!1}}return!0}function baseIsNative(value){return!(!isObject(value)||function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function baseKeysIn(object){if(!isObject(object))return function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,function(srcValue,key){if(isObject(srcValue))stack||(stack=new Stack),function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked)assignMergeValue(object,key,stacked);else{var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined,isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):(!isObject(objValue)||srcIndex&&isFunction(objValue))&&(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),assignMergeValue(object,key,newValue)}}(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):undefined;newValue===undefined&&(newValue=srcValue),assignMergeValue(object,key,newValue)}},keysIn)}function baseNth(array,n){var length=array.length;if(length)return isIndex(n+=n<0?length:0,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){var index=-1;return iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee())),function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}(baseMap(collection,function(value,key,collection){return{criteria:arrayMap(iteratees,function(iteratee){return iteratee(value)}),index:++index,value:value}}),function(object,other){return function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;var order=orders[index];return result*("desc"==order?-1:1)}}return object.index-other.index}(object,other,orders)})}function basePickBy(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;for(array===values&&(values=copyArray(values)),iteratee&&(seen=arrayMap(array,baseUnary(iteratee)));++index<length;)for(var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;(fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1;)seen!==array&&splice.call(seen,fromIndex,1),splice.call(array,fromIndex,1);return array}function basePullAt(array,indexes){for(var length=array?indexes.length:0,lastIndex=length-1;length--;){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;isIndex(index)?splice.call(array,index,1):baseUnset(array,index)}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRepeat(string,n){var result="";if(!string||n<1||n>MAX_SAFE_INTEGER)return result;do{n%2&&(result+=string),(n=nativeFloor(n/2))&&(string+=string)}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}function baseSet(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];(newValue=customizer?customizer(objValue,key,nested):undefined)===undefined&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}var baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity,baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return!(result=predicate(value,index,collection))}),!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=null==array?low:array.length;if("number"==typeof value&&value==value&&high<=HALF_MAX_ARRAY_LENGTH){for(;low<high;){var mid=low+high>>>1,computed=array[mid];null!==computed&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)?low=mid+1:high=mid}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=null==array?0:array.length,valIsNaN=value!=value,valIsNull=null===value,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;low<high;){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=null===computed,othIsReflexive=computed==computed,othIsSymbol=isSymbol(computed);if(valIsNaN)var setLow=retHighest||othIsReflexive;else setLow=valIsUndefined?othIsReflexive&&(retHighest||othIsDefined):valIsNull?othIsReflexive&&othIsDefined&&(retHighest||!othIsNull):valIsSymbol?othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol):!othIsNull&&!othIsSymbol&&(retHighest?computed<=value:computed<value);setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array,iteratee){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=0===value?0:value}}return result}function baseToNumber(value){return"number"==typeof value?value:isSymbol(value)?NAN:+value}function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}function baseUnset(object,path){return null==(object=parent(object,path=castPath(path,object)))||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;return result instanceof LazyWrapper&&(result=result.value()),arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2)return length?baseUniq(arrays[0]):[];for(var index=-1,result=Array(length);++index<length;)for(var array=arrays[index],othIndex=-1;++othIndex<length;)othIndex!=index&&(result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator));return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){for(var index=-1,length=props.length,valsLength=values.length,result={};++index<length;){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return"function"==typeof value?value:identity}function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;return end=end===undefined?length:end,!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol(value),othIsDefined=other!==undefined,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}function composeArgs(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[holders[argsIndex]]=args[argsIndex]);for(;rangeLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;++argsIndex<rangeLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[offset+holders[holdersIndex]]=args[argsIndex++]);return result}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;newValue===undefined&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):undefined,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?undefined:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}function createCaseFirst(methodName){return function(string){var strSymbols=hasUnicode(string=toString(string))?stringToArray(string):undefined,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined}}function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;for(fromRight&&funcs.reverse();index--;){var func=funcs[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(prereq&&!wrapper&&"wrapper"==getFuncName(func))var wrapper=new LodashWrapper([],!0)}for(index=wrapper?index:length;++index<length;){var funcName=getFuncName(func=funcs[index]),data="wrapper"==funcName?getData(func):undefined;wrapper=data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|WRAP_REARG_FLAG)&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value))return wrapper.plant(value).value();for(var index=0,result=length?funcs[index].apply(this,args):value;++index<length;)result=funcs[index].call(this,result);return result}})}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);return function wrapper(){for(var length=arguments.length,args=Array(length),index=length;index--;)args[index]=arguments[index];if(isCurried)var placeholder=getHolder(wrapper),holdersCount=function countHolders(array,placeholder){for(var length=array.length,result=0;length--;)array[length]===placeholder&&++result;return result}(args,placeholder);if(partials&&(args=composeArgs(args,partials,holders,isCurried)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight,isCurried)),length-=holdersCount,isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return length=args.length,argPos?args=function reorder(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}(args,argPos):isFlip&&length>1&&args.reverse(),isAry&&ary<length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtor(fn)),fn.apply(thisBinding,args)}}function createInverter(setter,toIteratee){return function(object,iteratee){return function baseInverter(object,setter,iteratee,accumulator){return baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)}),accumulator}(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined)return defaultValue;if(value!==undefined&&(result=value),other!==undefined){if(result===undefined)return other;"string"==typeof value||"string"==typeof other?(value=baseToString(value),other=baseToString(other)):(value=baseToNumber(value),other=baseToNumber(other)),result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest(function(iteratees){return iteratees=arrayMap(iteratees,baseUnary(getIteratee())),baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(length,chars){var charsLength=(chars=chars===undefined?" ":baseToString(chars)).length;if(charsLength<2)return charsLength?baseRepeat(chars,length):chars;var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall(start,end,step)&&(end=step=undefined),start=toFinite(start),end===undefined?(end=start,start=0):end=toFinite(end),function baseRange(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}(start,end,step=step===undefined?start<end?1:-1:toFinite(step),fromRight)}}function createRelationalOperation(operator){return function(value,other){return"string"==typeof value&&"string"==typeof other||(value=toNumber(value),other=toNumber(other)),operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG,(bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG))&WRAP_CURRY_BOUND_FLAG||(bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG));var newData=[func,bitmask,thisArg,isCurry?partials:undefined,isCurry?holders:undefined,isCurry?undefined:partials,isCurry?undefined:holders,argPos,ary,arity],result=wrapFunc.apply(undefined,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){if(number=toNumber(number),precision=null==precision?0:nativeMin(toInteger(precision),292)){var pair=(toString(number)+"e").split("e");return+((pair=(toString(func(pair[0]+"e"+(+pair[1]+precision)))+"e").split("e"))[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=Set&&1/setToArray(new Set([,-0]))[1]==INFINITY?function(values){return new Set(values)}:noop;function createToPairs(keysFunc){return function(object){var tag=getTag(object);return tag==mapTag?mapToArray(object):tag==setTag?setToPairs(object):function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG),partials=holders=undefined),ary=ary===undefined?ary:nativeMax(toInteger(ary),0),arity=arity===undefined?arity:toInteger(arity),length-=holders?holders.length:0,bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG),isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;if(!isCommon&&!isCombo)return data;srcBitmask&WRAP_BIND_FLAG&&(data[2]=source[2],newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value,data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}return(value=source[5])&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):value,data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]),(value=source[7])&&(data[7]=value),srcBitmask&WRAP_ARY_FLAG&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask,data}(newData,data),func=newData[0],bitmask=newData[1],thisArg=newData[2],partials=newData[3],holders=newData[4],!(arity=newData[9]=newData[9]===undefined?isBindKey?0:func.length:nativeMax(newData[9]-length,0))&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)&&(bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)),bitmask&&bitmask!=WRAP_BIND_FLAG)result=bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG?function createCurry(func,bitmask,arity){var Ctor=createCtor(func);return function wrapper(){for(var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);index--;)args[index]=arguments[index];var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);return(length-=holders.length)<arity?createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length):apply(this&&this!==root&&this instanceof wrapper?Ctor:func,this,args)}}(func,bitmask,arity):bitmask!=WRAP_PARTIAL_FLAG&&bitmask!=(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG)||holders.length?createHybrid.apply(undefined,newData):function createPartial(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);return function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];return apply(fn,isBind?thisArg:this,args)}}(func,bitmask,thisArg,partials);else var result=function createBind(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);return function wrapper(){return(this&&this!==root&&this instanceof wrapper?Ctor:func).apply(isBind?thisArg:this,arguments)}}(func,bitmask,thisArg);return setWrapToString((data?baseSetData:setData)(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){return objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)?srcValue:objValue}function customDefaultsMerge(objValue,srcValue,key,object,source,stack){return isObject(objValue)&&isObject(srcValue)&&(stack.set(srcValue,objValue),baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack),stack.delete(srcValue)),objValue}function customOmitClone(value){return isPlainObject(value)?undefined:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:undefined;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(compared!==undefined){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=metaMap?function(func){return metaMap.get(func)}:noop;function getFuncName(func){for(var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getHolder(func){return(hasOwnProperty.call(lodash,"placeholder")?lodash:func).placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;return result=result===iteratee?baseIteratee:result,arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var data=map.__data__;return function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}(key)?data["string"==typeof key?"string":"hash"]:data.map}function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=function getValue(object,key){return null==object?undefined:object[key]}(object,key);return baseIsNative(value)?value:undefined}var getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)}))}:stubArray,getSymbolsIn=nativeGetSymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray,getTag=baseGetTag;function hasPath(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){var type=typeof value;return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object)}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if("function"!=typeof other||!(funcName in LazyWrapper.prototype))return!1;if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function isStrictComparable(value){return value==value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&object[key]===srcValue&&(srcValue!==undefined||key in Object(object))}}function overRest(func,start,transform){return start=nativeMax(start===undefined?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}var setData=shortOut(baseSetData),setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)},setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,function insertWrapDetails(source,details){var length=details.length;if(!length)return source;var lastIndex=length-1;return details[lastIndex]=(length>1?"& ":"")+details[lastIndex],details=details.join(length>2?", ":" "),source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}(source,function updateWrapDetails(details,bitmask){return arrayEach(wrapFlags,function(pair){var value="_."+pair[0];bitmask&pair[1]&&!arrayIncludes(details,value)&&details.push(value)}),details.sort()}(function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return arguments[0]}else count=0;return func.apply(undefined,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;for(size=size===undefined?length:size;++index<size;){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index],array[index]=value}return array.length=size,array}var stringToPath=function memoizeCapped(func){var result=memoize(func,function(key){return cache.size===MAX_MEMOIZE_SIZE&&cache.clear(),key}),cache=result.cache;return result}(function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}),result});function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper)return wrapper.clone();var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);return result.__actions__=copyArray(wrapper.__actions__),result.__index__=wrapper.__index__,result.__values__=wrapper.__values__,result}var difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0)):[]}),differenceBy=baseRest(function(array,values){var iteratee=last(values);return isArrayLikeObject(iteratee)&&(iteratee=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),getIteratee(iteratee,2)):[]}),differenceWith=baseRest(function(array,values){var comparator=last(values);return isArrayLikeObject(comparator)&&(comparator=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),undefined,comparator):[]});function findIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length-1;return fromIndex!==undefined&&(index=toInteger(fromIndex),index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)),baseFindIndex(array,getIteratee(predicate,3),index,!0)}function flatten(array){return null!=array&&array.length?baseFlatten(array,1):[]}function head(array){return array&&array.length?array[0]:undefined}var intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]}),intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return iteratee===last(mapped)?iteratee=undefined:mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]}),intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return(comparator="function"==typeof comparator?comparator:undefined)&&mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]});function last(array){var length=null==array?0:array.length;return length?array[length-1]:undefined}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}var pullAt=flatRest(function(array,indexes){var length=null==array?0:array.length,result=baseAt(array,indexes);return basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index}).sort(compareAscending)),result});function reverse(array){return null==array?array:nativeReverse.call(array)}var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0))}),unionBy=baseRest(function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),getIteratee(iteratee,2))}),unionWith=baseRest(function(arrays){var comparator=last(arrays);return comparator="function"==typeof comparator?comparator:undefined,baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),undefined,comparator)});function unzip(array){if(!array||!array.length)return[];var length=0;return array=arrayFilter(array,function(group){if(isArrayLikeObject(group))return length=nativeMax(group.length,length),!0}),baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!array||!array.length)return[];var result=unzip(array);return null==iteratee?result:arrayMap(result,function(group){return apply(iteratee,undefined,group)})}var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]}),xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))}),xorBy=baseRest(function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))}),xorWith=baseRest(function(arrays){var comparator=last(arrays);return comparator="function"==typeof comparator?comparator:undefined,baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)}),zip=baseRest(unzip);var zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;return unzipWith(arrays,iteratee="function"==typeof iteratee?(arrays.pop(),iteratee):undefined)});function chain(value){var result=lodash(value);return result.__chain__=!0,result}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};return!(length>1||this.__actions__.length)&&value instanceof LazyWrapper&&isIndex(start)?((value=value.slice(start,+start+(length?1:0))).__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(value,this.__chain__).thru(function(array){return length&&!array.length&&array.push(undefined),array})):this.thru(interceptor)});var countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:baseAssignValue(result,key,1)});var find=createFind(findIndex),findLast=createFind(findLastIndex);function forEach(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){return(isArray(collection)?arrayEachRight:baseEachRight)(collection,getIteratee(iteratee,3))}var groupBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):baseAssignValue(result,key,[value])});var invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc="function"==typeof path,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)}),result}),keyBy=createAggregator(function(result,value,key){baseAssignValue(result,key,value)});function map(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,getIteratee(iteratee,3))}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});var sortBy=baseRest(function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])}),now=ctxNow||function(){return root.Date.now()};function ary(func,n,guard){return n=guard?undefined:n,n=func&&null==n?func.length:n,createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){return--n>0&&(result=func.apply(this,arguments)),n<=1&&(func=undefined),result}}var bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(func,bitmask,thisArg,partials,holders)}),bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(key,bitmask,object,partials,holders)});function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=undefined,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function remainingWait(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=undefined,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=undefined,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(timerId===undefined)return function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return timerId===undefined&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function cancel(){timerId!==undefined&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=undefined},debounced.flush=function flush(){return timerId===undefined?result:trailingEdge(now())},debounced}var defer=baseRest(function(func,args){return baseDelay(func,1,args)}),delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}memoize.Cache=MapCache;var overArgs=castRest(function(func,transforms){var funcsLength=(transforms=1==transforms.length&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()))).length;return baseRest(function(args){for(var index=-1,length=nativeMin(args.length,funcsLength);++index<length;)args[index]=transforms[index].call(this,args[index]);return apply(func,this,args)})}),partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,undefined,partials,holders)}),partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,undefined,partials,holders)}),rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes)});function eq(value,other){return value===other||value!=value&&other!=other}var gt=createRelationalOperation(baseGt),gte=createRelationalOperation(function(value,other){return value>=other}),isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray,isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):function baseIsArrayBuffer(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag};function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}var isBuffer=nativeIsBuffer||stubFalse,isDate=nodeIsDate?baseUnary(nodeIsDate):function baseIsDate(value){return isObjectLike(value)&&baseGetTag(value)==dateTag};function isError(value){if(!isObjectLike(value))return!1;var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||"string"==typeof value.message&&"string"==typeof value.name&&!isPlainObject(value)}function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isInteger(value){return"number"==typeof value&&value==toInteger(value)}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isObjectLike(value){return null!=value&&"object"==typeof value}var isMap=nodeIsMap?baseUnary(nodeIsMap):function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag};function isNumber(value){return"number"==typeof value||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag};var isSet=nodeIsSet?baseUnary(nodeIsSet):function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag};function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]};var lt=createRelationalOperation(baseLt),lte=createRelationalOperation(function(value,other){return value<=other});function toArray(value){if(!value)return[];if(isArrayLike(value))return isString(value)?stringToArray(value):copyArray(value);if(symIterator&&value[symIterator])return function iteratorToArray(iterator){for(var data,result=[];!(data=iterator.next()).done;)result.push(data.value);return result}(value[symIterator]());var tag=getTag(value);return(tag==mapTag?mapToArray:tag==setTag?setToArray:values)(value)}function toFinite(value){return value?(value=toNumber(value))===INFINITY||value===-INFINITY?(value<0?-1:1)*MAX_INTEGER:value==value?value:0:0===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toString(value){return null==value?"":baseToString(value)}var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source))copyObject(source,keys(source),object);else for(var key in source)hasOwnProperty.call(source,key)&&assignValue(object,key,source[key])}),assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)}),assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)}),assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)}),at=flatRest(baseAt);var defaults=baseRest(function(object,sources){object=Object(object);var index=-1,length=sources.length,guard=length>2?sources[2]:undefined;for(guard&&isIterateeCall(sources[0],sources[1],guard)&&(length=1);++index<length;)for(var source=sources[index],props=keysIn(source),propsIndex=-1,propsLength=props.length;++propsIndex<propsLength;){var key=props[propsIndex],value=object[key];(value===undefined||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key))&&(object[key]=source[key])}return object}),defaultsDeep=baseRest(function(args){return args.push(undefined,customDefaultsMerge),apply(mergeWith,undefined,args)});function get(object,path,defaultValue){var result=null==object?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}var invert=createInverter(function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),result[value]=key},constant(identity)),invertBy=createInverter(function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]},getIteratee),invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)}),mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)}),omit=flatRest(function(object,paths){var result={};if(null==object)return result;var isDeep=!1;paths=arrayMap(paths,function(path){return path=castPath(path,object),isDeep||(isDeep=path.length>1),path}),copyObject(object,getAllKeysIn(object),result),isDeep&&(result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var length=paths.length;length--;)baseUnset(result,paths[length]);return result});var pick=flatRest(function(object,paths){return null==object?{}:function basePick(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}(object,paths)});function pickBy(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});return predicate=getIteratee(predicate),basePickBy(object,props,function(value,path){return predicate(value,path[0])})}var toPairs=createToPairs(keys),toPairsIn=createToPairs(keysIn);function values(object){return null==object?[]:baseValues(object,keys(object))}var camelCase=createCompounder(function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)});function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){return(string=toString(string))&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()}),lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()}),lowerFirst=createCaseFirst("toLowerCase");var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)});var upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()}),upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){return string=toString(string),(pattern=guard?undefined:pattern)===undefined?function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}(string)?function unicodeWords(string){return string.match(reUnicodeWord)||[]}(string):function asciiWords(string){return string.match(reAsciiWord)||[]}(string):string.match(pattern)||[]}var attempt=baseRest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}}),bindAll=flatRest(function(object,methodNames){return arrayEach(methodNames,function(key){key=toKey(key),baseAssignValue(object,key,bind(object[key],object))}),object});function constant(value){return function(){return value}}var flow=createFlow(),flowRight=createFlow(!0);function identity(value){return value}function iteratee(func){return baseIteratee("function"==typeof func?func:baseClone(func,CLONE_DEEP_FLAG))}var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args)}}),methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args)}});function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);null!=options||isObject(source)&&(methodNames.length||!props.length)||(options=source,source=object,object=this,methodNames=baseFunctions(source,keys(source)));var chain=!(isObject(options)&&"chain"in options&&!options.chain),isFunc=isFunction(object);return arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__);return(result.__actions__=copyArray(this.__actions__)).push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}return func.apply(object,arrayPush([this.value()],arguments))})}),object}function noop(){}var over=createOver(arrayMap),overEvery=createOver(arrayEvery),overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):function basePropertyDeep(path){return function(object){return baseGet(object,path)}}(path)}var range=createRange(),rangeRight=createRange(!0);function stubArray(){return[]}function stubFalse(){return!1}var add=createMathOperation(function(augend,addend){return augend+addend},0),ceil=createRound("ceil"),divide=createMathOperation(function(dividend,divisor){return dividend/divisor},1),floor=createRound("floor");var source,multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand},1),round=createRound("round"),subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend},0);return lodash.after=function after(n,func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){if(--n<1)return func.apply(this,arguments)}},lodash.ary=ary,lodash.assign=assign,lodash.assignIn=assignIn,lodash.assignInWith=assignInWith,lodash.assignWith=assignWith,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.castArray=function castArray(){if(!arguments.length)return[];var value=arguments[0];return isArray(value)?value:[value]},lodash.chain=chain,lodash.chunk=function chunk(array,size,guard){size=(guard?isIterateeCall(array,size,guard):size===undefined)?1:nativeMax(toInteger(size),0);var length=null==array?0:array.length;if(!length||size<1)return[];for(var index=0,resIndex=0,result=Array(nativeCeil(length/size));index<length;)result[resIndex++]=baseSlice(array,index,index+=size);return result},lodash.compact=function compact(array){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];value&&(result[resIndex++]=value)}return result},lodash.concat=function concat(){var length=arguments.length;if(!length)return[];for(var args=Array(length-1),array=arguments[0],index=length;index--;)args[index-1]=arguments[index];return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))},lodash.cond=function cond(pairs){var length=null==pairs?0:pairs.length,toIteratee=getIteratee();return pairs=length?arrayMap(pairs,function(pair){if("function"!=typeof pair[1])throw new TypeError(FUNC_ERROR_TEXT);return[toIteratee(pair[0]),pair[1]]}):[],baseRest(function(args){for(var index=-1;++index<length;){var pair=pairs[index];if(apply(pair[0],this,args))return apply(pair[1],this,args)}})},lodash.conforms=function conforms(source){return function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}(baseClone(source,CLONE_DEEP_FLAG))},lodash.constant=constant,lodash.countBy=countBy,lodash.create=function create(prototype,properties){var result=baseCreate(prototype);return null==properties?result:baseAssign(result,properties)},lodash.curry=function curry(func,arity,guard){var result=createWrap(func,WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity=guard?undefined:arity);return result.placeholder=curry.placeholder,result},lodash.curryRight=function curryRight(func,arity,guard){var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity=guard?undefined:arity);return result.placeholder=curryRight.placeholder,result},lodash.debounce=debounce,lodash.defaults=defaults,lodash.defaultsDeep=defaultsDeep,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.differenceBy=differenceBy,lodash.differenceWith=differenceWith,lodash.drop=function drop(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,(n=guard||n===undefined?1:toInteger(n))<0?0:n,length):[]},lodash.dropRight=function dropRight(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,0,(n=length-(n=guard||n===undefined?1:toInteger(n)))<0?0:n):[]},lodash.dropRightWhile=function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0,!0):[]},lodash.dropWhile=function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0):[]},lodash.fill=function fill(array,value,start,end){var length=null==array?0:array.length;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),function baseFill(array,value,start,end){var length=array.length;for((start=toInteger(start))<0&&(start=-start>length?0:length+start),(end=end===undefined||end>length?length:toInteger(end))<0&&(end+=length),end=start>end?0:toLength(end);start<end;)array[start++]=value;return array}(array,value,start,end)):[]},lodash.filter=function filter(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,getIteratee(predicate,3))},lodash.flatMap=function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)},lodash.flatMapDeep=function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY)},lodash.flatMapDepth=function flatMapDepth(collection,iteratee,depth){return depth=depth===undefined?1:toInteger(depth),baseFlatten(map(collection,iteratee),depth)},lodash.flatten=flatten,lodash.flattenDeep=function flattenDeep(array){return null!=array&&array.length?baseFlatten(array,INFINITY):[]},lodash.flattenDepth=function flattenDepth(array,depth){return null!=array&&array.length?baseFlatten(array,depth=depth===undefined?1:toInteger(depth)):[]},lodash.flip=function flip(func){return createWrap(func,WRAP_FLIP_FLAG)},lodash.flow=flow,lodash.flowRight=flowRight,lodash.fromPairs=function fromPairs(pairs){for(var index=-1,length=null==pairs?0:pairs.length,result={};++index<length;){var pair=pairs[index];result[pair[0]]=pair[1]}return result},lodash.functions=function functions(object){return null==object?[]:baseFunctions(object,keys(object))},lodash.functionsIn=function functionsIn(object){return null==object?[]:baseFunctions(object,keysIn(object))},lodash.groupBy=groupBy,lodash.initial=function initial(array){return null!=array&&array.length?baseSlice(array,0,-1):[]},lodash.intersection=intersection,lodash.intersectionBy=intersectionBy,lodash.intersectionWith=intersectionWith,lodash.invert=invert,lodash.invertBy=invertBy,lodash.invokeMap=invokeMap,lodash.iteratee=iteratee,lodash.keyBy=keyBy,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=function mapKeys(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)}),result},lodash.mapValues=function mapValues(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))}),result},lodash.matches=function matches(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG))},lodash.matchesProperty=function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG))},lodash.memoize=memoize,lodash.merge=merge,lodash.mergeWith=mergeWith,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=function nthArg(n){return n=toInteger(n),baseRest(function(args){return baseNth(args,n)})},lodash.omit=omit,lodash.omitBy=function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)))},lodash.once=function once(func){return before(2,func)},lodash.orderBy=function orderBy(collection,iteratees,orders,guard){return null==collection?[]:(isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders=guard?undefined:orders)||(orders=null==orders?[]:[orders]),baseOrderBy(collection,iteratees,orders))},lodash.over=over,lodash.overArgs=overArgs,lodash.overEvery=overEvery,lodash.overSome=overSome,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=function propertyOf(object){return function(path){return null==object?undefined:baseGet(object,path)}},lodash.pull=pull,lodash.pullAll=pullAll,lodash.pullAllBy=function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array},lodash.pullAllWith=function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array},lodash.pullAt=pullAt,lodash.range=range,lodash.rangeRight=rangeRight,lodash.rearg=rearg,lodash.reject=function reject(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,negate(getIteratee(predicate,3)))},lodash.remove=function remove(array,predicate){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getIteratee(predicate,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result},lodash.rest=function rest(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return baseRest(func,start=start===undefined?start:toInteger(start))},lodash.reverse=reverse,lodash.sampleSize=function sampleSize(collection,n,guard){return n=(guard?isIterateeCall(collection,n,guard):n===undefined)?1:toInteger(n),(isArray(collection)?arraySampleSize:baseSampleSize)(collection,n)},lodash.set=function set(object,path,value){return null==object?object:baseSet(object,path,value)},lodash.setWith=function setWith(object,path,value,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseSet(object,path,value,customizer)},lodash.shuffle=function shuffle(collection){return(isArray(collection)?arrayShuffle:baseShuffle)(collection)},lodash.slice=function slice(array,start,end){var length=null==array?0:array.length;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)?(start=0,end=length):(start=null==start?0:toInteger(start),end=end===undefined?length:toInteger(end)),baseSlice(array,start,end)):[]},lodash.sortBy=sortBy,lodash.sortedUniq=function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]},lodash.sortedUniqBy=function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]},lodash.split=function split(string,separator,limit){return limit&&"number"!=typeof limit&&isIterateeCall(string,separator,limit)&&(separator=limit=undefined),(limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0)?(string=toString(string))&&("string"==typeof separator||null!=separator&&!isRegExp(separator))&&!(separator=baseToString(separator))&&hasUnicode(string)?castSlice(stringToArray(string),0,limit):string.split(separator,limit):[]},lodash.spread=function spread(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=null==start?0:nativeMax(toInteger(start),0),baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);return array&&arrayPush(otherArgs,array),apply(func,this,otherArgs)})},lodash.tail=function tail(array){var length=null==array?0:array.length;return length?baseSlice(array,1,length):[]},lodash.take=function take(array,n,guard){return array&&array.length?baseSlice(array,0,(n=guard||n===undefined?1:toInteger(n))<0?0:n):[]},lodash.takeRight=function takeRight(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,(n=length-(n=guard||n===undefined?1:toInteger(n)))<0?0:n,length):[]},lodash.takeRightWhile=function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!1,!0):[]},lodash.takeWhile=function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]},lodash.tap=function tap(value,interceptor){return interceptor(value),value},lodash.throttle=function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})},lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=toPairs,lodash.toPairsIn=toPairsIn,lodash.toPath=function toPath(value){return isArray(value)?arrayMap(value,toKey):isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))},lodash.toPlainObject=toPlainObject,lodash.transform=function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);if(iteratee=getIteratee(iteratee,4),null==accumulator){var Ctor=object&&object.constructor;accumulator=isArrLike?isArr?new Ctor:[]:isObject(object)&&isFunction(Ctor)?baseCreate(getPrototype(object)):{}}return(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator},lodash.unary=function unary(func){return ary(func,1)},lodash.union=union,lodash.unionBy=unionBy,lodash.unionWith=unionWith,lodash.uniq=function uniq(array){return array&&array.length?baseUniq(array):[]},lodash.uniqBy=function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]},lodash.uniqWith=function uniqWith(array,comparator){return comparator="function"==typeof comparator?comparator:undefined,array&&array.length?baseUniq(array,undefined,comparator):[]},lodash.unset=function unset(object,path){return null==object||baseUnset(object,path)},lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=function update(object,path,updater){return null==object?object:baseUpdate(object,path,castFunction(updater))},lodash.updateWith=function updateWith(object,path,updater,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseUpdate(object,path,castFunction(updater),customizer)},lodash.values=values,lodash.valuesIn=function valuesIn(object){return null==object?[]:baseValues(object,keysIn(object))},lodash.without=without,lodash.words=words,lodash.wrap=function wrap(value,wrapper){return partial(castFunction(wrapper),value)},lodash.xor=xor,lodash.xorBy=xorBy,lodash.xorWith=xorWith,lodash.zip=zip,lodash.zipObject=function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)},lodash.zipObjectDeep=function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)},lodash.zipWith=zipWith,lodash.entries=toPairs,lodash.entriesIn=toPairsIn,lodash.extend=assignIn,lodash.extendWith=assignInWith,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.ceil=ceil,lodash.clamp=function clamp(number,lower,upper){return upper===undefined&&(upper=lower,lower=undefined),upper!==undefined&&(upper=(upper=toNumber(upper))==upper?upper:0),lower!==undefined&&(lower=(lower=toNumber(lower))==lower?lower:0),baseClamp(toNumber(number),lower,upper)},lodash.clone=function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG)},lodash.cloneDeep=function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)},lodash.cloneDeepWith=function cloneDeepWith(value,customizer){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer="function"==typeof customizer?customizer:undefined)},lodash.cloneWith=function cloneWith(value,customizer){return baseClone(value,CLONE_SYMBOLS_FLAG,customizer="function"==typeof customizer?customizer:undefined)},lodash.conformsTo=function conformsTo(object,source){return null==source||baseConformsTo(object,source,keys(source))},lodash.deburr=deburr,lodash.defaultTo=function defaultTo(value,defaultValue){return null==value||value!=value?defaultValue:value},lodash.divide=divide,lodash.endsWith=function endsWith(string,target,position){string=toString(string),target=baseToString(target);var length=string.length,end=position=position===undefined?length:baseClamp(toInteger(position),0,length);return(position-=target.length)>=0&&string.slice(position,end)==target},lodash.eq=eq,lodash.escape=function escape(string){return(string=toString(string))&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string},lodash.escapeRegExp=function escapeRegExp(string){return(string=toString(string))&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string},lodash.every=function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=undefined),func(collection,getIteratee(predicate,3))},lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=function findKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)},lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)},lodash.floor=floor,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=function forIn(object,iteratee){return null==object?object:baseFor(object,getIteratee(iteratee,3),keysIn)},lodash.forInRight=function forInRight(object,iteratee){return null==object?object:baseForRight(object,getIteratee(iteratee,3),keysIn)},lodash.forOwn=function forOwn(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))},lodash.forOwnRight=function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))},lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=function has(object,path){return null!=object&&hasPath(object,path,baseHas)},lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection),fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;return fromIndex<0&&(fromIndex=nativeMax(length+fromIndex,0)),isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1},lodash.indexOf=function indexOf(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseIndexOf(array,value,index)},lodash.inRange=function inRange(number,start,end){return start=toFinite(start),end===undefined?(end=start,start=0):end=toFinite(end),function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}(number=toNumber(number),start,end)},lodash.invoke=invoke,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isArrayBuffer=isArrayBuffer,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=function isBoolean(value){return!0===value||!1===value||isObjectLike(value)&&baseGetTag(value)==boolTag},lodash.isBuffer=isBuffer,lodash.isDate=isDate,lodash.isElement=function isElement(value){return isObjectLike(value)&&1===value.nodeType&&!isPlainObject(value)},lodash.isEmpty=function isEmpty(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if(tag==mapTag||tag==setTag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0},lodash.isEqual=function isEqual(value,other){return baseIsEqual(value,other)},lodash.isEqualWith=function isEqualWith(value,other,customizer){var result=(customizer="function"==typeof customizer?customizer:undefined)?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result},lodash.isError=isError,lodash.isFinite=function isFinite(value){return"number"==typeof value&&nativeIsFinite(value)},lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=isMap,lodash.isMatch=function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))},lodash.isMatchWith=function isMatchWith(object,source,customizer){return customizer="function"==typeof customizer?customizer:undefined,baseIsMatch(object,source,getMatchData(source),customizer)},lodash.isNaN=function isNaN(value){return isNumber(value)&&value!=+value},lodash.isNative=function isNative(value){if(isMaskable(value))throw new Error(CORE_ERROR_TEXT);return baseIsNative(value)},lodash.isNil=function isNil(value){return null==value},lodash.isNull=function isNull(value){return null===value},lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isSafeInteger=function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER},lodash.isSet=isSet,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=isTypedArray,lodash.isUndefined=function isUndefined(value){return value===undefined},lodash.isWeakMap=function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag},lodash.isWeakSet=function isWeakSet(value){return isObjectLike(value)&&baseGetTag(value)==weakSetTag},lodash.join=function join(array,separator){return null==array?"":nativeJoin.call(array,separator)},lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=function lastIndexOf(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length;return fromIndex!==undefined&&(index=(index=toInteger(fromIndex))<0?nativeMax(length+index,0):nativeMin(index,length-1)),value==value?function strictLastIndexOf(array,value,fromIndex){for(var index=fromIndex+1;index--;)if(array[index]===value)return index;return index}(array,value,index):baseFindIndex(array,baseIsNaN,index,!0)},lodash.lowerCase=lowerCase,lodash.lowerFirst=lowerFirst,lodash.lt=lt,lodash.lte=lte,lodash.max=function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined},lodash.maxBy=function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined},lodash.mean=function mean(array){return baseMean(array,identity)},lodash.meanBy=function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2))},lodash.min=function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined},lodash.minBy=function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined},lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=function stubObject(){return{}},lodash.stubString=function stubString(){return""},lodash.stubTrue=function stubTrue(){return!0},lodash.multiply=multiply,lodash.nth=function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined},lodash.noConflict=function noConflict(){return root._===this&&(root._=oldDash),this},lodash.noop=noop,lodash.now=now,lodash.pad=function pad(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;if(!length||strLength>=length)return string;var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)},lodash.padEnd=function padEnd(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string},lodash.padStart=function padStart(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string},lodash.parseInt=function parseInt(string,radix,guard){return guard||null==radix?radix=0:radix&&(radix=+radix),nativeParseInt(toString(string).replace(reTrimStart,""),radix||0)},lodash.random=function random(lower,upper,floating){if(floating&&"boolean"!=typeof floating&&isIterateeCall(lower,upper,floating)&&(upper=floating=undefined),floating===undefined&&("boolean"==typeof upper?(floating=upper,upper=undefined):"boolean"==typeof lower&&(floating=lower,lower=undefined)),lower===undefined&&upper===undefined?(lower=0,upper=1):(lower=toFinite(lower),upper===undefined?(upper=lower,lower=0):upper=toFinite(upper)),lower>upper){var temp=lower;lower=upper,upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)},lodash.reduce=function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)},lodash.reduceRight=function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)},lodash.repeat=function repeat(string,n,guard){return n=(guard?isIterateeCall(string,n,guard):n===undefined)?1:toInteger(n),baseRepeat(toString(string),n)},lodash.replace=function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])},lodash.result=function result(object,path,defaultValue){var index=-1,length=(path=castPath(path,object)).length;for(length||(length=1,object=undefined);++index<length;){var value=null==object?undefined:object[toKey(path[index])];value===undefined&&(index=length,value=defaultValue),object=isFunction(value)?value.call(object):value}return object},lodash.round=round,lodash.runInContext=runInContext,lodash.sample=function sample(collection){return(isArray(collection)?arraySample:baseSample)(collection)},lodash.size=function size(collection){if(null==collection)return 0;if(isArrayLike(collection))return isString(collection)?stringSize(collection):collection.length;var tag=getTag(collection);return tag==mapTag||tag==setTag?collection.size:baseKeys(collection).length},lodash.snakeCase=snakeCase,lodash.some=function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=undefined),func(collection,getIteratee(predicate,3))},lodash.sortedIndex=function sortedIndex(array,value){return baseSortedIndex(array,value)},lodash.sortedIndexBy=function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))},lodash.sortedIndexOf=function sortedIndexOf(array,value){var length=null==array?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value))return index}return-1},lodash.sortedLastIndex=function sortedLastIndex(array,value){return baseSortedIndex(array,value,!0)},lodash.sortedLastIndexBy=function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),!0)},lodash.sortedLastIndexOf=function sortedLastIndexOf(array,value){if(null!=array&&array.length){var index=baseSortedIndex(array,value,!0)-1;if(eq(array[index],value))return index}return-1},lodash.startCase=startCase,lodash.startsWith=function startsWith(string,target,position){return string=toString(string),position=null==position?0:baseClamp(toInteger(position),0,string.length),target=baseToString(target),string.slice(position,position+target.length)==target},lodash.subtract=subtract,lodash.sum=function sum(array){return array&&array.length?baseSum(array,identity):0},lodash.sumBy=function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0},lodash.template=function template(string,options,guard){var settings=lodash.templateSettings;guard&&isIterateeCall(string,options,guard)&&(options=undefined),string=toString(string),options=assignInWith({},options,settings,customDefaultsAssignIn);var isEscaping,isEvaluating,imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=options.variable;variable||(source="with (obj) {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});if(result.source=source,isError(result))throw result;return result},lodash.times=function times(n,iteratee){if((n=toInteger(n))<1||n>MAX_SAFE_INTEGER)return[];var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee),n-=MAX_ARRAY_LENGTH;for(var result=baseTimes(length,iteratee);++index<n;)iteratee(index);return result},lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=function toLower(value){return toString(value).toLowerCase()},lodash.toNumber=toNumber,lodash.toSafeInteger=function toSafeInteger(value){return value?baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER):0===value?value:0},lodash.toString=toString,lodash.toUpper=function toUpper(value){return toString(value).toUpperCase()},lodash.trim=function trim(string,chars,guard){if((string=toString(string))&&(guard||chars===undefined))return string.replace(reTrim,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars);return castSlice(strSymbols,charsStartIndex(strSymbols,chrSymbols),charsEndIndex(strSymbols,chrSymbols)+1).join("")},lodash.trimEnd=function trimEnd(string,chars,guard){if((string=toString(string))&&(guard||chars===undefined))return string.replace(reTrimEnd,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string);return castSlice(strSymbols,0,charsEndIndex(strSymbols,stringToArray(chars))+1).join("")},lodash.trimStart=function trimStart(string,chars,guard){if((string=toString(string))&&(guard||chars===undefined))return string.replace(reTrimStart,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string);return castSlice(strSymbols,charsStartIndex(strSymbols,stringToArray(chars))).join("")},lodash.truncate=function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length,omission="omission"in options?baseToString(options.omission):omission}var strLength=(string=toString(string)).length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength)return string;var end=length-stringSize(omission);if(end<1)return omission;var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(separator===undefined)return result+omission;if(strSymbols&&(end+=result.length-end),isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;for(separator.global||(separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")),separator.lastIndex=0;match=separator.exec(substring);)var newEnd=match.index;result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission},lodash.unescape=function unescape(string){return(string=toString(string))&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string},lodash.uniqueId=function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id},lodash.upperCase=upperCase,lodash.upperFirst=upperFirst,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,(source={},baseForOwn(lodash,function(func,methodName){hasOwnProperty.call(lodash.prototype,methodName)||(source[methodName]=func)}),source),{chain:!1}),lodash.VERSION="4.17.5",arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash}),arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();return result.__filtered__?result.__takeCount__=nativeMin(n,result.__takeCount__):result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}}),arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||3==type;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();return result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type}),result.__filtered__=result.__filtered__||isFilter,result}}),arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}}),arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()},LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)},LazyWrapper.prototype.invokeMap=baseRest(function(path,args){return"function"==typeof path?new LazyWrapper(this):this.map(function(value){return baseInvoke(value,path,args)})}),LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))},LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;return result.__filtered__&&(start>0||end<0)?new LazyWrapper(result):(start<0?result=result.takeRight(-start):start&&(result=result.drop(start)),end!==undefined&&(result=(end=toInteger(end))<0?result.dropRight(-end):result.take(end-start)),result)},LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)},baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+("last"==methodName?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);lodashFunc&&(lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value),interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);return result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(result,chainAll)}return isUnwrapped&&onlyLazy?func.apply(this,args):(result=this.thru(interceptor),isUnwrapped?isTaker?result.value()[0]:result.value():result)})}),arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}}),baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"";(realNames[key]||(realNames[key]=[])).push({name:methodName,func:lodashFunc})}}),realNames[createHybrid(undefined,WRAP_BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}],LazyWrapper.prototype.clone=function lazyClone(){var result=new LazyWrapper(this.__wrapped__);return result.__actions__=copyArray(this.__actions__),result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=copyArray(this.__iteratees__),result.__takeCount__=this.__takeCount__,result.__views__=copyArray(this.__views__),result},LazyWrapper.prototype.reverse=function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else(result=this.clone()).__dir__*=-1;return result},LazyWrapper.prototype.value=function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=function getView(start,end,transforms){for(var index=-1,length=transforms.length;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length)return baseWrapperValue(array,this.__actions__);var result=[];outer:for(;length--&&resIndex<takeCount;){for(var iterIndex=-1,value=array[index+=dir];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=computed;else if(!computed){if(type==LAZY_FILTER_FLAG)continue outer;break outer}}result[resIndex++]=value}return result},lodash.prototype.at=wrapperAt,lodash.prototype.chain=function wrapperChain(){return chain(this)},lodash.prototype.commit=function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)},lodash.prototype.next=function wrapperNext(){this.__values__===undefined&&(this.__values__=toArray(this.value()));var done=this.__index__>=this.__values__.length;return{done:done,value:done?undefined:this.__values__[this.__index__++]}},lodash.prototype.plant=function wrapperPlant(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);clone.__index__=0,clone.__values__=undefined,result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result},lodash.prototype.reverse=function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;return this.__actions__.length&&(wrapped=new LazyWrapper(this)),(wrapped=wrapped.reverse()).__actions__.push({func:thru,args:[reverse],thisArg:undefined}),new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)},lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)},lodash.prototype.first=lodash.prototype.head,symIterator&&(lodash.prototype[symIterator]=function wrapperToIterator(){return this}),lodash}();root._=_,(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.call(exports,__webpack_require__,exports,module))===undefined||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this)}).call(exports,__webpack_require__(13),__webpack_require__(98)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_require__.d(__webpack_exports__,"experimental",function(){return experimental});var __WEBPACK_IMPORTED_MODULE_0__components_interactive_map__=__webpack_require__(634);__webpack_require__.d(__webpack_exports__,"default",function(){return __WEBPACK_IMPORTED_MODULE_0__components_interactive_map__.a}),__webpack_require__.d(__webpack_exports__,"InteractiveMap",function(){return __WEBPACK_IMPORTED_MODULE_0__components_interactive_map__.a});var __WEBPACK_IMPORTED_MODULE_1__components_static_map__=__webpack_require__(635);__webpack_require__.d(__webpack_exports__,"StaticMap",function(){return __WEBPACK_IMPORTED_MODULE_1__components_static_map__.a});var __WEBPACK_IMPORTED_MODULE_2__components_base_control__=__webpack_require__(142);__webpack_require__.d(__webpack_exports__,"BaseControl",function(){return __WEBPACK_IMPORTED_MODULE_2__components_base_control__.a});var __WEBPACK_IMPORTED_MODULE_3__components_marker__=__webpack_require__(1113);__webpack_require__.d(__webpack_exports__,"Marker",function(){return __WEBPACK_IMPORTED_MODULE_3__components_marker__.a});var __WEBPACK_IMPORTED_MODULE_4__components_popup__=__webpack_require__(1114);__webpack_require__.d(__webpack_exports__,"Popup",function(){return __WEBPACK_IMPORTED_MODULE_4__components_popup__.a});var __WEBPACK_IMPORTED_MODULE_5__components_navigation_control__=__webpack_require__(1116);__webpack_require__.d(__webpack_exports__,"NavigationControl",function(){return __WEBPACK_IMPORTED_MODULE_5__components_navigation_control__.a});var __WEBPACK_IMPORTED_MODULE_6__overlays_canvas_overlay__=__webpack_require__(1117);__webpack_require__.d(__webpack_exports__,"CanvasOverlay",function(){return __WEBPACK_IMPORTED_MODULE_6__overlays_canvas_overlay__.a});var __WEBPACK_IMPORTED_MODULE_7__overlays_html_overlay__=__webpack_require__(1119);__webpack_require__.d(__webpack_exports__,"HTMLOverlay",function(){return __WEBPACK_IMPORTED_MODULE_7__overlays_html_overlay__.a});var __WEBPACK_IMPORTED_MODULE_8__overlays_svg_overlay__=__webpack_require__(1120);__webpack_require__.d(__webpack_exports__,"SVGOverlay",function(){return __WEBPACK_IMPORTED_MODULE_8__overlays_svg_overlay__.a});var __WEBPACK_IMPORTED_MODULE_9__utils_transition_manager__=__webpack_require__(271);__webpack_require__.d(__webpack_exports__,"TRANSITION_EVENTS",function(){return __WEBPACK_IMPORTED_MODULE_9__utils_transition_manager__.a});var __WEBPACK_IMPORTED_MODULE_10__utils_transition__=__webpack_require__(486);__webpack_require__.d(__webpack_exports__,"TransitionInterpolator",function(){return __WEBPACK_IMPORTED_MODULE_10__utils_transition__.b}),__webpack_require__.d(__webpack_exports__,"LinearInterpolator",function(){return __WEBPACK_IMPORTED_MODULE_10__utils_transition__.a}),__webpack_require__.d(__webpack_exports__,"FlyToInterpolator",function(){return __WEBPACK_IMPORTED_MODULE_10__utils_transition__.c});var experimental={MapControls:__webpack_require__(638).a}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1_prop_types__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__webpack_require__(1)),__WEBPACK_IMPORTED_MODULE_1_prop_types___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__),__WEBPACK_IMPORTED_MODULE_2__static_map__=__webpack_require__(635),__WEBPACK_IMPORTED_MODULE_3__utils_map_state__=__webpack_require__(270),__WEBPACK_IMPORTED_MODULE_4_viewport_mercator_project__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_5__utils_transition_manager__=__webpack_require__(271),__WEBPACK_IMPORTED_MODULE_6_mjolnir_js__=__webpack_require__(483),__WEBPACK_IMPORTED_MODULE_7__utils_map_controls__=__webpack_require__(638),__WEBPACK_IMPORTED_MODULE_8__config__=__webpack_require__(1112),__WEBPACK_IMPORTED_MODULE_9__utils_deprecate_warn__=__webpack_require__(639),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var propTypes=Object.assign({},__WEBPACK_IMPORTED_MODULE_2__static_map__.a.propTypes,{maxZoom:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,minZoom:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,maxPitch:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,minPitch:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,onViewportChange:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,transitionDuration:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,transitionInterpolator:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object,transitionInterruption:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,transitionEasing:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,onTransitionStart:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,onTransitionInterrupt:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,onTransitionEnd:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,scrollZoom:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,dragPan:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,dragRotate:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,doubleClickZoom:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,touchZoom:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,touchRotate:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,keyboard:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,onHover:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,onClick:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,clickRadius:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,getCursor:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,visibilityConstraints:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({minZoom:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,maxZoom:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,minPitch:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,maxPitch:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number}),mapControls:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({events:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.arrayOf(__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string),handleEvent:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func})}),defaultProps=Object.assign({},__WEBPACK_IMPORTED_MODULE_2__static_map__.a.defaultProps,__WEBPACK_IMPORTED_MODULE_3__utils_map_state__.a,__WEBPACK_IMPORTED_MODULE_5__utils_transition_manager__.b.defaultProps,{onViewportChange:null,onClick:null,onHover:null,scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,clickRadius:0,getCursor:function getDefaultCursor(_ref){var isDragging=_ref.isDragging,isHovering=_ref.isHovering;return isDragging?__WEBPACK_IMPORTED_MODULE_8__config__.a.CURSOR.GRABBING:isHovering?__WEBPACK_IMPORTED_MODULE_8__config__.a.CURSOR.POINTER:__WEBPACK_IMPORTED_MODULE_8__config__.a.CURSOR.GRAB},visibilityConstraints:__WEBPACK_IMPORTED_MODULE_3__utils_map_state__.a}),childContextTypes={viewport:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.instanceOf(__WEBPACK_IMPORTED_MODULE_4_viewport_mercator_project__.a),isDragging:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,eventManager:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object},InteractiveMap=function(_PureComponent){function InteractiveMap(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,InteractiveMap);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(InteractiveMap.__proto__||Object.getPrototypeOf(InteractiveMap)).call(this,props));return Object(__WEBPACK_IMPORTED_MODULE_9__utils_deprecate_warn__.a)(props),_this.state={isDragging:!1,isHovering:!1},_this._mapControls=props.mapControls||new __WEBPACK_IMPORTED_MODULE_7__utils_map_controls__.a,_this._eventManager=new __WEBPACK_IMPORTED_MODULE_6_mjolnir_js__.EventManager(null,{rightButton:!0}),_this.getMap=_this.getMap.bind(_this),_this.queryRenderedFeatures=_this.queryRenderedFeatures.bind(_this),_this._checkVisibilityConstraints=_this._checkVisibilityConstraints.bind(_this),_this._getFeatures=_this._getFeatures.bind(_this),_this._onInteractiveStateChange=_this._onInteractiveStateChange.bind(_this),_this._getPos=_this._getPos.bind(_this),_this._onMouseMove=_this._onMouseMove.bind(_this),_this._onMouseClick=_this._onMouseClick.bind(_this),_this._eventCanvasLoaded=_this._eventCanvasLoaded.bind(_this),_this._staticMapLoaded=_this._staticMapLoaded.bind(_this),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(InteractiveMap,__WEBPACK_IMPORTED_MODULE_0_react__["PureComponent"]),_createClass(InteractiveMap,null,[{key:"supported",value:function supported(){return __WEBPACK_IMPORTED_MODULE_2__static_map__.a.supported()}}]),_createClass(InteractiveMap,[{key:"getChildContext",value:function getChildContext(){return{viewport:new __WEBPACK_IMPORTED_MODULE_4_viewport_mercator_project__.a(this.props),isDragging:this.state.isDragging,eventManager:this._eventManager}}},{key:"componentDidMount",value:function componentDidMount(){var eventManager=this._eventManager;eventManager.on("mousemove",this._onMouseMove),eventManager.on("click",this._onMouseClick),this._mapControls.setOptions(Object.assign({},this.props,{onStateChange:this._onInteractiveStateChange,eventManager:eventManager})),this._transitionManager=new __WEBPACK_IMPORTED_MODULE_5__utils_transition_manager__.b(this.props)}},{key:"componentWillUpdate",value:function componentWillUpdate(nextProps){this._mapControls.setOptions(nextProps),this._transitionManager.processViewportChange(nextProps)}},{key:"getMap",value:function getMap(){return this._map?this._map.getMap():null}},{key:"queryRenderedFeatures",value:function queryRenderedFeatures(geometry,options){return this._map.queryRenderedFeatures(geometry,options)}},{key:"_checkVisibilityConstraints",value:function _checkVisibilityConstraints(props){var capitalize=function capitalize(s){return s[0].toUpperCase()+s.slice(1)},visibilityConstraints=props.visibilityConstraints;for(var propName in props){var capitalizedPropName=capitalize(propName),minPropName="min"+capitalizedPropName,maxPropName="max"+capitalizedPropName;if(minPropName in visibilityConstraints&&props[propName]<visibilityConstraints[minPropName])return!1;if(maxPropName in visibilityConstraints&&props[propName]>visibilityConstraints[maxPropName])return!1}return!0}},{key:"_getFeatures",value:function _getFeatures(_ref2){var pos=_ref2.pos,radius=_ref2.radius,features=void 0;if(radius){var size=radius,bbox=[[pos[0]-size,pos[1]+size],[pos[0]+size,pos[1]-size]];features=this._map.queryRenderedFeatures(bbox)}else features=this._map.queryRenderedFeatures(pos);return features}},{key:"_onInteractiveStateChange",value:function _onInteractiveStateChange(_ref3){var _ref3$isDragging=_ref3.isDragging,isDragging=void 0!==_ref3$isDragging&&_ref3$isDragging;isDragging!==this.state.isDragging&&this.setState({isDragging:isDragging})}},{key:"_getPos",value:function _getPos(event){var _event$offsetCenter=event.offsetCenter;return[_event$offsetCenter.x,_event$offsetCenter.y]}},{key:"_onMouseMove",value:function _onMouseMove(event){if(!this.state.isDragging){var pos=this._getPos(event),features=this._getFeatures({pos:pos,radius:this.props.clickRadius}),isHovering=features&&features.length>0;if(isHovering!==this.state.isHovering&&this.setState({isHovering:isHovering}),this.props.onHover){var viewport=new __WEBPACK_IMPORTED_MODULE_4_viewport_mercator_project__.a(this.props);event.lngLat=viewport.unproject(pos),event.features=features,this.props.onHover(event)}}}},{key:"_onMouseClick",value:function _onMouseClick(event){if(this.props.onClick){var pos=this._getPos(event),viewport=new __WEBPACK_IMPORTED_MODULE_4_viewport_mercator_project__.a(this.props);event.lngLat=viewport.unproject(pos),event.features=this._getFeatures({pos:pos,radius:this.props.clickRadius}),this.props.onClick(event)}}},{key:"_eventCanvasLoaded",value:function _eventCanvasLoaded(ref){this._eventManager.setElement(ref)}},{key:"_staticMapLoaded",value:function _staticMapLoaded(ref){this._map=ref}},{key:"render",value:function render(){var _props=this.props,eventCanvasStyle={width:_props.width,height:_props.height,position:"relative",cursor:(0,_props.getCursor)(this.state)};return Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("div",{key:"map-controls",ref:this._eventCanvasLoaded,style:eventCanvasStyle},Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)(__WEBPACK_IMPORTED_MODULE_2__static_map__.a,Object.assign({},this.props,this._transitionManager&&this._transitionManager.getViewportInTransition(),{visible:this._checkVisibilityConstraints(this.props),ref:this._staticMapLoaded,children:this.props.children})))}}]),InteractiveMap}();__webpack_exports__.a=InteractiveMap,InteractiveMap.displayName="InteractiveMap",InteractiveMap.propTypes=propTypes,InteractiveMap.defaultProps=defaultProps,InteractiveMap.childContextTypes=childContextTypes},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1_prop_types__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__webpack_require__(1)),__WEBPACK_IMPORTED_MODULE_1_prop_types___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__),__WEBPACK_IMPORTED_MODULE_2__utils_style_utils__=__webpack_require__(1103),__WEBPACK_IMPORTED_MODULE_3__utils_is_immutable_map__=__webpack_require__(636),__WEBPACK_IMPORTED_MODULE_4_viewport_mercator_project__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_5__mapbox_mapbox__=__webpack_require__(1105),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var NO_TOKEN_WARNING="A valid API access token is required to use Mapbox data";function noop(){}var propTypes=Object.assign({},__WEBPACK_IMPORTED_MODULE_5__mapbox_mapbox__.a.propTypes,{mapStyle:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.oneOfType([__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object]),preventStyleDiffing:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,visible:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool}),defaultProps=Object.assign({},__WEBPACK_IMPORTED_MODULE_5__mapbox_mapbox__.a.defaultProps,{mapStyle:"mapbox://styles/mapbox/light-v8",preventStyleDiffing:!1,visible:!0}),childContextTypes={viewport:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.instanceOf(__WEBPACK_IMPORTED_MODULE_4_viewport_mercator_project__.a)},StaticMap=function(_PureComponent){function StaticMap(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StaticMap);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(StaticMap.__proto__||Object.getPrototypeOf(StaticMap)).call(this,props));return _this._queryParams={},StaticMap.supported()||(_this.componentDidMount=noop,_this.componentWillReceiveProps=noop,_this.componentDidUpdate=noop,_this.componentWillUnmount=noop),_this.state={accessTokenInvalid:!1},_this.getMap=_this.getMap.bind(_this),_this.queryRenderedFeatures=_this.queryRenderedFeatures.bind(_this),_this._updateQueryParams=_this._updateQueryParams.bind(_this),_this._updateMapSize=_this._updateMapSize.bind(_this),_this._updateMapStyle=_this._updateMapStyle.bind(_this),_this._mapboxMapLoaded=_this._mapboxMapLoaded.bind(_this),_this._mapboxMapError=_this._mapboxMapError.bind(_this),_this._renderNoTokenWarning=_this._renderNoTokenWarning.bind(_this),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(StaticMap,__WEBPACK_IMPORTED_MODULE_0_react__["PureComponent"]),_createClass(StaticMap,null,[{key:"supported",value:function supported(){return __WEBPACK_IMPORTED_MODULE_5__mapbox_mapbox__.a&&__WEBPACK_IMPORTED_MODULE_5__mapbox_mapbox__.a.supported()}}]),_createClass(StaticMap,[{key:"getChildContext",value:function getChildContext(){return{viewport:new __WEBPACK_IMPORTED_MODULE_4_viewport_mercator_project__.a(this.props)}}},{key:"componentDidMount",value:function componentDidMount(){var mapStyle=this.props.mapStyle;this._mapbox=new __WEBPACK_IMPORTED_MODULE_5__mapbox_mapbox__.a(Object.assign({},this.props,{container:this._mapboxMap,onError:this._mapboxMapError,mapStyle:Object(__WEBPACK_IMPORTED_MODULE_3__utils_is_immutable_map__.a)(mapStyle)?mapStyle.toJS():mapStyle})),this._map=this._mapbox.getMap(),this._updateQueryParams(mapStyle)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(newProps){this._mapbox.setProps(newProps),this._updateMapStyle(this.props,newProps),this.setState({width:this.props.width,height:this.props.height})}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._updateMapSize(this.state,this.props)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._mapbox.finalize(),this._mapbox=null,this._map=null}},{key:"getMap",value:function getMap(){return this._map}},{key:"queryRenderedFeatures",value:function queryRenderedFeatures(geometry,parameters){var queryParams=parameters||this._queryParams;return queryParams.layers&&0===queryParams.layers.length?[]:this._map.queryRenderedFeatures(geometry,queryParams)}},{key:"_updateQueryParams",value:function _updateQueryParams(mapStyle){var interactiveLayerIds=Object(__WEBPACK_IMPORTED_MODULE_2__utils_style_utils__.a)(mapStyle);this._queryParams={layers:interactiveLayerIds}}},{key:"_updateMapSize",value:function _updateMapSize(oldProps,newProps){(oldProps.width!==newProps.width||oldProps.height!==newProps.height)&&this._map.resize()}},{key:"_updateMapStyle",value:function _updateMapStyle(oldProps,newProps){var mapStyle=newProps.mapStyle,oldMapStyle=oldProps.mapStyle;mapStyle!==oldMapStyle&&(Object(__WEBPACK_IMPORTED_MODULE_3__utils_is_immutable_map__.a)(mapStyle)?this.props.preventStyleDiffing?this._map.setStyle(mapStyle.toJS()):Object(__WEBPACK_IMPORTED_MODULE_2__utils_style_utils__.b)(oldMapStyle,mapStyle,this._map):this._map.setStyle(mapStyle),this._updateQueryParams(mapStyle))}},{key:"_mapboxMapLoaded",value:function _mapboxMapLoaded(ref){this._mapboxMap=ref}},{key:"_mapboxMapError",value:function _mapboxMapError(evt){401!==(evt.error&&evt.error.status||evt.status)||this.state.accessTokenInvalid||(console.error(NO_TOKEN_WARNING),this.setState({accessTokenInvalid:!0}))}},{key:"_renderNoTokenWarning",value:function _renderNoTokenWarning(){if(this.state.accessTokenInvalid){return Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},[Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("h3",{key:"header"},NO_TOKEN_WARNING),Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("div",{key:"text"},"For information on setting up your basemap, read"),Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("a",{key:"link",href:"https://uber.github.io/react-map-gl/#/Documentation/getting-started/about-mapbox-tokens"},"Note on Map Tokens")])}return null}},{key:"render",value:function render(){var _props=this.props,className=_props.className,width=_props.width,height=_props.height,style=_props.style,visible=_props.visible,mapContainerStyle=Object.assign({},style,{width:width,height:height,position:"relative"}),mapStyle=Object.assign({},style,{width:width,height:height,visibility:visible?"visible":"hidden"}),overlayContainerStyle={position:"absolute",left:0,top:0,width:width,height:height,overflow:"hidden"};return Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("div",{key:"map-container",style:mapContainerStyle,children:[Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("div",{key:"map-mapbox",ref:this._mapboxMapLoaded,style:mapStyle,className:className}),Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("div",{key:"map-overlays",className:"overlays",style:overlayContainerStyle,children:this.props.children}),this._renderNoTokenWarning()]})}}]),StaticMap}();__webpack_exports__.a=StaticMap,StaticMap.displayName="StaticMap",StaticMap.propTypes=propTypes,StaticMap.defaultProps=defaultProps,StaticMap.childContextTypes=childContextTypes},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function isMap(maybeMap){return Boolean(maybeMap&&maybeMap[IS_MAP_SENTINEL])};var IS_MAP_SENTINEL="@@__IMMUTABLE_MAP__@@"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.c=function lerp(start,end,step){if(Array.isArray(start))return start.map(function(element,index){return lerp(element,end[index],step)});return step*end+(1-step)*start},__webpack_exports__.b=function isValid(prop){return Number.isFinite(prop)||Array.isArray(prop)},__webpack_exports__.a=function getEndValueByShortestPath(propName,startValue,endValue){(function isWrappedAngularProp(propName){return WRAPPED_ANGULAR_PROPS[propName]})(propName)&&Math.abs(endValue-startValue)>180&&(endValue=endValue<0?endValue+360:endValue-360);return endValue};var WRAPPED_ANGULAR_PROPS={longitude:1,bearing:1}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__map_state__=__webpack_require__(270),__WEBPACK_IMPORTED_MODULE_1__transition__=__webpack_require__(486),__WEBPACK_IMPORTED_MODULE_2__transition_manager__=__webpack_require__(271),_slicedToArray=function(){return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var NO_TRANSITION_PROPS={transitionDuration:0},LINEAR_TRANSITION_PROPS={transitionDuration:300,transitionEasing:function transitionEasing(t){return t},transitionInterpolator:new __WEBPACK_IMPORTED_MODULE_1__transition__.a,transitionInterruption:__WEBPACK_IMPORTED_MODULE_2__transition_manager__.a.BREAK},EVENT_TYPES_WHEEL=["wheel"],EVENT_TYPES_PAN=["panstart","panmove","panend"],EVENT_TYPES_PINCH=["pinchstart","pinchmove","pinchend"],EVENT_TYPES_DOUBLE_TAP=["doubletap"],EVENT_TYPES_KEYBOARD=["keydown"],MapControls=function(){function MapControls(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MapControls),this._state={isDragging:!1},this.events=[],this.handleEvent=this.handleEvent.bind(this)}return _createClass(MapControls,[{key:"handleEvent",value:function handleEvent(event){switch(this.mapState=this.getMapState(),event.type){case"panstart":return this._onPanStart(event);case"panmove":return this._onPan(event);case"panend":return this._onPanEnd(event);case"pinchstart":return this._onPinchStart(event);case"pinchmove":return this._onPinch(event);case"pinchend":return this._onPinchEnd(event);case"doubletap":return this._onDoubleTap(event);case"wheel":return this._onWheel(event);case"keydown":return this._onKeyDown(event);default:return!1}}},{key:"getCenter",value:function getCenter(event){var _event$offsetCenter=event.offsetCenter;return[_event$offsetCenter.x,_event$offsetCenter.y]}},{key:"isFunctionKeyPressed",value:function isFunctionKeyPressed(event){var srcEvent=event.srcEvent;return Boolean(srcEvent.metaKey||srcEvent.altKey||srcEvent.ctrlKey||srcEvent.shiftKey)}},{key:"setState",value:function setState(newState){Object.assign(this._state,newState),this.onStateChange&&this.onStateChange(this._state)}},{key:"updateViewport",value:function updateViewport(newMapState){var extraProps=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},extraState=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},oldViewport=this.mapState?this.mapState.getViewportProps():{},newViewport=Object.assign({},newMapState.getViewportProps(),extraProps);this.onViewportChange&&Object.keys(newViewport).some(function(key){return oldViewport[key]!==newViewport[key]})&&this.onViewportChange(newViewport),this.setState(Object.assign({},newMapState.getInteractiveState(),extraState))}},{key:"getMapState",value:function getMapState(overrides){return new __WEBPACK_IMPORTED_MODULE_0__map_state__.b(Object.assign({},this.mapStateProps,this._state,overrides))}},{key:"setOptions",value:function setOptions(options){var onChangeViewport=options.onChangeViewport,_options$touchZoomRot=options.touchZoomRotate,touchZoomRotate=void 0===_options$touchZoomRot||_options$touchZoomRot,onViewportChange=options.onViewportChange,_options$onStateChang=options.onStateChange,onStateChange=void 0===_options$onStateChang?this.onStateChange:_options$onStateChang,_options$eventManager=options.eventManager,eventManager=void 0===_options$eventManager?this.eventManager:_options$eventManager,_options$scrollZoom=options.scrollZoom,scrollZoom=void 0===_options$scrollZoom||_options$scrollZoom,_options$dragPan=options.dragPan,dragPan=void 0===_options$dragPan||_options$dragPan,_options$dragRotate=options.dragRotate,dragRotate=void 0===_options$dragRotate||_options$dragRotate,_options$doubleClickZ=options.doubleClickZoom,doubleClickZoom=void 0===_options$doubleClickZ||_options$doubleClickZ,_options$touchZoom=options.touchZoom,touchZoom=void 0===_options$touchZoom||_options$touchZoom,_options$touchRotate=options.touchRotate,touchRotate=void 0!==_options$touchRotate&&_options$touchRotate,_options$keyboard=options.keyboard,keyboard=void 0===_options$keyboard||_options$keyboard;this.onViewportChange=onViewportChange||onChangeViewport,this.onStateChange=onStateChange,this.mapStateProps&&this.mapStateProps.height!==options.height&&this.updateViewport(new __WEBPACK_IMPORTED_MODULE_0__map_state__.b(options)),this.mapStateProps=options,this.eventManager!==eventManager&&(this.eventManager=eventManager,this._events={},this.toggleEvents(this.events,!0));var isInteractive=Boolean(this.onViewportChange);this.toggleEvents(EVENT_TYPES_WHEEL,isInteractive&&scrollZoom),this.toggleEvents(EVENT_TYPES_PAN,isInteractive&&(dragPan||dragRotate)),this.toggleEvents(EVENT_TYPES_PINCH,isInteractive&&touchZoomRotate),this.toggleEvents(EVENT_TYPES_DOUBLE_TAP,isInteractive&&doubleClickZoom),this.toggleEvents(EVENT_TYPES_KEYBOARD,isInteractive&&keyboard),this.scrollZoom=scrollZoom,this.dragPan=dragPan,this.dragRotate=dragRotate,this.doubleClickZoom=doubleClickZoom,this.touchZoom=touchZoomRotate&&touchZoom,this.touchRotate=touchZoomRotate&&touchRotate,this.keyboard=keyboard}},{key:"toggleEvents",value:function toggleEvents(eventNames,enabled){var _this=this;this.eventManager&&eventNames.forEach(function(eventName){_this._events[eventName]!==enabled&&(_this._events[eventName]=enabled,enabled?_this.eventManager.on(eventName,_this.handleEvent):_this.eventManager.off(eventName,_this.handleEvent))})}},{key:"_onPanStart",value:function _onPanStart(event){var pos=this.getCenter(event),newMapState=this.mapState.panStart({pos:pos}).rotateStart({pos:pos});return this.updateViewport(newMapState,NO_TRANSITION_PROPS,{isDragging:!0})}},{key:"_onPan",value:function _onPan(event){return this.isFunctionKeyPressed(event)||event.rightButton?this._onPanRotate(event):this._onPanMove(event)}},{key:"_onPanEnd",value:function _onPanEnd(event){var newMapState=this.mapState.panEnd().rotateEnd();return this.updateViewport(newMapState,null,{isDragging:!1})}},{key:"_onPanMove",value:function _onPanMove(event){if(!this.dragPan)return!1;var pos=this.getCenter(event),newMapState=this.mapState.pan({pos:pos});return this.updateViewport(newMapState,NO_TRANSITION_PROPS,{isDragging:!0})}},{key:"_onPanRotate",value:function _onPanRotate(event){if(!this.dragRotate)return!1;var deltaX=event.deltaX,deltaY=event.deltaY,_getCenter=this.getCenter(event),centerY=_slicedToArray(_getCenter,2)[1],startY=centerY-deltaY,_mapState$getViewport=this.mapState.getViewportProps(),width=_mapState$getViewport.width,height=_mapState$getViewport.height,deltaScaleX=deltaX/width,deltaScaleY=0;deltaY>0?Math.abs(height-startY)>5&&(deltaScaleY=deltaY/(startY-height)*1.2):deltaY<0&&startY>5&&(deltaScaleY=1-centerY/startY),deltaScaleY=Math.min(1,Math.max(-1,deltaScaleY));var newMapState=this.mapState.rotate({deltaScaleX:deltaScaleX,deltaScaleY:deltaScaleY});return this.updateViewport(newMapState,NO_TRANSITION_PROPS,{isDragging:!0})}},{key:"_onWheel",value:function _onWheel(event){if(!this.scrollZoom)return!1;var pos=this.getCenter(event),delta=event.delta,scale=2/(1+Math.exp(-Math.abs(.01*delta)));delta<0&&0!==scale&&(scale=1/scale);var newMapState=this.mapState.zoom({pos:pos,scale:scale});return this.updateViewport(newMapState,NO_TRANSITION_PROPS)}},{key:"_onPinchStart",value:function _onPinchStart(event){var pos=this.getCenter(event),newMapState=this.mapState.zoomStart({pos:pos}).rotateStart({pos:pos});return this._state.startPinchRotation=event.rotation,this.updateViewport(newMapState,NO_TRANSITION_PROPS,{isDragging:!0})}},{key:"_onPinch",value:function _onPinch(event){if(!this.touchZoom&&!this.touchRotate)return!1;var newMapState=this.mapState;if(this.touchZoom){var scale=event.scale,pos=this.getCenter(event);newMapState=newMapState.zoom({pos:pos,scale:scale})}if(this.touchRotate){var rotation=event.rotation,startPinchRotation=this._state.startPinchRotation;newMapState=newMapState.rotate({deltaScaleX:-(rotation-startPinchRotation)/180})}return this.updateViewport(newMapState,NO_TRANSITION_PROPS,{isDragging:!0})}},{key:"_onPinchEnd",value:function _onPinchEnd(event){var newMapState=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(newMapState,null,{isDragging:!1})}},{key:"_onDoubleTap",value:function _onDoubleTap(event){if(!this.doubleClickZoom)return!1;var pos=this.getCenter(event),isZoomOut=this.isFunctionKeyPressed(event),newMapState=this.mapState.zoom({pos:pos,scale:isZoomOut?.5:2});return this.updateViewport(newMapState,LINEAR_TRANSITION_PROPS)}},{key:"_onKeyDown",value:function _onKeyDown(event){if(!this.keyboard)return!1;var funcKey=this.isFunctionKeyPressed(event),mapStateProps=this.mapStateProps,newMapState=void 0;switch(event.srcEvent.keyCode){case 189:newMapState=funcKey?this.getMapState({zoom:mapStateProps.zoom-2}):this.getMapState({zoom:mapStateProps.zoom-1});break;case 187:newMapState=funcKey?this.getMapState({zoom:mapStateProps.zoom+2}):this.getMapState({zoom:mapStateProps.zoom+1});break;case 37:newMapState=funcKey?this.getMapState({bearing:mapStateProps.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:newMapState=funcKey?this.getMapState({bearing:mapStateProps.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:newMapState=funcKey?this.getMapState({pitch:mapStateProps.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:newMapState=funcKey?this.getMapState({pitch:mapStateProps.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(newMapState,LINEAR_TRANSITION_PROPS)}}]),MapControls}();__webpack_exports__.a=MapControls},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function checkDeprecatedProps(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};DEPRECATED_PROPS.forEach(function(depProp){if(props.hasOwnProperty(depProp.old)){var warnMessage=function getDeprecatedText(name){return"react-map-gl: `"+name+"` is deprecated and will be removed in a later version."}(depProp.old);depProp.new&&(warnMessage=warnMessage+" "+function getNewText(name){return"Use `"+name+"` instead."}(depProp.new)),console.warn(warnMessage)}})};var DEPRECATED_PROPS=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"}]},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var FlowMapLayer_1=__importDefault(__webpack_require__(641));__export(__webpack_require__(641)),__export(__webpack_require__(277)),__export(__webpack_require__(1197)),exports.default=FlowMapLayer_1.default},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var deck_gl_1=__webpack_require__(217),FlowCirclesLayer_1=__importDefault(__webpack_require__(1121)),FlowLinesLayer_1=__importDefault(__webpack_require__(1124)),Selectors_1=__importDefault(__webpack_require__(1128)),LAYER_ID__LOCATIONS="locations",LAYER_ID__LOCATION_AREAS="location-areas",LAYER_ID__FLOWS="flows",LAYER_ID__FLOWS_ACTIVE="flows-highlighted";var FlowMapLayer=function(_super){function FlowMapLayer(props){return _super.call(this,props)||this}return __extends(FlowMapLayer,_super),FlowMapLayer.prototype.initializeState=function(){var _a=this.props,getLocationTotalIn=_a.getLocationTotalIn,getLocationTotalOut=_a.getLocationTotalOut,selectors=new Selectors_1.default({getLocationId:this.props.getLocationId,getLocationTotalIn:getLocationTotalIn,getLocationTotalOut:getLocationTotalOut,getFlowOriginId:this.props.getFlowOriginId,getFlowDestId:this.props.getFlowDestId,getFlowMagnitude:this.props.getFlowMagnitude});this.setState({selectors:selectors})},FlowMapLayer.prototype.updateState=function(params){_super.prototype.updateState.call(this,params);var props=params.props;if(params.changeFlags.propsChanged){var getLocationTotalIn=props.getLocationTotalIn,getLocationTotalOut=props.getLocationTotalOut;this.state.selectors.setInputGetters({getLocationId:props.getLocationId,getLocationTotalIn:getLocationTotalIn,getLocationTotalOut:getLocationTotalOut,getFlowOriginId:props.getFlowOriginId,getFlowDestId:props.getFlowDestId,getFlowMagnitude:props.getFlowMagnitude})}},FlowMapLayer.prototype.getPickingInfo=function(params){var type=function getPickType(_a){switch(_a.id){case LAYER_ID__FLOWS:case LAYER_ID__FLOWS_ACTIVE:return"flow";case LAYER_ID__LOCATIONS:return"location";case LAYER_ID__LOCATION_AREAS:return"location-area";default:return}}(params.sourceLayer);if(!type)return params.info;var info=__assign({},params.info,{type:type});if(!info.object||"flow"===type)return info;var object="location"===type?info.object.location:info.object,selectors=this.state.selectors,getLocationTotalIn=selectors.getLocationTotalInGetter(this.props),getLocationTotalOut=selectors.getLocationTotalOutGetter(this.props);return __assign({},info,{object:__assign({},object,{properties:__assign({},object.properties,{totalIn:getLocationTotalIn(object),totalOut:getLocationTotalOut(object)})})})},FlowMapLayer.prototype.renderLayers=function(){var showLocationAreas=this.props.showLocationAreas,selectors=this.state.selectors,flows=selectors.getSortedNonSelfFlows(this.props),activeFlows=selectors.getActiveFlows(this.props),layers=[];return showLocationAreas&&layers.push(this.getLocationAreasLayer(LAYER_ID__LOCATION_AREAS)),layers.push(this.getFlowLinesLayer(LAYER_ID__FLOWS,flows,!0)),layers.push(this.getFlowLinesLayer(LAYER_ID__FLOWS_ACTIVE,activeFlows,!1)),layers.push(this.getNodesLayer(LAYER_ID__LOCATIONS)),layers},FlowMapLayer.prototype.getLocationAreasLayer=function(id){var _a=this.props,locations=_a.locations,selectedLocationIds=_a.selectedLocationIds,highlightedLocationId=_a.highlightedLocationId,highlightedFlow=_a.highlightedFlow,fp64=_a.fp64,selectors=this.state.selectors,getLineColor=selectors.getLocationAreaLineColorGetter(this.props),getFillColor=selectors.getLocationAreaFillColorGetter(this.props);return new deck_gl_1.GeoJsonLayer({id:id,getFillColor:getFillColor,getLineColor:getLineColor,lineJointRounded:!0,data:locations,fp64:fp64,stroked:!0,filled:!0,pickable:!0,opacity:1,lineWidthMinPixels:1,pointRadiusMinPixels:1,updateTriggers:{getFillColor:{selectedLocationIds:selectedLocationIds,highlightedLocationId:highlightedLocationId,highlightedFlow:highlightedFlow}}})},FlowMapLayer.prototype.getFlowLinesLayer=function(id,flows,dimmed){var _a=this.props,getFlowOriginId=_a.getFlowOriginId,getFlowDestId=_a.getFlowDestId,getFlowMagnitude=_a.getFlowMagnitude,getLocationCentroid=_a.getLocationCentroid,highlightedLocationId=_a.highlightedLocationId,highlightedFlow=_a.highlightedFlow,showTotals=_a.showTotals,fp64=_a.fp64,locationCircleSize=_a.locationCircleSize,selectors=this.state.selectors,endpointOffsets=[(locationCircleSize||0)+1,(locationCircleSize||0)+1],getLocationRadius=selectors.getLocationCircleRadiusGetter(this.props),locationsById=selectors.getLocationsById(this.props),flowThicknessScale=selectors.getFlowThicknessScale(this.props),getColor=selectors.getMakeFlowLinesColorGetter(this.props)(dimmed);return new FlowLinesLayer_1.default({id:id,getSourcePosition:function(flow){return getLocationCentroid(locationsById[getFlowOriginId(flow)])},getTargetPosition:function(flow){return getLocationCentroid(locationsById[getFlowDestId(flow)])},getThickness:function(flow){return flowThicknessScale(getFlowMagnitude(flow))},getEndpointOffsets:function(flow){return showTotals?[getLocationRadius({location:locationsById[getFlowOriginId(flow)],type:"inner"}),getLocationRadius({location:locationsById[getFlowDestId(flow)],type:"outer"})]:endpointOffsets},getColor:getColor,data:flows,opacity:1,pickable:dimmed,drawBorder:!dimmed,updateTriggers:{getColor:!dimmed&&{highlightedLocationId:highlightedLocationId,highlightedFlow:highlightedFlow},getEndpointOffsets:{showTotals:showTotals}},fp64:fp64})},FlowMapLayer.prototype.getNodesLayer=function(id){var _this=this,_a=this.props,highlightedLocationId=_a.highlightedLocationId,highlightedFlow=_a.highlightedFlow,selectedLocationIds=_a.selectedLocationIds,getLocationCentroid=_a.getLocationCentroid,fp64=_a.fp64,flows=_a.flows,showTotals=_a.showTotals,selectors=this.state.selectors,getRadius=showTotals?selectors.getLocationCircleRadiusGetter(this.props):function(){return _this.props.locationCircleSize},circles=selectors.getLocationCircles(this.props),getColor=selectors.getLocationCircleColorGetter(this.props);return new FlowCirclesLayer_1.default({id:id,getColor:getColor,getPosition:function(locCircle){return getLocationCentroid(locCircle.location)},getRadius:getRadius,data:circles,opacity:1,pickable:!0,fp64:fp64,updateTriggers:{getRadius:{selectedLocationIds:selectedLocationIds,flows:flows},getColor:{highlightedLocationId:highlightedLocationId,highlightedFlow:highlightedFlow,selectedLocationIds:selectedLocationIds,flows:flows}}})},FlowMapLayer.layerName="FlowMapLayer",FlowMapLayer.defaultProps={getLocationId:function(l){return l.id||l.properties.id},getLocationCentroid:function(l){return l.properties.centroid},getFlowOriginId:function(f){return f.origin},getFlowDestId:function(f){return f.dest},getFlowMagnitude:function(f){return f.magnitude},showTotals:!0,locationCircleSize:3,showLocationAreas:!0,varyFlowColorByMagnitude:!1,fp64:!1},FlowMapLayer}(deck_gl_1.CompositeLayer);exports.default=FlowMapLayer},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return bisectRight}),__webpack_require__.d(__webpack_exports__,"a",function(){return bisectLeft});var __WEBPACK_IMPORTED_MODULE_0__ascending__=__webpack_require__(161),__WEBPACK_IMPORTED_MODULE_1__bisector__=__webpack_require__(643),ascendingBisect=Object(__WEBPACK_IMPORTED_MODULE_1__bisector__.a)(__WEBPACK_IMPORTED_MODULE_0__ascending__.a),bisectRight=ascendingBisect.right,bisectLeft=ascendingBisect.left;__webpack_exports__.c=bisectRight},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__ascending__=__webpack_require__(161);__webpack_exports__.a=function(compare){return 1===compare.length&&(compare=function ascendingComparator(f){return function(d,x){return Object(__WEBPACK_IMPORTED_MODULE_0__ascending__.a)(f(d),x)}}(compare)),{left:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)<0?lo=mid+1:hi=mid}return lo},right:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)>0?hi=mid:lo=mid+1}return lo}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function pair(a,b){return[a,b]}__webpack_exports__.b=pair,__webpack_exports__.a=function(array,f){null==f&&(f=pair);for(var i=0,n=array.length-1,p=array[0],pairs=new Array(n<0?0:n);i<n;)pairs[i]=f(p,p=array[++i]);return pairs}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__variance__=__webpack_require__(646);__webpack_exports__.a=function(array,f){var v=Object(__WEBPACK_IMPORTED_MODULE_0__variance__.a)(array,f);return v?Math.sqrt(v):v}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__number__=__webpack_require__(229);__webpack_exports__.a=function(values,valueof){var value,delta,n=values.length,m=0,i=-1,mean=0,sum=0;if(null==valueof)for(;++i<n;)isNaN(value=Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(values[i]))||(sum+=(delta=value-mean)*(value-(mean+=delta/++m)));else for(;++i<n;)isNaN(value=Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(valueof(values[i],i,values)))||(sum+=(delta=value-mean)*(value-(mean+=delta/++m)));if(m>1)return sum/(m-1)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(values,valueof){var value,min,max,n=values.length,i=-1;if(null==valueof){for(;++i<n;)if(null!=(value=values[i])&&value>=value)for(min=max=value;++i<n;)null!=(value=values[i])&&(min>value&&(min=value),max<value&&(max=value))}else for(;++i<n;)if(null!=(value=valueof(values[i],i,values))&&value>=value)for(min=max=value;++i<n;)null!=(value=valueof(values[i],i,values))&&(min>value&&(min=value),max<value&&(max=value));return[min,max]}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return slice}),__webpack_require__.d(__webpack_exports__,"a",function(){return map});var array=Array.prototype,slice=array.slice,map=array.map},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(start,stop,step){start=+start,stop=+stop,step=(n=arguments.length)<2?(stop=start,start=0,1):n<3?1:+step;for(var i=-1,n=0|Math.max(0,Math.ceil((stop-start)/step)),range=new Array(n);++i<n;)range[i]=start+i*step;return range}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=tickIncrement,__webpack_exports__.c=function tickStep(start,stop,count){var step0=Math.abs(stop-start)/Math.max(0,count),step1=Math.pow(10,Math.floor(Math.log(step0)/Math.LN10)),error=step0/step1;error>=e10?step1*=10:error>=e5?step1*=5:error>=e2&&(step1*=2);return stop<start?-step1:step1};var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickIncrement(start,stop,count){var step=(stop-start)/Math.max(0,count),power=Math.floor(Math.log(step)/Math.LN10),error=step/Math.pow(10,power);return power>=0?(error>=e10?10:error>=e5?5:error>=e2?2:1)*Math.pow(10,power):-Math.pow(10,-power)/(error>=e10?10:error>=e5?5:error>=e2?2:1)}__webpack_exports__.a=function(start,stop,count){var reverse,n,ticks,step,i=-1;if(count=+count,(start=+start)===(stop=+stop)&&count>0)return[start];if((reverse=stop<start)&&(n=start,start=stop,stop=n),0===(step=tickIncrement(start,stop,count))||!isFinite(step))return[];if(step>0)for(start=Math.ceil(start/step),stop=Math.floor(stop/step),ticks=new Array(n=Math.ceil(stop-start+1));++i<n;)ticks[i]=(start+i)*step;else for(start=Math.floor(start*step),stop=Math.ceil(stop*step),ticks=new Array(n=Math.ceil(start-stop+1));++i<n;)ticks[i]=(start-i)/step;return reverse&&ticks.reverse(),ticks}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(values){return Math.ceil(Math.log(values.length)/Math.LN2)+1}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(values,valueof){var value,min,n=values.length,i=-1;if(null==valueof){for(;++i<n;)if(null!=(value=values[i])&&value>=value)for(min=value;++i<n;)null!=(value=values[i])&&min>value&&(min=value)}else for(;++i<n;)if(null!=(value=valueof(values[i],i,values))&&value>=value)for(min=value;++i<n;)null!=(value=valueof(values[i],i,values))&&min>value&&(min=value);return min}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__min__=__webpack_require__(652);function length(d){return d.length}__webpack_exports__.a=function(matrix){if(!(n=matrix.length))return[];for(var i=-1,m=Object(__WEBPACK_IMPORTED_MODULE_0__min__.a)(matrix,length),transpose=new Array(m);++i<m;)for(var n,j=-1,row=transpose[i]=new Array(n);++j<n;)row[j]=matrix[j][i];return transpose}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_nest__=__webpack_require__(1145);__webpack_require__.d(__webpack_exports__,"nest",function(){return __WEBPACK_IMPORTED_MODULE_0__src_nest__.a});var __WEBPACK_IMPORTED_MODULE_1__src_set__=__webpack_require__(1146);__webpack_require__.d(__webpack_exports__,"set",function(){return __WEBPACK_IMPORTED_MODULE_1__src_set__.a});var __WEBPACK_IMPORTED_MODULE_2__src_map__=__webpack_require__(490);__webpack_require__.d(__webpack_exports__,"map",function(){return __WEBPACK_IMPORTED_MODULE_2__src_map__.a});var __WEBPACK_IMPORTED_MODULE_3__src_keys__=__webpack_require__(1147);__webpack_require__.d(__webpack_exports__,"keys",function(){return __WEBPACK_IMPORTED_MODULE_3__src_keys__.a});var __WEBPACK_IMPORTED_MODULE_4__src_values__=__webpack_require__(1148);__webpack_require__.d(__webpack_exports__,"values",function(){return __WEBPACK_IMPORTED_MODULE_4__src_values__.a});var __WEBPACK_IMPORTED_MODULE_5__src_entries__=__webpack_require__(1149);__webpack_require__.d(__webpack_exports__,"entries",function(){return __WEBPACK_IMPORTED_MODULE_5__src_entries__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return deg2rad}),__webpack_require__.d(__webpack_exports__,"b",function(){return rad2deg});var deg2rad=Math.PI/180,rad2deg=180/Math.PI},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_band__=__webpack_require__(1152);__webpack_require__.d(__webpack_exports__,"scaleBand",function(){return __WEBPACK_IMPORTED_MODULE_0__src_band__.a}),__webpack_require__.d(__webpack_exports__,"scalePoint",function(){return __WEBPACK_IMPORTED_MODULE_0__src_band__.b});var __WEBPACK_IMPORTED_MODULE_1__src_identity__=__webpack_require__(1153);__webpack_require__.d(__webpack_exports__,"scaleIdentity",function(){return __WEBPACK_IMPORTED_MODULE_1__src_identity__.a});var __WEBPACK_IMPORTED_MODULE_2__src_linear__=__webpack_require__(230);__webpack_require__.d(__webpack_exports__,"scaleLinear",function(){return __WEBPACK_IMPORTED_MODULE_2__src_linear__.a});var __WEBPACK_IMPORTED_MODULE_3__src_log__=__webpack_require__(1174);__webpack_require__.d(__webpack_exports__,"scaleLog",function(){return __WEBPACK_IMPORTED_MODULE_3__src_log__.a});var __WEBPACK_IMPORTED_MODULE_4__src_ordinal__=__webpack_require__(657);__webpack_require__.d(__webpack_exports__,"scaleOrdinal",function(){return __WEBPACK_IMPORTED_MODULE_4__src_ordinal__.a}),__webpack_require__.d(__webpack_exports__,"scaleImplicit",function(){return __WEBPACK_IMPORTED_MODULE_4__src_ordinal__.b});var __WEBPACK_IMPORTED_MODULE_5__src_pow__=__webpack_require__(1175);__webpack_require__.d(__webpack_exports__,"scalePow",function(){return __WEBPACK_IMPORTED_MODULE_5__src_pow__.a}),__webpack_require__.d(__webpack_exports__,"scaleSqrt",function(){return __WEBPACK_IMPORTED_MODULE_5__src_pow__.b});var __WEBPACK_IMPORTED_MODULE_6__src_quantile__=__webpack_require__(1176);__webpack_require__.d(__webpack_exports__,"scaleQuantile",function(){return __WEBPACK_IMPORTED_MODULE_6__src_quantile__.a});var __WEBPACK_IMPORTED_MODULE_7__src_quantize__=__webpack_require__(1177);__webpack_require__.d(__webpack_exports__,"scaleQuantize",function(){return __WEBPACK_IMPORTED_MODULE_7__src_quantize__.a});var __WEBPACK_IMPORTED_MODULE_8__src_threshold__=__webpack_require__(1178);__webpack_require__.d(__webpack_exports__,"scaleThreshold",function(){return __WEBPACK_IMPORTED_MODULE_8__src_threshold__.a});var __WEBPACK_IMPORTED_MODULE_9__src_time__=__webpack_require__(672);__webpack_require__.d(__webpack_exports__,"scaleTime",function(){return __WEBPACK_IMPORTED_MODULE_9__src_time__.b});var __WEBPACK_IMPORTED_MODULE_10__src_utcTime__=__webpack_require__(1194);__webpack_require__.d(__webpack_exports__,"scaleUtc",function(){return __WEBPACK_IMPORTED_MODULE_10__src_utcTime__.a});var __WEBPACK_IMPORTED_MODULE_11__src_sequential__=__webpack_require__(1195);__webpack_require__.d(__webpack_exports__,"scaleSequential",function(){return __WEBPACK_IMPORTED_MODULE_11__src_sequential__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return implicit}),__webpack_exports__.a=function ordinal(range){var index=Object(__WEBPACK_IMPORTED_MODULE_0_d3_collection__.map)(),domain=[],unknown=implicit;range=null==range?[]:__WEBPACK_IMPORTED_MODULE_1__array__.b.call(range);function scale(d){var key=d+"",i=index.get(key);if(!i){if(unknown!==implicit)return unknown;index.set(key,i=domain.push(d))}return range[(i-1)%range.length]}scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[],index=Object(__WEBPACK_IMPORTED_MODULE_0_d3_collection__.map)();for(var d,key,i=-1,n=_.length;++i<n;)index.has(key=(d=_[i])+"")||index.set(key,domain.push(d));return scale};scale.range=function(_){return arguments.length?(range=__WEBPACK_IMPORTED_MODULE_1__array__.b.call(_),scale):range.slice()};scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown};scale.copy=function(){return ordinal().domain(domain).range(range).unknown(unknown)};return scale};var __WEBPACK_IMPORTED_MODULE_0_d3_collection__=__webpack_require__(654),__WEBPACK_IMPORTED_MODULE_1__array__=__webpack_require__(143),implicit={name:"implicit"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return rgbBasis}),__webpack_require__.d(__webpack_exports__,"c",function(){return rgbBasisClosed});var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(102),__WEBPACK_IMPORTED_MODULE_1__basis__=__webpack_require__(494),__WEBPACK_IMPORTED_MODULE_2__basisClosed__=__webpack_require__(659),__WEBPACK_IMPORTED_MODULE_3__color__=__webpack_require__(231);function rgbSpline(spline){return function(colors){var i,color,n=colors.length,r=new Array(n),g=new Array(n),b=new Array(n);for(i=0;i<n;++i)color=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.rgb)(colors[i]),r[i]=color.r||0,g[i]=color.g||0,b[i]=color.b||0;return r=spline(r),g=spline(g),b=spline(b),color.opacity=1,function(t){return color.r=r(t),color.g=g(t),color.b=b(t),color+""}}}__webpack_exports__.a=function rgbGamma(y){var color=Object(__WEBPACK_IMPORTED_MODULE_3__color__.b)(y);function rgb(start,end){var r=color((start=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.rgb)(start)).r,(end=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.rgb)(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=Object(__WEBPACK_IMPORTED_MODULE_3__color__.a)(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}return rgb.gamma=rgbGamma,rgb}(1);var rgbBasis=rgbSpline(__WEBPACK_IMPORTED_MODULE_1__basis__.b),rgbBasisClosed=rgbSpline(__WEBPACK_IMPORTED_MODULE_2__basisClosed__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__basis__=__webpack_require__(494);__webpack_exports__.a=function(values){var n=values.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n),v0=values[(i+n-1)%n],v1=values[i%n],v2=values[(i+1)%n],v3=values[(i+2)%n];return Object(__WEBPACK_IMPORTED_MODULE_0__basis__.a)((t-i/n)*n,v0,v1,v2,v3)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return function(){return x}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__value__=__webpack_require__(493);__webpack_exports__.a=function(a,b){var i,nb=b?b.length:0,na=a?Math.min(nb,a.length):0,x=new Array(na),c=new Array(nb);for(i=0;i<na;++i)x[i]=Object(__WEBPACK_IMPORTED_MODULE_0__value__.a)(a[i],b[i]);for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<na;++i)c[i]=x[i](t);return c}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){var d=new Date;return b-=a=+a,function(t){return d.setTime(a+b*t),d}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__value__=__webpack_require__(493);__webpack_exports__.a=function(a,b){var k,i={},c={};for(k in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)k in a?i[k]=Object(__WEBPACK_IMPORTED_MODULE_0__value__.a)(a[k],b[k]):c[k]=b[k];return function(t){for(k in i)c[k]=i[k](t);return c}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__number__=__webpack_require__(274),reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");__webpack_exports__.a=function(a,b){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i:i,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(am,bm)})),bi=reB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?function one(b){return function(t){return b(t)+""}}(q[0].x):function zero(b){return function(){return b}}(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return+x}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__=__webpack_require__(1165);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__.a}),__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__.b});__webpack_require__(667);var __WEBPACK_IMPORTED_MODULE_2__src_formatSpecifier__=__webpack_require__(668);__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_2__src_formatSpecifier__.a});var __WEBPACK_IMPORTED_MODULE_3__src_precisionFixed__=__webpack_require__(1171);__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_3__src_precisionFixed__.a});var __WEBPACK_IMPORTED_MODULE_4__src_precisionPrefix__=__webpack_require__(1172);__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_4__src_precisionPrefix__.a});var __WEBPACK_IMPORTED_MODULE_5__src_precisionRound__=__webpack_require__(1173);__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_5__src_precisionRound__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__exponent__=__webpack_require__(276),__WEBPACK_IMPORTED_MODULE_1__formatGroup__=__webpack_require__(1166),__WEBPACK_IMPORTED_MODULE_2__formatNumerals__=__webpack_require__(1167),__WEBPACK_IMPORTED_MODULE_3__formatSpecifier__=__webpack_require__(668),__WEBPACK_IMPORTED_MODULE_4__formatTypes__=__webpack_require__(669),__WEBPACK_IMPORTED_MODULE_5__formatPrefixAuto__=__webpack_require__(670),__WEBPACK_IMPORTED_MODULE_6__identity__=__webpack_require__(1170),prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];__webpack_exports__.a=function(locale){var group=locale.grouping&&locale.thousands?Object(__WEBPACK_IMPORTED_MODULE_1__formatGroup__.a)(locale.grouping,locale.thousands):__WEBPACK_IMPORTED_MODULE_6__identity__.a,currency=locale.currency,decimal=locale.decimal,numerals=locale.numerals?Object(__WEBPACK_IMPORTED_MODULE_2__formatNumerals__.a)(locale.numerals):__WEBPACK_IMPORTED_MODULE_6__identity__.a,percent=locale.percent||"%";function newFormat(specifier){var fill=(specifier=Object(__WEBPACK_IMPORTED_MODULE_3__formatSpecifier__.a)(specifier)).fill,align=specifier.align,sign=specifier.sign,symbol=specifier.symbol,zero=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,type=specifier.type,prefix="$"===symbol?currency[0]:"#"===symbol&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix="$"===symbol?currency[1]:/[%p]/.test(type)?percent:"",formatType=__WEBPACK_IMPORTED_MODULE_4__formatTypes__.a[type],maybeSuffix=!type||/[defgprs%]/.test(type);function format(value){var i,n,c,valuePrefix=prefix,valueSuffix=suffix;if("c"===type)valueSuffix=formatType(value)+valueSuffix,value="";else{var valueNegative=(value=+value)<0;if(value=formatType(Math.abs(value),precision),valueNegative&&0==+value&&(valueNegative=!1),valuePrefix=(valueNegative?"("===sign?sign:"-":"-"===sign||"("===sign?"":sign)+valuePrefix,valueSuffix=("s"===type?prefixes[8+__WEBPACK_IMPORTED_MODULE_5__formatPrefixAuto__.b/3]:"")+valueSuffix+(valueNegative&&"("===sign?")":""),maybeSuffix)for(i=-1,n=value.length;++i<n;)if(48>(c=value.charCodeAt(i))||c>57){valueSuffix=(46===c?decimal+value.slice(i+1):value.slice(i))+valueSuffix,value=value.slice(0,i);break}}comma&&!zero&&(value=group(value,1/0));var length=valuePrefix.length+value.length+valueSuffix.length,padding=length<width?new Array(width-length+1).join(fill):"";switch(comma&&zero&&(value=group(padding+value,padding.length?width-valueSuffix.length:1/0),padding=""),align){case"<":value=valuePrefix+value+valueSuffix+padding;break;case"=":value=valuePrefix+padding+value+valueSuffix;break;case"^":value=padding.slice(0,length=padding.length>>1)+valuePrefix+value+valueSuffix+padding.slice(length);break;default:value=padding+valuePrefix+value+valueSuffix}return numerals(value)}return precision=null==precision?type?6:12:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision)),format.toString=function(){return specifier+""},format}return{format:newFormat,formatPrefix:function formatPrefix(specifier,value){var f=newFormat(((specifier=Object(__WEBPACK_IMPORTED_MODULE_3__formatSpecifier__.a)(specifier)).type="f",specifier)),e=3*Math.max(-8,Math.min(8,Math.floor(Object(__WEBPACK_IMPORTED_MODULE_0__exponent__.a)(value)/3))),k=Math.pow(10,-e),prefix=prefixes[8+e/3];return function(value){return f(k*value)+prefix}}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=formatSpecifier;var __WEBPACK_IMPORTED_MODULE_0__formatTypes__=__webpack_require__(669),re=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function formatSpecifier(specifier){return new FormatSpecifier(specifier)}function FormatSpecifier(specifier){if(!(match=re.exec(specifier)))throw new Error("invalid format: "+specifier);var match,fill=match[1]||" ",align=match[2]||">",sign=match[3]||"-",symbol=match[4]||"",zero=!!match[5],width=match[6]&&+match[6],comma=!!match[7],precision=match[8]&&+match[8].slice(1),type=match[9]||"";"n"===type?(comma=!0,type="g"):__WEBPACK_IMPORTED_MODULE_0__formatTypes__.a[type]||(type=""),(zero||"0"===fill&&"="===align)&&(zero=!0,fill="0",align="="),this.fill=fill,this.align=align,this.sign=sign,this.symbol=symbol,this.zero=zero,this.width=width,this.comma=comma,this.precision=precision,this.type=type}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__formatDefault__=__webpack_require__(1168),__WEBPACK_IMPORTED_MODULE_1__formatPrefixAuto__=__webpack_require__(670),__WEBPACK_IMPORTED_MODULE_2__formatRounded__=__webpack_require__(1169);__webpack_exports__.a={"":__WEBPACK_IMPORTED_MODULE_0__formatDefault__.a,"%":function(x,p){return(100*x).toFixed(p)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:function(x){return Math.round(x).toString(10)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},g:function(x,p){return x.toPrecision(p)},o:function(x){return Math.round(x).toString(8)},p:function(x,p){return Object(__WEBPACK_IMPORTED_MODULE_2__formatRounded__.a)(100*x,p)},r:__WEBPACK_IMPORTED_MODULE_2__formatRounded__.a,s:__WEBPACK_IMPORTED_MODULE_1__formatPrefixAuto__.a,X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return prefixExponent});var prefixExponent,__WEBPACK_IMPORTED_MODULE_0__formatDecimal__=__webpack_require__(496);__webpack_exports__.a=function(x,p){var d=Object(__WEBPACK_IMPORTED_MODULE_0__formatDecimal__.a)(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1],i=exponent-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(exponent/3))))+1,n=coefficient.length;return i===n?coefficient:i>n?coefficient+new Array(i-n+1).join("0"):i>0?coefficient.slice(0,i)+"."+coefficient.slice(i):"0."+new Array(1-i).join("0")+Object(__WEBPACK_IMPORTED_MODULE_0__formatDecimal__.a)(x,Math.max(0,p+i-1))[0]}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(domain,interval){var t,i0=0,i1=(domain=domain.slice()).length-1,x0=domain[i0],x1=domain[i1];return x1<x0&&(t=i0,i0=i1,i1=t,t=x0,x0=x1,x1=t),domain[i0]=interval.floor(x0),domain[i1]=interval.ceil(x1),domain}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=calendar;var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(51),__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__=__webpack_require__(273),__WEBPACK_IMPORTED_MODULE_2_d3_time__=__webpack_require__(497),__WEBPACK_IMPORTED_MODULE_3_d3_time_format__=__webpack_require__(673),__WEBPACK_IMPORTED_MODULE_4__array__=__webpack_require__(143),__WEBPACK_IMPORTED_MODULE_5__continuous__=__webpack_require__(275),__WEBPACK_IMPORTED_MODULE_6__nice__=__webpack_require__(671),durationSecond=1e3,durationMinute=60*durationSecond,durationHour=60*durationMinute,durationDay=24*durationHour,durationWeek=7*durationDay,durationMonth=30*durationDay,durationYear=365*durationDay;function date(t){return new Date(t)}function number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(year,month,week,day,hour,minute,second,millisecond,format){var scale=Object(__WEBPACK_IMPORTED_MODULE_5__continuous__.b)(__WEBPACK_IMPORTED_MODULE_5__continuous__.c,__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.interpolateNumber),invert=scale.invert,domain=scale.domain,formatMillisecond=format(".%L"),formatSecond=format(":%S"),formatMinute=format("%I:%M"),formatHour=format("%I %p"),formatDay=format("%a %d"),formatWeek=format("%b %d"),formatMonth=format("%B"),formatYear=format("%Y"),tickIntervals=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[minute,1,durationMinute],[minute,5,5*durationMinute],[minute,15,15*durationMinute],[minute,30,30*durationMinute],[hour,1,durationHour],[hour,3,3*durationHour],[hour,6,6*durationHour],[hour,12,12*durationHour],[day,1,durationDay],[day,2,2*durationDay],[week,1,durationWeek],[month,1,durationMonth],[month,3,3*durationMonth],[year,1,durationYear]];function tickFormat(date){return(second(date)<date?formatMillisecond:minute(date)<date?formatSecond:hour(date)<date?formatMinute:day(date)<date?formatHour:month(date)<date?week(date)<date?formatDay:formatWeek:year(date)<date?formatMonth:formatYear)(date)}function tickInterval(interval,start,stop,step){if(null==interval&&(interval=10),"number"==typeof interval){var target=Math.abs(stop-start)/interval,i=Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.bisector)(function(i){return i[2]}).right(tickIntervals,target);i===tickIntervals.length?(step=Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.tickStep)(start/durationYear,stop/durationYear,interval),interval=year):i?(step=(i=tickIntervals[target/tickIntervals[i-1][2]<tickIntervals[i][2]/target?i-1:i])[1],interval=i[0]):(step=Math.max(Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.tickStep)(start,stop,interval),1),interval=millisecond)}return null==step?interval:interval.every(step)}return scale.invert=function(y){return new Date(invert(y))},scale.domain=function(_){return arguments.length?domain(__WEBPACK_IMPORTED_MODULE_4__array__.a.call(_,number)):domain().map(date)},scale.ticks=function(interval,step){var t,d=domain(),t0=d[0],t1=d[d.length-1],r=t1<t0;return r&&(t=t0,t0=t1,t1=t),t=(t=tickInterval(interval,t0,t1,step))?t.range(t0,t1+1):[],r?t.reverse():t},scale.tickFormat=function(count,specifier){return null==specifier?tickFormat:format(specifier)},scale.nice=function(interval,step){var d=domain();return(interval=tickInterval(interval,d[0],d[d.length-1],step))?domain(Object(__WEBPACK_IMPORTED_MODULE_6__nice__.a)(d,interval)):scale},scale.copy=function(){return Object(__WEBPACK_IMPORTED_MODULE_5__continuous__.a)(scale,calendar(year,month,week,day,hour,minute,second,millisecond,format))},scale}__webpack_exports__.b=function(){return calendar(__WEBPACK_IMPORTED_MODULE_2_d3_time__.k,__WEBPACK_IMPORTED_MODULE_2_d3_time__.f,__WEBPACK_IMPORTED_MODULE_2_d3_time__.j,__WEBPACK_IMPORTED_MODULE_2_d3_time__.a,__WEBPACK_IMPORTED_MODULE_2_d3_time__.b,__WEBPACK_IMPORTED_MODULE_2_d3_time__.d,__WEBPACK_IMPORTED_MODULE_2_d3_time__.g,__WEBPACK_IMPORTED_MODULE_2_d3_time__.c,__WEBPACK_IMPORTED_MODULE_3_d3_time_format__.a).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__=__webpack_require__(498);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__.a}),__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_0__src_defaultLocale__.b});__webpack_require__(674),__webpack_require__(675),__webpack_require__(1193)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function formatLocale(locale){var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_weekdays=locale.days,locale_shortWeekdays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths,periodRe=formatRe(locale_periods),periodLookup=formatLookup(locale_periods),weekdayRe=formatRe(locale_weekdays),weekdayLookup=formatLookup(locale_weekdays),shortWeekdayRe=formatRe(locale_shortWeekdays),shortWeekdayLookup=formatLookup(locale_shortWeekdays),monthRe=formatRe(locale_months),monthLookup=formatLookup(locale_months),shortMonthRe=formatRe(locale_shortMonths),shortMonthLookup=formatLookup(locale_shortMonths),formats={a:function formatShortWeekday(d){return locale_shortWeekdays[d.getDay()]},A:function formatWeekday(d){return locale_weekdays[d.getDay()]},b:function formatShortMonth(d){return locale_shortMonths[d.getMonth()]},B:function formatMonth(d){return locale_months[d.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function formatPeriod(d){return locale_periods[+(d.getHours()>=12)]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},utcFormats={a:function formatUTCShortWeekday(d){return locale_shortWeekdays[d.getUTCDay()]},A:function formatUTCWeekday(d){return locale_weekdays[d.getUTCDay()]},b:function formatUTCShortMonth(d){return locale_shortMonths[d.getUTCMonth()]},B:function formatUTCMonth(d){return locale_months[d.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function formatUTCPeriod(d){return locale_periods[+(d.getUTCHours()>=12)]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},parses={a:function parseShortWeekday(d,string,i){var n=shortWeekdayRe.exec(string.slice(i));return n?(d.w=shortWeekdayLookup[n[0].toLowerCase()],i+n[0].length):-1},A:function parseWeekday(d,string,i){var n=weekdayRe.exec(string.slice(i));return n?(d.w=weekdayLookup[n[0].toLowerCase()],i+n[0].length):-1},b:function parseShortMonth(d,string,i){var n=shortMonthRe.exec(string.slice(i));return n?(d.m=shortMonthLookup[n[0].toLowerCase()],i+n[0].length):-1},B:function parseMonth(d,string,i){var n=monthRe.exec(string.slice(i));return n?(d.m=monthLookup[n[0].toLowerCase()],i+n[0].length):-1},c:function parseLocaleDateTime(d,string,i){return parseSpecifier(d,locale_dateTime,string,i)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function parsePeriod(d,string,i){var n=periodRe.exec(string.slice(i));return n?(d.p=periodLookup[n[0].toLowerCase()],i+n[0].length):-1},Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function parseLocaleDate(d,string,i){return parseSpecifier(d,locale_date,string,i)},X:function parseLocaleTime(d,string,i){return parseSpecifier(d,locale_time,string,i)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(specifier,formats){return function(date){var c,pad,format,string=[],i=-1,j=0,n=specifier.length;for(date instanceof Date||(date=new Date(+date));++i<n;)37===specifier.charCodeAt(i)&&(string.push(specifier.slice(j,i)),null!=(pad=pads[c=specifier.charAt(++i)])?c=specifier.charAt(++i):pad="e"===c?" ":"0",(format=formats[c])&&(c=format(date,pad)),string.push(c),j=i+1);return string.push(specifier.slice(j,i)),string.join("")}}function newParse(specifier,newDate){return function(string){var week,day,d=newYear(1900),i=parseSpecifier(d,specifier,string+="",0);if(i!=string.length)return null;if("Q"in d)return new Date(d.Q);if("p"in d&&(d.H=d.H%12+12*d.p),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(week=utcDate(newYear(d.y)),day=week.getUTCDay(),week=day>4||0===day?__WEBPACK_IMPORTED_MODULE_0_d3_time__.p.ceil(week):Object(__WEBPACK_IMPORTED_MODULE_0_d3_time__.p)(week),week=__WEBPACK_IMPORTED_MODULE_0_d3_time__.l.offset(week,7*(d.V-1)),d.y=week.getUTCFullYear(),d.m=week.getUTCMonth(),d.d=week.getUTCDate()+(d.w+6)%7):(week=newDate(newYear(d.y)),day=week.getDay(),week=day>4||0===day?__WEBPACK_IMPORTED_MODULE_0_d3_time__.e.ceil(week):Object(__WEBPACK_IMPORTED_MODULE_0_d3_time__.e)(week),week=__WEBPACK_IMPORTED_MODULE_0_d3_time__.a.offset(week,7*(d.V-1)),d.y=week.getFullYear(),d.m=week.getMonth(),d.d=week.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),day="Z"in d?utcDate(newYear(d.y)).getUTCDay():newDate(newYear(d.y)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(day+5)%7:d.w+7*d.U-(day+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,utcDate(d)):newDate(d)}}function parseSpecifier(d,specifier,string,j){for(var c,parse,i=0,n=specifier.length,m=string.length;i<n;){if(j>=m)return-1;if(37===(c=specifier.charCodeAt(i++))){if(c=specifier.charAt(i++),!(parse=parses[c in pads?specifier.charAt(i++):c])||(j=parse(d,string,j))<0)return-1}else if(c!=string.charCodeAt(j++))return-1}return j}return formats.x=newFormat(locale_date,formats),formats.X=newFormat(locale_time,formats),formats.c=newFormat(locale_dateTime,formats),utcFormats.x=newFormat(locale_date,utcFormats),utcFormats.X=newFormat(locale_time,utcFormats),utcFormats.c=newFormat(locale_dateTime,utcFormats),{format:function(specifier){var f=newFormat(specifier+="",formats);return f.toString=function(){return specifier},f},parse:function(specifier){var p=newParse(specifier+="",localDate);return p.toString=function(){return specifier},p},utcFormat:function(specifier){var f=newFormat(specifier+="",utcFormats);return f.toString=function(){return specifier},f},utcParse:function(specifier){var p=newParse(specifier,utcDate);return p.toString=function(){return specifier},p}}};var __WEBPACK_IMPORTED_MODULE_0_d3_time__=__webpack_require__(497);function localDate(d){if(0<=d.y&&d.y<100){var date=new Date(-1,d.m,d.d,d.H,d.M,d.S,d.L);return date.setFullYear(d.y),date}return new Date(d.y,d.m,d.d,d.H,d.M,d.S,d.L)}function utcDate(d){if(0<=d.y&&d.y<100){var date=new Date(Date.UTC(-1,d.m,d.d,d.H,d.M,d.S,d.L));return date.setUTCFullYear(d.y),date}return new Date(Date.UTC(d.y,d.m,d.d,d.H,d.M,d.S,d.L))}function newYear(y){return{y:y,m:0,d:1,H:0,M:0,S:0,L:0}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?new Array(width-length+1).join(fill)+string:string)}function requote(s){return s.replace(requoteRe,"\\$&")}function formatRe(names){return new RegExp("^(?:"+names.map(requote).join("|")+")","i")}function formatLookup(names){for(var map={},i=-1,n=names.length;++i<n;)map[names[i].toLowerCase()]=i;return map}function parseWeekdayNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.w=+n[0],i+n[0].length):-1}function parseWeekdayNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.u=+n[0],i+n[0].length):-1}function parseWeekNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.U=+n[0],i+n[0].length):-1}function parseWeekNumberISO(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.V=+n[0],i+n[0].length):-1}function parseWeekNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.W=+n[0],i+n[0].length):-1}function parseFullYear(d,string,i){var n=numberRe.exec(string.slice(i,i+4));return n?(d.y=+n[0],i+n[0].length):-1}function parseYear(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function parseZone(d,string,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(string.slice(i,i+6));return n?(d.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function parseMonthNumber(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.m=n[0]-1,i+n[0].length):-1}function parseDayOfMonth(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.d=+n[0],i+n[0].length):-1}function parseDayOfYear(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.m=0,d.d=+n[0],i+n[0].length):-1}function parseHour24(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.H=+n[0],i+n[0].length):-1}function parseMinutes(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.M=+n[0],i+n[0].length):-1}function parseSeconds(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.S=+n[0],i+n[0].length):-1}function parseMilliseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.L=+n[0],i+n[0].length):-1}function parseMicroseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+6));return n?(d.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function parseLiteralPercent(d,string,i){var n=percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function parseUnixTimestamp(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.Q=+n[0],i+n[0].length):-1}function parseUnixTimestampSeconds(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.Q=1e3*+n[0],i+n[0].length):-1}function formatDayOfMonth(d,p){return pad(d.getDate(),p,2)}function formatHour24(d,p){return pad(d.getHours(),p,2)}function formatHour12(d,p){return pad(d.getHours()%12||12,p,2)}function formatDayOfYear(d,p){return pad(1+__WEBPACK_IMPORTED_MODULE_0_d3_time__.a.count(Object(__WEBPACK_IMPORTED_MODULE_0_d3_time__.k)(d),d),p,3)}function formatMilliseconds(d,p){return pad(d.getMilliseconds(),p,3)}function formatMicroseconds(d,p){return formatMilliseconds(d,p)+"000"}function formatMonthNumber(d,p){return pad(d.getMonth()+1,p,2)}function formatMinutes(d,p){return pad(d.getMinutes(),p,2)}function formatSeconds(d,p){return pad(d.getSeconds(),p,2)}function formatWeekdayNumberMonday(d){var day=d.getDay();return 0===day?7:day}function formatWeekNumberSunday(d,p){return pad(__WEBPACK_IMPORTED_MODULE_0_d3_time__.h.count(Object(__WEBPACK_IMPORTED_MODULE_0_d3_time__.k)(d),d),p,2)}function formatWeekNumberISO(d,p){var day=d.getDay();return d=day>=4||0===day?Object(__WEBPACK_IMPORTED_MODULE_0_d3_time__.i)(d):__WEBPACK_IMPORTED_MODULE_0_d3_time__.i.ceil(d),pad(__WEBPACK_IMPORTED_MODULE_0_d3_time__.i.count(Object(__WEBPACK_IMPORTED_MODULE_0_d3_time__.k)(d),d)+(4===Object(__WEBPACK_IMPORTED_MODULE_0_d3_time__.k)(d).getDay()),p,2)}function formatWeekdayNumberSunday(d){return d.getDay()}function formatWeekNumberMonday(d,p){return pad(__WEBPACK_IMPORTED_MODULE_0_d3_time__.e.count(Object(__WEBPACK_IMPORTED_MODULE_0_d3_time__.k)(d),d),p,2)}function formatYear(d,p){return pad(d.getFullYear()%100,p,2)}function formatFullYear(d,p){return pad(d.getFullYear()%1e4,p,4)}function formatZone(d){var z=d.getTimezoneOffset();return(z>0?"-":(z*=-1,"+"))+pad(z/60|0,"0",2)+pad(z%60,"0",2)}function formatUTCDayOfMonth(d,p){return pad(d.getUTCDate(),p,2)}function formatUTCHour24(d,p){return pad(d.getUTCHours(),p,2)}function formatUTCHour12(d,p){return pad(d.getUTCHours()%12||12,p,2)}function formatUTCDayOfYear(d,p){return pad(1+__WEBPACK_IMPORTED_MODULE_0_d3_time__.l.count(Object(__WEBPACK_IMPORTED_MODULE_0_d3_time__.v)(d),d),p,3)}function formatUTCMilliseconds(d,p){return pad(d.getUTCMilliseconds(),p,3)}function formatUTCMicroseconds(d,p){return formatUTCMilliseconds(d,p)+"000"}function formatUTCMonthNumber(d,p){return pad(d.getUTCMonth()+1,p,2)}function formatUTCMinutes(d,p){return pad(d.getUTCMinutes(),p,2)}function formatUTCSeconds(d,p){return pad(d.getUTCSeconds(),p,2)}function formatUTCWeekdayNumberMonday(d){var dow=d.getUTCDay();return 0===dow?7:dow}function formatUTCWeekNumberSunday(d,p){return pad(__WEBPACK_IMPORTED_MODULE_0_d3_time__.s.count(Object(__WEBPACK_IMPORTED_MODULE_0_d3_time__.v)(d),d),p,2)}function formatUTCWeekNumberISO(d,p){var day=d.getUTCDay();return d=day>=4||0===day?Object(__WEBPACK_IMPORTED_MODULE_0_d3_time__.t)(d):__WEBPACK_IMPORTED_MODULE_0_d3_time__.t.ceil(d),pad(__WEBPACK_IMPORTED_MODULE_0_d3_time__.t.count(Object(__WEBPACK_IMPORTED_MODULE_0_d3_time__.v)(d),d)+(4===Object(__WEBPACK_IMPORTED_MODULE_0_d3_time__.v)(d).getUTCDay()),p,2)}function formatUTCWeekdayNumberSunday(d){return d.getUTCDay()}function formatUTCWeekNumberMonday(d,p){return pad(__WEBPACK_IMPORTED_MODULE_0_d3_time__.p.count(Object(__WEBPACK_IMPORTED_MODULE_0_d3_time__.v)(d),d),p,2)}function formatUTCYear(d,p){return pad(d.getUTCFullYear()%100,p,2)}function formatUTCFullYear(d,p){return pad(d.getUTCFullYear()%1e4,p,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(d){return+d}function formatUnixTimestampSeconds(d){return Math.floor(+d/1e3)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return isoSpecifier});var __WEBPACK_IMPORTED_MODULE_0__defaultLocale__=__webpack_require__(498),isoSpecifier="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||Object(__WEBPACK_IMPORTED_MODULE_0__defaultLocale__.b)(isoSpecifier)},function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var React=__importStar(__webpack_require__(0));exports.default=function(_a){var size=_a.size,inner=_a.inner,outer=_a.outer;return React.createElement("svg",{width:size,height:size,style:{marginRight:5}},React.createElement("circle",{cx:size/2,cy:size/2,r:.5*size,fill:outer}),React.createElement("circle",{cx:size/2,cy:size/2,r:.5*size*.5,fill:inner}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return areaRingSum}),__webpack_require__.d(__webpack_exports__,"b",function(){return areaStream});var lambda00,phi00,lambda0,cosPhi0,sinPhi0,__WEBPACK_IMPORTED_MODULE_0__adder__=__webpack_require__(162),__WEBPACK_IMPORTED_MODULE_1__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_2__noop__=__webpack_require__(103),__WEBPACK_IMPORTED_MODULE_3__stream__=__webpack_require__(144),areaRingSum=Object(__WEBPACK_IMPORTED_MODULE_0__adder__.a)(),areaSum=Object(__WEBPACK_IMPORTED_MODULE_0__adder__.a)(),areaStream={point:__WEBPACK_IMPORTED_MODULE_2__noop__.a,lineStart:__WEBPACK_IMPORTED_MODULE_2__noop__.a,lineEnd:__WEBPACK_IMPORTED_MODULE_2__noop__.a,polygonStart:function(){areaRingSum.reset(),areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){var areaRing=+areaRingSum;areaSum.add(areaRing<0?__WEBPACK_IMPORTED_MODULE_1__math__.w+areaRing:areaRing),this.lineStart=this.lineEnd=this.point=__WEBPACK_IMPORTED_MODULE_2__noop__.a},sphere:function(){areaSum.add(__WEBPACK_IMPORTED_MODULE_1__math__.w)}};function areaRingStart(){areaStream.point=areaPointFirst}function areaRingEnd(){areaPoint(lambda00,phi00)}function areaPointFirst(lambda,phi){areaStream.point=areaPoint,lambda00=lambda,phi00=phi,lambda*=__WEBPACK_IMPORTED_MODULE_1__math__.r,phi*=__WEBPACK_IMPORTED_MODULE_1__math__.r,lambda0=lambda,cosPhi0=Object(__WEBPACK_IMPORTED_MODULE_1__math__.g)(phi=phi/2+__WEBPACK_IMPORTED_MODULE_1__math__.q),sinPhi0=Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(phi)}function areaPoint(lambda,phi){lambda*=__WEBPACK_IMPORTED_MODULE_1__math__.r,phi=(phi*=__WEBPACK_IMPORTED_MODULE_1__math__.r)/2+__WEBPACK_IMPORTED_MODULE_1__math__.q;var dLambda=lambda-lambda0,sdLambda=dLambda>=0?1:-1,adLambda=sdLambda*dLambda,cosPhi=Object(__WEBPACK_IMPORTED_MODULE_1__math__.g)(phi),sinPhi=Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(phi),k=sinPhi0*sinPhi,u=cosPhi0*cosPhi+k*Object(__WEBPACK_IMPORTED_MODULE_1__math__.g)(adLambda),v=k*sdLambda*Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(adLambda);areaRingSum.add(Object(__WEBPACK_IMPORTED_MODULE_1__math__.e)(v,u)),lambda0=lambda,cosPhi0=cosPhi,sinPhi0=sinPhi}__webpack_exports__.c=function(object){return areaSum.reset(),Object(__WEBPACK_IMPORTED_MODULE_3__stream__.a)(object,areaStream),2*areaSum}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=circleStream;var __WEBPACK_IMPORTED_MODULE_0__cartesian__=__webpack_require__(232),__WEBPACK_IMPORTED_MODULE_1__constant__=__webpack_require__(1208),__WEBPACK_IMPORTED_MODULE_2__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_3__rotation__=__webpack_require__(278);function circleStream(stream,radius,delta,direction,t0,t1){if(delta){var cosRadius=Object(__WEBPACK_IMPORTED_MODULE_2__math__.g)(radius),sinRadius=Object(__WEBPACK_IMPORTED_MODULE_2__math__.t)(radius),step=direction*delta;null==t0?(t0=radius+direction*__WEBPACK_IMPORTED_MODULE_2__math__.w,t1=radius-step/2):(t0=circleRadius(cosRadius,t0),t1=circleRadius(cosRadius,t1),(direction>0?t0<t1:t0>t1)&&(t0+=direction*__WEBPACK_IMPORTED_MODULE_2__math__.w));for(var point,t=t0;direction>0?t>t1:t<t1;t-=step)point=Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.g)([cosRadius,-sinRadius*Object(__WEBPACK_IMPORTED_MODULE_2__math__.g)(t),-sinRadius*Object(__WEBPACK_IMPORTED_MODULE_2__math__.t)(t)]),stream.point(point[0],point[1])}}function circleRadius(cosRadius,point){(point=Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.a)(point))[0]-=cosRadius,Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.e)(point);var radius=Object(__WEBPACK_IMPORTED_MODULE_2__math__.b)(-point[1]);return((-point[2]<0?-radius:radius)+__WEBPACK_IMPORTED_MODULE_2__math__.w-__WEBPACK_IMPORTED_MODULE_2__math__.i)%__WEBPACK_IMPORTED_MODULE_2__math__.w}__webpack_exports__.b=function(){var ring,rotate,center=Object(__WEBPACK_IMPORTED_MODULE_1__constant__.a)([0,0]),radius=Object(__WEBPACK_IMPORTED_MODULE_1__constant__.a)(90),precision=Object(__WEBPACK_IMPORTED_MODULE_1__constant__.a)(6),stream={point:function point(x,y){ring.push(x=rotate(x,y)),x[0]*=__WEBPACK_IMPORTED_MODULE_2__math__.h,x[1]*=__WEBPACK_IMPORTED_MODULE_2__math__.h}};function circle(){var c=center.apply(this,arguments),r=radius.apply(this,arguments)*__WEBPACK_IMPORTED_MODULE_2__math__.r,p=precision.apply(this,arguments)*__WEBPACK_IMPORTED_MODULE_2__math__.r;return ring=[],rotate=Object(__WEBPACK_IMPORTED_MODULE_3__rotation__.b)(-c[0]*__WEBPACK_IMPORTED_MODULE_2__math__.r,-c[1]*__WEBPACK_IMPORTED_MODULE_2__math__.r,0).invert,circleStream(stream,r,p,1),c={type:"Polygon",coordinates:[ring]},ring=rotate=null,c}return circle.center=function(_){return arguments.length?(center="function"==typeof _?_:Object(__WEBPACK_IMPORTED_MODULE_1__constant__.a)([+_[0],+_[1]]),circle):center},circle.radius=function(_){return arguments.length?(radius="function"==typeof _?_:Object(__WEBPACK_IMPORTED_MODULE_1__constant__.a)(+_),circle):radius},circle.precision=function(_){return arguments.length?(precision="function"==typeof _?_:Object(__WEBPACK_IMPORTED_MODULE_1__constant__.a)(+_),circle):precision},circle}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){function compose(x,y){return x=a(x,y),b(x[0],x[1])}return a.invert&&b.invert&&(compose.invert=function(x,y){return(x=b.invert(x,y))&&a.invert(x[0],x[1])}),compose}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(681),__WEBPACK_IMPORTED_MODULE_1__math__=__webpack_require__(4);__webpack_exports__.a=Object(__WEBPACK_IMPORTED_MODULE_0__index__.a)(function(){return!0},function clipAntimeridianLine(stream){var clean,lambda0=NaN,phi0=NaN,sign0=NaN;return{lineStart:function(){stream.lineStart(),clean=1},point:function(lambda1,phi1){var sign1=lambda1>0?__WEBPACK_IMPORTED_MODULE_1__math__.o:-__WEBPACK_IMPORTED_MODULE_1__math__.o,delta=Object(__WEBPACK_IMPORTED_MODULE_1__math__.a)(lambda1-lambda0);Object(__WEBPACK_IMPORTED_MODULE_1__math__.a)(delta-__WEBPACK_IMPORTED_MODULE_1__math__.o)<__WEBPACK_IMPORTED_MODULE_1__math__.i?(stream.point(lambda0,phi0=(phi0+phi1)/2>0?__WEBPACK_IMPORTED_MODULE_1__math__.l:-__WEBPACK_IMPORTED_MODULE_1__math__.l),stream.point(sign0,phi0),stream.lineEnd(),stream.lineStart(),stream.point(sign1,phi0),stream.point(lambda1,phi0),clean=0):sign0!==sign1&&delta>=__WEBPACK_IMPORTED_MODULE_1__math__.o&&(Object(__WEBPACK_IMPORTED_MODULE_1__math__.a)(lambda0-sign0)<__WEBPACK_IMPORTED_MODULE_1__math__.i&&(lambda0-=sign0*__WEBPACK_IMPORTED_MODULE_1__math__.i),Object(__WEBPACK_IMPORTED_MODULE_1__math__.a)(lambda1-sign1)<__WEBPACK_IMPORTED_MODULE_1__math__.i&&(lambda1-=sign1*__WEBPACK_IMPORTED_MODULE_1__math__.i),phi0=function clipAntimeridianIntersect(lambda0,phi0,lambda1,phi1){var cosPhi0,cosPhi1,sinLambda0Lambda1=Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(lambda0-lambda1);return Object(__WEBPACK_IMPORTED_MODULE_1__math__.a)(sinLambda0Lambda1)>__WEBPACK_IMPORTED_MODULE_1__math__.i?Object(__WEBPACK_IMPORTED_MODULE_1__math__.d)((Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(phi0)*(cosPhi1=Object(__WEBPACK_IMPORTED_MODULE_1__math__.g)(phi1))*Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(lambda1)-Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(phi1)*(cosPhi0=Object(__WEBPACK_IMPORTED_MODULE_1__math__.g)(phi0))*Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(lambda0))/(cosPhi0*cosPhi1*sinLambda0Lambda1)):(phi0+phi1)/2}(lambda0,phi0,lambda1,phi1),stream.point(sign0,phi0),stream.lineEnd(),stream.lineStart(),stream.point(sign1,phi0),clean=0),stream.point(lambda0=lambda1,phi0=phi1),sign0=sign1},lineEnd:function(){stream.lineEnd(),lambda0=phi0=NaN},clean:function(){return 2-clean}}},function clipAntimeridianInterpolate(from,to,direction,stream){var phi;if(null==from)phi=direction*__WEBPACK_IMPORTED_MODULE_1__math__.l,stream.point(-__WEBPACK_IMPORTED_MODULE_1__math__.o,phi),stream.point(0,phi),stream.point(__WEBPACK_IMPORTED_MODULE_1__math__.o,phi),stream.point(__WEBPACK_IMPORTED_MODULE_1__math__.o,0),stream.point(__WEBPACK_IMPORTED_MODULE_1__math__.o,-phi),stream.point(0,-phi),stream.point(-__WEBPACK_IMPORTED_MODULE_1__math__.o,-phi),stream.point(-__WEBPACK_IMPORTED_MODULE_1__math__.o,0),stream.point(-__WEBPACK_IMPORTED_MODULE_1__math__.o,phi);else if(Object(__WEBPACK_IMPORTED_MODULE_1__math__.a)(from[0]-to[0])>__WEBPACK_IMPORTED_MODULE_1__math__.i){var lambda=from[0]<to[0]?__WEBPACK_IMPORTED_MODULE_1__math__.o:-__WEBPACK_IMPORTED_MODULE_1__math__.o;phi=direction*lambda/2,stream.point(-lambda,phi),stream.point(0,phi),stream.point(lambda,phi)}else stream.point(to[0],to[1])},[-__WEBPACK_IMPORTED_MODULE_1__math__.o,-__WEBPACK_IMPORTED_MODULE_1__math__.l])},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__buffer__=__webpack_require__(682),__WEBPACK_IMPORTED_MODULE_1__rejoin__=__webpack_require__(683),__WEBPACK_IMPORTED_MODULE_2__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_3__polygonContains__=__webpack_require__(685),__WEBPACK_IMPORTED_MODULE_4_d3_array__=__webpack_require__(51);function validSegment(segment){return segment.length>1}function compareIntersection(a,b){return((a=a.x)[0]<0?a[1]-__WEBPACK_IMPORTED_MODULE_2__math__.l-__WEBPACK_IMPORTED_MODULE_2__math__.i:__WEBPACK_IMPORTED_MODULE_2__math__.l-a[1])-((b=b.x)[0]<0?b[1]-__WEBPACK_IMPORTED_MODULE_2__math__.l-__WEBPACK_IMPORTED_MODULE_2__math__.i:__WEBPACK_IMPORTED_MODULE_2__math__.l-b[1])}__webpack_exports__.a=function(pointVisible,clipLine,interpolate,start){return function(sink){var polygon,segments,ring,line=clipLine(sink),ringBuffer=Object(__WEBPACK_IMPORTED_MODULE_0__buffer__.a)(),ringSink=clipLine(ringBuffer),polygonStarted=!1,clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){clip.point=pointRing,clip.lineStart=ringStart,clip.lineEnd=ringEnd,segments=[],polygon=[]},polygonEnd:function(){clip.point=point,clip.lineStart=lineStart,clip.lineEnd=lineEnd,segments=Object(__WEBPACK_IMPORTED_MODULE_4_d3_array__.merge)(segments);var startInside=Object(__WEBPACK_IMPORTED_MODULE_3__polygonContains__.a)(polygon,start);segments.length?(polygonStarted||(sink.polygonStart(),polygonStarted=!0),Object(__WEBPACK_IMPORTED_MODULE_1__rejoin__.a)(segments,compareIntersection,startInside,interpolate,sink)):startInside&&(polygonStarted||(sink.polygonStart(),polygonStarted=!0),sink.lineStart(),interpolate(null,null,1,sink),sink.lineEnd()),polygonStarted&&(sink.polygonEnd(),polygonStarted=!1),segments=polygon=null},sphere:function(){sink.polygonStart(),sink.lineStart(),interpolate(null,null,1,sink),sink.lineEnd(),sink.polygonEnd()}};function point(lambda,phi){pointVisible(lambda,phi)&&sink.point(lambda,phi)}function pointLine(lambda,phi){line.point(lambda,phi)}function lineStart(){clip.point=pointLine,line.lineStart()}function lineEnd(){clip.point=point,line.lineEnd()}function pointRing(lambda,phi){ring.push([lambda,phi]),ringSink.point(lambda,phi)}function ringStart(){ringSink.lineStart(),ring=[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]),ringSink.lineEnd();var i,m,segment,point,clean=ringSink.clean(),ringSegments=ringBuffer.result(),n=ringSegments.length;if(ring.pop(),polygon.push(ring),ring=null,n)if(1&clean){if((m=(segment=ringSegments[0]).length-1)>0){for(polygonStarted||(sink.polygonStart(),polygonStarted=!0),sink.lineStart(),i=0;i<m;++i)sink.point((point=segment[i])[0],point[1]);sink.lineEnd()}}else n>1&&2&clean&&ringSegments.push(ringSegments.pop().concat(ringSegments.shift())),segments.push(ringSegments.filter(validSegment))}return clip}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__noop__=__webpack_require__(103);__webpack_exports__.a=function(){var line,lines=[];return{point:function(x,y){line.push([x,y])},lineStart:function(){lines.push(line=[])},lineEnd:__WEBPACK_IMPORTED_MODULE_0__noop__.a,rejoin:function(){lines.length>1&&lines.push(lines.pop().concat(lines.shift()))},result:function(){var result=lines;return lines=[],line=null,result}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__pointEqual__=__webpack_require__(684);function Intersection(point,points,other,entry){this.x=point,this.z=points,this.o=other,this.e=entry,this.v=!1,this.n=this.p=null}function link(array){if(n=array.length){for(var n,b,i=0,a=array[0];++i<n;)a.n=b=array[i],b.p=a,a=b;a.n=b=array[0],b.p=a}}__webpack_exports__.a=function(segments,compareIntersection,startInside,interpolate,stream){var i,n,subject=[],clip=[];if(segments.forEach(function(segment){if(!((n=segment.length-1)<=0)){var n,x,p0=segment[0],p1=segment[n];if(Object(__WEBPACK_IMPORTED_MODULE_0__pointEqual__.a)(p0,p1)){for(stream.lineStart(),i=0;i<n;++i)stream.point((p0=segment[i])[0],p0[1]);stream.lineEnd()}else subject.push(x=new Intersection(p0,segment,null,!0)),clip.push(x.o=new Intersection(p0,null,x,!1)),subject.push(x=new Intersection(p1,segment,null,!1)),clip.push(x.o=new Intersection(p1,null,x,!0))}}),subject.length){for(clip.sort(compareIntersection),link(subject),link(clip),i=0,n=clip.length;i<n;++i)clip[i].e=startInside=!startInside;for(var points,point,start=subject[0];;){for(var current=start,isSubject=!0;current.v;)if((current=current.n)===start)return;points=current.z,stream.lineStart();do{if(current.v=current.o.v=!0,current.e){if(isSubject)for(i=0,n=points.length;i<n;++i)stream.point((point=points[i])[0],point[1]);else interpolate(current.x,current.n.x,1,stream);current=current.n}else{if(isSubject)for(points=current.p.z,i=points.length-1;i>=0;--i)stream.point((point=points[i])[0],point[1]);else interpolate(current.x,current.p.x,-1,stream);current=current.p}points=(current=current.o).z,isSubject=!isSubject}while(!current.v);stream.lineEnd()}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4);__webpack_exports__.a=function(a,b){return Object(__WEBPACK_IMPORTED_MODULE_0__math__.a)(a[0]-b[0])<__WEBPACK_IMPORTED_MODULE_0__math__.i&&Object(__WEBPACK_IMPORTED_MODULE_0__math__.a)(a[1]-b[1])<__WEBPACK_IMPORTED_MODULE_0__math__.i}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__adder__=__webpack_require__(162),__WEBPACK_IMPORTED_MODULE_1__cartesian__=__webpack_require__(232),__WEBPACK_IMPORTED_MODULE_2__math__=__webpack_require__(4),sum=Object(__WEBPACK_IMPORTED_MODULE_0__adder__.a)();__webpack_exports__.a=function(polygon,point){var lambda=point[0],phi=point[1],sinPhi=Object(__WEBPACK_IMPORTED_MODULE_2__math__.t)(phi),normal=[Object(__WEBPACK_IMPORTED_MODULE_2__math__.t)(lambda),-Object(__WEBPACK_IMPORTED_MODULE_2__math__.g)(lambda),0],angle=0,winding=0;sum.reset(),1===sinPhi?phi=__WEBPACK_IMPORTED_MODULE_2__math__.l+__WEBPACK_IMPORTED_MODULE_2__math__.i:-1===sinPhi&&(phi=-__WEBPACK_IMPORTED_MODULE_2__math__.l-__WEBPACK_IMPORTED_MODULE_2__math__.i);for(var i=0,n=polygon.length;i<n;++i)if(m=(ring=polygon[i]).length)for(var ring,m,point0=ring[m-1],lambda0=point0[0],phi0=point0[1]/2+__WEBPACK_IMPORTED_MODULE_2__math__.q,sinPhi0=Object(__WEBPACK_IMPORTED_MODULE_2__math__.t)(phi0),cosPhi0=Object(__WEBPACK_IMPORTED_MODULE_2__math__.g)(phi0),j=0;j<m;++j,lambda0=lambda1,sinPhi0=sinPhi1,cosPhi0=cosPhi1,point0=point1){var point1=ring[j],lambda1=point1[0],phi1=point1[1]/2+__WEBPACK_IMPORTED_MODULE_2__math__.q,sinPhi1=Object(__WEBPACK_IMPORTED_MODULE_2__math__.t)(phi1),cosPhi1=Object(__WEBPACK_IMPORTED_MODULE_2__math__.g)(phi1),delta=lambda1-lambda0,sign=delta>=0?1:-1,absDelta=sign*delta,antimeridian=absDelta>__WEBPACK_IMPORTED_MODULE_2__math__.o,k=sinPhi0*sinPhi1;if(sum.add(Object(__WEBPACK_IMPORTED_MODULE_2__math__.e)(k*sign*Object(__WEBPACK_IMPORTED_MODULE_2__math__.t)(absDelta),cosPhi0*cosPhi1+k*Object(__WEBPACK_IMPORTED_MODULE_2__math__.g)(absDelta))),angle+=antimeridian?delta+sign*__WEBPACK_IMPORTED_MODULE_2__math__.w:delta,antimeridian^lambda0>=lambda^lambda1>=lambda){var arc=Object(__WEBPACK_IMPORTED_MODULE_1__cartesian__.c)(Object(__WEBPACK_IMPORTED_MODULE_1__cartesian__.a)(point0),Object(__WEBPACK_IMPORTED_MODULE_1__cartesian__.a)(point1));Object(__WEBPACK_IMPORTED_MODULE_1__cartesian__.e)(arc);var intersection=Object(__WEBPACK_IMPORTED_MODULE_1__cartesian__.c)(normal,arc);Object(__WEBPACK_IMPORTED_MODULE_1__cartesian__.e)(intersection);var phiArc=(antimeridian^delta>=0?-1:1)*Object(__WEBPACK_IMPORTED_MODULE_2__math__.c)(intersection[2]);(phi>phiArc||phi===phiArc&&(arc[0]||arc[1]))&&(winding+=antimeridian^delta>=0?1:-1)}}return(angle<-__WEBPACK_IMPORTED_MODULE_2__math__.i||angle<__WEBPACK_IMPORTED_MODULE_2__math__.i&&sum<-__WEBPACK_IMPORTED_MODULE_2__math__.i)^1&winding}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__cartesian__=__webpack_require__(232),__WEBPACK_IMPORTED_MODULE_1__circle__=__webpack_require__(678),__WEBPACK_IMPORTED_MODULE_2__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_3__pointEqual__=__webpack_require__(684),__WEBPACK_IMPORTED_MODULE_4__index__=__webpack_require__(681);__webpack_exports__.a=function(radius){var cr=Object(__WEBPACK_IMPORTED_MODULE_2__math__.g)(radius),delta=6*__WEBPACK_IMPORTED_MODULE_2__math__.r,smallRadius=cr>0,notHemisphere=Object(__WEBPACK_IMPORTED_MODULE_2__math__.a)(cr)>__WEBPACK_IMPORTED_MODULE_2__math__.i;function visible(lambda,phi){return Object(__WEBPACK_IMPORTED_MODULE_2__math__.g)(lambda)*Object(__WEBPACK_IMPORTED_MODULE_2__math__.g)(phi)>cr}function intersect(a,b,two){var pa=Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.a)(a),pb=Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.a)(b),n1=[1,0,0],n2=Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.c)(pa,pb),n2n2=Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.d)(n2,n2),n1n2=n2[0],determinant=n2n2-n1n2*n1n2;if(!determinant)return!two&&a;var c1=cr*n2n2/determinant,c2=-cr*n1n2/determinant,n1xn2=Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.c)(n1,n2),A=Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.f)(n1,c1),B=Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.f)(n2,c2);Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.b)(A,B);var u=n1xn2,w=Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.d)(A,u),uu=Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.d)(u,u),t2=w*w-uu*(Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.d)(A,A)-1);if(!(t2<0)){var t=Object(__WEBPACK_IMPORTED_MODULE_2__math__.u)(t2),q=Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.f)(u,(-w-t)/uu);if(Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.b)(q,A),q=Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.g)(q),!two)return q;var z,lambda0=a[0],lambda1=b[0],phi0=a[1],phi1=b[1];lambda1<lambda0&&(z=lambda0,lambda0=lambda1,lambda1=z);var delta=lambda1-lambda0,polar=Object(__WEBPACK_IMPORTED_MODULE_2__math__.a)(delta-__WEBPACK_IMPORTED_MODULE_2__math__.o)<__WEBPACK_IMPORTED_MODULE_2__math__.i,meridian=polar||delta<__WEBPACK_IMPORTED_MODULE_2__math__.i;if(!polar&&phi1<phi0&&(z=phi0,phi0=phi1,phi1=z),meridian?polar?phi0+phi1>0^q[1]<(Object(__WEBPACK_IMPORTED_MODULE_2__math__.a)(q[0]-lambda0)<__WEBPACK_IMPORTED_MODULE_2__math__.i?phi0:phi1):phi0<=q[1]&&q[1]<=phi1:delta>__WEBPACK_IMPORTED_MODULE_2__math__.o^(lambda0<=q[0]&&q[0]<=lambda1)){var q1=Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.f)(u,(-w+t)/uu);return Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.b)(q1,A),[q,Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.g)(q1)]}}}function code(lambda,phi){var r=smallRadius?radius:__WEBPACK_IMPORTED_MODULE_2__math__.o-radius,code=0;return lambda<-r?code|=1:lambda>r&&(code|=2),phi<-r?code|=4:phi>r&&(code|=8),code}return Object(__WEBPACK_IMPORTED_MODULE_4__index__.a)(visible,function clipLine(stream){var point0,c0,v0,v00,clean;return{lineStart:function(){v00=v0=!1,clean=1},point:function(lambda,phi){var point2,point1=[lambda,phi],v=visible(lambda,phi),c=smallRadius?v?0:code(lambda,phi):v?code(lambda+(lambda<0?__WEBPACK_IMPORTED_MODULE_2__math__.o:-__WEBPACK_IMPORTED_MODULE_2__math__.o),phi):0;if(!point0&&(v00=v0=v)&&stream.lineStart(),v!==v0&&(!(point2=intersect(point0,point1))||Object(__WEBPACK_IMPORTED_MODULE_3__pointEqual__.a)(point0,point2)||Object(__WEBPACK_IMPORTED_MODULE_3__pointEqual__.a)(point1,point2))&&(point1[0]+=__WEBPACK_IMPORTED_MODULE_2__math__.i,point1[1]+=__WEBPACK_IMPORTED_MODULE_2__math__.i,v=visible(point1[0],point1[1])),v!==v0)clean=0,v?(stream.lineStart(),point2=intersect(point1,point0),stream.point(point2[0],point2[1])):(point2=intersect(point0,point1),stream.point(point2[0],point2[1]),stream.lineEnd()),point0=point2;else if(notHemisphere&&point0&&smallRadius^v){var t;c&c0||!(t=intersect(point1,point0,!0))||(clean=0,smallRadius?(stream.lineStart(),stream.point(t[0][0],t[0][1]),stream.point(t[1][0],t[1][1]),stream.lineEnd()):(stream.point(t[1][0],t[1][1]),stream.lineEnd(),stream.lineStart(),stream.point(t[0][0],t[0][1])))}!v||point0&&Object(__WEBPACK_IMPORTED_MODULE_3__pointEqual__.a)(point0,point1)||stream.point(point1[0],point1[1]),point0=point1,v0=v,c0=c},lineEnd:function(){v0&&stream.lineEnd(),point0=null},clean:function(){return clean|(v00&&v0)<<1}}},function interpolate(from,to,direction,stream){Object(__WEBPACK_IMPORTED_MODULE_1__circle__.a)(stream,radius,delta,direction,from,to)},smallRadius?[0,-radius]:[-__WEBPACK_IMPORTED_MODULE_2__math__.o,radius-__WEBPACK_IMPORTED_MODULE_2__math__.o])}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__length__=__webpack_require__(688),coordinates=[null,null],object={type:"LineString",coordinates:coordinates};__webpack_exports__.a=function(a,b){return coordinates[0]=a,coordinates[1]=b,Object(__WEBPACK_IMPORTED_MODULE_0__length__.a)(object)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var lambda0,sinPhi0,cosPhi0,__WEBPACK_IMPORTED_MODULE_0__adder__=__webpack_require__(162),__WEBPACK_IMPORTED_MODULE_1__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_2__noop__=__webpack_require__(103),__WEBPACK_IMPORTED_MODULE_3__stream__=__webpack_require__(144),lengthSum=Object(__WEBPACK_IMPORTED_MODULE_0__adder__.a)(),lengthStream={sphere:__WEBPACK_IMPORTED_MODULE_2__noop__.a,point:__WEBPACK_IMPORTED_MODULE_2__noop__.a,lineStart:function lengthLineStart(){lengthStream.point=lengthPointFirst,lengthStream.lineEnd=lengthLineEnd},lineEnd:__WEBPACK_IMPORTED_MODULE_2__noop__.a,polygonStart:__WEBPACK_IMPORTED_MODULE_2__noop__.a,polygonEnd:__WEBPACK_IMPORTED_MODULE_2__noop__.a};function lengthLineEnd(){lengthStream.point=lengthStream.lineEnd=__WEBPACK_IMPORTED_MODULE_2__noop__.a}function lengthPointFirst(lambda,phi){lambda*=__WEBPACK_IMPORTED_MODULE_1__math__.r,phi*=__WEBPACK_IMPORTED_MODULE_1__math__.r,lambda0=lambda,sinPhi0=Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(phi),cosPhi0=Object(__WEBPACK_IMPORTED_MODULE_1__math__.g)(phi),lengthStream.point=lengthPoint}function lengthPoint(lambda,phi){lambda*=__WEBPACK_IMPORTED_MODULE_1__math__.r,phi*=__WEBPACK_IMPORTED_MODULE_1__math__.r;var sinPhi=Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(phi),cosPhi=Object(__WEBPACK_IMPORTED_MODULE_1__math__.g)(phi),delta=Object(__WEBPACK_IMPORTED_MODULE_1__math__.a)(lambda-lambda0),cosDelta=Object(__WEBPACK_IMPORTED_MODULE_1__math__.g)(delta),x=cosPhi*Object(__WEBPACK_IMPORTED_MODULE_1__math__.t)(delta),y=cosPhi0*sinPhi-sinPhi0*cosPhi*cosDelta,z=sinPhi0*sinPhi+cosPhi0*cosPhi*cosDelta;lengthSum.add(Object(__WEBPACK_IMPORTED_MODULE_1__math__.e)(Object(__WEBPACK_IMPORTED_MODULE_1__math__.u)(x*x+y*y),z)),lambda0=lambda,sinPhi0=sinPhi,cosPhi0=cosPhi}__webpack_exports__.a=function(object){return lengthSum.reset(),Object(__WEBPACK_IMPORTED_MODULE_3__stream__.a)(object,lengthStream),+lengthSum}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__noop__=__webpack_require__(103),x0=1/0,y0=x0,x1=-x0,y1=x1,boundsStream={point:function boundsPoint(x,y){x<x0&&(x0=x);x>x1&&(x1=x);y<y0&&(y0=y);y>y1&&(y1=y)},lineStart:__WEBPACK_IMPORTED_MODULE_0__noop__.a,lineEnd:__WEBPACK_IMPORTED_MODULE_0__noop__.a,polygonStart:__WEBPACK_IMPORTED_MODULE_0__noop__.a,polygonEnd:__WEBPACK_IMPORTED_MODULE_0__noop__.a,result:function(){var bounds=[[x0,y0],[x1,y1]];return x1=y1=-(y0=x0=1/0),bounds}};__webpack_exports__.a=boundsStream},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__conicEqualArea__=__webpack_require__(501);__webpack_exports__.a=function(){return Object(__WEBPACK_IMPORTED_MODULE_0__conicEqualArea__.b)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=equirectangularRaw;var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(73);function equirectangularRaw(lambda,phi){return[lambda,phi]}equirectangularRaw.invert=equirectangularRaw,__webpack_exports__.a=function(){return Object(__WEBPACK_IMPORTED_MODULE_0__index__.a)(equirectangularRaw).scale(152.63)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){__webpack_require__(290),__webpack_require__(765),module.exports=__webpack_require__(766)},function(module,exports,__webpack_require__){"use strict";window.STORYBOOK_REACT_CLASSES={},window.STORYBOOK_ENV="react"},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),function(module){var __WEBPACK_IMPORTED_MODULE_0__storybook_react__=__webpack_require__(540),__WEBPACK_IMPORTED_MODULE_1__storybook_addon_options__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__storybook_react__),__webpack_require__(896));__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__storybook_addon_options__);__webpack_require__(767),Object(__WEBPACK_IMPORTED_MODULE_1__storybook_addon_options__.setOptions)({name:"flowmap.gl",url:"https://github.com/teralytics/flowmap.gl"}),Object(__WEBPACK_IMPORTED_MODULE_0__storybook_react__.configure)(function loadStories(){__webpack_require__(898)},module)}.call(__webpack_exports__,__webpack_require__(240)(module))},function(module,exports,__webpack_require__){var content=__webpack_require__(768);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(770)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(769)(!1)).push([module.i,'.mapboxgl-map {\n    font: 12px/20px \'Helvetica Neue\', Arial, Helvetica, sans-serif;\n    overflow: hidden;\n    position: relative;\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n.mapboxgl-map:-webkit-full-screen {\n    width: 100%;\n    height: 100%;\n}\n\n.mapboxgl-missing-css {\n    display: none;\n}\n\n.mapboxgl-canvas-container.mapboxgl-interactive,\n.mapboxgl-ctrl-nav-compass {\n    cursor: -webkit-grab;\n    cursor: -moz-grab;\n    cursor: grab;\n}\n.mapboxgl-canvas-container.mapboxgl-interactive:active,\n.mapboxgl-ctrl-nav-compass:active {\n    cursor: -webkit-grabbing;\n    cursor: -moz-grabbing;\n    cursor: grabbing;\n}\n\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate {\n    -ms-touch-action: pan-x pan-y;\n    touch-action: pan-x pan-y;\n}\n.mapboxgl-canvas-container.mapboxgl-touch-drag-pan {\n    -ms-touch-action: pinch-zoom;\n}\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan {\n    -ms-touch-action: none;\n    touch-action: none;\n}\n.mapboxgl-ctrl-top-left,\n.mapboxgl-ctrl-top-right,\n.mapboxgl-ctrl-bottom-left,\n.mapboxgl-ctrl-bottom-right  { position:absolute; pointer-events:none; z-index:2; }\n.mapboxgl-ctrl-top-left      { top:0; left:0; }\n.mapboxgl-ctrl-top-right     { top:0; right:0; }\n.mapboxgl-ctrl-bottom-left   { bottom:0; left:0; }\n.mapboxgl-ctrl-bottom-right  { right:0; bottom:0; }\n\n.mapboxgl-ctrl { clear:both; pointer-events:auto }\n.mapboxgl-ctrl-top-left .mapboxgl-ctrl { margin:10px 0 0 10px; float:left; }\n.mapboxgl-ctrl-top-right .mapboxgl-ctrl{ margin:10px 10px 0 0; float:right; }\n.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl { margin:0 0 10px 10px; float:left; }\n.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl { margin:0 10px 10px 0; float:right; }\n\n.mapboxgl-ctrl-group {\n    border-radius: 4px;\n    -moz-box-shadow: 0px 0px 2px rgba(0,0,0,0.1);\n    -webkit-box-shadow: 0px 0px 2px rgba(0,0,0,0.1);\n    box-shadow: 0px 0px 0px 2px rgba(0,0,0,0.1);\n    overflow: hidden;\n    background: #fff;\n}\n.mapboxgl-ctrl-group > button {\n    width: 30px;\n    height: 30px;\n    display: block;\n    padding: 0;\n    outline: none;\n    border: none;\n    box-sizing: border-box;\n    background-color: rgba(0,0,0,0);\n    cursor: pointer;\n}\n\n.mapboxgl-ctrl-group > button + button {\n    border-top: 1px solid #ddd;\n}\n/* https://bugzilla.mozilla.org/show_bug.cgi?id=140562 */\n.mapboxgl-ctrl > button::-moz-focus-inner {\n    border: 0;\n    padding: 0;\n}\n.mapboxgl-ctrl > button:hover {\n    background-color: rgba(0,0,0,0.05);\n}\n.mapboxgl-ctrl-icon,\n.mapboxgl-ctrl-icon > .mapboxgl-ctrl-compass-arrow {\n    speak: none;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n.mapboxgl-ctrl-icon {\n    padding: 5px;\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-out {\n    background-image: url("data:image/svg+xml;charset=utf8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0A%20%20%3Cpath%20style%3D%27fill%3A%23333333%3B%27%20d%3D%27m%207%2C9%20c%20-0.554%2C0%20-1%2C0.446%20-1%2C1%200%2C0.554%200.446%2C1%201%2C1%20l%206%2C0%20c%200.554%2C0%201%2C-0.446%201%2C-1%200%2C-0.554%20-0.446%2C-1%20-1%2C-1%20z%27%20%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-in {\n    background-image: url("data:image/svg+xml;charset=utf8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0A%20%20%3Cpath%20style%3D%27fill%3A%23333333%3B%27%20d%3D%27M%2010%206%20C%209.446%206%209%206.4459904%209%207%20L%209%209%20L%207%209%20C%206.446%209%206%209.446%206%2010%20C%206%2010.554%206.446%2011%207%2011%20L%209%2011%20L%209%2013%20C%209%2013.55401%209.446%2014%2010%2014%20C%2010.554%2014%2011%2013.55401%2011%2013%20L%2011%2011%20L%2013%2011%20C%2013.554%2011%2014%2010.554%2014%2010%20C%2014%209.446%2013.554%209%2013%209%20L%2011%209%20L%2011%207%20C%2011%206.4459904%2010.554%206%2010%206%20z%27%20%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate {\n    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0D%0A%20%20%3Cpath%20style%3D%27fill%3A%23333%3B%27%20d%3D%27M10%204C9%204%209%205%209%205L9%205.1A5%205%200%200%200%205.1%209L5%209C5%209%204%209%204%2010%204%2011%205%2011%205%2011L5.1%2011A5%205%200%200%200%209%2014.9L9%2015C9%2015%209%2016%2010%2016%2011%2016%2011%2015%2011%2015L11%2014.9A5%205%200%200%200%2014.9%2011L15%2011C15%2011%2016%2011%2016%2010%2016%209%2015%209%2015%209L14.9%209A5%205%200%200%200%2011%205.1L11%205C11%205%2011%204%2010%204zM10%206.5A3.5%203.5%200%200%201%2013.5%2010%203.5%203.5%200%200%201%2010%2013.5%203.5%203.5%200%200%201%206.5%2010%203.5%203.5%200%200%201%2010%206.5zM10%208.3A1.8%201.8%200%200%200%208.3%2010%201.8%201.8%200%200%200%2010%2011.8%201.8%201.8%200%200%200%2011.8%2010%201.8%201.8%200%200%200%2010%208.3z%27%20%2F%3E%0D%0A%3C%2Fsvg%3E");\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate:disabled {\n    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0D%0A%20%20%3Cpath%20style%3D%27fill%3A%23aaa%3B%27%20d%3D%27M10%204C9%204%209%205%209%205L9%205.1A5%205%200%200%200%205.1%209L5%209C5%209%204%209%204%2010%204%2011%205%2011%205%2011L5.1%2011A5%205%200%200%200%209%2014.9L9%2015C9%2015%209%2016%2010%2016%2011%2016%2011%2015%2011%2015L11%2014.9A5%205%200%200%200%2014.9%2011L15%2011C15%2011%2016%2011%2016%2010%2016%209%2015%209%2015%209L14.9%209A5%205%200%200%200%2011%205.1L11%205C11%205%2011%204%2010%204zM10%206.5A3.5%203.5%200%200%201%2013.5%2010%203.5%203.5%200%200%201%2010%2013.5%203.5%203.5%200%200%201%206.5%2010%203.5%203.5%200%200%201%2010%206.5zM10%208.3A1.8%201.8%200%200%200%208.3%2010%201.8%201.8%200%200%200%2010%2011.8%201.8%201.8%200%200%200%2011.8%2010%201.8%201.8%200%200%200%2010%208.3z%27%20%2F%3E%0D%0A%3C%2Fsvg%3E");\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active {\n    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0D%0A%20%20%3Cpath%20style%3D%27fill%3A%2333b5e5%3B%27%20d%3D%27M10%204C9%204%209%205%209%205L9%205.1A5%205%200%200%200%205.1%209L5%209C5%209%204%209%204%2010%204%2011%205%2011%205%2011L5.1%2011A5%205%200%200%200%209%2014.9L9%2015C9%2015%209%2016%2010%2016%2011%2016%2011%2015%2011%2015L11%2014.9A5%205%200%200%200%2014.9%2011L15%2011C15%2011%2016%2011%2016%2010%2016%209%2015%209%2015%209L14.9%209A5%205%200%200%200%2011%205.1L11%205C11%205%2011%204%2010%204zM10%206.5A3.5%203.5%200%200%201%2013.5%2010%203.5%203.5%200%200%201%2010%2013.5%203.5%203.5%200%200%201%206.5%2010%203.5%203.5%200%200%201%2010%206.5zM10%208.3A1.8%201.8%200%200%200%208.3%2010%201.8%201.8%200%200%200%2010%2011.8%201.8%201.8%200%200%200%2011.8%2010%201.8%201.8%200%200%200%2010%208.3z%27%20%2F%3E%0D%0A%3C%2Fsvg%3E");\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error {\n    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0D%0A%20%20%3Cpath%20style%3D%27fill%3A%23e58978%3B%27%20d%3D%27M10%204C9%204%209%205%209%205L9%205.1A5%205%200%200%200%205.1%209L5%209C5%209%204%209%204%2010%204%2011%205%2011%205%2011L5.1%2011A5%205%200%200%200%209%2014.9L9%2015C9%2015%209%2016%2010%2016%2011%2016%2011%2015%2011%2015L11%2014.9A5%205%200%200%200%2014.9%2011L15%2011C15%2011%2016%2011%2016%2010%2016%209%2015%209%2015%209L14.9%209A5%205%200%200%200%2011%205.1L11%205C11%205%2011%204%2010%204zM10%206.5A3.5%203.5%200%200%201%2013.5%2010%203.5%203.5%200%200%201%2010%2013.5%203.5%203.5%200%200%201%206.5%2010%203.5%203.5%200%200%201%2010%206.5zM10%208.3A1.8%201.8%200%200%200%208.3%2010%201.8%201.8%200%200%200%2010%2011.8%201.8%201.8%200%200%200%2011.8%2010%201.8%201.8%200%200%200%2010%208.3z%27%20%2F%3E%0D%0A%3C%2Fsvg%3E");\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background {\n    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0A%20%20%3Cpath%20style%3D%27fill%3A%2333b5e5%3B%27%20d%3D%27M%2010%2C4%20C%209%2C4%209%2C5%209%2C5%20L%209%2C5.1%20C%207.0357113%2C5.5006048%205.5006048%2C7.0357113%205.1%2C9%20L%205%2C9%20c%200%2C0%20-1%2C0%20-1%2C1%200%2C1%201%2C1%201%2C1%20l%200.1%2C0%20c%200.4006048%2C1.964289%201.9357113%2C3.499395%203.9%2C3.9%20L%209%2C15%20c%200%2C0%200%2C1%201%2C1%201%2C0%201%2C-1%201%2C-1%20l%200%2C-0.1%20c%201.964289%2C-0.400605%203.499395%2C-1.935711%203.9%2C-3.9%20l%200.1%2C0%20c%200%2C0%201%2C0%201%2C-1%20C%2016%2C9%2015%2C9%2015%2C9%20L%2014.9%2C9%20C%2014.499395%2C7.0357113%2012.964289%2C5.5006048%2011%2C5.1%20L%2011%2C5%20c%200%2C0%200%2C-1%20-1%2C-1%20z%20m%200%2C2.5%20c%201.932997%2C0%203.5%2C1.5670034%203.5%2C3.5%200%2C1.932997%20-1.567003%2C3.5%20-3.5%2C3.5%20C%208.0670034%2C13.5%206.5%2C11.932997%206.5%2C10%206.5%2C8.0670034%208.0670034%2C6.5%2010%2C6.5%20Z%27%20%2F%3E%0A%3C%2Fsvg%3E");\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error {\n    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0A%20%20%3Cpath%20style%3D%27fill%3A%23e54e33%3B%27%20d%3D%27M%2010%2C4%20C%209%2C4%209%2C5%209%2C5%20L%209%2C5.1%20C%207.0357113%2C5.5006048%205.5006048%2C7.0357113%205.1%2C9%20L%205%2C9%20c%200%2C0%20-1%2C0%20-1%2C1%200%2C1%201%2C1%201%2C1%20l%200.1%2C0%20c%200.4006048%2C1.964289%201.9357113%2C3.499395%203.9%2C3.9%20L%209%2C15%20c%200%2C0%200%2C1%201%2C1%201%2C0%201%2C-1%201%2C-1%20l%200%2C-0.1%20c%201.964289%2C-0.400605%203.499395%2C-1.935711%203.9%2C-3.9%20l%200.1%2C0%20c%200%2C0%201%2C0%201%2C-1%20C%2016%2C9%2015%2C9%2015%2C9%20L%2014.9%2C9%20C%2014.499395%2C7.0357113%2012.964289%2C5.5006048%2011%2C5.1%20L%2011%2C5%20c%200%2C0%200%2C-1%20-1%2C-1%20z%20m%200%2C2.5%20c%201.932997%2C0%203.5%2C1.5670034%203.5%2C3.5%200%2C1.932997%20-1.567003%2C3.5%20-3.5%2C3.5%20C%208.0670034%2C13.5%206.5%2C11.932997%206.5%2C10%206.5%2C8.0670034%208.0670034%2C6.5%2010%2C6.5%20Z%27%20%2F%3E%0A%3C%2Fsvg%3E");\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting {\n    -webkit-animation: mapboxgl-spin 2s infinite linear;\n    -moz-animation: mapboxgl-spin 2s infinite linear;\n    -o-animation: mapboxgl-spin 2s infinite linear;\n    -ms-animation: mapboxgl-spin 2s infinite linear;\n    animation: mapboxgl-spin 2s infinite linear;\n}\n\n@-webkit-keyframes mapboxgl-spin {\n    0% { -webkit-transform: rotate(0deg); }\n    100% { -webkit-transform: rotate(360deg); }\n}\n@-moz-keyframes mapboxgl-spin {\n    0% { -moz-transform: rotate(0deg); }\n    100% { -moz-transform: rotate(360deg); }\n}\n@-o-keyframes mapboxgl-spin {\n    0% { -o-transform: rotate(0deg); }\n    100% { -o-transform: rotate(360deg); }\n}\n@-ms-keyframes mapboxgl-spin {\n    0% { -ms-transform: rotate(0deg); }\n    100% { -ms-transform: rotate(360deg); }\n}\n@keyframes mapboxgl-spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-fullscreen  {\n    background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4KCjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0iTGF5ZXJfMSIKICAgeD0iMHB4IgogICB5PSIwcHgiCiAgIHZpZXdCb3g9IjAgMCAyMCAyMCIKICAgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxIHIxMzcyNSIKICAgc29kaXBvZGk6ZG9jbmFtZT0iZnVsbHNjcmVlbi5zdmciPjxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTQxODUiPjxyZGY6UkRGPjxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj48ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD48ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+PGRjOnRpdGxlPjwvZGM6dGl0bGU+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxkZWZzCiAgICAgaWQ9ImRlZnM0MTgzIiAvPjxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMSIKICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwIgogICAgIGd1aWRldG9sZXJhbmNlPSIxMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTQ3MSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI2OTUiCiAgICAgaWQ9Im5hbWVkdmlldzQxODEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnpvb209IjExLjMxMzcwOCIKICAgICBpbmtzY2FwZTpjeD0iMTQuNjk4MjgiCiAgICAgaW5rc2NhcGU6Y3k9IjEwLjUyNjY4OSIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iNjk3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSIyOTgiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJMYXllcl8xIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1wYXRocz0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1ub2Rlcz0idHJ1ZSI+PGlua3NjYXBlOmdyaWQKICAgICAgIHR5cGU9Inh5Z3JpZCIKICAgICAgIGlkPSJncmlkNjA3NiIgLz48L3NvZGlwb2RpOm5hbWVkdmlldz48cGF0aAogICAgIGQ9Ik0gNSA0IEMgNC41IDQgNCA0LjUgNCA1IEwgNCA2IEwgNCA5IEwgNC41IDkgTCA1Ljc3NzM0MzggNy4yOTY4NzUgQyA2Ljc3NzEzMTkgOC4wNjAyMTMxIDcuODM1NzY1IDguOTU2NTcyOCA4Ljg5MDYyNSAxMCBDIDcuODI1NzEyMSAxMS4wNjMzIDYuNzc2MTc5MSAxMS45NTE2NzUgNS43ODEyNSAxMi43MDcwMzEgTCA0LjUgMTEgTCA0IDExIEwgNCAxNSBDIDQgMTUuNSA0LjUgMTYgNSAxNiBMIDkgMTYgTCA5IDE1LjUgTCA3LjI3MzQzNzUgMTQuMjA1MDc4IEMgOC4wNDI4OTMxIDEzLjE4Nzg4NiA4LjkzOTU0NDEgMTIuMTMzNDgxIDkuOTYwOTM3NSAxMS4wNjgzNTkgQyAxMS4wNDIzNzEgMTIuMTQ2OTkgMTEuOTQyMDkzIDEzLjIxMTIgMTIuNzA3MDMxIDE0LjIxODc1IEwgMTEgMTUuNSBMIDExIDE2IEwgMTQgMTYgTCAxNSAxNiBDIDE1LjUgMTYgMTYgMTUuNSAxNiAxNSBMIDE2IDE0IEwgMTYgMTEgTCAxNS41IDExIEwgMTQuMjA1MDc4IDEyLjcyNjU2MiBDIDEzLjE3Nzk4NSAxMS45NDk2MTcgMTIuMTEyNzE4IDExLjA0MzU3NyAxMS4wMzcxMDkgMTAuMDA5NzY2IEMgMTIuMTUxODU2IDguOTgxMDYxIDEzLjIyNDM0NSA4LjA3OTg2MjQgMTQuMjI4NTE2IDcuMzA0Njg3NSBMIDE1LjUgOSBMIDE2IDkgTCAxNiA1IEMgMTYgNC41IDE1LjUgNCAxNSA0IEwgMTEgNCBMIDExIDQuNSBMIDEyLjcwMzEyNSA1Ljc3NzM0MzggQyAxMS45MzI2NDcgNi43ODY0ODM0IDExLjAyNjY5MyA3Ljg1NTQ3MTIgOS45NzA3MDMxIDguOTE5OTIxOSBDIDguOTU4NDczOSA3LjgyMDQ5NDMgOC4wNjk4NzY3IDYuNzYyNzE4OCA3LjMwNDY4NzUgNS43NzE0ODQ0IEwgOSA0LjUgTCA5IDQgTCA2IDQgTCA1IDQgeiAiCiAgICAgaWQ9InBhdGg0MTY5IiAvPjwvc3ZnPg==");\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-shrink  {\n    background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4KCjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0iTGF5ZXJfMSIKICAgeD0iMHB4IgogICB5PSIwcHgiCiAgIHZpZXdCb3g9IjAgMCAyMCAyMCIKICAgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxIHIxMzcyNSIKICAgc29kaXBvZGk6ZG9jbmFtZT0ic2hyaW5rLnN2ZyI+PG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhMTkiPjxyZGY6UkRGPjxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj48ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD48ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+PGRjOnRpdGxlPjwvZGM6dGl0bGU+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxkZWZzCiAgICAgaWQ9ImRlZnMxNyIgLz48c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjIwMjEiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iOTA4IgogICAgIGlkPSJuYW1lZHZpZXcxNSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iMSIKICAgICBpbmtzY2FwZTpjeD0iNC45NTAxMDgyIgogICAgIGlua3NjYXBlOmN5PSIxMC44NTQ3NDciCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJMYXllcl8xIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtYmJveC1lZGdlLW1pZHBvaW50cz0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtYmJveC1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6b2JqZWN0LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1ub2Rlcz0idHJ1ZSI+PGlua3NjYXBlOmdyaWQKICAgICAgIHR5cGU9Inh5Z3JpZCIKICAgICAgIGlkPSJncmlkNDE0NyIgLz48L3NvZGlwb2RpOm5hbWVkdmlldz48cGF0aAogICAgIHN0eWxlPSJmaWxsOiMwMDAwMDAiCiAgICAgZD0iTSA0LjI0MjE4NzUgMy40OTIxODc1IEEgMC43NTAwNzUgMC43NTAwNzUgMCAwIDAgMy43MTg3NSA0Ljc4MTI1IEwgNS45NjQ4NDM4IDcuMDI3MzQzOCBMIDQgOC41IEwgNCA5IEwgOCA5IEMgOC41MDAwMDEgOC45OTk5OTg4IDkgOC40OTk5OTkyIDkgOCBMIDkgNCBMIDguNSA0IEwgNy4wMTc1NzgxIDUuOTU1MDc4MSBMIDQuNzgxMjUgMy43MTg3NSBBIDAuNzUwMDc1IDAuNzUwMDc1IDAgMCAwIDQuMjQyMTg3NSAzLjQ5MjE4NzUgeiBNIDE1LjczNDM3NSAzLjQ5MjE4NzUgQSAwLjc1MDA3NSAwLjc1MDA3NSAwIDAgMCAxNS4yMTg3NSAzLjcxODc1IEwgMTIuOTg0Mzc1IDUuOTUzMTI1IEwgMTEuNSA0IEwgMTEgNCBMIDExIDggQyAxMSA4LjQ5OTk5OTIgMTEuNDk5OTk5IDguOTk5OTk4OCAxMiA5IEwgMTYgOSBMIDE2IDguNSBMIDE0LjAzNTE1NiA3LjAyNzM0MzggTCAxNi4yODEyNSA0Ljc4MTI1IEEgMC43NTAwNzUgMC43NTAwNzUgMCAwIDAgMTUuNzM0Mzc1IDMuNDkyMTg3NSB6IE0gNCAxMSBMIDQgMTEuNSBMIDUuOTY0ODQzOCAxMi45NzI2NTYgTCAzLjcxODc1IDE1LjIxODc1IEEgMC43NTEzMDA5NiAwLjc1MTMwMDk2IDAgMSAwIDQuNzgxMjUgMTYuMjgxMjUgTCA3LjAyNzM0MzggMTQuMDM1MTU2IEwgOC41IDE2IEwgOSAxNiBMIDkgMTIgQyA5IDExLjUwMDAwMSA4LjUwMDAwMSAxMS4wMDAwMDEgOCAxMSBMIDQgMTEgeiBNIDEyIDExIEMgMTEuNDk5OTk5IDExLjAwMDAwMSAxMSAxMS41MDAwMDEgMTEgMTIgTCAxMSAxNiBMIDExLjUgMTYgTCAxMi45NzI2NTYgMTQuMDM1MTU2IEwgMTUuMjE4NzUgMTYuMjgxMjUgQSAwLjc1MTMwMDk2IDAuNzUxMzAwOTYgMCAxIDAgMTYuMjgxMjUgMTUuMjE4NzUgTCAxNC4wMzUxNTYgMTIuOTcyNjU2IEwgMTYgMTEuNSBMIDE2IDExIEwgMTIgMTEgeiAiCiAgICAgaWQ9InBhdGg3IiAvPjwvc3ZnPg==");\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-compass > .mapboxgl-ctrl-compass-arrow {\n    width: 20px;\n    height: 20px;\n    margin: 5px;\n    background-image: url("data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2020%2020%27%3E%0A%09%3Cpolygon%20fill%3D%27%23333333%27%20points%3D%276%2C9%2010%2C1%2014%2C9%27%2F%3E%0A%09%3Cpolygon%20fill%3D%27%23CCCCCC%27%20points%3D%276%2C11%2010%2C19%2014%2C11%20%27%2F%3E%0A%3C%2Fsvg%3E");\n    background-repeat: no-repeat;\n    display: inline-block;\n}\n\na.mapboxgl-ctrl-logo {\n    width: 85px;\n    height: 21px;\n    margin: 0 0 -3px -3px;\n    display: block;\n    background-repeat: no-repeat;\n    cursor: pointer;\n    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiAgIHZpZXdCb3g9IjAgMCA4NC40OSAyMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgODQuNDkgMjE7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48Zz4gIDxwYXRoIGNsYXNzPSJzdDAiIHN0eWxlPSJvcGFjaXR5OjAuOTsgZmlsbDogI0ZGRkZGRjsgZW5hYmxlLWJhY2tncm91bmQ6IG5ldzsiIGQ9Ik04My4yNSwxNC4yNmMwLDAuMTItMC4wOSwwLjIxLTAuMjEsMC4yMWgtMS42MWMtMC4xMywwLTAuMjQtMC4wNi0wLjMtMC4xN2wtMS40NC0yLjM5bC0xLjQ0LDIuMzkgICAgYy0wLjA2LDAuMTEtMC4xOCwwLjE3LTAuMywwLjE3aC0xLjYxYy0wLjA0LDAtMC4wOC0wLjAxLTAuMTItMC4wM2MtMC4wOS0wLjA2LTAuMTMtMC4xOS0wLjA2LTAuMjhsMCwwbDIuNDMtMy42OEw3Ni4yLDYuODQgICAgYy0wLjAyLTAuMDMtMC4wMy0wLjA3LTAuMDMtMC4xMmMwLTAuMTIsMC4wOS0wLjIxLDAuMjEtMC4yMWgxLjYxYzAuMTMsMCwwLjI0LDAuMDYsMC4zLDAuMTdsMS40MSwyLjM2bDEuNC0yLjM1ICAgIGMwLjA2LTAuMTEsMC4xOC0wLjE3LDAuMy0wLjE3SDgzYzAuMDQsMCwwLjA4LDAuMDEsMC4xMiwwLjAzYzAuMDksMC4wNiwwLjEzLDAuMTksMC4wNiwwLjI4bDAsMGwtMi4zNywzLjYzbDIuNDMsMy42NyAgICBDODMuMjQsMTQuMTgsODMuMjUsMTQuMjIsODMuMjUsMTQuMjZ6Ii8+ICA8cGF0aCBjbGFzcz0ic3QwIiBzdHlsZT0ib3BhY2l0eTowLjk7IGZpbGw6ICNGRkZGRkY7IGVuYWJsZS1iYWNrZ3JvdW5kOiBuZXc7IiBkPSJNNjYuMjQsOS41OWMtMC4zOS0xLjg4LTEuOTYtMy4yOC0zLjg0LTMuMjhjLTEuMDMsMC0yLjAzLDAuNDItMi43MywxLjE4VjMuNTFjMC0wLjEzLTAuMS0wLjIzLTAuMjMtMC4yM2gtMS40ICAgIGMtMC4xMywwLTAuMjMsMC4xMS0wLjIzLDAuMjN2MTAuNzJjMCwwLjEzLDAuMSwwLjIzLDAuMjMsMC4yM2gxLjRjMC4xMywwLDAuMjMtMC4xMSwwLjIzLTAuMjNWMTMuNWMwLjcxLDAuNzUsMS43LDEuMTgsMi43MywxLjE4ICAgIGMxLjg4LDAsMy40NS0xLjQxLDMuODQtMy4yOUM2Ni4zNywxMC43OSw2Ni4zNywxMC4xOCw2Ni4yNCw5LjU5TDY2LjI0LDkuNTl6IE02Mi4wOCwxM2MtMS4zMiwwLTIuMzktMS4xMS0yLjQxLTIuNDh2LTAuMDYgICAgYzAuMDItMS4zOCwxLjA5LTIuNDgsMi40MS0yLjQ4czIuNDIsMS4xMiwyLjQyLDIuNTFTNjMuNDEsMTMsNjIuMDgsMTN6Ii8+ICA8cGF0aCBjbGFzcz0ic3QwIiBzdHlsZT0ib3BhY2l0eTowLjk7IGZpbGw6ICNGRkZGRkY7IGVuYWJsZS1iYWNrZ3JvdW5kOiBuZXc7IiBkPSJNNzEuNjcsNi4zMmMtMS45OC0wLjAxLTMuNzIsMS4zNS00LjE2LDMuMjljLTAuMTMsMC41OS0wLjEzLDEuMTksMCwxLjc3YzAuNDQsMS45NCwyLjE3LDMuMzIsNC4xNywzLjMgICAgYzIuMzUsMCw0LjI2LTEuODcsNC4yNi00LjE5Uzc0LjA0LDYuMzIsNzEuNjcsNi4zMnogTTcxLjY1LDEzLjAxYy0xLjMzLDAtMi40Mi0xLjEyLTIuNDItMi41MXMxLjA4LTIuNTIsMi40Mi0yLjUyICAgIGMxLjMzLDAsMi40MiwxLjEyLDIuNDIsMi41MVM3Mi45OSwxMyw3MS42NSwxMy4wMUw3MS42NSwxMy4wMXoiLz4gIDxwYXRoIGNsYXNzPSJzdDEiIHN0eWxlPSJvcGFjaXR5OjAuMzU7IGVuYWJsZS1iYWNrZ3JvdW5kOm5ldzsiIGQ9Ik02Mi4wOCw3Ljk4Yy0xLjMyLDAtMi4zOSwxLjExLTIuNDEsMi40OHYwLjA2QzU5LjY4LDExLjksNjAuNzUsMTMsNjIuMDgsMTNzMi40Mi0xLjEyLDIuNDItMi41MSAgICBTNjMuNDEsNy45OCw2Mi4wOCw3Ljk4eiBNNjIuMDgsMTEuNzZjLTAuNjMsMC0xLjE0LTAuNTYtMS4xNy0xLjI1di0wLjA0YzAuMDEtMC42OSwwLjU0LTEuMjUsMS4xNy0xLjI1ICAgIGMwLjYzLDAsMS4xNywwLjU3LDEuMTcsMS4yN0M2My4yNCwxMS4yLDYyLjczLDExLjc2LDYyLjA4LDExLjc2eiIvPiAgPHBhdGggY2xhc3M9InN0MSIgc3R5bGU9Im9wYWNpdHk6MC4zNTsgZW5hYmxlLWJhY2tncm91bmQ6bmV3OyIgZD0iTTcxLjY1LDcuOThjLTEuMzMsMC0yLjQyLDEuMTItMi40MiwyLjUxUzcwLjMyLDEzLDcxLjY1LDEzczIuNDItMS4xMiwyLjQyLTIuNTFTNzIuOTksNy45OCw3MS42NSw3Ljk4eiAgICAgTTcxLjY1LDExLjc2Yy0wLjY0LDAtMS4xNy0wLjU3LTEuMTctMS4yN2MwLTAuNywwLjUzLTEuMjYsMS4xNy0xLjI2czEuMTcsMC41NywxLjE3LDEuMjdDNzIuODIsMTEuMjEsNzIuMjksMTEuNzYsNzEuNjUsMTEuNzZ6IiAgICAvPiAgPHBhdGggY2xhc3M9InN0MCIgc3R5bGU9Im9wYWNpdHk6MC45OyBmaWxsOiAjRkZGRkZGOyBlbmFibGUtYmFja2dyb3VuZDogbmV3OyIgZD0iTTQ1Ljc0LDYuNTNoLTEuNGMtMC4xMywwLTAuMjMsMC4xMS0wLjIzLDAuMjN2MC43M2MtMC43MS0wLjc1LTEuNy0xLjE4LTIuNzMtMS4xOCAgICBjLTIuMTcsMC0zLjk0LDEuODctMy45NCw0LjE5czEuNzcsNC4xOSwzLjk0LDQuMTljMS4wNCwwLDIuMDMtMC40MywyLjczLTEuMTl2MC43M2MwLDAuMTMsMC4xLDAuMjMsMC4yMywwLjIzaDEuNCAgICBjMC4xMywwLDAuMjMtMC4xMSwwLjIzLTAuMjNWNi43NGMwLTAuMTItMC4wOS0wLjIyLTAuMjItMC4yMkM0NS43NSw2LjUzLDQ1Ljc1LDYuNTMsNDUuNzQsNi41M3ogTTQ0LjEyLDEwLjUzICAgIEM0NC4xMSwxMS45LDQzLjAzLDEzLDQxLjcxLDEzcy0yLjQyLTEuMTItMi40Mi0yLjUxczEuMDgtMi41MiwyLjQtMi41MmMxLjMzLDAsMi4zOSwxLjExLDIuNDEsMi40OEw0NC4xMiwxMC41M3oiLz4gIDxwYXRoIGNsYXNzPSJzdDEiIHN0eWxlPSJvcGFjaXR5OjAuMzU7IGVuYWJsZS1iYWNrZ3JvdW5kOm5ldzsiIGQ9Ik00MS43MSw3Ljk4Yy0xLjMzLDAtMi40MiwxLjEyLTIuNDIsMi41MVM0MC4zNywxMyw0MS43MSwxM3MyLjM5LTEuMTEsMi40MS0yLjQ4di0wLjA2ICAgIEM0NC4xLDkuMDksNDMuMDMsNy45OCw0MS43MSw3Ljk4eiBNNDAuNTUsMTAuNDljMC0wLjcsMC41Mi0xLjI3LDEuMTctMS4yN2MwLjY0LDAsMS4xNCwwLjU2LDEuMTcsMS4yNXYwLjA0ICAgIGMtMC4wMSwwLjY4LTAuNTMsMS4yNC0xLjE3LDEuMjRDNDEuMDgsMTEuNzUsNDAuNTUsMTEuMTksNDAuNTUsMTAuNDl6Ii8+ICA8cGF0aCBjbGFzcz0ic3QwIiBzdHlsZT0ib3BhY2l0eTowLjk7IGZpbGw6ICNGRkZGRkY7IGVuYWJsZS1iYWNrZ3JvdW5kOiBuZXc7IiBkPSJNNTIuNDEsNi4zMmMtMS4wMywwLTIuMDMsMC40Mi0yLjczLDEuMThWNi43NWMwLTAuMTMtMC4xLTAuMjMtMC4yMy0wLjIzaC0xLjRjLTAuMTMsMC0wLjIzLDAuMTEtMC4yMywwLjIzICAgIHYxMC43MmMwLDAuMTMsMC4xLDAuMjMsMC4yMywwLjIzaDEuNGMwLjEzLDAsMC4yMy0wLjEsMC4yMy0wLjIzVjEzLjVjMC43MSwwLjc1LDEuNywxLjE4LDIuNzQsMS4xOGMyLjE3LDAsMy45NC0xLjg3LDMuOTQtNC4xOSAgICBTNTQuNTgsNi4zMiw1Mi40MSw2LjMyeiBNNTIuMDgsMTMuMDFjLTEuMzIsMC0yLjM5LTEuMTEtMi40Mi0yLjQ4di0wLjA3YzAuMDItMS4zOCwxLjA5LTIuNDksMi40LTIuNDljMS4zMiwwLDIuNDEsMS4xMiwyLjQxLDIuNTEgICAgUzUzLjQsMTMsNTIuMDgsMTMuMDFMNTIuMDgsMTMuMDF6Ii8+ICA8cGF0aCBjbGFzcz0ic3QxIiBzdHlsZT0ib3BhY2l0eTowLjM1OyBlbmFibGUtYmFja2dyb3VuZDpuZXc7IiBkPSJNNTIuMDgsNy45OGMtMS4zMiwwLTIuMzksMS4xMS0yLjQyLDIuNDh2MC4wNmMwLjAzLDEuMzgsMS4xLDIuNDgsMi40MiwyLjQ4czIuNDEtMS4xMiwyLjQxLTIuNTEgICAgUzUzLjQsNy45OCw1Mi4wOCw3Ljk4eiBNNTIuMDgsMTEuNzZjLTAuNjMsMC0xLjE0LTAuNTYtMS4xNy0xLjI1di0wLjA0YzAuMDEtMC42OSwwLjU0LTEuMjUsMS4xNy0xLjI1YzAuNjMsMCwxLjE3LDAuNTgsMS4xNywxLjI3ICAgIFM1Mi43MiwxMS43Niw1Mi4wOCwxMS43NnoiLz4gIDxwYXRoIGNsYXNzPSJzdDAiIHN0eWxlPSJvcGFjaXR5OjAuOTsgZmlsbDogI0ZGRkZGRjsgZW5hYmxlLWJhY2tncm91bmQ6IG5ldzsiIGQ9Ik0zNi4wOCwxNC4yNGMwLDAuMTMtMC4xLDAuMjMtMC4yMywwLjIzaC0xLjQxYy0wLjEzLDAtMC4yMy0wLjExLTAuMjMtMC4yM1Y5LjY4YzAtMC45OC0wLjc0LTEuNzEtMS42Mi0xLjcxICAgIGMtMC44LDAtMS40NiwwLjctMS41OSwxLjYybDAuMDEsNC42NmMwLDAuMTMtMC4xMSwwLjIzLTAuMjMsMC4yM2gtMS40MWMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjNWOS42OCAgICBjMC0wLjk4LTAuNzQtMS43MS0xLjYyLTEuNzFjLTAuODUsMC0xLjU0LDAuNzktMS42LDEuOHY0LjQ4YzAsMC4xMy0wLjEsMC4yMy0wLjIzLDAuMjNoLTEuNGMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjNWNi43NCAgICBjMC4wMS0wLjEzLDAuMS0wLjIyLDAuMjMtMC4yMmgxLjRjMC4xMywwLDAuMjIsMC4xMSwwLjIzLDAuMjJWNy40YzAuNS0wLjY4LDEuMy0xLjA5LDIuMTYtMS4xaDAuMDNjMS4wOSwwLDIuMDksMC42LDIuNiwxLjU1ICAgIGMwLjQ1LTAuOTUsMS40LTEuNTUsMi40NC0xLjU2YzEuNjIsMCwyLjkzLDEuMjUsMi45LDIuNzhMMzYuMDgsMTQuMjR6Ii8+ICA8cGF0aCBjbGFzcz0ic3QxIiBzdHlsZT0ib3BhY2l0eTowLjM1OyBlbmFibGUtYmFja2dyb3VuZDpuZXc7IiBkPSJNODQuMzQsMTMuNTlsLTAuMDctMC4xM2wtMS45Ni0yLjk5bDEuOTQtMi45NWMwLjQ0LTAuNjcsMC4yNi0xLjU2LTAuNDEtMi4wMmMtMC4wMiwwLTAuMDMsMC0wLjA0LTAuMDEgICAgYy0wLjIzLTAuMTUtMC41LTAuMjItMC43OC0wLjIyaC0xLjYxYy0wLjU2LDAtMS4wOCwwLjI5LTEuMzcsMC43OEw3OS43Miw2LjZsLTAuMzQtMC41NkM3OS4wOSw1LjU2LDc4LjU3LDUuMjcsNzgsNS4yN2gtMS42ICAgIGMtMC42LDAtMS4xMywwLjM3LTEuMzUsMC45MmMtMi4xOS0xLjY2LTUuMjgtMS40Ny03LjI2LDAuNDVjLTAuMzUsMC4zNC0wLjY1LDAuNzItMC44OSwxLjE0Yy0wLjktMS42Mi0yLjU4LTIuNzItNC41LTIuNzIgICAgYy0wLjUsMC0xLjAxLDAuMDctMS40OCwwLjIzVjMuNTFjMC0wLjgyLTAuNjYtMS40OC0xLjQ3LTEuNDhoLTEuNGMtMC44MSwwLTEuNDcsMC42Ni0xLjQ3LDEuNDd2My43NSAgICBjLTAuOTUtMS4zNi0yLjUtMi4xOC00LjE3LTIuMTljLTAuNzQsMC0xLjQ2LDAuMTYtMi4xMiwwLjQ3Yy0wLjI0LTAuMTctMC41NC0wLjI2LTAuODQtMC4yNmgtMS40Yy0wLjQ1LDAtMC44NywwLjIxLTEuMTUsMC41NiAgICBjLTAuMDItMC4wMy0wLjA0LTAuMDUtMC4wNy0wLjA4Yy0wLjI4LTAuMy0wLjY4LTAuNDctMS4wOS0wLjQ3aC0xLjM5Yy0wLjMsMC0wLjYsMC4wOS0wLjg0LDAuMjZjLTAuNjctMC4zLTEuMzktMC40Ni0yLjEyLTAuNDYgICAgYy0xLjgzLDAtMy40MywxLTQuMzcsMi41Yy0wLjItMC40Ni0wLjQ4LTAuODktMC44My0xLjI1Yy0wLjgtMC44MS0xLjg5LTEuMjUtMy4wMi0xLjI1aC0wLjAxYy0wLjg5LDAuMDEtMS43NSwwLjMzLTIuNDYsMC44OCAgICBjLTAuNzQtMC41Ny0xLjY0LTAuODgtMi41Ny0wLjg4SDI4LjFjLTAuMjksMC0wLjU4LDAuMDMtMC44NiwwLjExYy0wLjI4LDAuMDYtMC41NiwwLjE2LTAuODIsMC4yOGMtMC4yMS0wLjEyLTAuNDUtMC4xOC0wLjctMC4xOCAgICBoLTEuNGMtMC44MiwwLTEuNDcsMC42Ni0xLjQ3LDEuNDd2Ny41YzAsMC44MiwwLjY2LDEuNDcsMS40NywxLjQ3aDEuNGMwLjgyLDAsMS40OC0wLjY2LDEuNDgtMS40OGwwLDBWOS43OSAgICBjMC4wMy0wLjM2LDAuMjMtMC41OSwwLjM2LTAuNTljMC4xOCwwLDAuMzgsMC4xOCwwLjM4LDAuNDd2NC41N2MwLDAuODIsMC42NiwxLjQ3LDEuNDcsMS40N2gxLjQxYzAuODIsMCwxLjQ3LTAuNjYsMS40Ny0xLjQ3ICAgIGwtMC4wMS00LjU3YzAuMDYtMC4zMiwwLjI1LTAuNDcsMC4zNS0wLjQ3YzAuMTgsMCwwLjM4LDAuMTgsMC4zOCwwLjQ3djQuNTdjMCwwLjgyLDAuNjYsMS40NywxLjQ3LDEuNDdoMS40MSAgICBjMC44MiwwLDEuNDctMC42NiwxLjQ3LTEuNDd2LTAuMzhjMC45NiwxLjI5LDIuNDYsMi4wNiw0LjA2LDIuMDZjMC43NCwwLDEuNDYtMC4xNiwyLjEyLTAuNDdjMC4yNCwwLjE3LDAuNTQsMC4yNiwwLjg0LDAuMjZoMS4zOSAgICBjMC4zLDAsMC42LTAuMDksMC44NC0wLjI2djIuMDFjMCwwLjgyLDAuNjYsMS40NywxLjQ3LDEuNDdoMS40YzAuODIsMCwxLjQ3LTAuNjYsMS40Ny0xLjQ3di0xLjc3YzAuNDgsMC4xNSwwLjk5LDAuMjMsMS40OSwwLjIyICAgIGMxLjcsMCwzLjIyLTAuODcsNC4xNy0yLjJ2MC41MmMwLDAuODIsMC42NiwxLjQ3LDEuNDcsMS40N2gxLjRjMC4zLDAsMC42LTAuMDksMC44NC0wLjI2YzAuNjYsMC4zMSwxLjM5LDAuNDcsMi4xMiwwLjQ3ICAgIGMxLjkyLDAsMy42LTEuMSw0LjQ5LTIuNzNjMS41NCwyLjY1LDQuOTUsMy41Myw3LjU4LDEuOThjMC4xOC0wLjExLDAuMzYtMC4yMiwwLjUzLTAuMzZjMC4yMiwwLjU1LDAuNzYsMC45MSwxLjM1LDAuOUg3OCAgICBjMC41NiwwLDEuMDgtMC4yOSwxLjM3LTAuNzhsMC4zNy0wLjYxbDAuMzcsMC42MWMwLjI5LDAuNDgsMC44MSwwLjc4LDEuMzgsMC43OGgxLjZjMC44MSwwLDEuNDYtMC42NiwxLjQ1LTEuNDYgICAgQzg0LjQ5LDE0LjAyLDg0LjQ0LDEzLjgsODQuMzQsMTMuNTlMODQuMzQsMTMuNTl6IE0zNS44NiwxNC40N2gtMS40MWMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjNWOS42OCAgICBjMC0wLjk4LTAuNzQtMS43MS0xLjYyLTEuNzFjLTAuOCwwLTEuNDYsMC43LTEuNTksMS42MmwwLjAxLDQuNjZjMCwwLjEzLTAuMSwwLjIzLTAuMjMsMC4yM2gtMS40MWMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjMgICAgVjkuNjhjMC0wLjk4LTAuNzQtMS43MS0xLjYyLTEuNzFjLTAuODUsMC0xLjU0LDAuNzktMS42LDEuOHY0LjQ4YzAsMC4xMy0wLjEsMC4yMy0wLjIzLDAuMjNoLTEuNGMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjMgICAgVjYuNzRjMC4wMS0wLjEzLDAuMTEtMC4yMiwwLjIzLTAuMjJoMS40YzAuMTMsMCwwLjIyLDAuMTEsMC4yMywwLjIyVjcuNGMwLjUtMC42OCwxLjMtMS4wOSwyLjE2LTEuMWgwLjAzICAgIGMxLjA5LDAsMi4wOSwwLjYsMi42LDEuNTVjMC40NS0wLjk1LDEuNC0xLjU1LDIuNDQtMS41NmMxLjYyLDAsMi45MywxLjI1LDIuOSwyLjc4bDAuMDEsNS4xNkMzNi4wOSwxNC4zNiwzNS45OCwxNC40NiwzNS44NiwxNC40NyAgICBMMzUuODYsMTQuNDd6IE00NS45NywxNC4yNGMwLDAuMTMtMC4xLDAuMjMtMC4yMywwLjIzaC0xLjRjLTAuMTMsMC0wLjIzLTAuMTEtMC4yMy0wLjIzVjEzLjVjLTAuNywwLjc2LTEuNjksMS4xOC0yLjcyLDEuMTggICAgYy0yLjE3LDAtMy45NC0xLjg3LTMuOTQtNC4xOXMxLjc3LTQuMTksMy45NC00LjE5YzEuMDMsMCwyLjAyLDAuNDMsMi43MywxLjE4VjYuNzRjMC0wLjEzLDAuMS0wLjIzLDAuMjMtMC4yM2gxLjQgICAgYzAuMTItMC4wMSwwLjIyLDAuMDgsMC4yMywwLjIxYzAsMC4wMSwwLDAuMDEsMCwwLjAydjcuNTFoLTAuMDFWMTQuMjR6IE01Mi40MSwxNC42N2MtMS4wMywwLTIuMDItMC40My0yLjczLTEuMTh2My45NyAgICBjMCwwLjEzLTAuMSwwLjIzLTAuMjMsMC4yM2gtMS40Yy0wLjEzLDAtMC4yMy0wLjEtMC4yMy0wLjIzVjYuNzVjMC0wLjEzLDAuMS0wLjIyLDAuMjMtMC4yMmgxLjRjMC4xMywwLDAuMjMsMC4xMSwwLjIzLDAuMjN2MC43MyAgICBjMC43MS0wLjc2LDEuNy0xLjE4LDIuNzMtMS4xOGMyLjE3LDAsMy45NCwxLjg2LDMuOTQsNC4xOFM1NC41OCwxNC42Nyw1Mi40MSwxNC42N3ogTTY2LjI0LDExLjM5Yy0wLjM5LDEuODctMS45NiwzLjI5LTMuODQsMy4yOSAgICBjLTEuMDMsMC0yLjAyLTAuNDMtMi43My0xLjE4djAuNzNjMCwwLjEzLTAuMSwwLjIzLTAuMjMsMC4yM2gtMS40Yy0wLjEzLDAtMC4yMy0wLjExLTAuMjMtMC4yM1YzLjUxYzAtMC4xMywwLjEtMC4yMywwLjIzLTAuMjMgICAgaDEuNGMwLjEzLDAsMC4yMywwLjExLDAuMjMsMC4yM3YzLjk3YzAuNzEtMC43NSwxLjctMS4xOCwyLjczLTEuMTdjMS44OCwwLDMuNDUsMS40LDMuODQsMy4yOEM2Ni4zNywxMC4xOSw2Ni4zNywxMC44LDY2LjI0LDExLjM5ICAgIEw2Ni4yNCwxMS4zOUw2Ni4yNCwxMS4zOXogTTcxLjY3LDE0LjY4Yy0yLDAuMDEtMy43My0xLjM1LTQuMTctMy4zYy0wLjEzLTAuNTktMC4xMy0xLjE5LDAtMS43N2MwLjQ0LTEuOTQsMi4xNy0zLjMxLDQuMTctMy4zICAgIGMyLjM2LDAsNC4yNiwxLjg3LDQuMjYsNC4xOVM3NC4wMywxNC42OCw3MS42NywxNC42OEw3MS42NywxNC42OHogTTgzLjA0LDE0LjQ3aC0xLjYxYy0wLjEzLDAtMC4yNC0wLjA2LTAuMy0wLjE3bC0xLjQ0LTIuMzkgICAgbC0xLjQ0LDIuMzljLTAuMDYsMC4xMS0wLjE4LDAuMTctMC4zLDAuMTdoLTEuNjFjLTAuMDQsMC0wLjA4LTAuMDEtMC4xMi0wLjAzYy0wLjA5LTAuMDYtMC4xMy0wLjE5LTAuMDYtMC4yOGwwLDBsMi40My0zLjY4ICAgIEw3Ni4yLDYuODRjLTAuMDItMC4wMy0wLjAzLTAuMDctMC4wMy0wLjEyYzAtMC4xMiwwLjA5LTAuMjEsMC4yMS0wLjIxaDEuNjFjMC4xMywwLDAuMjQsMC4wNiwwLjMsMC4xN2wxLjQxLDIuMzZsMS40MS0yLjM2ICAgIGMwLjA2LTAuMTEsMC4xOC0wLjE3LDAuMy0wLjE3aDEuNjFjMC4wNCwwLDAuMDgsMC4wMSwwLjEyLDAuMDNjMC4wOSwwLjA2LDAuMTMsMC4xOSwwLjA2LDAuMjhsMCwwbC0yLjM4LDMuNjRsMi40MywzLjY3ICAgIGMwLjAyLDAuMDMsMC4wMywwLjA3LDAuMDMsMC4xMkM4My4yNSwxNC4zOCw4My4xNiwxNC40Nyw4My4wNCwxNC40N0w4My4wNCwxNC40N0w4My4wNCwxNC40N3oiLz4gIDxwYXRoIGNsYXNzPSJzdDAiIHN0eWxlPSJvcGFjaXR5OjAuOTsgZmlsbDogI0ZGRkZGRjsgZW5hYmxlLWJhY2tncm91bmQ6IG5ldzsiIGQ9Ik0xMC41LDEuMjRjLTUuMTEsMC05LjI1LDQuMTUtOS4yNSw5LjI1czQuMTUsOS4yNSw5LjI1LDkuMjVzOS4yNS00LjE1LDkuMjUtOS4yNSAgICBDMTkuNzUsNS4zOCwxNS42MSwxLjI0LDEwLjUsMS4yNHogTTE0Ljg5LDEyLjc3Yy0xLjkzLDEuOTMtNC43OCwyLjMxLTYuNywyLjMxYy0wLjcsMC0xLjQxLTAuMDUtMi4xLTAuMTZjMCwwLTEuMDItNS42NCwyLjE0LTguODEgICAgYzAuODMtMC44MywxLjk1LTEuMjgsMy4xMy0xLjI4YzEuMjcsMCwyLjQ5LDAuNTEsMy4zOSwxLjQyQzE2LjU5LDguMDksMTYuNjQsMTEsMTQuODksMTIuNzd6Ii8+ICA8cGF0aCBjbGFzcz0ic3QxIiBzdHlsZT0ib3BhY2l0eTowLjM1OyBlbmFibGUtYmFja2dyb3VuZDpuZXc7IiBkPSJNMTAuNS0wLjAxQzQuNy0wLjAxLDAsNC43LDAsMTAuNDlzNC43LDEwLjUsMTAuNSwxMC41UzIxLDE2LjI5LDIxLDEwLjQ5QzIwLjk5LDQuNywxNi4zLTAuMDEsMTAuNS0wLjAxeiAgICAgTTEwLjUsMTkuNzRjLTUuMTEsMC05LjI1LTQuMTUtOS4yNS05LjI1czQuMTQtOS4yNiw5LjI1LTkuMjZzOS4yNSw0LjE1LDkuMjUsOS4yNUMxOS43NSwxNS42MSwxNS42MSwxOS43NCwxMC41LDE5Ljc0eiIvPiAgPHBhdGggY2xhc3M9InN0MSIgc3R5bGU9Im9wYWNpdHk6MC4zNTsgZW5hYmxlLWJhY2tncm91bmQ6bmV3OyIgZD0iTTE0Ljc0LDYuMjVDMTIuOSw0LjQxLDkuOTgsNC4zNSw4LjIzLDYuMWMtMy4xNiwzLjE3LTIuMTQsOC44MS0yLjE0LDguODFzNS42NCwxLjAyLDguODEtMi4xNCAgICBDMTYuNjQsMTEsMTYuNTksOC4wOSwxNC43NCw2LjI1eiBNMTIuNDcsMTAuMzRsLTAuOTEsMS44N2wtMC45LTEuODdMOC44LDkuNDNsMS44Ni0wLjlsMC45LTEuODdsMC45MSwxLjg3bDEuODYsMC45TDEyLjQ3LDEwLjM0eiIgICAgLz4gIDxwb2x5Z29uIGNsYXNzPSJzdDAiIHN0eWxlPSJvcGFjaXR5OjAuOTsgZmlsbDogI0ZGRkZGRjsgZW5hYmxlLWJhY2tncm91bmQ6IG5ldzsiIHBvaW50cz0iMTQuMzMsOS40MyAxMi40NywxMC4zNCAxMS41NiwxMi4yMSAxMC42NiwxMC4zNCA4LjgsOS40MyAxMC42Niw4LjUzIDExLjU2LDYuNjYgMTIuNDcsOC41MyAgICIvPjwvZz48L3N2Zz4=);\n}\n\n.mapboxgl-ctrl.mapboxgl-ctrl-attrib {\n    padding: 0 5px;\n    background-color: rgba(255, 255, 255, .5);\n    margin: 0;\n}\n.mapboxgl-ctrl-attrib.mapboxgl-compact {\n    padding-top: 2px;\n    padding-bottom: 2px;\n    margin: 0 10px 10px 10px;\n    position: relative;\n    padding-right: 24px;\n    background-color: #fff;\n    border-radius: 3px 12px 12px 3px;\n    visibility: hidden;\n}\n.mapboxgl-ctrl-attrib.mapboxgl-compact:hover {\n    visibility: visible;\n}\n.mapboxgl-ctrl-attrib.mapboxgl-compact:after {\n    content: \'\';\n    cursor: pointer;\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0D%0A%09%3Cpath%20fill%3D%27%23333333%27%20fill-rule%3D%27evenodd%27%20d%3D%27M4%2C10a6%2C6%200%201%2C0%2012%2C0a6%2C6%200%201%2C0%20-12%2C0%20M9%2C7a1%2C1%200%201%2C0%202%2C0a1%2C1%200%201%2C0%20-2%2C0%20M9%2C10a1%2C1%200%201%2C1%202%2C0l0%2C3a1%2C1%200%201%2C1%20-2%2C0%27%20%2F%3E%0D%0A%3C%2Fsvg%3E");\n    background-color: rgba(255, 255, 255, .5);\n    width: 24px;\n    height: 24px;\n    box-sizing: border-box;\n    visibility: visible;\n    border-radius: 12px;\n}\n.mapboxgl-ctrl-attrib a {\n    color: rgba(0,0,0,0.75);\n    text-decoration: none;\n}\n.mapboxgl-ctrl-attrib a:hover {\n    color: inherit;\n    text-decoration: underline;\n}\n/* stylelint-disable */\n.mapboxgl-ctrl-attrib .mapbox-improve-map {\n    font-weight: bold;\n    margin-left: 2px;\n}\n.mapboxgl-attrib-empty {\n    display: none;\n}\n/*stylelint-enable*/\n.mapboxgl-ctrl-scale {\n    background-color: rgba(255,255,255,0.75);\n    font-size: 10px;\n    border-width: medium 2px 2px;\n    border-style: none solid solid;\n    border-color: #333;\n    padding: 0 5px;\n    color: #333;\n    box-sizing: border-box;\n}\n\n.mapboxgl-popup {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: -webkit-flex;\n    display: flex;\n    will-change: transform;\n    pointer-events: none;\n}\n.mapboxgl-popup-anchor-top,\n.mapboxgl-popup-anchor-top-left,\n.mapboxgl-popup-anchor-top-right {\n    -webkit-flex-direction: column;\n    flex-direction: column;\n}\n.mapboxgl-popup-anchor-bottom,\n.mapboxgl-popup-anchor-bottom-left,\n.mapboxgl-popup-anchor-bottom-right {\n    -webkit-flex-direction: column-reverse;\n    flex-direction: column-reverse;\n}\n.mapboxgl-popup-anchor-left {\n    -webkit-flex-direction: row;\n    flex-direction: row;\n}\n.mapboxgl-popup-anchor-right {\n    -webkit-flex-direction: row-reverse;\n    flex-direction: row-reverse;\n}\n.mapboxgl-popup-tip {\n    width: 0;\n    height: 0;\n    border: 10px solid transparent;\n    z-index: 1;\n}\n.mapboxgl-popup-anchor-top .mapboxgl-popup-tip {\n    -webkit-align-self: center;\n    align-self: center;\n    border-top: none;\n    border-bottom-color: #fff;\n}\n.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip {\n    -webkit-align-self: flex-start;\n    align-self: flex-start;\n    border-top: none;\n    border-left: none;\n    border-bottom-color: #fff;\n}\n.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip {\n    -webkit-align-self: flex-end;\n    align-self: flex-end;\n    border-top: none;\n    border-right: none;\n    border-bottom-color: #fff;\n}\n.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip {\n    -webkit-align-self: center;\n    align-self: center;\n    border-bottom: none;\n    border-top-color: #fff;\n}\n.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip {\n    -webkit-align-self: flex-start;\n    align-self: flex-start;\n    border-bottom: none;\n    border-left: none;\n    border-top-color: #fff;\n}\n.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip {\n    -webkit-align-self: flex-end;\n    align-self: flex-end;\n    border-bottom: none;\n    border-right: none;\n    border-top-color: #fff;\n}\n.mapboxgl-popup-anchor-left .mapboxgl-popup-tip {\n    -webkit-align-self: center;\n    align-self: center;\n    border-left: none;\n    border-right-color: #fff;\n}\n.mapboxgl-popup-anchor-right .mapboxgl-popup-tip {\n    -webkit-align-self: center;\n    align-self: center;\n    border-right: none;\n    border-left-color: #fff;\n}\n.mapboxgl-popup-close-button {\n    position: absolute;\n    right: 0;\n    top: 0;\n    border: none;\n    border-radius: 0 3px 0 0;\n    cursor: pointer;\n    background-color: rgba(0,0,0,0);\n}\n.mapboxgl-popup-close-button:hover {\n    background-color: rgba(0,0,0,0.05);\n}\n.mapboxgl-popup-content {\n    position: relative;\n    background: #fff;\n    border-radius: 3px;\n    box-shadow: 0 1px 2px rgba(0,0,0,0.10);\n    padding: 10px 10px 15px;\n    pointer-events: auto;\n}\n.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content {\n    border-top-left-radius: 0;\n}\n.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content {\n    border-top-right-radius: 0;\n}\n.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content {\n    border-bottom-left-radius: 0;\n}\n.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content {\n    border-bottom-right-radius: 0;\n}\n\n.mapboxgl-marker {\n    position: absolute;\n    top: 0;\n    left: 0;\n    will-change: transform;\n}\n\n.mapboxgl-user-location-dot {\n    background-color: #1da1f2;\n    width: 15px;\n    height: 15px;\n    border-radius: 50%;\n    box-shadow: 0 0 2px rgba(0, 0, 0, 0.25);\n}\n.mapboxgl-user-location-dot::before {\n    background-color: #1da1f2;\n    content: \'\';\n    width: 15px;\n    height: 15px;\n    border-radius: 50%;\n    position: absolute;\n    -webkit-animation: mapboxgl-user-location-dot-pulse 2s infinite;\n    -moz-animation: mapboxgl-user-location-dot-pulse 2s infinite;\n    -ms-animation: mapboxgl-user-location-dot-pulse 2s infinite;\n    animation: mapboxgl-user-location-dot-pulse 2s infinite;\n}\n.mapboxgl-user-location-dot::after {\n    border-radius: 50%;\n    border: 2px solid #fff;\n    content: \'\';\n    height: 15px;\n    left: -2px;\n    position: absolute;\n    top: -2px;\n    width: 15px;\n}\n\n@-webkit-keyframes mapboxgl-user-location-dot-pulse {\n    0%   { -webkit-transform: scale(1); opacity: 1; }\n    70%  { -webkit-transform: scale(3); opacity: 0; }\n    100% { -webkit-transform: scale(1); opacity: 0; }\n}\n@-ms-keyframes mapboxgl-user-location-dot-pulse {\n    0%   { -ms-transform: scale(1); opacity: 1; }\n    70%  { -ms-transform: scale(3); opacity: 0; }\n    100% { -ms-transform: scale(1); opacity: 0; }\n}\n@keyframes mapboxgl-user-location-dot-pulse {\n    0%   { transform: scale(1); opacity: 1; }\n    70%  { transform: scale(3); opacity: 0; }\n    100% { transform: scale(1); opacity: 0; }\n}\n.mapboxgl-user-location-dot-stale {\n    background-color: #aaa;\n}\n.mapboxgl-user-location-dot-stale:after {\n    display: none\n}\n\n.mapboxgl-crosshair,\n.mapboxgl-crosshair .mapboxgl-interactive,\n.mapboxgl-crosshair .mapboxgl-interactive:active {\n    cursor: crosshair;\n}\n.mapboxgl-boxzoom {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 0;\n    height: 0;\n    background: #fff;\n    border: 2px dotted #202020;\n    opacity: 0.5;\n}\n\n@media print {\n/* stylelint-disable */\n    .mapbox-improve-map {\n        display:none;\n    }\n/* stylelint-enable */\n}\n',""])},function(module,exports){module.exports=function(useSourceMap){var list=[];return list.toString=function toString(){return this.map(function(item){var content=function cssWithMappingToString(item,useSourceMap){var content=item[1]||"",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&"function"==typeof btoa){var sourceMapping=function toComment(sourceMap){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */"}(cssMapping),sourceURLs=cssMapping.sources.map(function(source){return"/*# sourceURL="+cssMapping.sourceRoot+source+" */"});return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}(item,useSourceMap);return item[2]?"@media "+item[2]+"{"+content+"}":content}).join("")},list.i=function(modules,mediaQuery){"string"==typeof modules&&(modules=[[null,modules,""]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];"number"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];"number"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]="("+item[2]+") and ("+mediaQuery+")"),list.push(item))}},list}},function(module,exports,__webpack_require__){var fn,memo,stylesInDom={},isOldIE=(fn=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===memo&&(memo=fn.apply(this,arguments)),memo}),getElement=function(fn){var memo={};return function(target){if("function"==typeof target)return target();if(void 0===memo[target]){var styleTarget=function(target){return document.querySelector(target)}.call(this,target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}}(),singleton=null,singletonCounter=0,stylesInsertedAtTop=[],fixUrls=__webpack_require__(771);function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{var parts=[];for(j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list,options){for(var styles=[],newStyles={},i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],part={css:item[1],media:item[2],sourceMap:item[3]};newStyles[id]?newStyles[id].parts.push(part):styles.push(newStyles[id]={id:id,parts:[part]})}return styles}function insertStyleElement(options,style){var target=getElement(options.insertInto);if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var lastStyleElementInsertedAtTop=stylesInsertedAtTop[stylesInsertedAtTop.length-1];if("top"===options.insertAt)lastStyleElementInsertedAtTop?lastStyleElementInsertedAtTop.nextSibling?target.insertBefore(style,lastStyleElementInsertedAtTop.nextSibling):target.appendChild(style):target.insertBefore(style,target.firstChild),stylesInsertedAtTop.push(style);else if("bottom"===options.insertAt)target.appendChild(style);else{if("object"!=typeof options.insertAt||!options.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var nextSibling=getElement(options.insertInto+" "+options.insertAt.before);target.insertBefore(style,nextSibling)}}function removeStyleElement(style){if(null===style.parentNode)return!1;style.parentNode.removeChild(style);var idx=stylesInsertedAtTop.indexOf(style);idx>=0&&stylesInsertedAtTop.splice(idx,1)}function createStyleElement(options){var style=document.createElement("style");return options.attrs.type="text/css",addAttrs(style,options.attrs),insertStyleElement(options,style),style}function addAttrs(el,attrs){Object.keys(attrs).forEach(function(key){el.setAttribute(key,attrs[key])})}function addStyle(obj,options){var style,update,remove,result;if(options.transform&&obj.css){if(!(result=options.transform(obj.css)))return function(){};obj.css=result}if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=createStyleElement(options)),update=applyToSingletonTag.bind(null,style,styleIndex,!1),remove=applyToSingletonTag.bind(null,style,styleIndex,!0)}else obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(style=function createLinkElement(options){var link=document.createElement("link");return options.attrs.type="text/css",options.attrs.rel="stylesheet",addAttrs(link,options.attrs),insertStyleElement(options,link),link}(options),update=function updateLink(link,options,obj){var css=obj.css,sourceMap=obj.sourceMap,autoFixUrls=void 0===options.convertToAbsoluteUrls&&sourceMap;(options.convertToAbsoluteUrls||autoFixUrls)&&(css=fixUrls(css));sourceMap&&(css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */");var blob=new Blob([css],{type:"text/css"}),oldSrc=link.href;link.href=URL.createObjectURL(blob),oldSrc&&URL.revokeObjectURL(oldSrc)}.bind(null,style,options),remove=function(){removeStyleElement(style),style.href&&URL.revokeObjectURL(style.href)}):(style=createStyleElement(options),update=function applyToTag(style,obj){var css=obj.css,media=obj.media;media&&style.setAttribute("media",media);if(style.styleSheet)style.styleSheet.cssText=css;else{for(;style.firstChild;)style.removeChild(style.firstChild);style.appendChild(document.createTextNode(css))}}.bind(null,style),remove=function(){removeStyleElement(style)});return update(obj),function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}module.exports=function(list,options){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(options=options||{}).attrs="object"==typeof options.attrs?options.attrs:{},options.singleton||"boolean"==typeof options.singleton||(options.singleton=isOldIE()),options.insertInto||(options.insertInto="head"),options.insertAt||(options.insertAt="bottom");var styles=listToStyles(list,options);return addStylesToDom(styles,options),function update(newList){for(var mayRemove=[],i=0;i<styles.length;i++){var item=styles[i];(domStyle=stylesInDom[item.id]).refs--,mayRemove.push(domStyle)}newList&&addStylesToDom(listToStyles(newList,options),options);for(i=0;i<mayRemove.length;i++){var domStyle;if(0===(domStyle=mayRemove[i]).refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};var textStore,replaceText=(textStore=[],function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")});function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.css;if(style.styleSheet)style.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=style.childNodes;childNodes[index]&&style.removeChild(childNodes[index]),childNodes.length?style.insertBefore(cssNode,childNodes[index]):style.appendChild(cssNode)}}},function(module,exports){module.exports=function(css){var location="undefined"!=typeof window&&window.location;if(!location)throw new Error("fixUrls requires window.location");if(!css||"string"!=typeof css)return css;var baseUrl=location.protocol+"//"+location.host,currentDir=baseUrl+location.pathname.replace(/\/[^\/]*$/,"/");return css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(fullMatch,origUrl){var newUrl,unquotedOrigUrl=origUrl.trim().replace(/^"(.*)"$/,function(o,$1){return $1}).replace(/^'(.*)'$/,function(o,$1){return $1});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)?fullMatch:(newUrl=0===unquotedOrigUrl.indexOf("//")?unquotedOrigUrl:0===unquotedOrigUrl.indexOf("/")?baseUrl+unquotedOrigUrl:currentDir+unquotedOrigUrl.replace(/^\.\//,""),"url("+JSON.stringify(newUrl)+")")})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.forceReRender=exports.configure=exports.getStorybook=exports.clearDecorators=exports.addDecorator=exports.setAddon=exports.storiesOf=void 0;var _extends3=_interopRequireDefault(__webpack_require__(7)),_assign2=_interopRequireDefault(__webpack_require__(81)),_redux=__webpack_require__(773),_addons2=_interopRequireDefault(__webpack_require__(129)),_global=__webpack_require__(53),_channelPostmessage2=_interopRequireDefault(__webpack_require__(396)),_key_events=__webpack_require__(247),_client=__webpack_require__(787),_render2=_interopRequireDefault(__webpack_require__(794));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isBrowser=_global.navigator&&_global.navigator.userAgent&&"storyshots"!==_global.navigator.userAgent&&!(_global.navigator.userAgent.indexOf("Node.js")>-1)&&!(_global.navigator.userAgent.indexOf("jsdom")>-1),storyStore=new _client.StoryStore,reduxStore=(0,_redux.createStore)(_client.reducer),context={storyStore:storyStore,reduxStore:reduxStore},clientApi=new _client.ClientApi(context),storiesOf=clientApi.storiesOf,setAddon=clientApi.setAddon,addDecorator=clientApi.addDecorator,clearDecorators=clientApi.clearDecorators,getStorybook=clientApi.getStorybook;exports.storiesOf=storiesOf,exports.setAddon=setAddon,exports.addDecorator=addDecorator,exports.clearDecorators=clearDecorators,exports.getStorybook=getStorybook;var channel=void 0;isBrowser&&((channel=(0,_channelPostmessage2.default)({page:"preview"})).on("setCurrentStory",function(data){reduxStore.dispatch(_client.Actions.selectStory(data.kind,data.story))}),_addons2.default.setChannel(channel),(0,_assign2.default)(context,{channel:channel}),(0,_client.syncUrlWithStore)(reduxStore),_global.window.onkeydown=(0,_key_events.handleKeyboardShortcuts)(channel)),void 0!==_global.window&&(_global.window.__STORYBOOK_CLIENT_API__=clientApi,_global.window.__STORYBOOK_ADDONS_CHANNEL__=channel);var configure=new _client.ConfigApi((0,_extends3.default)({clearDecorators:clearDecorators},context)).configure;exports.configure=configure;reduxStore.subscribe(function renderUI(){isBrowser&&(0,_render2.default)(context)});exports.forceReRender=function forceReRender(){return(0,_render2.default)(context,!0)}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__createStore__=__webpack_require__(541),__WEBPACK_IMPORTED_MODULE_1__combineReducers__=__webpack_require__(784),__WEBPACK_IMPORTED_MODULE_2__bindActionCreators__=__webpack_require__(785),__WEBPACK_IMPORTED_MODULE_3__applyMiddleware__=__webpack_require__(786),__WEBPACK_IMPORTED_MODULE_4__compose__=__webpack_require__(545);__webpack_require__(544);__webpack_require__.d(__webpack_exports__,"createStore",function(){return __WEBPACK_IMPORTED_MODULE_0__createStore__.b}),__webpack_require__.d(__webpack_exports__,"combineReducers",function(){return __WEBPACK_IMPORTED_MODULE_1__combineReducers__.a}),__webpack_require__.d(__webpack_exports__,"bindActionCreators",function(){return __WEBPACK_IMPORTED_MODULE_2__bindActionCreators__.a}),__webpack_require__.d(__webpack_exports__,"applyMiddleware",function(){return __WEBPACK_IMPORTED_MODULE_3__applyMiddleware__.a}),__webpack_require__.d(__webpack_exports__,"compose",function(){return __WEBPACK_IMPORTED_MODULE_4__compose__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__Symbol_js__=__webpack_require__(543),__WEBPACK_IMPORTED_MODULE_1__getRawTag_js__=__webpack_require__(777),__WEBPACK_IMPORTED_MODULE_2__objectToString_js__=__webpack_require__(778),nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=__WEBPACK_IMPORTED_MODULE_0__Symbol_js__.a?__WEBPACK_IMPORTED_MODULE_0__Symbol_js__.a.toStringTag:void 0;__webpack_exports__.a=function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?Object(__WEBPACK_IMPORTED_MODULE_1__getRawTag_js__.a)(value):Object(__WEBPACK_IMPORTED_MODULE_2__objectToString_js__.a)(value)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__freeGlobal_js__=__webpack_require__(776),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=__WEBPACK_IMPORTED_MODULE_0__freeGlobal_js__.a||freeSelf||Function("return this")();__webpack_exports__.a=root},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;__webpack_exports__.a=freeGlobal}).call(__webpack_exports__,__webpack_require__(13))},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__Symbol_js__=__webpack_require__(543),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=__WEBPACK_IMPORTED_MODULE_0__Symbol_js__.a?__WEBPACK_IMPORTED_MODULE_0__Symbol_js__.a.toStringTag:void 0;__webpack_exports__.a=function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},function(module,__webpack_exports__,__webpack_require__){"use strict";var nativeObjectToString=Object.prototype.toString;__webpack_exports__.a=function objectToString(value){return nativeObjectToString.call(value)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__overArg_js__=__webpack_require__(780),getPrototype=Object(__WEBPACK_IMPORTED_MODULE_0__overArg_js__.a)(Object.getPrototypeOf,Object);__webpack_exports__.a=getPrototype},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function overArg(func,transform){return function(arg){return func(transform(arg))}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function isObjectLike(value){return null!=value&&"object"==typeof value}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global,module){var root,__WEBPACK_IMPORTED_MODULE_0__ponyfill_js__=__webpack_require__(783);root="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:module;var result=Object(__WEBPACK_IMPORTED_MODULE_0__ponyfill_js__.a)(root);__webpack_exports__.a=result}).call(__webpack_exports__,__webpack_require__(13),__webpack_require__(240)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function symbolObservablePonyfill(root){var result,Symbol=root.Symbol;"function"==typeof Symbol?Symbol.observable?result=Symbol.observable:(result=Symbol("observable"),Symbol.observable=result):result="@@observable";return result}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function combineReducers(reducers){for(var reducerKeys=Object.keys(reducers),finalReducers={},i=0;i<reducerKeys.length;i++){var key=reducerKeys[i];0,"function"==typeof reducers[key]&&(finalReducers[key]=reducers[key])}var finalReducerKeys=Object.keys(finalReducers);0;var shapeAssertionError=void 0;try{!function assertReducerShape(reducers){Object.keys(reducers).forEach(function(key){var reducer=reducers[key],initialState=reducer(void 0,{type:__WEBPACK_IMPORTED_MODULE_0__createStore__.a.INIT});if(void 0===initialState)throw new Error('Reducer "'+key+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");var type="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===reducer(void 0,{type:type}))throw new Error('Reducer "'+key+"\" returned undefined when probed with a random type. Don't try to handle "+__WEBPACK_IMPORTED_MODULE_0__createStore__.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(finalReducers)}catch(e){shapeAssertionError=e}return function combination(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},action=arguments[1];if(shapeAssertionError)throw shapeAssertionError;for(var hasChanged=!1,nextState={},_i=0;_i<finalReducerKeys.length;_i++){var _key=finalReducerKeys[_i],reducer=finalReducers[_key],previousStateForKey=state[_key],nextStateForKey=reducer(previousStateForKey,action);if(void 0===nextStateForKey){var errorMessage=getUndefinedStateErrorMessage(_key,action);throw new Error(errorMessage)}nextState[_key]=nextStateForKey,hasChanged=hasChanged||nextStateForKey!==previousStateForKey}return hasChanged?nextState:state}};var __WEBPACK_IMPORTED_MODULE_0__createStore__=__webpack_require__(541);__webpack_require__(542),__webpack_require__(544);function getUndefinedStateErrorMessage(key,action){var actionType=action&&action.type;return"Given action "+(actionType&&'"'+actionType.toString()+'"'||"an action")+', reducer "'+key+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}},function(module,__webpack_exports__,__webpack_require__){"use strict";function bindActionCreator(actionCreator,dispatch){return function(){return dispatch(actionCreator.apply(void 0,arguments))}}__webpack_exports__.a=function bindActionCreators(actionCreators,dispatch){if("function"==typeof actionCreators)return bindActionCreator(actionCreators,dispatch);if("object"!=typeof actionCreators||null===actionCreators)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===actionCreators?"null":typeof actionCreators)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var keys=Object.keys(actionCreators),boundActionCreators={},i=0;i<keys.length;i++){var key=keys[i],actionCreator=actionCreators[key];"function"==typeof actionCreator&&(boundActionCreators[key]=bindActionCreator(actionCreator,dispatch))}return boundActionCreators}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function applyMiddleware(){for(var _len=arguments.length,middlewares=Array(_len),_key=0;_key<_len;_key++)middlewares[_key]=arguments[_key];return function(createStore){return function(reducer,preloadedState,enhancer){var store=createStore(reducer,preloadedState,enhancer),_dispatch=store.dispatch,chain=[],middlewareAPI={getState:store.getState,dispatch:function dispatch(action){return _dispatch(action)}};return chain=middlewares.map(function(middleware){return middleware(middlewareAPI)}),_dispatch=__WEBPACK_IMPORTED_MODULE_0__compose__.a.apply(void 0,chain)(store.dispatch),_extends({},store,{dispatch:_dispatch})}}};var __WEBPACK_IMPORTED_MODULE_0__compose__=__webpack_require__(545),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(788).default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _preview2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(789));exports.default=_preview2.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Actions=function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(__webpack_require__(248)),_client_api2=_interopRequireDefault(__webpack_require__(790)),_config_api2=_interopRequireDefault(__webpack_require__(791)),_story_store2=_interopRequireDefault(__webpack_require__(547)),_reducer2=_interopRequireDefault(__webpack_require__(792)),_syncUrlWithStore2=_interopRequireDefault(__webpack_require__(793));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={Actions:Actions,ClientApi:_client_api2.default,ConfigApi:_config_api2.default,StoryStore:_story_store2.default,reducer:_reducer2.default,syncUrlWithStore:_syncUrlWithStore2.default}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _toConsumableArray3=_interopRequireDefault(__webpack_require__(94)),_keys2=_interopRequireDefault(__webpack_require__(49)),_extends3=_interopRequireDefault(__webpack_require__(7)),_classCallCheck3=_interopRequireDefault(__webpack_require__(8)),_clientLogger=__webpack_require__(546),_story_store2=_interopRequireDefault(__webpack_require__(547));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var defaultDecorateStory=function defaultDecorateStory(getStory,decorators){return decorators.reduce(function(decorated,decorator){return function(context){return decorator(function(){return decorated(context)},context)}},getStory)};exports.default=function ClientApi(){var _this=this,_ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$storyStore=_ref.storyStore,storyStore=void 0===_ref$storyStore?new _story_store2.default:_ref$storyStore,_ref$decorateStory=_ref.decorateStory,decorateStory=void 0===_ref$decorateStory?defaultDecorateStory:_ref$decorateStory;(0,_classCallCheck3.default)(this,ClientApi),this.setAddon=function(addon){_this._addons=(0,_extends3.default)({},_this._addons,addon)},this.addDecorator=function(decorator){_this._globalDecorators.push(decorator)},this.clearDecorators=function(){_this._globalDecorators=[]},this.storiesOf=function(kind,m){if(!kind&&"string"!=typeof kind)throw new Error("Invalid or missing kind provided for stories, should be a string");m||_clientLogger.logger.warn("Missing 'module' parameter for story with a kind of '"+kind+"'. It will break your HMR"),m&&m.hot&&m.hot.dispose&&m.hot.dispose(function(){_this._storyStore.removeStoryKind(kind),_this._storyStore.incrementRevision()});var localDecorators=[],api={kind:kind};return(0,_keys2.default)(_this._addons).forEach(function(name){var addon=_this._addons[name];api[name]=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return addon.apply(api,args),api}}),api.add=function(storyName,getStory){if("string"!=typeof storyName)throw new Error('Invalid or missing storyName provided for a "'+kind+'" story.');if(_this._storyStore.hasStory(kind,storyName))throw new Error('Story of "'+kind+'" named "'+storyName+'" already exists');var decorators=[].concat(localDecorators,(0,_toConsumableArray3.default)(_this._globalDecorators)),fileName=m?m.filename:null;return _this._storyStore.addStory(kind,storyName,_this._decorateStory(getStory,decorators),fileName),api},api.addDecorator=function(decorator){return localDecorators.push(decorator),api},api},this.getStorybook=function(){return _this._storyStore.getStoryKinds().map(function(kind){var fileName=_this._storyStore.getStoryFileName(kind),stories=_this._storyStore.getStories(kind).map(function(name){return{name:name,render:_this._storyStore.getStory(kind,name)}});return{kind:kind,fileName:fileName,stories:stories}})},this._storyStore=storyStore,this._addons={},this._globalDecorators=[],this._decorateStory=decorateStory}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck3=_interopRequireDefault(__webpack_require__(8)),_createClass3=_interopRequireDefault(__webpack_require__(9)),_global=__webpack_require__(53),_actions=__webpack_require__(248);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ConfigApi=function(){function ConfigApi(_ref){var _this=this,channel=_ref.channel,storyStore=_ref.storyStore,reduxStore=_ref.reduxStore,clearDecorators=_ref.clearDecorators;(0,_classCallCheck3.default)(this,ConfigApi),this.configure=function(loaders,module){var render=function render(){try{_this._renderMain(loaders)}catch(error){module.hot&&"apply"===module.hot.status()?_global.location.reload():_this._renderError(error)}};module.hot&&(module.hot.accept(function(){setTimeout(render)}),module.hot.dispose(function(){_this._clearDecorators()})),_this._channel?render():loaders()},this._channel=channel,this._storyStore=storyStore,this._reduxStore=reduxStore,this._clearDecorators=clearDecorators}return(0,_createClass3.default)(ConfigApi,[{key:"_renderMain",value:function _renderMain(loaders){loaders&&loaders();var stories=this._storyStore.dumpStoryBook();this._channel.emit("setStories",{stories:stories}),this._reduxStore.dispatch((0,_actions.clearError)()),this._reduxStore.dispatch((0,_actions.setInitialStory)(stories))}},{key:"_renderError",value:function _renderError(e){var error={stack:e.stack,message:e.message};this._reduxStore.dispatch((0,_actions.setError)(error))}}]),ConfigApi}();exports.default=ConfigApi},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray3=_interopRequireDefault(__webpack_require__(250)),_extends3=_interopRequireDefault(__webpack_require__(7));exports.default=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},action=arguments[1];switch(action.type){case _actions.types.CLEAR_ERROR:return(0,_extends3.default)({},state,{error:null});case _actions.types.SET_ERROR:return(0,_extends3.default)({},state,{error:action.error});case _actions.types.SELECT_STORY:return(0,_extends3.default)({},state,{selectedKind:action.kind,selectedStory:action.story});case _actions.types.SET_INITIAL_STORY:var newState=(0,_extends3.default)({},state),storyKindList=action.storyKindList;if(!newState.selectedKind&&storyKindList.length>0){newState.selectedKind=storyKindList[0].kind;var _storyKindList$0$stor=(0,_slicedToArray3.default)(storyKindList[0].stories,1);newState.selectedStory=_storyKindList$0$stor[0]}return newState;default:return state}};var _actions=__webpack_require__(248);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends3=_interopRequireDefault(__webpack_require__(7));exports.default=function syncUrlToStore(reduxStore){var queryParams=_qs2.default.parse(_global.window.location.search.substring(1));queryParams.selectedKind&&reduxStore.dispatch((0,_actions.selectStory)(queryParams.selectedKind,queryParams.selectedStory));reduxStore.subscribe(function(){var _reduxStore$getState=reduxStore.getState(),selectedKind=_reduxStore$getState.selectedKind,selectedStory=_reduxStore$getState.selectedStory,queryString=_qs2.default.stringify((0,_extends3.default)({},queryParams,{selectedKind:selectedKind,selectedStory:selectedStory}));_global.window.history.replaceState({},"","?"+queryString)})};var _qs2=_interopRequireDefault(__webpack_require__(252)),_global=__webpack_require__(53),_actions=__webpack_require__(248);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _taggedTemplateLiteral3=_interopRequireDefault(__webpack_require__(795)),_templateObject=(0,_taggedTemplateLiteral3.default)(['\n        Did you forget to return the React element from the story?\n        Use "() => (<MyComp/>)" or "() => { return <MyComp/>; }" when defining the story.\n      '],['\n        Did you forget to return the React element from the story?\n        Use "() => (<MyComp/>)" or "() => { return <MyComp/>; }" when defining the story.\n      ']),_templateObject2=(0,_taggedTemplateLiteral3.default)(["\n         Seems like you are not returning a correct React element from the story.\n         Could you double check that?\n       "],["\n         Seems like you are not returning a correct React element from the story.\n         Could you double check that?\n       "]);exports.renderError=renderError,exports.renderException=renderException,exports.renderMain=renderMain,exports.default=function renderPreview(_ref){var reduxStore=_ref.reduxStore,storyStore=_ref.storyStore,forceRender=arguments.length>1&&void 0!==arguments[1]&&arguments[1],state=reduxStore.getState();if(state.error)return renderException(state.error);try{return renderMain(state,storyStore,forceRender)}catch(ex){return renderException(ex)}};var _react2=_interopRequireDefault(__webpack_require__(0)),_reactDom2=_interopRequireDefault(__webpack_require__(97)),_commonTags=__webpack_require__(802),_clientLogger=__webpack_require__(546),_element_check2=_interopRequireDefault(__webpack_require__(842)),_error_display2=_interopRequireDefault(__webpack_require__(844));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var rootEl=null,previousKind="",previousStory="",previousRevision=-1;function renderError(error){var properError=new Error(error.title);properError.stack=error.description;var redBox=_react2.default.createElement(_error_display2.default,{error:properError});_reactDom2.default.render(redBox,rootEl)}function renderException(error){var realError=new Error(error.message);realError.stack=error.stack;var redBox=_react2.default.createElement(_error_display2.default,{error:realError});_reactDom2.default.render(redBox,rootEl),_clientLogger.logger.error(error.stack)}function renderMain(data,storyStore,forceRender){if(0===storyStore.size())return null;var noPreview=_react2.default.createElement(function NoPreview(){return _react2.default.createElement("p",null,"No Preview Available!")},null),selectedKind=data.selectedKind,selectedStory=data.selectedStory,revision=storyStore.getRevision(),story=storyStore.getStory(selectedKind,selectedStory);if(!story)return _reactDom2.default.render(noPreview,rootEl),null;if(!forceRender&&revision===previousRevision&&selectedKind===previousKind&&previousStory===selectedStory)return null;previousRevision=revision,previousKind=selectedKind,previousStory=selectedStory,_reactDom2.default.unmountComponentAtNode(rootEl);var element=story({kind:selectedKind,story:selectedStory});return element?(0,_element_check2.default)(element)?(_reactDom2.default.render(element,rootEl),null):renderError({title:'Expecting a valid React element from the story: "'+selectedStory+'" of "'+selectedKind+'".',description:(0,_commonTags.stripIndents)(_templateObject2)}):renderError({title:'Expecting a React element from the story: "'+selectedStory+'" of "'+selectedKind+'".',description:(0,_commonTags.stripIndents)(_templateObject)})}"undefined"!=typeof window&&(rootEl=document.getElementById("root"))},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _defineProperties2=_interopRequireDefault(__webpack_require__(796)),_freeze2=_interopRequireDefault(__webpack_require__(799));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(strings,raw){return(0,_freeze2.default)((0,_defineProperties2.default)(strings,{raw:{value:(0,_freeze2.default)(raw)}}))}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(797),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(798);var $Object=__webpack_require__(2).Object;module.exports=function defineProperties(T,D){return $Object.defineProperties(T,D)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(6);$export($export.S+$export.F*!__webpack_require__(26),"Object",{defineProperties:__webpack_require__(243)})},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(800),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(801),module.exports=__webpack_require__(2).Object.freeze},function(module,exports,__webpack_require__){var isObject=__webpack_require__(16),meta=__webpack_require__(85).onFreeze;__webpack_require__(130)("freeze",function($freeze){return function freeze(it){return $freeze&&isObject(it)?$freeze(meta(it)):it}})},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__TemplateTag__=__webpack_require__(38);__webpack_require__.d(__webpack_exports__,"TemplateTag",function(){return __WEBPACK_IMPORTED_MODULE_0__TemplateTag__.a});var __WEBPACK_IMPORTED_MODULE_1__trimResultTransformer__=__webpack_require__(39);__webpack_require__.d(__webpack_exports__,"trimResultTransformer",function(){return __WEBPACK_IMPORTED_MODULE_1__trimResultTransformer__.a});var __WEBPACK_IMPORTED_MODULE_2__stripIndentTransformer__=__webpack_require__(87);__webpack_require__.d(__webpack_exports__,"stripIndentTransformer",function(){return __WEBPACK_IMPORTED_MODULE_2__stripIndentTransformer__.a});var __WEBPACK_IMPORTED_MODULE_3__replaceResultTransformer__=__webpack_require__(138);__webpack_require__.d(__webpack_exports__,"replaceResultTransformer",function(){return __WEBPACK_IMPORTED_MODULE_3__replaceResultTransformer__.a});var __WEBPACK_IMPORTED_MODULE_4__replaceSubstitutionTransformer__=__webpack_require__(548);__webpack_require__.d(__webpack_exports__,"replaceSubstitutionTransformer",function(){return __WEBPACK_IMPORTED_MODULE_4__replaceSubstitutionTransformer__.a});var __WEBPACK_IMPORTED_MODULE_5__replaceStringTransformer__=__webpack_require__(808);__webpack_require__.d(__webpack_exports__,"replaceStringTransformer",function(){return __WEBPACK_IMPORTED_MODULE_5__replaceStringTransformer__.a});var __WEBPACK_IMPORTED_MODULE_6__inlineArrayTransformer__=__webpack_require__(68);__webpack_require__.d(__webpack_exports__,"inlineArrayTransformer",function(){return __WEBPACK_IMPORTED_MODULE_6__inlineArrayTransformer__.a});var __WEBPACK_IMPORTED_MODULE_7__splitStringTransformer__=__webpack_require__(446);__webpack_require__.d(__webpack_exports__,"splitStringTransformer",function(){return __WEBPACK_IMPORTED_MODULE_7__splitStringTransformer__.a});var __WEBPACK_IMPORTED_MODULE_8__removeNonPrintingValuesTransformer__=__webpack_require__(549);__webpack_require__.d(__webpack_exports__,"removeNonPrintingValuesTransformer",function(){return __WEBPACK_IMPORTED_MODULE_8__removeNonPrintingValuesTransformer__.a});var __WEBPACK_IMPORTED_MODULE_9__commaLists__=__webpack_require__(813);__webpack_require__.d(__webpack_exports__,"commaLists",function(){return __WEBPACK_IMPORTED_MODULE_9__commaLists__.a});var __WEBPACK_IMPORTED_MODULE_10__commaListsAnd__=__webpack_require__(815);__webpack_require__.d(__webpack_exports__,"commaListsAnd",function(){return __WEBPACK_IMPORTED_MODULE_10__commaListsAnd__.a});var __WEBPACK_IMPORTED_MODULE_11__commaListsOr__=__webpack_require__(817);__webpack_require__.d(__webpack_exports__,"commaListsOr",function(){return __WEBPACK_IMPORTED_MODULE_11__commaListsOr__.a});var __WEBPACK_IMPORTED_MODULE_12__html__=__webpack_require__(447);__webpack_require__.d(__webpack_exports__,"html",function(){return __WEBPACK_IMPORTED_MODULE_12__html__.a});var __WEBPACK_IMPORTED_MODULE_13__codeBlock__=__webpack_require__(820);__webpack_require__.d(__webpack_exports__,"codeBlock",function(){return __WEBPACK_IMPORTED_MODULE_13__codeBlock__.a});var __WEBPACK_IMPORTED_MODULE_14__source__=__webpack_require__(821);__webpack_require__.d(__webpack_exports__,"source",function(){return __WEBPACK_IMPORTED_MODULE_14__source__.a});var __WEBPACK_IMPORTED_MODULE_15__safeHtml__=__webpack_require__(822);__webpack_require__.d(__webpack_exports__,"safeHtml",function(){return __WEBPACK_IMPORTED_MODULE_15__safeHtml__.a});var __WEBPACK_IMPORTED_MODULE_16__oneLine__=__webpack_require__(824);__webpack_require__.d(__webpack_exports__,"oneLine",function(){return __WEBPACK_IMPORTED_MODULE_16__oneLine__.a});var __WEBPACK_IMPORTED_MODULE_17__oneLineTrim__=__webpack_require__(826);__webpack_require__.d(__webpack_exports__,"oneLineTrim",function(){return __WEBPACK_IMPORTED_MODULE_17__oneLineTrim__.a});var __WEBPACK_IMPORTED_MODULE_18__oneLineCommaLists__=__webpack_require__(828);__webpack_require__.d(__webpack_exports__,"oneLineCommaLists",function(){return __WEBPACK_IMPORTED_MODULE_18__oneLineCommaLists__.a});var __WEBPACK_IMPORTED_MODULE_19__oneLineCommaListsOr__=__webpack_require__(830);__webpack_require__.d(__webpack_exports__,"oneLineCommaListsOr",function(){return __WEBPACK_IMPORTED_MODULE_19__oneLineCommaListsOr__.a});var __WEBPACK_IMPORTED_MODULE_20__oneLineCommaListsAnd__=__webpack_require__(832);__webpack_require__.d(__webpack_exports__,"oneLineCommaListsAnd",function(){return __WEBPACK_IMPORTED_MODULE_20__oneLineCommaListsAnd__.a});var __WEBPACK_IMPORTED_MODULE_21__inlineLists__=__webpack_require__(834);__webpack_require__.d(__webpack_exports__,"inlineLists",function(){return __WEBPACK_IMPORTED_MODULE_21__inlineLists__.a});var __WEBPACK_IMPORTED_MODULE_22__oneLineInlineLists__=__webpack_require__(836);__webpack_require__.d(__webpack_exports__,"oneLineInlineLists",function(){return __WEBPACK_IMPORTED_MODULE_22__oneLineInlineLists__.a});var __WEBPACK_IMPORTED_MODULE_23__stripIndent__=__webpack_require__(838);__webpack_require__.d(__webpack_exports__,"stripIndent",function(){return __WEBPACK_IMPORTED_MODULE_23__stripIndent__.a});var __WEBPACK_IMPORTED_MODULE_24__stripIndents__=__webpack_require__(840);__webpack_require__.d(__webpack_exports__,"stripIndents",function(){return __WEBPACK_IMPORTED_MODULE_24__stripIndents__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_templateObject=function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["",""],["",""]);var TemplateTag=function(){function TemplateTag(){for(var _this=this,_len=arguments.length,transformers=Array(_len),_key=0;_key<_len;_key++)transformers[_key]=arguments[_key];return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TemplateTag),this.tag=function(strings){for(var _len2=arguments.length,expressions=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)expressions[_key2-1]=arguments[_key2];return"function"==typeof strings?_this.interimTag.bind(_this,strings):"string"==typeof strings?_this.transformEndResult(strings):(strings=strings.map(_this.transformString.bind(_this)),_this.transformEndResult(strings.reduce(_this.processSubstitutions.bind(_this,expressions))))},transformers.length>0&&Array.isArray(transformers[0])&&(transformers=transformers[0]),this.transformers=transformers.map(function(transformer){return"function"==typeof transformer?transformer():transformer}),this.tag}return _createClass(TemplateTag,[{key:"interimTag",value:function interimTag(previousTag,template){for(var _len3=arguments.length,substitutions=Array(_len3>2?_len3-2:0),_key3=2;_key3<_len3;_key3++)substitutions[_key3-2]=arguments[_key3];return this.tag(_templateObject,previousTag.apply(void 0,[template].concat(substitutions)))}},{key:"processSubstitutions",value:function processSubstitutions(substitutions,resultSoFar,remainingPart){var substitution=this.transformSubstitution(substitutions.shift(),resultSoFar);return"".concat(resultSoFar,substitution,remainingPart)}},{key:"transformString",value:function transformString(str){return this.transformers.reduce(function cb(res,transform){return transform.onString?transform.onString(res):res},str)}},{key:"transformSubstitution",value:function transformSubstitution(substitution,resultSoFar){return this.transformers.reduce(function cb(res,transform){return transform.onSubstitution?transform.onSubstitution(res,resultSoFar):res},substitution)}},{key:"transformEndResult",value:function transformEndResult(endResult){return this.transformers.reduce(function cb(res,transform){return transform.onEndResult?transform.onEndResult(res):res},endResult)}}]),TemplateTag}();__webpack_exports__.a=TemplateTag},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function trimResultTransformer(){var side=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function onEndResult(endResult){if(""===side)return endResult.trim();if("start"===(side=side.toLowerCase())||"left"===side)return endResult.replace(/^\s*/,"");if("end"===side||"right"===side)return endResult.replace(/\s*$/,"");throw new Error("Side not supported: "+side)}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function stripIndentTransformer(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function onEndResult(endResult){if("initial"===type){var match=endResult.match(/^[^\S\n]*(?=\S)/gm),indent=match&&Math.min.apply(Math,function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}(match.map(function(el){return el.length})));if(indent){var regexp=new RegExp("^.{"+indent+"}","gm");return endResult.replace(regexp,"")}return endResult}if("all"===type)return endResult.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+type)}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function replaceResultTransformer(replaceWhat,replaceWith){return{onEndResult:function onEndResult(endResult){if(null==replaceWhat||null==replaceWith)throw new Error("replaceResultTransformer requires at least 2 arguments.");return endResult.replace(replaceWhat,replaceWith)}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function replaceSubstitutionTransformer(replaceWhat,replaceWith){return{onSubstitution:function onSubstitution(substitution,resultSoFar){if(null==replaceWhat||null==replaceWith)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==substitution?substitution:substitution.toString().replace(replaceWhat,replaceWith)}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__replaceStringTransformer__=__webpack_require__(809);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__replaceStringTransformer__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function replaceStringTransformer(replaceWhat,replaceWith){return{onString:function onString(str){if(null==replaceWhat||null==replaceWith)throw new Error("replaceStringTransformer requires at least 2 arguments.");return str.replace(replaceWhat,replaceWith)}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var defaults={separator:"",conjunction:"",serial:!1};__webpack_exports__.a=function inlineArrayTransformer(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaults;return{onSubstitution:function onSubstitution(substitution,resultSoFar){if(Array.isArray(substitution)){var arrayLength=substitution.length,separator=opts.separator,conjunction=opts.conjunction,serial=opts.serial,indent=resultSoFar.match(/(\n?[^\S\n]+)$/);if(substitution=indent?substitution.join(separator+indent[1]):substitution.join(separator+" "),conjunction&&arrayLength>1){var separatorIndex=substitution.lastIndexOf(separator);substitution=substitution.slice(0,separatorIndex)+(serial?separator:"")+" "+conjunction+substitution.slice(separatorIndex+1)}}return substitution}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function splitStringTransformer(splitBy){return{onSubstitution:function onSubstitution(substitution,resultSoFar){if(null==splitBy||"string"!=typeof splitBy)throw new Error("You need to specify a string character to split by.");return"string"==typeof substitution&&substitution.includes(splitBy)&&(substitution=substitution.split(splitBy)),substitution}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var isValidValue=function isValidValue(x){return null!=x&&!Number.isNaN(x)&&"boolean"!=typeof x};__webpack_exports__.a=function removeNonPrintingValuesTransformer(){return{onSubstitution:function onSubstitution(substitution){return Array.isArray(substitution)?substitution.filter(isValidValue):isValidValue(substitution)?substitution:""}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__commaLists__=__webpack_require__(814);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__commaLists__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__TemplateTag__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1__stripIndentTransformer__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_2__inlineArrayTransformer__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_3__trimResultTransformer__=__webpack_require__(39),commaLists=new __WEBPACK_IMPORTED_MODULE_0__TemplateTag__.a(Object(__WEBPACK_IMPORTED_MODULE_2__inlineArrayTransformer__.a)({separator:","}),__WEBPACK_IMPORTED_MODULE_1__stripIndentTransformer__.a,__WEBPACK_IMPORTED_MODULE_3__trimResultTransformer__.a);__webpack_exports__.a=commaLists},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__commaListsAnd__=__webpack_require__(816);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__commaListsAnd__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__TemplateTag__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1__stripIndentTransformer__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_2__inlineArrayTransformer__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_3__trimResultTransformer__=__webpack_require__(39),commaListsAnd=new __WEBPACK_IMPORTED_MODULE_0__TemplateTag__.a(Object(__WEBPACK_IMPORTED_MODULE_2__inlineArrayTransformer__.a)({separator:",",conjunction:"and"}),__WEBPACK_IMPORTED_MODULE_1__stripIndentTransformer__.a,__WEBPACK_IMPORTED_MODULE_3__trimResultTransformer__.a);__webpack_exports__.a=commaListsAnd},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__commaListsOr__=__webpack_require__(818);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__commaListsOr__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__TemplateTag__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1__stripIndentTransformer__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_2__inlineArrayTransformer__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_3__trimResultTransformer__=__webpack_require__(39),commaListsOr=new __WEBPACK_IMPORTED_MODULE_0__TemplateTag__.a(Object(__WEBPACK_IMPORTED_MODULE_2__inlineArrayTransformer__.a)({separator:",",conjunction:"or"}),__WEBPACK_IMPORTED_MODULE_1__stripIndentTransformer__.a,__WEBPACK_IMPORTED_MODULE_3__trimResultTransformer__.a);__webpack_exports__.a=commaListsOr},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__TemplateTag__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1__stripIndentTransformer__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_2__inlineArrayTransformer__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_3__trimResultTransformer__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_4__splitStringTransformer__=__webpack_require__(446),__WEBPACK_IMPORTED_MODULE_5__removeNonPrintingValuesTransformer__=__webpack_require__(549),html=new __WEBPACK_IMPORTED_MODULE_0__TemplateTag__.a(Object(__WEBPACK_IMPORTED_MODULE_4__splitStringTransformer__.a)("\n"),__WEBPACK_IMPORTED_MODULE_5__removeNonPrintingValuesTransformer__.a,__WEBPACK_IMPORTED_MODULE_2__inlineArrayTransformer__.a,__WEBPACK_IMPORTED_MODULE_1__stripIndentTransformer__.a,__WEBPACK_IMPORTED_MODULE_3__trimResultTransformer__.a);__webpack_exports__.a=html},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__html__=__webpack_require__(447);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__html__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__html__=__webpack_require__(447);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__html__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__safeHtml__=__webpack_require__(823);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__safeHtml__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__TemplateTag__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1__stripIndentTransformer__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_2__inlineArrayTransformer__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_3__trimResultTransformer__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_4__splitStringTransformer__=__webpack_require__(446),__WEBPACK_IMPORTED_MODULE_5__replaceSubstitutionTransformer__=__webpack_require__(548),safeHtml=new __WEBPACK_IMPORTED_MODULE_0__TemplateTag__.a(Object(__WEBPACK_IMPORTED_MODULE_4__splitStringTransformer__.a)("\n"),__WEBPACK_IMPORTED_MODULE_2__inlineArrayTransformer__.a,__WEBPACK_IMPORTED_MODULE_1__stripIndentTransformer__.a,__WEBPACK_IMPORTED_MODULE_3__trimResultTransformer__.a,Object(__WEBPACK_IMPORTED_MODULE_5__replaceSubstitutionTransformer__.a)(/&/g,"&amp;"),Object(__WEBPACK_IMPORTED_MODULE_5__replaceSubstitutionTransformer__.a)(/</g,"&lt;"),Object(__WEBPACK_IMPORTED_MODULE_5__replaceSubstitutionTransformer__.a)(/>/g,"&gt;"),Object(__WEBPACK_IMPORTED_MODULE_5__replaceSubstitutionTransformer__.a)(/"/g,"&quot;"),Object(__WEBPACK_IMPORTED_MODULE_5__replaceSubstitutionTransformer__.a)(/'/g,"&#x27;"),Object(__WEBPACK_IMPORTED_MODULE_5__replaceSubstitutionTransformer__.a)(/`/g,"&#x60;"));__webpack_exports__.a=safeHtml},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__oneLine__=__webpack_require__(825);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__oneLine__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__TemplateTag__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1__trimResultTransformer__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_2__replaceResultTransformer__=__webpack_require__(138),oneLine=new __WEBPACK_IMPORTED_MODULE_0__TemplateTag__.a(Object(__WEBPACK_IMPORTED_MODULE_2__replaceResultTransformer__.a)(/(?:\n(?:\s*))+/g," "),__WEBPACK_IMPORTED_MODULE_1__trimResultTransformer__.a);__webpack_exports__.a=oneLine},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__oneLineTrim__=__webpack_require__(827);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__oneLineTrim__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__TemplateTag__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1__trimResultTransformer__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_2__replaceResultTransformer__=__webpack_require__(138),oneLineTrim=new __WEBPACK_IMPORTED_MODULE_0__TemplateTag__.a(Object(__WEBPACK_IMPORTED_MODULE_2__replaceResultTransformer__.a)(/(?:\n\s*)/g,""),__WEBPACK_IMPORTED_MODULE_1__trimResultTransformer__.a);__webpack_exports__.a=oneLineTrim},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__oneLineCommaLists__=__webpack_require__(829);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__oneLineCommaLists__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__TemplateTag__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1__inlineArrayTransformer__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_2__trimResultTransformer__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_3__replaceResultTransformer__=__webpack_require__(138),oneLineCommaLists=new __WEBPACK_IMPORTED_MODULE_0__TemplateTag__.a(Object(__WEBPACK_IMPORTED_MODULE_1__inlineArrayTransformer__.a)({separator:","}),Object(__WEBPACK_IMPORTED_MODULE_3__replaceResultTransformer__.a)(/(?:\s+)/g," "),__WEBPACK_IMPORTED_MODULE_2__trimResultTransformer__.a);__webpack_exports__.a=oneLineCommaLists},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__oneLineCommaListsOr__=__webpack_require__(831);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__oneLineCommaListsOr__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__TemplateTag__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1__inlineArrayTransformer__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_2__trimResultTransformer__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_3__replaceResultTransformer__=__webpack_require__(138),oneLineCommaListsOr=new __WEBPACK_IMPORTED_MODULE_0__TemplateTag__.a(Object(__WEBPACK_IMPORTED_MODULE_1__inlineArrayTransformer__.a)({separator:",",conjunction:"or"}),Object(__WEBPACK_IMPORTED_MODULE_3__replaceResultTransformer__.a)(/(?:\s+)/g," "),__WEBPACK_IMPORTED_MODULE_2__trimResultTransformer__.a);__webpack_exports__.a=oneLineCommaListsOr},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__oneLineCommaListsAnd__=__webpack_require__(833);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__oneLineCommaListsAnd__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__TemplateTag__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1__inlineArrayTransformer__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_2__trimResultTransformer__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_3__replaceResultTransformer__=__webpack_require__(138),oneLineCommaListsAnd=new __WEBPACK_IMPORTED_MODULE_0__TemplateTag__.a(Object(__WEBPACK_IMPORTED_MODULE_1__inlineArrayTransformer__.a)({separator:",",conjunction:"and"}),Object(__WEBPACK_IMPORTED_MODULE_3__replaceResultTransformer__.a)(/(?:\s+)/g," "),__WEBPACK_IMPORTED_MODULE_2__trimResultTransformer__.a);__webpack_exports__.a=oneLineCommaListsAnd},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__inlineLists__=__webpack_require__(835);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__inlineLists__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__TemplateTag__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1__stripIndentTransformer__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_2__inlineArrayTransformer__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_3__trimResultTransformer__=__webpack_require__(39),inlineLists=new __WEBPACK_IMPORTED_MODULE_0__TemplateTag__.a(__WEBPACK_IMPORTED_MODULE_2__inlineArrayTransformer__.a,__WEBPACK_IMPORTED_MODULE_1__stripIndentTransformer__.a,__WEBPACK_IMPORTED_MODULE_3__trimResultTransformer__.a);__webpack_exports__.a=inlineLists},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__oneLineInlineLists__=__webpack_require__(837);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__oneLineInlineLists__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__TemplateTag__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1__inlineArrayTransformer__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_2__trimResultTransformer__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_3__replaceResultTransformer__=__webpack_require__(138),oneLineInlineLists=new __WEBPACK_IMPORTED_MODULE_0__TemplateTag__.a(__WEBPACK_IMPORTED_MODULE_1__inlineArrayTransformer__.a,Object(__WEBPACK_IMPORTED_MODULE_3__replaceResultTransformer__.a)(/(?:\s+)/g," "),__WEBPACK_IMPORTED_MODULE_2__trimResultTransformer__.a);__webpack_exports__.a=oneLineInlineLists},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__stripIndent__=__webpack_require__(839);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__stripIndent__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__TemplateTag__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1__stripIndentTransformer__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_2__trimResultTransformer__=__webpack_require__(39),stripIndent=new __WEBPACK_IMPORTED_MODULE_0__TemplateTag__.a(__WEBPACK_IMPORTED_MODULE_1__stripIndentTransformer__.a,__WEBPACK_IMPORTED_MODULE_2__trimResultTransformer__.a);__webpack_exports__.a=stripIndent},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__stripIndents__=__webpack_require__(841);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__stripIndents__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__TemplateTag__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1__stripIndentTransformer__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_2__trimResultTransformer__=__webpack_require__(39),stripIndents=new __WEBPACK_IMPORTED_MODULE_0__TemplateTag__.a(Object(__WEBPACK_IMPORTED_MODULE_1__stripIndentTransformer__.a)("all"),__WEBPACK_IMPORTED_MODULE_2__trimResultTransformer__.a);__webpack_exports__.a=stripIndents},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPriorToFiber=exports.isValidFiberElement=void 0;var _slicedToArray3=_interopRequireDefault(__webpack_require__(250)),_react2=_interopRequireDefault(__webpack_require__(0)),_lodash2=_interopRequireDefault(__webpack_require__(843));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isValidFiberElement=exports.isValidFiberElement=function isValidFiberElement(element){return"string"==typeof element||"number"==typeof element||_react2.default.isValidElement(element)},isPriorToFiber=exports.isPriorToFiber=function isPriorToFiber(version){var _version$split=version.split("."),majorVersion=(0,_slicedToArray3.default)(_version$split,1)[0];return Number(majorVersion)<16};exports.default=function isReactRenderable(element){if(isPriorToFiber(_react2.default.version))return _react2.default.isValidElement(element);if(!Array.isArray(element))return isValidFiberElement(element);var elementsList=element.map(isReactRenderable);return!(0,_lodash2.default)(elementsList).filter(function(elementIsRenderable){return!1===elementIsRenderable}).length}},function(module,exports,__webpack_require__){(function(global){var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,Symbol=root.Symbol,propertyIsEnumerable=objectProto.propertyIsEnumerable,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0;function isFlattenable(value){return isArray(value)||function isArguments(value){return function isArrayLikeObject(value){return function isObjectLike(value){return!!value&&"object"==typeof value}(value)&&function isArrayLike(value){return null!=value&&function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}(value.length)&&!function isFunction(value){var tag=function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}(value)}(value)}(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}var isArray=Array.isArray;module.exports=function flattenDeep(array){return array&&array.length?function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}(array,INFINITY):[]}}).call(exports,__webpack_require__(13))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes2=_interopRequireDefault(__webpack_require__(1)),_react2=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var mainStyle={position:"fixed",top:0,bottom:0,left:0,right:0,padding:20,backgroundColor:"rgb(187, 49, 49)",color:"#FFF",WebkitFontSmoothing:"antialiased"},headingStyle={fontSize:20,fontWeight:600,letterSpacing:.2,margin:"10px 0",fontFamily:'\n    -apple-system, ".SFNSText-Regular", "San Francisco", Roboto, "Segoe UI",\n    "Helvetica Neue", "Lucida Grande", sans-serif\n    '},codeStyle={fontSize:14,width:"100vw",overflow:"auto"},ErrorDisplay=function ErrorDisplay(_ref){var error=_ref.error;return _react2.default.createElement("div",{style:mainStyle},_react2.default.createElement("div",{style:headingStyle},error.message),_react2.default.createElement("pre",{style:codeStyle},_react2.default.createElement("code",null,error.stack)))};ErrorDisplay.propTypes={error:_propTypes2.default.shape({message:_propTypes2.default.string,stack:_propTypes2.default.string}).isRequired},exports.default=ErrorDisplay},function(module,exports,__webpack_require__){(function(global){function config(name){try{if(!global.localStorage)return!1}catch(_){return!1}var val=global.localStorage[name];return null!=val&&"true"===String(val).toLowerCase()}module.exports=function deprecate(fn,msg){if(config("noDeprecation"))return fn;var warned=!1;return function deprecated(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);config("traceDeprecation")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}}}).call(exports,__webpack_require__(13))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends3=_interopRequireDefault(__webpack_require__(7));exports.default=function action(name){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},actionOptions=(0,_extends3.default)({},_configureActions.config,options),handler=function action(){for(var _len=arguments.length,_args=Array(_len),_key=0;_key<_len;_key++)_args[_key]=arguments[_key];var args=_args.map(function(arg){return(0,_util.prepareArguments)(arg,actionOptions.depth)}),channel=_addons2.default.getChannel(),id=(0,_v2.default)();channel.emit(_.EVENT_ID,{id:id,data:{name:name,args:args}})};_util.canConfigureName&&name&&"string"==typeof name&&Object.defineProperty(handler,"name",{value:name});return handler};var _v2=_interopRequireDefault(__webpack_require__(847)),_addons2=_interopRequireDefault(__webpack_require__(129)),_=__webpack_require__(550),_util=__webpack_require__(254),_configureActions=__webpack_require__(555);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports,__webpack_require__){var _nodeId,_clockseq,rng=__webpack_require__(848),bytesToUuid=__webpack_require__(849),_lastMSecs=0,_lastNSecs=0;module.exports=function v1(options,buf,offset){var i=buf&&offset||0,b=buf||[],node=(options=options||{}).node||_nodeId,clockseq=void 0!==options.clockseq?options.clockseq:_clockseq;if(null==node||null==clockseq){var seedBytes=rng();null==node&&(node=_nodeId=[1|seedBytes[0],seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]),null==clockseq&&(clockseq=_clockseq=16383&(seedBytes[6]<<8|seedBytes[7]))}var msecs=void 0!==options.msecs?options.msecs:(new Date).getTime(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq;var tl=(1e4*(268435455&(msecs+=122192928e5))+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var n=0;n<6;++n)b[i+n]=node[n];return buf||bytesToUuid(b)}},function(module,exports){var getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function whatwgRNG(){return getRandomValues(rnds8),rnds8}}else{var rnds=new Array(16);module.exports=function mathRNG(){for(var r,i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),rnds[i]=r>>>((3&i)<<3)&255;return rnds}}},function(module,exports){for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);module.exports=function bytesToUuid(buf,offset){var i=offset||0,bth=byteToHex;return bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(851),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(852);var $Object=__webpack_require__(2).Object;module.exports=function getOwnPropertyDescriptor(it,key){return $Object.getOwnPropertyDescriptor(it,key)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(37),$getOwnPropertyDescriptor=__webpack_require__(151).f;__webpack_require__(130)("getOwnPropertyDescriptor",function(){return function getOwnPropertyDescriptor(it,key){return $getOwnPropertyDescriptor(toIObject(it),key)}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function getPropertiesList(value){var keys=[];for(var name in value)try{(hasOwnProperty.call(value,name)||"function"!=typeof value[name])&&keys.push(name)}catch(error){console.error("Error accessing property "+name,error)}return keys};var hasOwnProperty=Object.prototype.hasOwnProperty},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function isObject(value){return"[object Object]"===toString.call(value)};var toString=Object.prototype.toString},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _defineProperty2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(148));exports.default=function muteProperty(key,value){return(0,_defineProperty2.default)(value,key,{enumerable:!1})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _stringify2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(255));exports.default=function prepareArguments(arg,depth){try{return(0,_stringify2.default)((0,_index.decycle)(arg,depth))}catch(error){return error.toString()}};var _index=__webpack_require__(451)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _stringify2=_interopRequireDefault(__webpack_require__(255)),_typeof3=_interopRequireDefault(__webpack_require__(95)),_weakMap2=_interopRequireDefault(__webpack_require__(858));exports.default=function decycle(object){var depth=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,objects=new _weakMap2.default,isCyclic=!1;return function derez(value,path,_depth,_branchDepthMax){var oldPath=void 0,obj=void 0,maxDepth=_branchDepthMax,result=(0,_util.typeReplacer)(value);if(result)return result.value;var type=void 0===value?"undefined":(0,_typeof3.default)(value);if(value instanceof Boolean||value instanceof Number||value instanceof String)return value;if("object"===type&&null!==value){if(void 0!==(oldPath=objects.get(value)))return isCyclic=!0,{$ref:oldPath};try{objects.set(value,path)}catch(error){return console.error(error),new _errors.DecycleError(error.message)}if(Array.isArray(value)){obj=[];for(var i=0;i<value.length;i+=1)obj[i]=derez(value[i],path+"["+i+"]",_depth+1,maxDepth)}else{obj=_types.objectType.serialize(value);var newDepth=void 0;if(hasOwnProperty.call(obj,_configureDepth.DEPTH_KEY)){if(_depth+1<maxDepth){var depthKey=obj[_configureDepth.DEPTH_KEY];maxDepth=(newDepth=0===depthKey?0:_depth+depthKey)>=depth?depth:newDepth}delete obj[_configureDepth.DEPTH_KEY]}_depth<=maxDepth&&(0,_util.getPropertiesList)(value).forEach(function(name){if(!(0,_util.omitProperty)(name))try{obj[name]=derez(value[name],path+"["+(0,_stringify2.default)(name)+"]",_depth+1,maxDepth)}catch(error){console.error(error),obj[name]=new _errors.DecycleError(error.message)}})}return 0===_depth&&value instanceof Object&&isCyclic&&(obj[_.CYCLIC_KEY]=!0),obj}return value}(object,"$",0,depth)};var _errors=__webpack_require__(864),_util=__webpack_require__(254),_=__webpack_require__(451),_types=__webpack_require__(457),_configureDepth=__webpack_require__(553);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var hasOwnProperty=Object.prototype.hasOwnProperty},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(859),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(131),__webpack_require__(67),__webpack_require__(860),__webpack_require__(862),__webpack_require__(863),module.exports=__webpack_require__(2).WeakMap},function(module,exports,__webpack_require__){"use strict";var InternalMap,each=__webpack_require__(215)(0),redefine=__webpack_require__(150),meta=__webpack_require__(85),assign=__webpack_require__(241),weak=__webpack_require__(861),isObject=__webpack_require__(16),fails=__webpack_require__(33),validate=__webpack_require__(216),getWeak=meta.getWeak,isExtensible=Object.isExtensible,uncaughtFrozenStore=weak.ufstore,tmp={},wrapper=function(get){return function WeakMap(){return get(this,arguments.length>0?arguments[0]:void 0)}},methods={get:function get(key){if(isObject(key)){var data=getWeak(key);return!0===data?uncaughtFrozenStore(validate(this,"WeakMap")).get(key):data?data[this._i]:void 0}},set:function set(key,value){return weak.def(validate(this,"WeakMap"),key,value)}},$WeakMap=module.exports=__webpack_require__(454)("WeakMap",wrapper,methods,weak,!0,!0);fails(function(){return 7!=(new $WeakMap).set((Object.freeze||Object)(tmp),7).get(tmp)})&&(assign((InternalMap=weak.getConstructor(wrapper,"WeakMap")).prototype,methods),meta.NEED=!0,each(["delete","has","get","set"],function(key){var proto=$WeakMap.prototype,method=proto[key];redefine(proto,key,function(a,b){if(isObject(a)&&!isExtensible(a)){this._f||(this._f=new InternalMap);var result=this._f[key](a,b);return"set"==key?this:result}return method.call(this,a,b)})}))},function(module,exports,__webpack_require__){"use strict";var redefineAll=__webpack_require__(135),getWeak=__webpack_require__(85).getWeak,anObject=__webpack_require__(21),isObject=__webpack_require__(16),anInstance=__webpack_require__(132),forOf=__webpack_require__(71),createArrayMethod=__webpack_require__(215),$has=__webpack_require__(34),validate=__webpack_require__(216),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),id=0,uncaughtFrozenStore=function(that){return that._l||(that._l=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.a=[]},findUncaughtFrozen=function(store,key){return arrayFind(store.a,function(it){return it[0]===key})};UncaughtFrozenStore.prototype={get:function(key){var entry=findUncaughtFrozen(this,key);if(entry)return entry[1]},has:function(key){return!!findUncaughtFrozen(this,key)},set:function(key,value){var entry=findUncaughtFrozen(this,key);entry?entry[1]=value:this.a.push([key,value])},delete:function(key){var index=arrayFindIndex(this.a,function(it){return it[0]===key});return~index&&this.a.splice(index,1),!!~index}},module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._t=NAME,that._i=id++,that._l=void 0,void 0!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{delete:function(key){if(!isObject(key))return!1;var data=getWeak(key);return!0===data?uncaughtFrozenStore(validate(this,NAME)).delete(key):data&&$has(data,this._i)&&delete data[this._i]},has:function has(key){if(!isObject(key))return!1;var data=getWeak(key);return!0===data?uncaughtFrozenStore(validate(this,NAME)).has(key):data&&$has(data,this._i)}}),C},def:function(that,key,value){var data=getWeak(anObject(key),!0);return!0===data?uncaughtFrozenStore(that).set(key,value):data[that._i]=value,that},ufstore:uncaughtFrozenStore}},function(module,exports,__webpack_require__){__webpack_require__(455)("WeakMap")},function(module,exports,__webpack_require__){__webpack_require__(456)("WeakMap")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DecycleError=void 0;var _DecycleError3=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(865));exports.DecycleError=_DecycleError3.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(22)),_classCallCheck3=_interopRequireDefault(__webpack_require__(8)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(23)),_inherits3=_interopRequireDefault(__webpack_require__(24));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DecycleError=function(_BaseError){function DecycleError(){return(0,_classCallCheck3.default)(this,DecycleError),(0,_possibleConstructorReturn3.default)(this,(DecycleError.__proto__||(0,_getPrototypeOf2.default)(DecycleError)).apply(this,arguments))}return(0,_inherits3.default)(DecycleError,_BaseError),DecycleError}(__webpack_require__(866).BaseError);exports.default=DecycleError},function(module,exports,__webpack_require__){"use strict";var construct="undefined"!=typeof Reflect?Reflect.construct:void 0,defineProperty=Object.defineProperty,captureStackTrace=Error.captureStackTrace;function BaseError(message){void 0!==message&&defineProperty(this,"message",{configurable:!0,value:message,writable:!0});var cname=this.constructor.name;void 0!==cname&&cname!==this.name&&defineProperty(this,"name",{configurable:!0,value:cname,writable:!0}),captureStackTrace(this,this.constructor)}void 0===captureStackTrace&&(captureStackTrace=function captureStackTrace(error){var container=new Error;defineProperty(error,"stack",{configurable:!0,get:function getStack(){var stack=container.stack;return defineProperty(this,"stack",{configurable:!0,value:stack,writable:!0}),stack},set:function setStack(stack){defineProperty(error,"stack",{configurable:!0,value:stack,writable:!0})}})}),BaseError.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:BaseError,writable:!0}});var setFunctionName=function(){function setFunctionName(fn,name){return defineProperty(fn,"name",{configurable:!0,value:name})}try{var f=function(){};if(setFunctionName(f,"foo"),"foo"===f.name)return setFunctionName}catch(_){}}();(module.exports=function makeError(constructor,super_){if(null==super_||super_===Error)super_=BaseError;else if("function"!=typeof super_)throw new TypeError("super_ should be a function");var name;if("string"==typeof constructor)name=constructor,constructor=void 0!==construct?function(){return construct(super_,arguments,this.constructor)}:function(){super_.apply(this,arguments)},void 0!==setFunctionName&&(setFunctionName(constructor,name),name=void 0);else if("function"!=typeof constructor)throw new TypeError("constructor should be either a string or a function");constructor.super_=constructor.super=super_;var properties={constructor:{configurable:!0,value:constructor,writable:!0}};return void 0!==name&&(properties.name={configurable:!0,value:name,writable:!0}),constructor.prototype=Object.create(super_.prototype,properties),constructor}).BaseError=BaseError},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _defineProperty3=_interopRequireDefault(__webpack_require__(55)),_createNamedObject2=_interopRequireDefault(__webpack_require__(868)),_getObjectName2=_interopRequireDefault(__webpack_require__(872)),_configureDepth3=_interopRequireDefault(__webpack_require__(553));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var KEY="$___storybook.objectName",objectType={KEY:KEY,serialize:function serialize(value){var objectName=(0,_getObjectName2.default)(value);return"Object"===objectName?(0,_defineProperty3.default)({},KEY,objectName):(0,_configureDepth3.default)((0,_defineProperty3.default)({},KEY,objectName),2)},deserialize:function deserialize(value){return(0,_createNamedObject2.default)(value,KEY)}};exports.default=objectType},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _assign2=_interopRequireDefault(__webpack_require__(81));exports.default=function createNamedObject(obj,key){var namedObj=new((0,_createFunction2.default)(obj[key]));return delete obj[key],(0,_assign2.default)(namedObj,obj),namedObj};var _createFunction2=_interopRequireDefault(__webpack_require__(458));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function createFunctionEval(name){var fnName=(0,_isReserved2.default)(name)?name+"$":name;return new Function("return function "+fnName+"() {}")()};var _isReserved2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(870))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function isReserved(name){return _reservedKeywords2.default.indexOf(name)>=0};var _reservedKeywords2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(871))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=["break","case","catch","class","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function getObjectName(value){if((0,_canAccessProperty2.default)("toString",value)){var stringValue=value.toString();if("class"===stringValue.slice(0,5))return stringValue.slice(6,-3);var type=stringValue.slice(8,-1);if("object"===stringValue.slice(1,7)&&"Object"!==type)return type;var parts=stringValue.match(/function (\w+).*/);if(parts&&2===parts.length)return parts[1]}return value.constructor?value.constructor.name:"Object"};var _canAccessProperty2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(873))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function canAccessProperty(key,value){var prop=void 0;try{prop=value[key]}catch(error){console.error(error)}return!!prop}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _defineProperty3=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(55));var KEY="$___storybook.Date",dateType={KEY:KEY,is:function is(value){return value instanceof Date},serialize:function serialize(value){return(0,_defineProperty3.default)({},KEY,value.toISOString())},deserialize:function deserialize(value){return new Date(value[KEY])}};exports.default=dateType},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _defineProperty3=_interopRequireDefault(__webpack_require__(55)),_createBoundFunction2=_interopRequireDefault(__webpack_require__(876)),_createFunction2=_interopRequireDefault(__webpack_require__(458));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var KEY="$___storybook.functionName",functionType={KEY:KEY,is:function is(value){return"function"==typeof value},serialize:function serialize(value){return(0,_defineProperty3.default)({},KEY,value.name||"")},deserialize:function deserialize(value){var parts=value[KEY].split(" ");return 2===parts.length&&"bound"===parts[0]?(0,_createBoundFunction2.default)(parts[1]):(0,_createFunction2.default)(parts[0])}};exports.default=functionType},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function createBoundFunction(name){return(0,_createFunction2.default)(name).bind({})};var _createFunction2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(458))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _defineProperty3=_interopRequireDefault(__webpack_require__(55)),_isFinite2=_interopRequireDefault(__webpack_require__(878));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var KEY="$___storybook.Infinity",InfinityType={KEY:KEY,is:function is(value){return"number"==typeof value&&!(0,_isFinite2.default)(value)},serialize:function serialize(value){return(0,_defineProperty3.default)({},KEY,value===1/0)},deserialize:function deserialize(value){return value[KEY]?1/0:-1/0}};exports.default=InfinityType},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(879),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(880),module.exports=__webpack_require__(2).Number.isFinite},function(module,exports,__webpack_require__){var $export=__webpack_require__(6),_isFinite=__webpack_require__(12).isFinite;$export($export.S,"Number",{isFinite:function isFinite(it){return"number"==typeof it&&_isFinite(it)}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _defineProperty3=_interopRequireDefault(__webpack_require__(55)),_isNan2=_interopRequireDefault(__webpack_require__(882));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var KEY="$___storybook.NaN",NaNType={KEY:KEY,is:function is(value){return"number"==typeof value&&(0,_isNan2.default)(value)},serialize:function serialize(){return(0,_defineProperty3.default)({},KEY,!0)},deserialize:function deserialize(){return NaN}};exports.default=NaNType},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(883),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(884),module.exports=__webpack_require__(2).Number.isNaN},function(module,exports,__webpack_require__){var $export=__webpack_require__(6);$export($export.S,"Number",{isNaN:function isNaN(number){return number!=number}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _defineProperty3=_interopRequireDefault(__webpack_require__(55)),_createRegExp2=_interopRequireDefault(__webpack_require__(886));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var KEY="$___storybook.regExpKey",regExpType={KEY:KEY,is:function is(value){return value instanceof RegExp},serialize:function serialize(value){return(0,_defineProperty3.default)({},KEY,value.toString())},deserialize:function deserialize(value){return(0,_createRegExp2.default)(value[KEY])}};exports.default=regExpType},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function createRegExp(regExp){var parts=regExp.split("/");return new RegExp(parts[1],parts[2])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _defineProperty3=_interopRequireDefault(__webpack_require__(55)),_typeof3=_interopRequireDefault(__webpack_require__(95)),_createSymbol2=_interopRequireDefault(__webpack_require__(888));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var KEY="$___storybook.symbolName",symbolType={KEY:KEY,is:function is(value){return"symbol"===(void 0===value?"undefined":(0,_typeof3.default)(value))},serialize:function serialize(value){return(0,_defineProperty3.default)({},KEY,String(value).slice(7,-1)||null)},deserialize:function deserialize(value){return(0,_createSymbol2.default)(value[KEY])}};exports.default=symbolType},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _symbol2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(249));exports.default=function createSymbol(name){return(0,_symbol2.default)(name)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _defineProperty3=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(55));var KEY="$___storybook.undefined",undefinedType={KEY:KEY,is:function is(value){return void 0===value},serialize:function serialize(){return(0,_defineProperty3.default)({},KEY,!0)},deserialize:function deserialize(){}};exports.default=undefinedType},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof2=__webpack_require__(95),_typeof3=_interopRequireDefault(_typeof2);exports.default=retrocycle;var _reviver=__webpack_require__(554),_reviver2=_interopRequireDefault(_reviver),_util=__webpack_require__(254),_=__webpack_require__(451);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var pathReg=/^\$(?:\[(?:\d+|"(?:[^\\"\u0000-\u001f]|\\([\\"/bfnrt]|u[0-9a-zA-Z]{4}))*")])*$/;function retrocycle(json){var $=JSON.parse(json,_reviver2.default);return"object"!==(void 0===$?"undefined":(0,_typeof3.default)($))||null===$?$:(function rez(value){if(value&&"object"===(void 0===value?"undefined":(0,_typeof3.default)(value)))if(Array.isArray(value))for(var i=0;i<value.length;i+=1){var item=value[i];if(item&&"object"===(void 0===item?"undefined":(0,_typeof3.default)(item))){var path=item.$ref;"string"==typeof path&&pathReg.test(path)?value[i]=eval(path):rez(item)}}else for(var name in value){var _item=value[name];if("object"===(void 0===_item?"undefined":(0,_typeof3.default)(_item))&&null!==_item){var _path=_item.$ref;"string"==typeof _path&&pathReg.test(_path)?value[name]=eval(_path):rez(_item)}}}($),(0,_util.muteProperty)(_.CYCLIC_KEY,$),$)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _types=__webpack_require__(457),hasOwnProperty=Object.prototype.hasOwnProperty,allTypes=_types.types.concat(_types.objectType);exports.default=function typeFilter(value){var found=allTypes.find(function(type){return hasOwnProperty.call(value,type.KEY)});return!!found&&{value:found.deserialize(value)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _types=__webpack_require__(457);exports.default=function typeReplacer(value){var found=_types.types.find(function(type){return type.is(value)});return!!found&&{value:found.serialize(value)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function omitProperty(name){return name.startsWith("__")||name.startsWith("STORYBOOK_")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _toConsumableArray3=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(94));exports.default=function decorateAction(decorators){return function(name,options){var callAction=(0,_preview.action)(name,options);return function(){for(var _len=arguments.length,_args=Array(_len),_key=0;_key<_len;_key++)_args[_key]=arguments[_key];var decorated=decorators.reduce(function(args,fn){return fn(args)},_args);callAction.apply(void 0,(0,_toConsumableArray3.default)(decorated))}}};var _preview=__webpack_require__(551)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hrefTo=exports.linkTo=exports.openLink=void 0;var _promise2=_interopRequireDefault(__webpack_require__(242)),_toConsumableArray3=_interopRequireDefault(__webpack_require__(94)),_addons2=_interopRequireDefault(__webpack_require__(129)),_=__webpack_require__(556);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var openLink=exports.openLink=function openLink(params){return _addons2.default.getChannel().emit(_.EVENT_ID,params)};exports.linkTo=function linkTo(kind,story){return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var resolver=function valueOrCall(args){return function(value){return"function"==typeof value?value.apply(void 0,(0,_toConsumableArray3.default)(args)):value}}(args);openLink({kind:resolver(kind),story:resolver(story)})}},exports.hrefTo=function hrefTo(kind,story){return new _promise2.default(function(resolve){var channel=_addons2.default.getChannel();channel.on(_.RECEIVE_HREF_EVENT_ID,resolve),channel.emit(_.REQUEST_HREF_EVENT_ID,{kind:kind,story:story})})}},function(module,exports,__webpack_require__){const preview=__webpack_require__(897);exports.setOptions=preview.setOptions,preview.init()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends3=_interopRequireDefault(__webpack_require__(7)),_defineProperty3=_interopRequireDefault(__webpack_require__(55));exports.init=function init(){},exports.setOptions=function setOptions(newOptions){var channel=_addons2.default.getChannel();if(!channel)throw new Error("Failed to find addon channel. This may be due to https://github.com/storybooks/storybook/issues/1192.");var options=(0,_extends3.default)({},newOptions,withRegexProp(newOptions,"hierarchySeparator"),withRegexProp(newOptions,"hierarchyRootSeparator"));channel.emit(_shared.EVENT_ID,{options:options})};var _addons2=_interopRequireDefault(__webpack_require__(129)),_shared=__webpack_require__(459);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function withRegexProp(object,propName){return function hasOwnProp(object,propName){return Object.prototype.hasOwnProperty.call(object,propName)}(object,propName)?(0,_defineProperty3.default)({},propName,function regExpStringify(exp){return"string"==typeof exp?exp:"[object RegExp]"===Object.prototype.toString.call(exp)?exp.source:null}(object[propName])):{}}},function(module,exports,__webpack_require__){"use strict";(function(module){var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(540),React=__importStar(__webpack_require__(0)),InteractiveExample_1=__importDefault(__webpack_require__(899)),StaticExample_1=__importDefault(__webpack_require__(1201)),utils_1=__webpack_require__(1202),mapboxAccessToken="pk.eyJ1IjoiaWx5YWJvLXRlcmFseXRpY3MiLCJhIjoiY2ppaW9wYzJ1MW8weTN2bnJkOHdsbTQ3dSJ9.VP2-bMLHPnmvqxkia-rM3g",flows16=__webpack_require__(1233),flowsDiff1516=__webpack_require__(1234),locationsData=__webpack_require__(1235);react_1.storiesOf("Static",module).add("simple",function(){return React.createElement(StaticExample_1.default,{width:window.innerWidth,height:window.innerHeight,flows:flows16,locations:locationsData,viewport:utils_1.getViewportForFeature(locationsData,[window.innerWidth,window.innerHeight]),mapboxAccessToken:mapboxAccessToken})}),react_1.storiesOf("Interactive",module).add("interactive",function(){return React.createElement(InteractiveExample_1.default,{width:window.innerWidth,height:window.innerHeight,fp64:!1,showTotals:!0,showLocationAreas:!0,locations:locationsData,flows:flows16,initialViewport:utils_1.getViewportForFeature(locationsData,[window.innerWidth,window.innerHeight]),mapboxAccessToken:mapboxAccessToken})}).add("no location areas",function(){return React.createElement(InteractiveExample_1.default,{width:window.innerWidth,height:window.innerHeight,fp64:!1,showTotals:!0,showLocationAreas:!1,locations:locationsData,flows:flows16,initialViewport:utils_1.getViewportForFeature(locationsData,[window.innerWidth,window.innerHeight]),mapboxAccessToken:mapboxAccessToken})}).add("no totals",function(){return React.createElement(InteractiveExample_1.default,{width:window.innerWidth,height:window.innerHeight,fp64:!1,showTotals:!1,showLocationAreas:!0,locations:locationsData,flows:flows16,initialViewport:utils_1.getViewportForFeature(locationsData,[window.innerWidth,window.innerHeight]),mapboxAccessToken:mapboxAccessToken})}).add("diff",function(){return React.createElement(InteractiveExample_1.default,{width:window.innerWidth,height:window.innerHeight,fp64:!1,showTotals:!0,showLocationAreas:!0,locations:locationsData,flows:flowsDiff1516,diff:!0,initialViewport:utils_1.getViewportForFeature(locationsData,[window.innerWidth,window.innerHeight]),mapboxAccessToken:mapboxAccessToken})})}).call(exports,__webpack_require__(98)(module))},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}},__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var deck_gl_1=__importDefault(__webpack_require__(217)),_=__importStar(__webpack_require__(632)),React=__importStar(__webpack_require__(0)),react_map_gl_1=__importDefault(__webpack_require__(633)),src_1=__importDefault(__webpack_require__(640)),LegendBox_1=__importDefault(__webpack_require__(1200)),ESC_KEY=27,colors={flows:{max:"#137CBD"},locationAreas:{outline:"rgba(92,112,128,0.5)",normal:"rgba(187,187,187,0.5)",selected:"rgba(217,130,43,0.5)"}},diffColors={positive:{flows:{max:"#e28740"}},negative:{flows:{max:"#0275b8"}},locationAreas:{outline:"rgba(92,112,128,0.5)",normal:"rgba(187,187,187,0.5)",selected:"rgba(217,130,43,0.5)"}},getLocationId=function(loc){return loc.properties.abbr};var InteractiveExample=function(_super){function InteractiveExample(props){var _this=_super.call(this,props)||this;_this.highlightDebounced=_.debounce(_this.highlight,100),_this.handleFlowMapHover=function(_a){var type=_a.type,object=_a.object;switch(type){case"flow":object?_this.highlight({type:"flow",flow:object}):_this.highlight(void 0);break;case"location":object?_this.highlight({type:"location",locationId:getLocationId(object)}):_this.highlight(void 0);break;case"location-area":object?_this.highlightDebounced({type:"location",locationId:getLocationId(object)}):_this.highlightDebounced(void 0)}},_this.handleFlowMapClick=function(_a){var type=_a.type,object=_a.object;switch(type){case"location":case"location-area":if(object){var nextSelectedId_1=getLocationId(object);_this.setState(function(state){return __assign({},state,{selectedLocationIds:function getNextSelectedLocationIds(selectedLocationIds,nextSelectedId){if(!selectedLocationIds||_.isEmpty(selectedLocationIds))return[nextSelectedId];var nextSelectedIds=_.includes(selectedLocationIds,nextSelectedId)?_.without(selectedLocationIds,nextSelectedId):selectedLocationIds.concat(nextSelectedId);return _.isEmpty(nextSelectedIds)?void 0:nextSelectedIds}(state.selectedLocationIds,nextSelectedId_1)})})}}},_this.handleChangeViewport=function(viewport){return _this.setState({viewport:__assign({},_this.state.viewport,viewport)})},_this.handleKeyDown=function(evt){evt instanceof KeyboardEvent&&evt.keyCode===ESC_KEY&&_this.setState({selectedLocationIds:void 0})};var initialViewport=props.initialViewport;return _this.state={viewport:initialViewport},_this}return __extends(InteractiveExample,_super),InteractiveExample.prototype.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown)},InteractiveExample.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeyDown)},InteractiveExample.prototype.render=function(){var _a=this.props,width=_a.width,height=_a.height,mapboxAccessToken=_a.mapboxAccessToken,diff=_a.diff,viewport=this.state.viewport,flowMapLayer=this.getFlowMapLayer();return React.createElement(react_map_gl_1.default,__assign({},viewport,{width:width,height:height,onViewportChange:this.handleChangeViewport,mapboxApiAccessToken:mapboxAccessToken}),React.createElement(deck_gl_1.default,__assign({},viewport,{width:width,height:height,layers:[flowMapLayer],style:{mixBlendMode:"darken"}})),React.createElement(LegendBox_1.default,{top:10,left:10},diff&&React.createElement(src_1.DiffColorsLegend,{colors:flowMapLayer.props.colors}),diff&&React.createElement("hr",null),React.createElement(src_1.LocationTotalsLegend,{colors:flowMapLayer.props.colors})))},InteractiveExample.prototype.getFlowMapLayer=function(){var _a=this.props,locations=_a.locations,flows=_a.flows,fp64=_a.fp64,diff=_a.diff,showTotals=_a.showTotals,showLocationAreas=_a.showLocationAreas,_b=this.state,highlight=_b.highlight,selectedLocationIds=_b.selectedLocationIds;return new src_1.default({colors:diff?diffColors:colors,getLocationId:getLocationId,selectedLocationIds:selectedLocationIds,id:"flow-map-layer",locations:locations,flows:flows,highlightedLocationId:highlight&&"location"===highlight.type?highlight.locationId:void 0,highlightedFlow:highlight&&"flow"===highlight.type?highlight.flow:void 0,getFlowMagnitude:function(f){return f.count},showLocationAreas:showLocationAreas,varyFlowColorByMagnitude:!0,showTotals:showTotals,onHover:this.handleFlowMapHover,onClick:this.handleFlowMapClick,fp64:fp64})},InteractiveExample.prototype.highlight=function(highlight){this.setState({highlight:highlight}),this.highlightDebounced.cancel()},InteractiveExample}(React.Component);exports.default=InteractiveExample},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__utils_globals__=__webpack_require__(901),__WEBPACK_IMPORTED_MODULE_1__utils_log__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__utils_globals__),__webpack_require__(28));if(__WEBPACK_IMPORTED_MODULE_0__utils_globals__.global.deck&&"5.3.1"!==__WEBPACK_IMPORTED_MODULE_0__utils_globals__.global.deck.VERSION)throw new Error("deck.gl - multiple versions detected: ".concat(__WEBPACK_IMPORTED_MODULE_0__utils_globals__.global.deck.VERSION," vs ").concat("5.3.1"));__WEBPACK_IMPORTED_MODULE_0__utils_globals__.global.deck||(__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.log(0,"deck.gl ".concat("5.3.1"," - ").concat("set deck.log.priority=1 (or higher) to trace attribute updates"))(),__WEBPACK_IMPORTED_MODULE_0__utils_globals__.global.deck=__WEBPACK_IMPORTED_MODULE_0__utils_globals__.global.deck||{VERSION:"5.3.1",version:"5.3.1",log:__WEBPACK_IMPORTED_MODULE_1__utils_log__.a}),console.table||(console.table=function(){}),__webpack_require__(560)},function(module,exports,__webpack_require__){(function(process,global){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var isBrowser="object"!==(void 0===process?"undefined":_typeof(process))||"[object process]"!==String(process)||process.browser;module.exports={window:"undefined"!=typeof window?window:global,global:void 0!==global?global:window,document:"undefined"!=typeof document?document:{},isBrowser:isBrowser}}).call(exports,__webpack_require__(61),__webpack_require__(13))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_globals=__webpack_require__(153),_localStorage2=_interopRequireDefault(__webpack_require__(903)),_timestamp=__webpack_require__(557),_formatters=__webpack_require__(558),_color=__webpack_require__(559),_autobind=__webpack_require__(904),_assert2=_interopRequireDefault(__webpack_require__(905));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var originalConsole={debug:_globals.isBrowser&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},DEFAULT_SETTINGS={enabled:!1,priority:0};function noop(){}var cache={};var Log=function(){function Log(){var id=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).id;(function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")})(this,Log),this.id=id,this.VERSION=_globals.VERSION,this._startTs=(0,_timestamp.getTimestamp)(),this._deltaTs=(0,_timestamp.getTimestamp)(),this.LOG_THROTTLE_TIMEOUT=0,this._storage=new _localStorage2.default("__probe-"+this.id+"__",DEFAULT_SETTINGS),this.userData={},this.timeStamp(this.id+" started"),(0,_autobind.autobind)(this),Object.seal(this)}return _createClass(Log,[{key:"isEnabled",value:function isEnabled(){return this._storage.config.enabled}},{key:"getPriority",value:function getPriority(){return this._storage.config.priority}},{key:"getLevel",value:function getLevel(){return this._storage.config.priority}},{key:"getTotal",value:function getTotal(){return+((0,_timestamp.getTimestamp)()-this._startTs).toPrecision(10)}},{key:"getDelta",value:function getDelta(){return+((0,_timestamp.getTimestamp)()-this._deltaTs).toPrecision(10)}},{key:"enable",value:function enable(){var enabled=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return this._storage.updateConfiguration({enabled:enabled}),this}},{key:"setLevel",value:function setLevel(level){return this._storage.updateConfiguration({priority:level}),this}},{key:"warn",value:function warn(message){for(var _len=arguments.length,args=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return this._getLogFunction({message:message,args:args,method:originalConsole.warn,once:!0})}},{key:"error",value:function error(message){for(var _len2=arguments.length,args=Array(1<_len2?_len2-1:0),_key2=1;_key2<_len2;_key2++)args[_key2-1]=arguments[_key2];return this._getLogFunction({message:message,args:args,method:originalConsole.error})}},{key:"deprecated",value:function deprecated(oldUsage,newUsage){return this.warn("`"+oldUsage+"` is deprecated and will be removed in a later version. Use `"+newUsage+"` instead")}},{key:"removed",value:function removed(oldUsage,newUsage){return this.error("`"+oldUsage+"` has been removed. Use `"+newUsage+"` instead")}},{key:"probe",value:function probe(priority,message){for(var _len3=arguments.length,args=Array(2<_len3?_len3-2:0),_key3=2;_key3<_len3;_key3++)args[_key3-2]=arguments[_key3];return this._getLogFunction({priority:priority,message:message,args:args,method:originalConsole.log,time:!0,once:!0})}},{key:"log",value:function log(priority,message){for(var _len4=arguments.length,args=Array(2<_len4?_len4-2:0),_key4=2;_key4<_len4;_key4++)args[_key4-2]=arguments[_key4];return this._getLogFunction({priority:priority,message:message,args:args,method:originalConsole.debug})}},{key:"info",value:function info(priority,message){for(var _len5=arguments.length,args=Array(2<_len5?_len5-2:0),_key5=2;_key5<_len5;_key5++)args[_key5-2]=arguments[_key5];return this._getLogFunction({priority:priority,message:message,args:args,method:console.info})}},{key:"once",value:function once(priority,message){for(var _len6=arguments.length,args=Array(2<_len6?_len6-2:0),_key6=2;_key6<_len6;_key6++)args[_key6-2]=arguments[_key6];return this._getLogFunction({priority:priority,message:message,args:args,method:originalConsole.debug||originalConsole.info,once:!0})}},{key:"table",value:function table(priority,_table,columns){if(_table){var tag=function getTableHeader(table){for(var key in table)for(var title in table[key])return title||"untitled";return"empty"}(_table);return this._getLogFunction({priority:priority,message:_table,args:columns&&[columns],tag:tag,method:console.table||noop})}return noop}},{key:"image",value:function image(_ref2){var priority=_ref2.priority,_image=_ref2.image,_ref2$message=_ref2.message,message=void 0===_ref2$message?"":_ref2$message,_ref2$scale=_ref2.scale,scale=void 0===_ref2$scale?1:_ref2$scale;return priority>this.getPriority()?noop:_globals.isBrowser?this._logImageInBrowser({image:_image,message:message,scale:scale}):this._logImageInNode({image:_image,message:message,scale:scale})}},{key:"_logImageInNode",value:function _logImageInNode(_ref3){var image=_ref3.image,_ref3$scale=(_ref3.message,_ref3.scale),scale=void 0===_ref3$scale?1:_ref3$scale,asciify=null;try{asciify=module.require("asciify-image")}catch(error){}return asciify?function(){return asciify(image,{fit:"box",width:Math.round(80*scale)+"%"}).then(function(data){return console.log(data)})}:noop}},{key:"_logImageInBrowser",value:function _logImageInBrowser(_ref4){var image=_ref4.image,_ref4$message=_ref4.message,message=void 0===_ref4$message?"":_ref4$message,_ref4$scale=_ref4.scale,scale=void 0===_ref4$scale?1:_ref4$scale;if("string"==typeof image){var img=new Image;return img.onload=function(){var _console,args=(0,_formatters.formatImage)(img,message,scale);(_console=console).log.apply(_console,_toConsumableArray(args))},img.src=image,noop}var _console2,element=image.nodeName||"";if("img"===element.toLowerCase())return(_console2=console).log.apply(_console2,_toConsumableArray((0,_formatters.formatImage)(image,message,scale))),noop;if("canvas"===element.toLowerCase()){var _img=new Image;return _img.onload=function(){var _console3;return(_console3=console).log.apply(_console3,_toConsumableArray((0,_formatters.formatImage)(_img,message,scale)))},_img.src=image.toDataURL(),noop}return noop}},{key:"time",value:function time(priority,message){return this._getLogFunction({priority:priority,message:message,method:console.time?console.time:console.info})}},{key:"timeEnd",value:function timeEnd(priority,message){return this._getLogFunction({priority:priority,message:message,method:console.timeEnd?console.timeEnd:console.info})}},{key:"timeStamp",value:function timeStamp(priority,message){return this._getLogFunction({priority:priority,message:message,method:console.timeStamp||noop})}},{key:"group",value:function group(priority,message){var opts=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{collapsed:!1},collapsed=(opts=this._normalizeArguments({priority:priority,message:message,opts:opts})).collapsed;return this._getLogFunction({priority:priority,message:message,opts:opts,method:(collapsed?console.groupCollapsed:console.group)||console.info})}},{key:"groupCollapsed",value:function groupCollapsed(priority,message){var opts=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return this.group(priority,message,Object.assign({},opts,{collapsed:!0}))}},{key:"groupEnd",value:function groupEnd(priority){return this._getLogFunction({priority:priority,message:"",method:console.groupEnd||noop})}},{key:"withGroup",value:function withGroup(priority,message,func){var opts=this._normalizeArguments({priority:priority,message:message});this.group(opts);try{func()}finally{this.groupEnd(opts.message)}}},{key:"trace",value:function trace(){console.trace&&console.trace()}},{key:"_shouldLog",value:function _shouldLog(priority){return 0===(priority=this._normalizePriority(priority))||this.isEnabled()&&this.getPriority()>=priority}},{key:"_getElapsedTime",value:function _getElapsedTime(){var total=this.getTotal(),delta=this.getDelta();return this._deltaTs=(0,_timestamp.getTimestamp)(),{total:total,delta:delta}}},{key:"_getLogFunction",value:function _getLogFunction(opts){if(this._shouldLog(opts.priority)){var method=opts.method;opts=this._parseArguments(opts),(0,_assert2.default)(method);var message=opts.message,tag=opts.tag||opts.message;if(opts.once){if(cache[tag])return noop;cache[tag]=(0,_timestamp.getTimestamp)()}return message=this._decorateMessage(message,opts),method.bind.apply(method,[console,message].concat(_toConsumableArray(opts.args)))}return noop}},{key:"_parseArguments",value:function _parseArguments(options){var normOpts=this._normalizeArguments(options),_getElapsedTime2=this._getElapsedTime(),delta=_getElapsedTime2.delta,total=_getElapsedTime2.total;return Object.assign(options,normOpts,{delta:delta,total:total})}},{key:"_normalizePriority",value:function _normalizePriority(priority){var resolvedPriority;switch(void 0===priority?"undefined":_typeof(priority)){case"number":resolvedPriority=priority;break;case"object":resolvedPriority=priority.priority||0;break;default:resolvedPriority=0}return(0,_assert2.default)(Number.isFinite(resolvedPriority)&&0<=resolvedPriority),resolvedPriority}},{key:"_normalizeArguments",value:function _normalizeArguments(_ref5){var priority=_ref5.priority,message=_ref5.message,_ref5$args=_ref5.args,args=void 0===_ref5$args?[]:_ref5$args,opts=_ref5.opts,newOpts={priority:this._normalizePriority(priority),message:message,args:args};switch(void 0===priority?"undefined":_typeof(priority)){case"string":case"function":void 0!==message&&args.unshift(message),Object.assign(newOpts,{message:priority});break;case"object":Object.assign(newOpts,priority)}return"function"==typeof newOpts.message&&(newOpts.message=this._shouldLog(newOpts.priority)?newOpts.message():""),(0,_assert2.default)("string"==typeof newOpts.message||"object"===_typeof(newOpts.message)),Object.assign(newOpts,opts)}},{key:"_decorateMessage",value:function _decorateMessage(message,opts){if("string"==typeof message){var time="";if(opts.time){var total=this._getElapsedTime().total;time=(0,_formatters.leftPad)((0,_formatters.formatTime)(total))}message=opts.time?this.id+": "+time+"  "+message:this.id+": "+message,message=(0,_color.addColor)(message,opts.color,opts.background)}return message}},{key:"priority",set:function set(newPriority){return this._storage.updateConfiguration({priority:newPriority}),this},get:function get(){return this._storage.config.priority}}]),Log}();exports.default=Log,Log.VERSION=_globals.VERSION}).call(exports,__webpack_require__(98)(module))},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var LocalStorage=function(){function LocalStorage(id,defaultSettings){var type=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"sessionStorage";(function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")})(this,LocalStorage),this.storage=function getStorage(type){try{var storage=window[type],x="__storage_test__";return storage.setItem(x,x),storage.removeItem(x),storage}catch(e){return null}}(type),this.id=id,this.config={},Object.assign(this.config,defaultSettings),this._loadConfiguration()}return _createClass(LocalStorage,[{key:"getConfiguration",value:function getConfiguration(){return this.config}},{key:"setConfiguration",value:function setConfiguration(configuration){return this.config={},this.updateConfiguration(configuration)}},{key:"updateConfiguration",value:function updateConfiguration(configuration){if(Object.assign(this.config,configuration),this.storage){var serialized=JSON.stringify(this.config);this.storage.setItem(this.id,serialized)}return this}},{key:"_loadConfiguration",value:function _loadConfiguration(){var configuration={};if(this.storage){var serializedConfiguration=this.storage.getItem(this.id);configuration=serializedConfiguration?JSON.parse(serializedConfiguration):{}}return Object.assign(this.config,configuration),this}}]),LocalStorage}();exports.default=LocalStorage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.autobind=function autobind(obj){var predefined=1<arguments.length&&void 0!==arguments[1]?arguments[1]:["constructor"],proto=Object.getPrototypeOf(obj),propNames=Object.getOwnPropertyNames(proto),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_loop=function(){var key=_step.value;"function"!=typeof obj[key]||predefined.find(function(name){return key===name})||(obj[key]=obj[key].bind(obj))},_iterator=propNames[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_loop()}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function assert(condition,message){if(!condition)throw new Error("Assertion failed. "+message)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_timestamp=__webpack_require__(557),_formatters=__webpack_require__(558);var Stats=function(){function Stats(_ref){var id=_ref.id;(function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")})(this,Stats),this.id=id,this.time=(0,_timestamp.getTimestamp)(),this.counters={},Object.seal(this)}var _Mathround=Math.round;return _createClass(Stats,[{key:"addCounter",value:function addCounter(name){return this._getCounter(name),this}},{key:"bump",value:function bump(name){var counter=this._getCounter(name);return counter.call++,counter.count++,this}},{key:"increment",value:function increment(name,count){var counter=this._getCounter(name);return counter.call++,counter.count+=count,this}},{key:"addTimer",value:function addTimer(name){return this._getCounter(name).time=0,this}},{key:"addTime",value:function addTime(name,time){var timer=this._getCounter(name);return timer.time+=time,timer.count++,this}},{key:"timeStart",value:function timeStart(name){this._getCounter(name)._startTime=(0,_timestamp.getTimestamp)()}},{key:"timeEnd",value:function timeEnd(name){var timer=this._getCounter(name);this.addTime(name,(0,_timestamp.getTimestamp)()-timer._startTime)}},{key:"reset",value:function reset(){for(var key in this.time=(0,_timestamp.getTimestamp)(),this.counters){var counter=this.counters[key];counter.count=0,counter.time=0}return this}},{key:"hasTimeElapsed",value:function hasTimeElapsed(){return!(0<arguments.length&&void 0!==arguments[0])||arguments[0],1e3<(0,_timestamp.getTimestamp)()-this.time}},{key:"getStats",value:function getStats(){var deltaTime=((0,_timestamp.getTimestamp)()-this.time)/1e3,stats={};for(var key in this.counters){var counter=this.counters[key];stats[counter.title]={total:counter.count,fps:_Mathround(counter.count/deltaTime)},counter.time&&(stats[counter.title].totalTime=(0,_formatters.formatTime)(counter.time),stats[counter.title].avgTime=(0,_formatters.formatTime)(counter.time/counter.count))}return stats}},{key:"getStatsTable",value:function getStatsTable(){var stats=this.getStats();for(var key in stats)0===stats[key].total&&delete stats[key];return stats}},{key:"getStatNames",value:function getStatNames(){return Object.keys(this.counters)}},{key:"get",value:function get(name){return this._getCounter(name).count}},{key:"getCount",value:function getCount(name){return this._getCounter(name).count}},{key:"getFPS",value:function getFPS(name){var counter=this._getCounter(name),deltaTime=((0,_timestamp.getTimestamp)()-this.time)/1e3;return _Mathround(counter.count/deltaTime)}},{key:"getTimeString",value:function getTimeString(){return this.id+":"+(0,_formatters.formatTime)(this.time)+"("+this.count+")"}},{key:"oneSecondPassed",value:function oneSecondPassed(){var deltaTime=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1e3;return this.hasTimeElapsed(deltaTime)}},{key:"_getCounter",value:function _getCounter(name){var counter=this.counters[name];return counter||(counter={title:name,unit:"",timer:!1,count:0,time:0,totalTime:0,averageTime:0},this.counters[name]=counter),counter}},{key:"_incrementTimer",value:function _incrementTimer(counter,time,count){counter.count+=count,counter.totalTime+=time,counter.averageTime=counter.totalTime/count}}]),Stats}();exports.default=Stats},function(module,exports,__webpack_require__){"use strict";__webpack_require__(153).global.probe={}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.enableDOMLogging=enableDOMLogging,exports.logLineToDOM=logLineToDOM;var _globals=__webpack_require__(153),old=null;function enableDOMLogging(){var enable=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];enable&&!old&&(old=_globals.console.log.bind(_globals.console),_globals.console.log=function(){logLineToDOM.apply(void 0,arguments),old.apply(void 0,arguments)}),!enable&&old&&(_globals.console.log=old,old=null)}var logDiv=null;function logLineToDOM(message){if(!logDiv){var markdown=_globals.global.probe.markdown;logDiv=_globals.document.createElement(markdown?"pre":"div")}var childNodes=_globals.document.body.childNodes;_globals.document.body.insertBefore(logDiv,childNodes&&childNodes[0]),"string"==typeof message&&(logDiv.innerHTML+=message+"<br />")}exports.default=enableDOMLogging},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(process){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}__webpack_exports__.a=function isElectron(){return"undefined"!=typeof window&&"object"===_typeof(window.process)&&"renderer"===window.process.type||!(void 0===process||"object"!==_typeof(process.versions)||!Boolean(process.versions.electron))||"object"===("undefined"==typeof navigator?"undefined":_typeof(navigator))&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}()}).call(__webpack_exports__,__webpack_require__(61))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"c",function(){return WebGLRenderingContext}),__webpack_require__.d(__webpack_exports__,"b",function(){return WebGLBuffer}),__webpack_require__.d(__webpack_exports__,"a",function(){return WebGL2RenderingContext});var __WEBPACK_IMPORTED_MODULE_0__utils_globals__=__webpack_require__(218);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}var headlessTypes=null;if(!__webpack_require__(257).a){try{headlessTypes=module.require("gl/wrap")}catch(error){console.error("".concat(error.message))}console.warn(headlessTypes&&headlessTypes.WebGLRenderingContext)}var DummyType=function DummyType(){_classCallCheck(this,DummyType)},_ref=headlessTypes||__WEBPACK_IMPORTED_MODULE_0__utils_globals__.a,_ref$WebGLRenderingCo=_ref.WebGLRenderingContext,WebGLRenderingContext=void 0===_ref$WebGLRenderingCo?DummyType:_ref$WebGLRenderingCo,_ref$WebGLBuffer=(_ref.WebGLProgram,_ref.WebGLShader,_ref.WebGLBuffer),WebGLBuffer=void 0===_ref$WebGLBuffer?DummyType:_ref$WebGLBuffer;_ref.WebGLFramebuffer,_ref.WebGLRenderbuffer,_ref.WebGLTexture,_ref.WebGLUniformLocation,_ref.WebGLActiveInfo,_ref.WebGLShaderPrecisionFormat;var WebGL2RenderingContext=function getWebGL2RenderingContext(){return __WEBPACK_IMPORTED_MODULE_0__utils_globals__.a.WebGL2RenderingContext||function WebGL2RenderingContextNotSupported(){_classCallCheck(this,WebGL2RenderingContextNotSupported)}}();(function getImage(){return __WEBPACK_IMPORTED_MODULE_0__utils_globals__.a.Image||function ImageNotSupported(){_classCallCheck(this,ImageNotSupported)}})()}).call(__webpack_exports__,__webpack_require__(240)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=function requestAnimationFrame(callback){return"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(callback):setTimeout(callback,1e3/60)},__webpack_exports__.a=function cancelAnimationFrame(timerId){return"undefined"!=typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(timerId):clearTimeout(timerId)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=parseGLSLCompilerError;var __WEBPACK_IMPORTED_MODULE_0__get_shader_name__=__webpack_require__(564);function parseGLSLCompilerError(errLog,src,shaderType){for(var errorStrings=errLog.split(/\r?\n/),errors={},warnings={},name=Object(__WEBPACK_IMPORTED_MODULE_0__get_shader_name__.a)(src)||"(unnamed)",shaderName="".concat(Object(__WEBPACK_IMPORTED_MODULE_0__get_shader_name__.b)(shaderType)," shader ").concat(name),i=0;i<errorStrings.length;i++){var errorString=errorStrings[i];if(!(errorString.length<=1)){var segments=errorString.split(":"),type=segments[0],line=parseInt(segments[2],10);if(isNaN(line))throw new Error("GLSL compilation error in ".concat(shaderName,": ").concat(errLog));"WARNING"!==type?errors[line]=errorString:warnings[line]=errorString}}var lines=function addLineNumbers(string){var start=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,delim=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ",lines=string.split(/\r?\n/),maxDigits=String(lines.length+start-1).length;return lines.map(function(line,i){var lineNumber=i+start,digits=String(lineNumber).length,prefix=padLeft(lineNumber,maxDigits-digits);return prefix+delim+line})}(src);return{shaderName:shaderName,errors:formatErrors(errors,lines),warnings:formatErrors(warnings,lines)}}function formatErrors(errors,lines){for(var message="",i=0;i<lines.length;i++){var line=lines[i];if((errors[i+3]||errors[i+2]||errors[i+1])&&(message+="".concat(line,"\n"),errors[i+1])){var error=errors[i+1],segments=error.split(":",3),type=segments[0],column=parseInt(segments[1],10)||0,err=error.substring(segments.join(":").length+1).trim();message+=padLeft("^^^ ".concat(type,": ").concat(err,"\n\n"),column)}}return message}function padLeft(string,digits){for(var result="",i=0;i<digits;++i)result+=" ";return"".concat(result).concat(string)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function isOldIE(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},navigator=__WEBPACK_IMPORTED_MODULE_0__globals__.b.navigator||{},userAgent=opts.userAgent||navigator.userAgent,isMSIE=-1!==userAgent.indexOf("MSIE "),isTrident=-1!==userAgent.indexOf("Trident/");return isMSIE||isTrident};var __WEBPACK_IMPORTED_MODULE_0__globals__=__webpack_require__(218)},function(module,__webpack_exports__,__webpack_require__){"use strict"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.c=function uid(){var id=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";uidCounters[id]=uidCounters[id]||1;var count=uidCounters[id]++;return"".concat(id,"-").concat(count)},__webpack_exports__.b=function isPowerOfTwo(n){return Object(__WEBPACK_IMPORTED_MODULE_0__assert__.a)("number"==typeof n,"Input must be a number"),n&&0==(n&n-1)},__webpack_exports__.a=function isObjectEmpty(obj){var isEmpty=!0;for(var key in obj){isEmpty=!1;break}return isEmpty};var __WEBPACK_IMPORTED_MODULE_0__assert__=__webpack_require__(3),uidCounters={}},function(module,__webpack_exports__,__webpack_require__){"use strict";function formatValue(v){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_opts$isInteger=opts.isInteger,isInteger=void 0!==_opts$isInteger&&_opts$isInteger;if(Array.isArray(v)||ArrayBuffer.isView(v))return function formatArrayValue(v,opts){for(var _opts$maxElts=opts.maxElts,maxElts=void 0===_opts$maxElts?16:_opts$maxElts,_opts$size=opts.size,size=void 0===_opts$size?1:_opts$size,string="[",i=0;i<v.length&&i<maxElts;++i)i>0&&(string+=",".concat(i%size==0?" ":"")),string+=formatValue(v[i],opts);var terminator=v.length>maxElts?"...":"]";return"".concat(string).concat(terminator)}(v,opts);if(!Number.isFinite(v))return String(v);if(Math.abs(v)<1e-16)return isInteger?"0":"0.";if(isInteger)return v.toFixed(0);if(Math.abs(v)>100&&Math.abs(v)<1e4)return v.toFixed(0);var string=v.toPrecision(2);return string.indexOf(".0")===string.length-2?string.slice(0,-1):string}__webpack_exports__.a=formatValue},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function getParameterPolyfill(gl,originalGetParameter,pname){var limit=WEBGL_PARAMETERS[pname],value="function"==typeof limit?limit(gl,originalGetParameter,pname):limit;return void 0!==value?value:originalGetParameter(pname)};var _WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var getWebGL2ValueOrZero=function getWebGL2ValueOrZero(gl){return isWebGL2(gl)?void 0:0},WEBGL_PARAMETERS=(_defineProperty(_WEBGL_PARAMETERS={},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.READ_BUFFER,function(gl){return isWebGL2(gl)?void 0:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.COLOR_ATTACHMENT0}),_defineProperty(_WEBGL_PARAMETERS,35723,function(gl){return isWebGL2(gl)?void 0:4352}),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RASTERIZER_DISCARD,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SAMPLES,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,36795,function(gl,getParameter){var ext=isWebGL2(gl)?gl.getExtension("EXT_disjoint_timer_query_webgl2"):gl.getExtension("EXT_disjoint_timer_query");return ext&&ext.GPU_DISJOINT_EXT?getParameter(ext.GPU_DISJOINT_EXT):0}),_defineProperty(_WEBGL_PARAMETERS,37445,function(gl,getParameter){var ext=gl.getExtension("WEBGL_debug_renderer_info");return getParameter(ext&&ext.UNMASKED_VENDOR_WEBGL||__WEBPACK_IMPORTED_MODULE_0__constants___default.a.VENDOR)}),_defineProperty(_WEBGL_PARAMETERS,37446,function(gl,getParameter){var ext=gl.getExtension("WEBGL_debug_renderer_info");return getParameter(ext&&ext.UNMASKED_RENDERER_WEBGL||__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RENDERER)}),_defineProperty(_WEBGL_PARAMETERS,34047,function(gl,getParameter){var ext=gl.luma.extensions.EXT_texture_filter_anisotropic;return ext?getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1}),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_3D_TEXTURE_SIZE,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_ARRAY_TEXTURE_LAYERS,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_CLIENT_WAIT_TIMEOUT_WEBGL,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_COLOR_ATTACHMENTS,function(gl,getParameter){if(!isWebGL2(gl)){var ext=gl.getExtension("WEBGL_draw_buffers");return ext?getParameter(ext.MAX_COLOR_ATTACHMENTS_WEBGL):0}}),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_COMBINED_UNIFORM_BLOCKS,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_DRAW_BUFFERS,function(gl){if(!isWebGL2(gl)){var ext=gl.getExtension("WEBGL_draw_buffers");return ext?ext.MAX_DRAW_BUFFERS_WEBGL:0}}),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_ELEMENT_INDEX,function(gl){return gl.getExtension("OES_element_index")?2147483647:65535}),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_ELEMENTS_INDICES,function(gl){return gl.getExtension("OES_element_index")?16777216:65535}),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_ELEMENTS_VERTICES,function(gl){return 16777216}),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_FRAGMENT_INPUT_COMPONENTS,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_FRAGMENT_UNIFORM_BLOCKS,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_FRAGMENT_UNIFORM_COMPONENTS,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_SAMPLES,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_SERVER_WAIT_TIMEOUT,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_TEXTURE_LOD_BIAS,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_UNIFORM_BLOCK_SIZE,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_UNIFORM_BUFFER_BINDINGS,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_VARYING_COMPONENTS,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_VERTEX_OUTPUT_COMPONENTS,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_VERTEX_UNIFORM_BLOCKS,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_VERTEX_UNIFORM_COMPONENTS,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MIN_PROGRAM_TEXEL_OFFSET,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.MAX_PROGRAM_TEXEL_OFFSET,getWebGL2ValueOrZero),_defineProperty(_WEBGL_PARAMETERS,__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNIFORM_BUFFER_OFFSET_ALIGNMENT,getWebGL2ValueOrZero),_WEBGL_PARAMETERS);function isWebGL2(gl){return gl&&32874===gl.TEXTURE_BINDING_3D}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function glFormatToComponents(format){switch(format){case GL_ALPHA:return 1;case GL_RGB:return 3;case GL_RGBA:return 4;default:return Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(!1),0}},__webpack_exports__.b=function glTypeToBytes(type){switch(type){case GL_UNSIGNED_BYTE:return 1;case GL_UNSIGNED_SHORT_5_6_5:case GL_UNSIGNED_SHORT_4_4_4_4:case GL_UNSIGNED_SHORT_5_5_5_1:return 2;case GL_FLOAT:return 4;default:return Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(!1),0}};var __WEBPACK_IMPORTED_MODULE_0__utils_assert__=__webpack_require__(3),GL_ALPHA=6406,GL_RGB=6407,GL_RGBA=6408,GL_UNSIGNED_BYTE=5121,GL_UNSIGNED_SHORT_4_4_4_4=32819,GL_UNSIGNED_SHORT_5_5_5_1=32820,GL_UNSIGNED_SHORT_5_6_5=33635,GL_FLOAT=5126},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=getPrimitiveDrawMode;var __WEBPACK_IMPORTED_MODULE_0__utils_assert__=__webpack_require__(3),GL_POINTS=0,GL_LINES=1,GL_LINE_LOOP=2,GL_LINE_STRIP=3,GL_TRIANGLES=4,GL_TRIANGLE_STRIP=5,GL_TRIANGLE_FAN=6;function getPrimitiveDrawMode(drawMode){switch(drawMode){case GL_POINTS:return GL_POINTS;case GL_LINES:case GL_LINE_STRIP:case GL_LINE_LOOP:return GL_LINES;case GL_TRIANGLES:case GL_TRIANGLE_STRIP:case GL_TRIANGLE_FAN:return GL_TRIANGLES;default:return Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(!1),0}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return FenceSync});var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__resource__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_2__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_3__webgl_utils_query_manager__=__webpack_require__(464);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var FenceSync=function(_Resource){function FenceSync(gl,opts){var _this;return _classCallCheck(this,FenceSync),Object(__WEBPACK_IMPORTED_MODULE_2__webgl_utils__.d)(gl),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(FenceSync.__proto__||Object.getPrototypeOf(FenceSync)).call(this,gl,opts))).promise=null,Object.seal(_assertThisInitialized(_this)),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(FenceSync,__WEBPACK_IMPORTED_MODULE_1__resource__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FenceSync,[{key:"wait",value:function wait(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$flags=_ref.flags,flags=void 0===_ref$flags?0:_ref$flags,_ref$timeout=_ref.timeout,timeout=void 0===_ref$timeout?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TIMEOUT_IGNORED:_ref$timeout;return this.gl.waitSync(this.handle,flags,timeout),this}},{key:"clientWait",value:function clientWait(_ref2){var _ref2$flags=_ref2.flags,flags=void 0===_ref2$flags?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SYNC_FLUSH_COMMANDS_BIT:_ref2$flags,timeout=_ref2.timeout,result=this.gl.clientWaitSync(this.handle,flags,timeout);switch(result){case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.ALREADY_SIGNALED:case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.TIMEOUT_EXPIRED:case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.CONDITION_SATISFIED:case __WEBPACK_IMPORTED_MODULE_0__constants___default.a.WAIT_FAILED:}return result}},{key:"cancel",value:function cancel(){__WEBPACK_IMPORTED_MODULE_3__webgl_utils_query_manager__.a.cancelQuery(this)}},{key:"isSignaled",value:function isSignaled(){return this.getParameter(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SYNC_STATUS)===__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SIGNALED}},{key:"isResultAvailable",value:function isResultAvailable(){return this.isSignaled()}},{key:"getResult",value:function getResult(){return this.isSignaled()}},{key:"getParameter",value:function getParameter(pname){return this.gl.getSyncParameter(this.handle,pname)}},{key:"_createHandle",value:function _createHandle(){return this.gl.fenceSync(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.SYNC_GPU_COMMANDS_COMPLETE,0)}},{key:"_deleteHandle",value:function _deleteHandle(){__WEBPACK_IMPORTED_MODULE_3__webgl_utils_query_manager__.a.deleteQuery(this),this.gl.deleteSync(this.handle)}}]),FenceSync}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Texture3D});var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_2__webgl_context_context_state__=__webpack_require__(139),__WEBPACK_IMPORTED_MODULE_3__webgl_texture__=__webpack_require__(155),__WEBPACK_IMPORTED_MODULE_4__buffer__=__webpack_require__(140);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Texture3D=function(_Texture){function Texture3D(gl){var _this,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,Texture3D),Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.d)(gl),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(Texture3D.__proto__||Object.getPrototypeOf(Texture3D)).call(this,gl,Object.assign({},opts,{target:opts.target||__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TEXTURE_3D})))).width=null,_this.height=null,_this.depth=null,Object.seal(_assertThisInitialized(_this)),_this.setImageData(opts),opts.generateMipmap&&_this.generateMipmap(),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Texture3D,__WEBPACK_IMPORTED_MODULE_3__webgl_texture__["a"]),_createClass(Texture3D,null,[{key:"isSupported",value:function isSupported(gl){return Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.l)(gl)}}]),_createClass(Texture3D,[{key:"initialize",value:function initialize(){var _this2=this,opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=Object.assign({},this.opts,opts);var _opts=this.opts,pixels=_opts.pixels,settings=_opts.settings;settings&&(Object(__WEBPACK_IMPORTED_MODULE_2__webgl_context_context_state__.g)(settings,function(){pixels&&_this2.setImage3D(_this2.opts)}),this.setParameters(opts))}},{key:"setImage3D",value:function setImage3D(_ref){var _ref$level=_ref.level,level=void 0===_ref$level?0:_ref$level,_ref$internalformat=_ref.internalformat,internalformat=void 0===_ref$internalformat?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RGBA:_ref$internalformat,width=_ref.width,height=_ref.height,_ref$depth=_ref.depth,depth=void 0===_ref$depth?1:_ref$depth,_ref$border=_ref.border,border=void 0===_ref$border?0:_ref$border,format=_ref.format,_ref$type=_ref.type,type=void 0===_ref$type?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.UNSIGNED_BYTE:_ref$type,_ref$offset=_ref.offset,offset=void 0===_ref$offset?0:_ref$offset,pixels=_ref.pixels;ArrayBuffer.isView(pixels)?this.gl.texImage3D(this.target,level,internalformat,width,height,depth,border,format,type,pixels):_instanceof(pixels,__WEBPACK_IMPORTED_MODULE_4__buffer__.a)&&(this.gl.bindBuffer(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.PIXEL_UNPACK_BUFFER,pixels.handle),this.gl.texImage3D(this.target,level,internalformat,width,height,depth,border,format,type,offset),this.gl.bindBuffer(__WEBPACK_IMPORTED_MODULE_0__constants___default.a.PIXEL_UNPACK_BUFFER,pixels.handle))}}]),Texture3D}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Texture2DArray});var __WEBPACK_IMPORTED_MODULE_0__webgl_texture__=__webpack_require__(155),__WEBPACK_IMPORTED_MODULE_1__webgl_utils__=__webpack_require__(11);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Texture2DArray=function(_Texture){function Texture2DArray(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};throw _classCallCheck(this,Texture2DArray),_possibleConstructorReturn(this,(Texture2DArray.__proto__||Object.getPrototypeOf(Texture2DArray)).call(this,gl,opts)),new Error("Texture2DArray not yet implemented")}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Texture2DArray,__WEBPACK_IMPORTED_MODULE_0__webgl_texture__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Texture2DArray,null,[{key:"isSupported",value:function isSupported(gl){return Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils__.l)(gl)}}]),Texture2DArray}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return UniformBufferLayout});var _UNIFORM_TYPES,__WEBPACK_IMPORTED_MODULE_0__utils_assert__=__webpack_require__(3);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var GL_INT=5124,GL_FLOAT=5126,GL_UNSIGNED_INT=5125,UNIFORM_TYPES=(_defineProperty(_UNIFORM_TYPES={},GL_FLOAT,[GL_FLOAT,1]),_defineProperty(_UNIFORM_TYPES,35664,[GL_FLOAT,2]),_defineProperty(_UNIFORM_TYPES,35665,[GL_FLOAT,3]),_defineProperty(_UNIFORM_TYPES,35666,[GL_FLOAT,4]),_defineProperty(_UNIFORM_TYPES,GL_INT,[GL_INT,1]),_defineProperty(_UNIFORM_TYPES,35667,[GL_INT,2]),_defineProperty(_UNIFORM_TYPES,35668,[GL_INT,3]),_defineProperty(_UNIFORM_TYPES,35669,[GL_INT,4]),_defineProperty(_UNIFORM_TYPES,GL_UNSIGNED_INT,[GL_UNSIGNED_INT,1]),_defineProperty(_UNIFORM_TYPES,36294,[GL_UNSIGNED_INT,2]),_defineProperty(_UNIFORM_TYPES,36295,[GL_UNSIGNED_INT,3]),_defineProperty(_UNIFORM_TYPES,36296,[GL_UNSIGNED_INT,4]),_defineProperty(_UNIFORM_TYPES,35670,[GL_FLOAT,1]),_defineProperty(_UNIFORM_TYPES,35671,[GL_FLOAT,2]),_defineProperty(_UNIFORM_TYPES,35672,[GL_FLOAT,3]),_defineProperty(_UNIFORM_TYPES,35673,[GL_FLOAT,4]),_defineProperty(_UNIFORM_TYPES,35674,[GL_FLOAT,8]),_defineProperty(_UNIFORM_TYPES,35685,[GL_FLOAT,8]),_defineProperty(_UNIFORM_TYPES,35686,[GL_FLOAT,8]),_defineProperty(_UNIFORM_TYPES,35675,[GL_FLOAT,12]),_defineProperty(_UNIFORM_TYPES,35687,[GL_FLOAT,12]),_defineProperty(_UNIFORM_TYPES,35688,[GL_FLOAT,12]),_defineProperty(_UNIFORM_TYPES,35676,[GL_FLOAT,16]),_defineProperty(_UNIFORM_TYPES,35689,[GL_FLOAT,16]),_defineProperty(_UNIFORM_TYPES,35690,[GL_FLOAT,16]),_UNIFORM_TYPES),UniformBufferLayout=function(){function UniformBufferLayout(layout){var _typedArray;for(var key in _classCallCheck(this,UniformBufferLayout),this.layout={},this.size=0,layout)this._addUniform(key,layout[key]);var data=new Float32Array(this.size);this.typedArray=(_defineProperty(_typedArray={},GL_FLOAT,data),_defineProperty(_typedArray,GL_INT,new Int32Array(data.buffer)),_defineProperty(_typedArray,GL_UNSIGNED_INT,new Uint32Array(data.buffer)),_typedArray)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(UniformBufferLayout,[{key:"getBytes",value:function getBytes(){return 4*this.size}},{key:"getData",value:function getData(){return this.typedArray[GL_FLOAT]}},{key:"getSubData",value:function getSubData(index){var data,offset;if(void 0===index)data=this.data,offset=0;else{var begin=this.offsets[index],end=begin+this.sizes[index];data=this.data.subarray(begin,end),offset=4*begin}return{data:data,offset:offset}}},{key:"setUniforms",value:function setUniforms(values){for(var key in values)this._setValue(key,values[key]);return this}},{key:"_setValue",value:function _setValue(key,value){var layout=this.layout[key];Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(layout,"UniformLayoutStd140 illegal argument");var typedArray=this.typedArray[layout.type];1===layout.size?typedArray[layout.offset]=value:typedArray.set(value,layout.offset)}},{key:"_addUniform",value:function _addUniform(key,uniformType){var definition=UNIFORM_TYPES[uniformType];Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(definition,"UniformBufferLayout illegal argument");var _definition=_slicedToArray(definition,2),type=_definition[0],count=_definition[1];this.size=this._alignTo(this.size,count);var offset=this.size;this.size+=count,this.layout[key]={type:type,size:count,offset:offset}}},{key:"_alignTo",value:function _alignTo(size,count){switch(count){case 1:return size;case 2:return size+size%2;default:return size+(4-size%4)%4}}}]),UniformBufferLayout}()},function(module,exports){module.exports=function cross(out,a,b){var z=a[0]*b[1]-a[1]*b[0];return out[0]=out[1]=0,out[2]=z,out}},function(module,exports,__webpack_require__){module.exports=function angle(a,b){var tempA=fromValues(a[0],a[1],a[2]),tempB=fromValues(b[0],b[1],b[2]);normalize(tempA,tempA),normalize(tempB,tempB);var cosine=dot(tempA,tempB);return cosine>1?0:Math.acos(cosine)};var fromValues=__webpack_require__(926),normalize=__webpack_require__(579),dot=__webpack_require__(580)},function(module,exports){module.exports=function fromValues(x,y,z){var out=new Float32Array(3);return out[0]=x,out[1]=y,out[2]=z,out}},function(module,exports){module.exports=function rotateX(out,a,b,c){var by=b[1],bz=b[2],py=a[1]-by,pz=a[2]-bz,sc=Math.sin(c),cc=Math.cos(c);return out[0]=a[0],out[1]=by+py*cc-pz*sc,out[2]=bz+py*sc+pz*cc,out}},function(module,exports){module.exports=function rotateY(out,a,b,c){var bx=b[0],bz=b[2],px=a[0]-bx,pz=a[2]-bz,sc=Math.sin(c),cc=Math.cos(c);return out[0]=bx+pz*sc+px*cc,out[1]=a[1],out[2]=bz+pz*cc-px*sc,out}},function(module,exports){module.exports=function rotateZ(out,a,b,c){var bx=b[0],by=b[1],px=a[0]-bx,py=a[1]-by,sc=Math.sin(c),cc=Math.cos(c);return out[0]=bx+px*cc-py*sc,out[1]=by+px*sc+py*cc,out[2]=a[2],out}},function(module,exports){module.exports=function determinant(a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return(a00*a11-a01*a10)*(a22*a33-a23*a32)-(a00*a12-a02*a10)*(a21*a33-a23*a31)+(a00*a13-a03*a10)*(a21*a32-a22*a31)+(a01*a12-a02*a11)*(a20*a33-a23*a30)-(a01*a13-a03*a11)*(a20*a32-a22*a30)+(a02*a13-a03*a12)*(a20*a31-a21*a30)}},function(module,exports){module.exports=function fromQuat(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[1]=yx+wz,out[2]=zx-wy,out[3]=0,out[4]=yx-wz,out[5]=1-xx-zz,out[6]=zy+wx,out[7]=0,out[8]=zx+wy,out[9]=zy-wx,out[10]=1-xx-yy,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}},function(module,exports){module.exports=function frustum(out,left,right,bottom,top,near,far){var rl=1/(right-left),tb=1/(top-bottom),nf=1/(near-far);return out[0]=2*near*rl,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=2*near*tb,out[6]=0,out[7]=0,out[8]=(right+left)*rl,out[9]=(top+bottom)*tb,out[10]=(far+near)*nf,out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near*2*nf,out[15]=0,out}},function(module,exports){module.exports=function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}},function(module,exports){module.exports=function transpose(out,a){if(out===a){var a01=a[1],a02=a[2],a03=a[3],a12=a[6],a13=a[7],a23=a[11];out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a01,out[6]=a[9],out[7]=a[13],out[8]=a02,out[9]=a12,out[11]=a[14],out[12]=a03,out[13]=a13,out[14]=a23}else out[0]=a[0],out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a[1],out[5]=a[5],out[6]=a[9],out[7]=a[13],out[8]=a[2],out[9]=a[6],out[10]=a[10],out[11]=a[14],out[12]=a[3],out[13]=a[7],out[14]=a[11],out[15]=a[15];return out}},function(module,exports){module.exports=function rotate(out,a,rad,axis){var s,c,t,a00,a01,a02,a03,a10,a11,a12,a13,a20,a21,a22,a23,b00,b01,b02,b10,b11,b12,b20,b21,b22,x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z);if(Math.abs(len)<1e-6)return null;x*=len=1/len,y*=len,z*=len,s=Math.sin(rad),c=Math.cos(rad),t=1-c,a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],b00=x*x*t+c,b01=y*x*t+z*s,b02=z*x*t-y*s,b10=x*y*t-z*s,b11=y*y*t+c,b12=z*y*t+x*s,b20=x*z*t+y*s,b21=y*z*t-x*s,b22=z*z*t+c,out[0]=a00*b00+a10*b01+a20*b02,out[1]=a01*b00+a11*b01+a21*b02,out[2]=a02*b00+a12*b01+a22*b02,out[3]=a03*b00+a13*b01+a23*b02,out[4]=a00*b10+a10*b11+a20*b12,out[5]=a01*b10+a11*b11+a21*b12,out[6]=a02*b10+a12*b11+a22*b12,out[7]=a03*b10+a13*b11+a23*b12,out[8]=a00*b20+a10*b21+a20*b22,out[9]=a01*b20+a11*b21+a21*b22,out[10]=a02*b20+a12*b21+a22*b22,out[11]=a03*b20+a13*b21+a23*b22,a!==out&&(out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]);return out}},function(module,exports){module.exports=function transformMat4(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[4]*y+m[12],out[1]=m[1]*x+m[5]*y+m[13],out}},function(module,exports){module.exports=function transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=m[3]*x+m[7]*y+m[11]*z+m[15];return w=w||1,out[0]=(m[0]*x+m[4]*y+m[8]*z+m[12])/w,out[1]=(m[1]*x+m[5]*y+m[9]*z+m[13])/w,out[2]=(m[2]*x+m[6]*y+m[10]*z+m[14])/w,out}},function(module,exports){module.exports=function fromMat3(out,m){var fRoot,fTrace=m[0]+m[4]+m[8];if(fTrace>0)fRoot=Math.sqrt(fTrace+1),out[3]=.5*fRoot,fRoot=.5/fRoot,out[0]=(m[5]-m[7])*fRoot,out[1]=(m[6]-m[2])*fRoot,out[2]=(m[1]-m[3])*fRoot;else{var i=0;m[4]>m[0]&&(i=1),m[8]>m[3*i+i]&&(i=2);var j=(i+1)%3,k=(i+2)%3;fRoot=Math.sqrt(m[3*i+i]-m[3*j+j]-m[3*k+k]+1),out[i]=.5*fRoot,fRoot=.5/fRoot,out[3]=(m[3*j+k]-m[3*k+j])*fRoot,out[j]=(m[3*j+i]+m[3*i+j])*fRoot,out[k]=(m[3*k+i]+m[3*i+k])*fRoot}return out}},function(module,exports){module.exports=function identity(out){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(941)},function(module,exports){module.exports=function length(a){var x=a[0],y=a[1],z=a[2],w=a[3];return Math.sqrt(x*x+y*y+z*z+w*w)}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(943)},function(module,exports){module.exports=function squaredLength(a){var x=a[0],y=a[1],z=a[2],w=a[3];return x*x+y*y+z*z+w*w}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(945)},function(module,exports){module.exports=function dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}},function(module,exports,__webpack_require__){var vecDot=__webpack_require__(580),vecCross=__webpack_require__(581),vecLength=__webpack_require__(585),vecNormalize=__webpack_require__(579),quatNormalize=__webpack_require__(586),quatAxisAngle=__webpack_require__(587);module.exports=function rotationTo(out,a,b){var dot=vecDot(a,b);return dot<-.999999?(vecCross(tmpvec3,xUnitVec3,a),vecLength(tmpvec3)<1e-6&&vecCross(tmpvec3,yUnitVec3,a),vecNormalize(tmpvec3,tmpvec3),quatAxisAngle(out,tmpvec3,Math.PI),out):dot>.999999?(out[0]=0,out[1]=0,out[2]=0,out[3]=1,out):(vecCross(tmpvec3,a,b),out[0]=tmpvec3[0],out[1]=tmpvec3[1],out[2]=tmpvec3[2],out[3]=1+dot,quatNormalize(out,out))};var tmpvec3=[0,0,0],xUnitVec3=[1,0,0],yUnitVec3=[0,1,0]},function(module,exports){module.exports=function normalize(out,a){var x=a[0],y=a[1],z=a[2],w=a[3],len=x*x+y*y+z*z+w*w;len>0&&(len=1/Math.sqrt(len),out[0]=x*len,out[1]=y*len,out[2]=z*len,out[3]=w*len);return out}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(949)},function(module,exports){module.exports=function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out}},function(module,exports){module.exports=function calculateW(out,a){var x=a[0],y=a[1],z=a[2];return out[0]=x,out[1]=y,out[2]=z,out[3]=Math.sqrt(Math.abs(1-x*x-y*y-z*z)),out}},function(module,exports){module.exports=function conjugate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=a[3],out}},function(module,exports){module.exports=function invert(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],dot=a0*a0+a1*a1+a2*a2+a3*a3,invDot=dot?1/dot:0;return out[0]=-a0*invDot,out[1]=-a1*invDot,out[2]=-a2*invDot,out[3]=a3*invDot,out}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(954)},function(module,exports){module.exports=function lerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2],aw=a[3];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out[3]=aw+t*(b[3]-aw),out}},function(module,exports){module.exports=function multiply(out,a,b){var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];return out[0]=ax*bw+aw*bx+ay*bz-az*by,out[1]=ay*bw+aw*by+az*bx-ax*bz,out[2]=az*bw+aw*bz+ax*by-ay*bx,out[3]=aw*bw-ax*bx-ay*by-az*bz,out}},function(module,exports){module.exports=function rotateX(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+aw*bx,out[1]=ay*bw+az*bx,out[2]=az*bw-ay*bx,out[3]=aw*bw-ax*bx,out}},function(module,exports){module.exports=function rotateY(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],by=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw-az*by,out[1]=ay*bw+aw*by,out[2]=az*bw+ax*by,out[3]=aw*bw-ay*by,out}},function(module,exports){module.exports=function rotateZ(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bz=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+ay*bz,out[1]=ay*bw-ax*bz,out[2]=az*bw+aw*bz,out[3]=aw*bw-az*bz,out}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(588)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(961)},function(module,exports){module.exports=function set(out,x,y,z,w){return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out}},function(module,exports){module.exports=function slerp(out,a,b,t){var omega,cosom,sinom,scale0,scale1,ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];(cosom=ax*bx+ay*by+az*bz+aw*bw)<0&&(cosom=-cosom,bx=-bx,by=-by,bz=-bz,bw=-bw);1-cosom>1e-6?(omega=Math.acos(cosom),sinom=Math.sin(omega),scale0=Math.sin((1-t)*omega)/sinom,scale1=Math.sin(t*omega)/sinom):(scale0=1-t,scale1=t);return out[0]=scale0*ax+scale1*bx,out[1]=scale0*ay+scale1*by,out[2]=scale0*az+scale1*bz,out[3]=scale0*aw+scale1*bw,out}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return SphericalCoordinates});var __WEBPACK_IMPORTED_MODULE_0__lib_common__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_1__vector3__=__webpack_require__(221),__WEBPACK_IMPORTED_MODULE_2_gl_vec3_length__=__webpack_require__(585),__WEBPACK_IMPORTED_MODULE_2_gl_vec3_length___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_gl_vec3_length__);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var EARTH_RADIUS_METERS=6371e3,SphericalCoordinates=function(){function SphericalCoordinates(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},phi=_ref.phi,theta=_ref.theta,radius=_ref.radius,bearing=_ref.bearing,pitch=_ref.pitch,_ref$radiusScale=(_ref.altitude,_ref.radiusScale),radiusScale=void 0===_ref$radiusScale?EARTH_RADIUS_METERS:_ref$radiusScale;_classCallCheck(this,SphericalCoordinates),0===arguments.length?(this.phi=0,this.theta=0,this.radius=1):Number.isFinite(phi)||Number.isFinite(theta)?(this.phi=phi||0,this.theta=theta||0):(Number.isFinite(bearing)||Number.isFinite(pitch))&&(this.bearing=bearing||0,this.pitch=pitch||0),this.radius=radius||1,this.radiusScale=radiusScale||1,this.check()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(SphericalCoordinates,[{key:"toString",value:function toString(){return this.formatString(__WEBPACK_IMPORTED_MODULE_0__lib_common__.c)}},{key:"formatString",value:function formatString(_ref2){var printTypes=_ref2.printTypes,f=(_ref2.printDegrees,__WEBPACK_IMPORTED_MODULE_0__lib_common__.f);return"".concat(printTypes?"Spherical":"","[rho:").concat(f(this.radius),",theta:").concat(f(this.theta),",phi:").concat(f(this.phi),"]")}},{key:"equals",value:function equals(other){return Object(__WEBPACK_IMPORTED_MODULE_0__lib_common__.e)(this.radius,other.radius)&&Object(__WEBPACK_IMPORTED_MODULE_0__lib_common__.e)(this.theta,other.theta)&&Object(__WEBPACK_IMPORTED_MODULE_0__lib_common__.e)(this.phi,other.phi)}},{key:"exactEquals",value:function exactEquals(other){return this.radius===other.radius&&this.theta===other.theta&&this.phi===other.phi}},{key:"set",value:function set(radius,phi,theta){return this.radius=radius,this.phi=phi,this.theta=theta,this.check()}},{key:"clone",value:function clone(){return(new this.constructor).copy(this)}},{key:"copy",value:function copy(other){return this.radius=other.radius,this.phi=other.phi,this.theta=other.theta,this.check()}},{key:"fromLngLatZ",value:function fromLngLatZ(_ref3){var _ref4=_slicedToArray(_ref3,3),lng=_ref4[0],lat=_ref4[1],z=_ref4[2];this.radius=1+z/this.radiusScale,this.phi=Object(__WEBPACK_IMPORTED_MODULE_0__lib_common__.h)(lat),this.theta=Object(__WEBPACK_IMPORTED_MODULE_0__lib_common__.h)(lng)}},{key:"fromVector3",value:function fromVector3(v){return this.radius=__WEBPACK_IMPORTED_MODULE_2_gl_vec3_length___default()(v),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(v[0],v[1]),this.phi=Math.acos(Object(__WEBPACK_IMPORTED_MODULE_0__lib_common__.b)(v[2]/this.radius,-1,1))),this.check()}},{key:"toVector3",value:function toVector3(){return new __WEBPACK_IMPORTED_MODULE_1__vector3__.a(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}},{key:"makeSafe",value:function makeSafe(){this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi))}},{key:"check",value:function check(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}},{key:"bearing",get:function get(){return 180-Object(__WEBPACK_IMPORTED_MODULE_0__lib_common__.d)(this.phi)},set:function set(v){this.phi=Math.PI-Object(__WEBPACK_IMPORTED_MODULE_0__lib_common__.h)(v)}},{key:"pitch",get:function get(){return Object(__WEBPACK_IMPORTED_MODULE_0__lib_common__.d)(this.theta)},set:function set(v){this.theta=Object(__WEBPACK_IMPORTED_MODULE_0__lib_common__.h)(v)}},{key:"longitude",get:function get(){return Object(__WEBPACK_IMPORTED_MODULE_0__lib_common__.d)(this.phi)}},{key:"latitude",get:function get(){return Object(__WEBPACK_IMPORTED_MODULE_0__lib_common__.d)(this.theta)}},{key:"lng",get:function get(){return Object(__WEBPACK_IMPORTED_MODULE_0__lib_common__.d)(this.phi)}},{key:"lat",get:function get(){return Object(__WEBPACK_IMPORTED_MODULE_0__lib_common__.d)(this.theta)}},{key:"z",get:function get(){return(this.radius-1)*this.radiusScale}}]),SphericalCoordinates}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Pose});var __WEBPACK_IMPORTED_MODULE_0__matrix4__=__webpack_require__(471),__WEBPACK_IMPORTED_MODULE_1__vector3__=__webpack_require__(221),__WEBPACK_IMPORTED_MODULE_2__euler__=__webpack_require__(589);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Pose=function(){function Pose(_ref){var _ref$x=_ref.x,x=void 0===_ref$x?0:_ref$x,_ref$y=_ref.y,y=void 0===_ref$y?0:_ref$y,_ref$z=_ref.z,z=void 0===_ref$z?0:_ref$z,_ref$roll=_ref.roll,roll=void 0===_ref$roll?0:_ref$roll,_ref$pitch=_ref.pitch,pitch=void 0===_ref$pitch?0:_ref$pitch,_ref$yaw=_ref.yaw,yaw=void 0===_ref$yaw?0:_ref$yaw;_classCallCheck(this,Pose),this.position=new __WEBPACK_IMPORTED_MODULE_1__vector3__.a(x,y,z),this.orientation=new __WEBPACK_IMPORTED_MODULE_2__euler__.a(roll,pitch,yaw,__WEBPACK_IMPORTED_MODULE_2__euler__.a.RollPitchYaw)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Pose,[{key:"getPosition",value:function getPosition(){return this.position}},{key:"getOrientation",value:function getOrientation(){return this.orientation}},{key:"getTransformationMatrix",value:function getTransformationMatrix(){var sr=Math.sin(this.roll),sp=Math.sin(this.pitch),sw=Math.sin(this.yaw),cr=Math.cos(this.roll),cp=Math.cos(this.pitch),cw=Math.cos(this.yaw);return(new __WEBPACK_IMPORTED_MODULE_0__matrix4__.a).setRowMajor(cw*cp,-sw*cr+cw*sp*sr,sw*sr+cw*sp*cr,this.x,sw*cp,cw*cr+sw*sp*sr,-cw*sr+sw*sp*cr,this.y,-sp,cp*sr,cp*cr,this.z,0,0,0,1)}},{key:"getTransformationMatrixFromPose",value:function getTransformationMatrixFromPose(pose){return(new __WEBPACK_IMPORTED_MODULE_0__matrix4__.a).multiplyRight(this.getTransformationMatrix()).multiplyRight(pose.getTransformationMatrix().invert())}},{key:"getTransformationMatrixToPose",value:function getTransformationMatrixToPose(pose){return(new __WEBPACK_IMPORTED_MODULE_0__matrix4__.a).multiplyRight(pose.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}},{key:"x",get:function get(){return this.position.x},set:function set(value){return this.position.x=value}},{key:"y",get:function get(){return this.position.y},set:function set(value){return this.position.y=value}},{key:"z",get:function get(){return this.position.z},set:function set(value){return this.position.z=value}},{key:"roll",get:function get(){return this.orientation.roll},set:function set(value){return this.orientation.roll=value}},{key:"pitch",get:function get(){return this.orientation.pitch},set:function set(value){return this.orientation.pitch=value}},{key:"yaw",get:function get(){return this.orientation.yaw},set:function set(value){return this.orientation.yaw=value}}]),Pose}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Polygon});var __WEBPACK_IMPORTED_MODULE_0__lib_common__=__webpack_require__(56);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Polygon=function(){function Polygon(points){_classCallCheck(this,Polygon),this.points=points,this.isClosed=Object(__WEBPACK_IMPORTED_MODULE_0__lib_common__.e)(this.points[this.points.length-1],this.points[0]),Object.freeze(this)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Polygon,[{key:"getSignedArea",value:function getSignedArea(){var area=0;return this.forEachSegment(function(p1,p2){area+=(p1[0]+p2[0])*(p1[1]-p2[1])}),area/2}},{key:"getArea",value:function getArea(){return Math.abs(this.getSignedArea())}},{key:"getWindingDirection",value:function getWindingDirection(){return Math.sign(this.getSignedArea())}},{key:"forEachSegment",value:function forEachSegment(visitor){for(var length=this.points.length,i=0;i<length-1;i++)visitor(this.points[i],this.points[i+1],i,i+1);this.isPolygon&&!this.isClosed()&&visitor(this.points[length-1],this.points[0],length-1,0)}}]),Polygon}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MODULAR_SHADERS});var __WEBPACK_IMPORTED_MODULE_0__modular_vertex_glsl__=__webpack_require__(967),__WEBPACK_IMPORTED_MODULE_1__modular_fragment_glsl__=__webpack_require__(968),MODULAR_SHADERS={vs:__WEBPACK_IMPORTED_MODULE_0__modular_vertex_glsl__.a,fs:__WEBPACK_IMPORTED_MODULE_1__modular_fragment_glsl__.a,defaultUniforms:{}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME luma_modular_vertex\n\n// object attributes\nattribute vec3 positions;\nattribute vec3 normals;\nattribute vec4 colors;\nattribute vec2 texCoords;\nattribute vec3 pickingColors;\n\nvoid main(void) {\n\n  // Set up position\n#ifdef MODULE_GEOMETRY\n  geometry_setPosition(positions);\n  geometry_setNormal(normals);\n#endif\n\n#ifdef MODULE_PROJECT\n  project_setPositionAndNormal_Model(positions, normals);\n  gl_Position = project_model_to_clipspace(positions);\n#endif\n\n  // Set up depth\n#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n\n#ifdef MODULE_DIFFUSE\n  diffuse_setTextureCoordinate(texCoords);\n#endif\n\n  // Set up color calculations\n#ifdef MODULE_MATERIAL\n  material_setDiffuseColor(colors);\n  material_setDiffuseTextureCoordinates(texCoords);\n#endif\n\n#ifdef MODULE_LIGHTING\n  lighting_setPositionAndNormal(positions, normals);\n  lighting_apply_light(positions);\n  lighting_apply_reflection(positions);\n#endif\n\n#ifdef MODULE_PICKING\n  picking_setPickingColor(pickingColors);\n#endif\n\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME luma-modular-fragment\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\n// varyings\nvarying vec4 vColor;\n\nvoid main(){\n  gl_FragColor = vec4(1., 0., 1., 1.);\n\n#ifdef MODULE_DIFFUSE\n  gl_FragColor = diffuse_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth(gl_Position);\n#endif\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(474);var __WEBPACK_IMPORTED_MODULE_1__lib_assemble_shaders__=__webpack_require__(590);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_1__lib_assemble_shaders__.a});__webpack_require__(591)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function getPlatformShaderDefines(gl){var platformDefines="",debugInfo=Object(__WEBPACK_IMPORTED_MODULE_0__webgl__.h)(gl);checkRendererVendor(debugInfo,"nvidia")?platformDefines+="#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n":checkRendererVendor(debugInfo,"intel")?platformDefines+="#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n":checkRendererVendor(debugInfo,"amd")?platformDefines+="#define AMD_GPU\n":platformDefines+="#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";return platformDefines},__webpack_exports__.b=function getVersionDefines(gl){var versionDefines="// Defines for shader portability\n#if (__VERSION__ > 120)\n# define attribute in\n# define varying out\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n#else\n// # define in attribute\n// # define out varying\n#endif // __VERSION\n";Object(__WEBPACK_IMPORTED_MODULE_1__webgl_context_context_features__.d)(gl,__WEBPACK_IMPORTED_MODULE_1__webgl_context_context_features__.a.GLSL_FRAG_DEPTH)&&(versionDefines+="// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n");Object(__WEBPACK_IMPORTED_MODULE_1__webgl_context_context_features__.d)(gl,__WEBPACK_IMPORTED_MODULE_1__webgl_context_context_features__.a.GLSL_DERIVATIVES)&&Object(__WEBPACK_IMPORTED_MODULE_1__webgl_context_context_features__.b)(gl,__WEBPACK_IMPORTED_MODULE_1__webgl_context_context_features__.a.GLSL_DERIVATIVES)&&(versionDefines+="// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define DERIVATIVES\n#endif\n");Object(__WEBPACK_IMPORTED_MODULE_1__webgl_context_context_features__.d)(gl,__WEBPACK_IMPORTED_MODULE_1__webgl_context_context_features__.a.GLSL_FRAG_DATA)&&(versionDefines+="// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define DRAW_BUFFERS\n#endif\n");Object(__WEBPACK_IMPORTED_MODULE_1__webgl_context_context_features__.d)(gl,__WEBPACK_IMPORTED_MODULE_1__webgl_context_context_features__.a.GLSL_TEXTURE_LOD)&&(versionDefines+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n# define TEXTURE_LOD\n#define texture2DLod texture2DLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define textureCubeLod textureCubeLodEXT\n#define texture2DGrad texture2DGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define textureCubeGrad textureCubeGradEXT\n#endif\n");return versionDefines};var __WEBPACK_IMPORTED_MODULE_0__webgl__=__webpack_require__(154),__WEBPACK_IMPORTED_MODULE_1__webgl_context_context_features__=__webpack_require__(260);function checkRendererVendor(debugInfo,gpuVendor){var result,vendor=debugInfo.vendor,renderer=debugInfo.renderer;switch(gpuVendor){case"nvidia":result=vendor.match(/NVIDIA/i)||renderer.match(/NVIDIA/i);break;case"intel":result=vendor.match(/INTEL/i)||renderer.match(/INTEL/i);break;case"amd":result=vendor.match(/AMD/i)||renderer.match(/AMD/i)||vendor.match(/ATI/i)||renderer.match(/ATI/i);break;default:result=!1}return result}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return MODULE_INJECTORS_VS}),__webpack_require__.d(__webpack_exports__,"a",function(){return MODULE_INJECTORS_FS});var MODULE_INJECTORS_VS="#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n",MODULE_INJECTORS_FS="#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return addModel}),__webpack_require__.d(__webpack_exports__,"c",function(){return logModel}),__webpack_require__.d(__webpack_exports__,"d",function(){return removeModel}),__webpack_require__.d(__webpack_exports__,"b",function(){return getOverrides});var __WEBPACK_IMPORTED_MODULE_0_seer__=__webpack_require__(475),__WEBPACK_IMPORTED_MODULE_0_seer___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_seer__),__WEBPACK_IMPORTED_MODULE_1__utils_globals__=__webpack_require__(218),models={},addModel=function addModel(model){models[model.id]||(models[model.id]=model,__WEBPACK_IMPORTED_MODULE_0_seer___default.a.listItem("luma.gl",model.id))},logModel=function logModel(model,uniforms){if(__WEBPACK_IMPORTED_MODULE_0_seer___default.a.isReady()&&!__WEBPACK_IMPORTED_MODULE_0_seer___default.a.throttle("luma.gl:".concat(model.id),1e3)){var attributesObject=model.geometry?Object.assign({},model.geometry.attributes,model.attributes):model.attributes,uniformsObject=Object.assign({},model.uniforms,uniforms);__WEBPACK_IMPORTED_MODULE_0_seer___default.a.multiUpdate("luma.gl",model.id,[{path:"objects.uniforms",data:uniformsObject},{path:"objects.attributes",data:attributesObject}])}},removeModel=function removeModel(id){delete models[id],__WEBPACK_IMPORTED_MODULE_0_seer___default.a.deleteItem("luma.gl",id)},recursiveSet=function recursiveSet(obj,path,value){obj&&(path.length>1?recursiveSet(obj[path[0]],path.slice(1),value):obj[path[0]]=value)},overrides=new Map,getOverrides=function getOverrides(id,uniforms){if(__WEBPACK_IMPORTED_MODULE_1__utils_globals__.b.__SEER_INITIALIZED__&&id){var overs=overrides.get(id);overs&&overs.forEach(function(value,valuePath){recursiveSet(uniforms,valuePath,value)})}};__WEBPACK_IMPORTED_MODULE_0_seer___default.a.listenFor("luma.gl",function(payload){var model=models[payload.itemKey];if(model&&"edit"===payload.type&&"uniforms"===payload.valuePath[0]){var valuePath=payload.valuePath.slice(1);!function setOverride(id,valuePath,value){__WEBPACK_IMPORTED_MODULE_1__utils_globals__.b.__SEER_INITIALIZED__&&(overrides.has(id)||overrides.set(id,new Map),overrides.get(id).set(valuePath,value))}(payload.itemKey,valuePath,payload.value);var uniforms=model.getUniforms();recursiveSet(uniforms,valuePath,payload.value),model.setUniforms(uniforms)}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function pickModels(gl,_ref){var models=_ref.models,position=_ref.position,_ref$uniforms=_ref.uniforms,uniforms=void 0===_ref$uniforms?{}:_ref$uniforms,_ref$parameters=_ref.parameters,parameters=void 0===_ref$parameters?{}:_ref$parameters,settings=_ref.settings,_ref$useDevicePixelRa=_ref.useDevicePixelRatio,useDevicePixelRatio=void 0===_ref$useDevicePixelRa?null:_ref$useDevicePixelRa,_ref$useDevicePixels=_ref.useDevicePixels,useDevicePixels=void 0===_ref$useDevicePixels||_ref$useDevicePixels,framebuffer=_ref.framebuffer;Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(Object(__WEBPACK_IMPORTED_MODULE_0__webgl__.i)(gl),ILLEGAL_ARG),Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(framebuffer,ILLEGAL_ARG),Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(position,ILLEGAL_ARG),null!==useDevicePixelRatio&&(__WEBPACK_IMPORTED_MODULE_1__utils__.g.deprecated("useDevicePixelRatio","useDevicePixels")(),useDevicePixels=useDevicePixelRatio);var _position=function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(position,2),x=_position[0],y=_position[1];framebuffer.resize({width:gl.canvas.width,height:gl.canvas.height});var dpr=useDevicePixels?function getDevicePixelRatio(){return"undefined"!=typeof window?window.devicePixelRatio:1}():1,deviceX=x*dpr,deviceY=gl.canvas.height-y*dpr;return new __WEBPACK_IMPORTED_MODULE_2__group__.a({children:models}).traverseReverse(function(model){if(model.isPickable()){Object(__WEBPACK_IMPORTED_MODULE_0__webgl__.g)(gl,{framebuffer:framebuffer,color:!0,depth:!0}),model.setUniforms({picking_uActive:1}),model.draw({uniforms:uniforms,parameters:parameters,settings:settings,framebuffer:framebuffer}),model.setUniforms({picking_uActive:0});var color=framebuffer.readPixels({x:deviceX,y:deviceY,width:1,height:1,format:gl.RGBA,type:gl.UNSIGNED_BYTE}),isPicked=0!==color[0]||0!==color[1]||0!==color[2];if(isPicked)return{model:model,color:color,x:x,y:y,deviceX:deviceX,deviceY:deviceY}}return null})};var __WEBPACK_IMPORTED_MODULE_0__webgl__=__webpack_require__(154),__WEBPACK_IMPORTED_MODULE_1__utils__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_2__group__=__webpack_require__(974),__WEBPACK_IMPORTED_MODULE_3__utils_assert__=__webpack_require__(3);var ILLEGAL_ARG="Illegal argument to pick"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Group});var __WEBPACK_IMPORTED_MODULE_0__object_3d__=__webpack_require__(577),__WEBPACK_IMPORTED_MODULE_1_math_gl__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_2__utils_assert__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var Group=function(_Object3D){function Group(){var _this,opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,Group);var _opts$children=opts.children,children=void 0===_opts$children?[]:_opts$children;return children.every(function(child){return Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(_instanceof(child,__WEBPACK_IMPORTED_MODULE_0__object_3d__.a))}),(_this=_possibleConstructorReturn(this,(Group.__proto__||Object.getPrototypeOf(Group)).call(this,opts))).children=children,_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Group,__WEBPACK_IMPORTED_MODULE_0__object_3d__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Group,[{key:"add",value:function add(){for(var _len=arguments.length,children=new Array(_len),_key=0;_key<_len;_key++)children[_key]=arguments[_key];for(var _i=0;_i<children.length;_i++){var child=children[_i];Array.isArray(child)?this.add.apply(this,_toConsumableArray(child)):this.children.push(child)}return this}},{key:"remove",value:function remove(child){var children=this.children,indexOf=children.indexOf(child);return indexOf>-1&&children.splice(indexOf,1),this}},{key:"removeAll",value:function removeAll(){return this.children=[],this}},{key:"traverse",value:function traverse(visitor){var _ref$modelMatrix=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).modelMatrix,modelMatrix=void 0===_ref$modelMatrix?new __WEBPACK_IMPORTED_MODULE_1_math_gl__.a:_ref$modelMatrix,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.children[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var child=_step.value,matrix=child.matrix;modelMatrix=modelMatrix.multiplyRight(matrix);var result=void 0;if(result=_instanceof(child,Group)?child.traverse(visitor,{modelMatrix:modelMatrix}):visitor(child,{}))return result}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return null}},{key:"traverseReverse",value:function traverseReverse(visitor){for(var _ref2$modelMatrix=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).modelMatrix,modelMatrix=void 0===_ref2$modelMatrix?new __WEBPACK_IMPORTED_MODULE_1_math_gl__.a:_ref2$modelMatrix,i=this.children.length-1;i>=0;--i){var child=this.children[i],matrix=child.matrix;modelMatrix=modelMatrix.multiplyRight(matrix);var result=void 0;if(result=_instanceof(child,Group)?child.traverseReverse(visitor,{modelMatrix:modelMatrix}):visitor(child,{}))return result}return null}}]),Group}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=function encodePickingColor(i){return[i+1&255,i+1>>8&255,i+1>>16&255]},__webpack_exports__.a=function decodePickingColor(color){var _color=function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(color,3),i1=_color[0],i2=_color[1],i3=_color[2];return i1+256*i2+65536*i3-1},__webpack_exports__.c=function getNullPickingColor(){return NULL_PICKING_COLOR};var NULL_PICKING_COLOR=new Uint8Array([0,0,0])},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__add_events__=__webpack_require__(977);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__add_events__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function noop(){}__webpack_exports__.a=function addEvents(domElement){var opt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},bind=(opt=Object.assign({},DEFAULT_OPTS,opt)).bind;if(bind)for(var name in opt)name.match(/^on[a-zA-Z0-9]+$/)&&function(fname,fn){opt[fname]=function f(){fn.apply(bind,Array.prototype.slice.call(arguments))}}(name,opt[name]);return new EventsProxy(domElement,opt)};function toO3D(n){return!0!==n&&n}function _getPos(elem){var bbox=elem.getBoundingClientRect();return{x:bbox.left,y:bbox.top,bbox:bbox}}function getKey(e){var code=e.which||e.keyCode,key=function keyOf(code){var keyMap=Keys;for(var name in keyMap)if(keyMap[name]===code)return name;return null}(code),fKey=code-111;return fKey>0&&fKey<13&&(key="f".concat(fKey)),{code:code,key:key=key||String.fromCharCode(code).toLowerCase(),shift:e.shiftKey,control:e.ctrlKey,alt:e.altKey,meta:e.metaKey}}var EventsProxy=function(){function EventsProxy(domElem,opt){_classCallCheck(this,EventsProxy),this.scene=opt.scene,this.domElem=domElem,this.pos=_getPos(domElem),this.opt=this.callbacks=opt,this.size={width:domElem.width||domElem.offsetWidth,height:domElem.height||domElem.offsetHeight},this.attachEvents()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(EventsProxy,[{key:"attachEvents",value:function attachEvents(){var _this=this,domElem=this.domElem,opt=this.opt;if(opt.disableContextMenu&&(domElem.oncontextmenu=function(){return!1}),opt.enableMouse){["mouseup","mousedown","mousemove","mouseover","mouseout"].forEach(function(action){domElem.addEventListener(action,function(e,win){_this[action](_this.eventInfo(action,e,win))},!1)});var type="";type=document.getBoxObjectFor||null!==window.mozInnerScreenX?"DOMMouseScroll":"mousewheel",domElem.addEventListener(type,function(e,win){_this.mousewheel(_this.eventInfo("mousewheel",e,win))},!1)}opt.enableTouch&&["touchstart","touchmove","touchend"].forEach(function(action){domElem.addEventListener(action,function(e,win){_this[action](_this.eventInfo(action,e,win))},!1)}),opt.enableKeyboard&&["keydown","keyup"].forEach(function(action){document.addEventListener(action,function(e,win){_this[action](_this.eventInfo(action,e,win))},!1)})}},{key:"eventInfo",value:function eventInfo(type,e,win){for(var x,y,cacheTarget,domElem=this.domElem,scene=this.scene,opt=this.opt,size=this.getSize(),relative=opt.relative,centerOrigin=opt.centerOrigin,pos=opt.cachePosition&&this.pos||_getPos(domElem),ge=function get(e,win){return win=win||window,e||win.event}(e,win),epos=function getPos(e,win){win=win||window,e=e||win.event;var doc=win.document;if(doc=doc.documentElement||doc.body,e.touches&&e.touches.length){for(var evt,touchesPos=[],l=e.touches.length,i=0;i<l;++i)evt=e.touches[i],touchesPos.push({x:evt.pageX||evt.clientX+doc.scrollLeft,y:evt.pageY||evt.clientY+doc.scrollTop});return touchesPos}return[{x:e.pageX||e.clientX+doc.scrollLeft,y:e.pageY||e.clientY+doc.scrollTop}]}(e,win),origPos_x=epos[0].x,origPos_y=epos[0].y,evt={},i=0,l=epos.length;i<l;++i)x=epos[i].x,y=epos[i].y,relative&&(x-=pos.x,y-=pos.y,centerOrigin&&(x-=size.width/2,y-=size.height/2,y*=-1)),epos[i].x=x,epos[i].y=y;switch(type){case"mousewheel":evt.wheel=function getWheel(e){return e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3}(ge);break;case"keydown":case"keyup":Object.assign(evt,getKey(ge));break;case"mouseup":evt.isRightClick=function isRightClick(e){return 3===e.which||2===e.button}(ge)}return Object.assign(evt,{x:epos[0].x,y:epos[0].y,posArray:epos,cache:!1,stop:function stop(){!function _stop(e){e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1}(ge)},getTarget:function getTarget(){return cacheTarget||(cacheTarget=opt.picking&&scene.pick(origPos_x-pos.x,origPos_y-pos.y)||!0)}}),evt.event=ge,evt}},{key:"getSize",value:function getSize(){if(this.cacheSize)return this.size;var domElem=this.domElem;return{width:domElem.width||domElem.offsetWidth,height:domElem.height||domElem.offsetHeight}}},{key:"mouseup",value:function mouseup(e){this.moved||(e.isRightClick?this.callbacks.onRightClick(e,this.hovered):this.callbacks.onClick(e,toO3D(this.pressed))),this.pressed&&(this.moved?this.callbacks.onDragEnd(e,toO3D(this.pressed)):this.callbacks.onDragCancel(e,toO3D(this.pressed)),this.pressed=this.moved=!1)}},{key:"mouseout",value:function mouseout(e){for(var rt=e.relatedTarget,domElem=this.domElem;rt&&rt.parentNode;){if(domElem===rt.parentNode)return;rt=rt.parentNode}this.hovered&&(this.callbacks.onMouseLeave(e,this.hovered),this.hovered=!1),this.pressed&&this.moved&&(this.callbacks.onDragEnd(e),this.pressed=this.moved=!1)}},{key:"mouseover",value:function mouseover(e){}},{key:"mousemove",value:function mousemove(e){if(this.pressed)return this.moved=!0,void this.callbacks.onDragMove(e,toO3D(this.pressed));if(this.hovered){var target=toO3D(e.getTarget());target&&target.hash===this.hash?this.callbacks.onMouseMove(e,this.hovered):(this.callbacks.onMouseLeave(e,this.hovered),this.hovered=target,this.hash=target,target&&(this.hash=target.hash,this.callbacks.onMouseEnter(e,this.hovered)))}else this.hovered=toO3D(e.getTarget()),this.hash=this.hovered,this.hovered&&(this.hash=this.hovered.hash,this.callbacks.onMouseEnter(e,this.hovered));this.opt.picking||this.callbacks.onMouseMove(e)}},{key:"mousewheel",value:function mousewheel(e){this.callbacks.onMouseWheel(e)}},{key:"mousedown",value:function mousedown(e){this.pressed=e.getTarget(),this.callbacks.onDragStart(e,toO3D(this.pressed))}},{key:"touchstart",value:function touchstart(e){this.touched=e.getTarget(),this.touchedLastPosition={x:e.x,y:e.y},this.callbacks.onTouchStart(e,toO3D(this.touched))}},{key:"touchmove",value:function touchmove(e){this.touched&&(this.touchMoved=!0,this.callbacks.onTouchMove(e,toO3D(this.touched)))}},{key:"touchend",value:function touchend(e){this.touched&&(this.touchMoved?this.callbacks.onTouchEnd(e,toO3D(this.touched)):(e.x=isNaN(e.x)?this.touchedLastPosition.x:e.x,e.y=isNaN(e.y)?this.touchedLastPosition.y:e.y,this.callbacks.onTap(e,toO3D(this.touched)),this.callbacks.onTouchCancel(e,toO3D(this.touched))),this.touched=this.touchMoved=!1)}},{key:"keydown",value:function keydown(e){this.callbacks.onKeyDown(e)}},{key:"keyup",value:function keyup(e){this.callbacks.onKeyUp(e)}}]),EventsProxy}();Object.assign(EventsProxy.prototype,{hovered:!1,pressed:!1,touched:!1,touchedLastPosition:{x:0,y:0},touchMoved:!1,moved:!1});var DEFAULT_OPTS={cachePosition:!0,cacheSize:!0,relative:!0,centerOrigin:!0,disableContextMenu:!0,bind:!1,picking:!1,enableTouch:!0,enableMouse:!0,enableKeyboard:!0,onClick:noop,onRightClick:noop,onDragStart:noop,onDragMove:noop,onDragEnd:noop,onDragCancel:noop,onTouchStart:noop,onTouchMove:noop,onTouchEnd:noop,onTouchCancel:noop,onTap:noop,onMouseMove:noop,onMouseEnter:noop,onMouseLeave:noop,onMouseWheel:noop,onKeyDown:noop,onKeyUp:noop},Keys={enter:13,up:38,down:40,left:37,right:39,esc:27,space:32,backspace:8,tab:9,delete:46}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Cone});var __WEBPACK_IMPORTED_MODULE_0__geometry__=__webpack_require__(88),__WEBPACK_IMPORTED_MODULE_1__core__=__webpack_require__(141);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var Cone=function(_Model){function Cone(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,Cone),_possibleConstructorReturn(this,(Cone.__proto__||Object.getPrototypeOf(Cone)).call(this,gl,Object.assign({},opts,{geometry:new __WEBPACK_IMPORTED_MODULE_0__geometry__.a(opts)})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Cone,__WEBPACK_IMPORTED_MODULE_1__core__["a"]),Cone}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Cube});var __WEBPACK_IMPORTED_MODULE_0__geometry__=__webpack_require__(88),__WEBPACK_IMPORTED_MODULE_1__core__=__webpack_require__(141),__WEBPACK_IMPORTED_MODULE_2__utils__=__webpack_require__(15);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var Cube=function(_Model){function Cube(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Cube);var _opts$id=opts.id,id=void 0===_opts$id?Object(__WEBPACK_IMPORTED_MODULE_2__utils__.h)("cube"):_opts$id;return _possibleConstructorReturn(this,(Cube.__proto__||Object.getPrototypeOf(Cube)).call(this,gl,Object.assign({},opts,{id:id,geometry:new __WEBPACK_IMPORTED_MODULE_0__geometry__.b(opts)})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Cube,__WEBPACK_IMPORTED_MODULE_1__core__["a"]),Cube}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Cylinder});var __WEBPACK_IMPORTED_MODULE_0__geometry__=__webpack_require__(88),__WEBPACK_IMPORTED_MODULE_1__core_model__=__webpack_require__(220);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var Cylinder=function(_Model){function Cylinder(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,Cylinder),_possibleConstructorReturn(this,(Cylinder.__proto__||Object.getPrototypeOf(Cylinder)).call(this,gl,Object.assign({},opts,{geometry:new __WEBPACK_IMPORTED_MODULE_0__geometry__.c(opts)})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Cylinder,__WEBPACK_IMPORTED_MODULE_1__core_model__["a"]),Cylinder}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IcoSphere});var __WEBPACK_IMPORTED_MODULE_0__core__=__webpack_require__(141),__WEBPACK_IMPORTED_MODULE_1__geometry__=__webpack_require__(88);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var IcoSphere=function(_Model){function IcoSphere(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,IcoSphere),_possibleConstructorReturn(this,(IcoSphere.__proto__||Object.getPrototypeOf(IcoSphere)).call(this,gl,Object.assign({},opts,{geometry:new __WEBPACK_IMPORTED_MODULE_1__geometry__.e(opts)})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(IcoSphere,__WEBPACK_IMPORTED_MODULE_0__core__["a"]),IcoSphere}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Plane});var __WEBPACK_IMPORTED_MODULE_0__geometry__=__webpack_require__(88),__WEBPACK_IMPORTED_MODULE_1__core_model__=__webpack_require__(220),__WEBPACK_IMPORTED_MODULE_2__utils__=__webpack_require__(15);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var Plane=function(_Model){function Plane(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Plane);var _opts$id=opts.id,id=void 0===_opts$id?Object(__WEBPACK_IMPORTED_MODULE_2__utils__.h)("plane"):_opts$id;return _possibleConstructorReturn(this,(Plane.__proto__||Object.getPrototypeOf(Plane)).call(this,gl,Object.assign({},opts,{id:id,geometry:new __WEBPACK_IMPORTED_MODULE_0__geometry__.f(opts)})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Plane,__WEBPACK_IMPORTED_MODULE_1__core_model__["a"]),Plane}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Sphere});var __WEBPACK_IMPORTED_MODULE_0__core__=__webpack_require__(141),__WEBPACK_IMPORTED_MODULE_1__geometry__=__webpack_require__(88),__WEBPACK_IMPORTED_MODULE_2__utils__=__webpack_require__(15);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var Sphere=function(_Model){function Sphere(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Sphere);var _opts$id=opts.id,id=void 0===_opts$id?Object(__WEBPACK_IMPORTED_MODULE_2__utils__.h)("sphere"):_opts$id;return _possibleConstructorReturn(this,(Sphere.__proto__||Object.getPrototypeOf(Sphere)).call(this,gl,Object.assign({},opts,{id:id,geometry:new __WEBPACK_IMPORTED_MODULE_1__geometry__.g(opts)})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Sphere,__WEBPACK_IMPORTED_MODULE_0__core__["a"]),Sphere}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return TruncatedCone});var __WEBPACK_IMPORTED_MODULE_0__geometry__=__webpack_require__(88),__WEBPACK_IMPORTED_MODULE_1__core__=__webpack_require__(141);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var TruncatedCone=function(_Model){function TruncatedCone(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,TruncatedCone),_possibleConstructorReturn(this,(TruncatedCone.__proto__||Object.getPrototypeOf(TruncatedCone)).call(this,gl,Object.assign({},opts,{geometry:new __WEBPACK_IMPORTED_MODULE_0__geometry__.h(opts)})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(TruncatedCone,__WEBPACK_IMPORTED_MODULE_1__core__["a"]),TruncatedCone}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ClipSpaceQuad});var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__core__=__webpack_require__(141),__WEBPACK_IMPORTED_MODULE_2__geometry__=__webpack_require__(88);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var CLIPSPACE_QUAD_VERTEX_SHADER="attribute vec2 aClipSpacePosition;\nattribute vec2 aTexCoord;\nattribute vec2 aCoordinate;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main(void) {\n  gl_Position = vec4(aClipSpacePosition, 0., 1.);\n  position = aClipSpacePosition;\n  coordinate = aCoordinate;\n  uv = aTexCoord;\n}\n",POSITIONS=[-1,-1,1,-1,-1,1,1,1],ClipSpaceQuad=function(_Model){function ClipSpaceQuad(gl,opts){var _this;_classCallCheck(this,ClipSpaceQuad);var TEX_COORDS=POSITIONS.map(function(coord){return-1===coord?0:coord});return(_this=_possibleConstructorReturn(this,(ClipSpaceQuad.__proto__||Object.getPrototypeOf(ClipSpaceQuad)).call(this,gl,Object.assign({},opts,{vs:CLIPSPACE_QUAD_VERTEX_SHADER,geometry:new __WEBPACK_IMPORTED_MODULE_2__geometry__.d({drawMode:__WEBPACK_IMPORTED_MODULE_0__constants___default.a.TRIANGLE_STRIP,vertexCount:4,attributes:{aClipSpacePosition:{size:2,value:new Float32Array(POSITIONS)},aTexCoord:{size:2,value:new Float32Array(TEX_COORDS)},aCoordinate:{size:2,value:new Float32Array(TEX_COORDS)}}})})))).setVertexCount(4),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ClipSpaceQuad,__WEBPACK_IMPORTED_MODULE_1__core__["a"]),ClipSpaceQuad}()},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__browser_load__=__webpack_require__(599);__webpack_require__.d(__webpack_exports__,"i",function(){return __WEBPACK_IMPORTED_MODULE_0__browser_load__.c}),__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__browser_load__.a}),__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_0__browser_load__.b});var __WEBPACK_IMPORTED_MODULE_1__load_files__=__webpack_require__(600);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_1__load_files__.a}),__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_1__load_files__.b}),__webpack_require__.d(__webpack_exports__,"g",function(){return __WEBPACK_IMPORTED_MODULE_1__load_files__.e}),__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_1__load_files__.d}),__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_1__load_files__.c}),__webpack_require__.d(__webpack_exports__,"h",function(){return __WEBPACK_IMPORTED_MODULE_1__load_files__.f})},function(module,__webpack_exports__,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function noop(){}__webpack_exports__.a=function requestFile(opts){return new XHR(opts).sendAsync()};var XHR_STATES_COMPLETED=4,XHR=function(){function XHR(_ref){var url=_ref.url,_ref$path=_ref.path,path=void 0===_ref$path?null:_ref$path,_ref$method=_ref.method,method=void 0===_ref$method?"GET":_ref$method,_ref$asynchronous=_ref.asynchronous,asynchronous=void 0===_ref$asynchronous||_ref$asynchronous,_ref$noCache=_ref.noCache,noCache=void 0!==_ref$noCache&&_ref$noCache,_ref$sendAsBinary=_ref.sendAsBinary,sendAsBinary=void 0!==_ref$sendAsBinary&&_ref$sendAsBinary,_ref$responseType=_ref.responseType,responseType=void 0!==_ref$responseType&&_ref$responseType,_ref$onProgress=_ref.onProgress,onProgress=void 0===_ref$onProgress?noop:_ref$onProgress,_ref$onError=_ref.onError,onError=void 0===_ref$onError?noop:_ref$onError,_ref$onAbort=_ref.onAbort,onAbort=void 0===_ref$onAbort?noop:_ref$onAbort,_ref$onComplete=_ref.onComplete,onComplete=void 0===_ref$onComplete?noop:_ref$onComplete;_classCallCheck(this,XHR),this.url=path?path.join(path,url):url,this.method=method,this.async=asynchronous,this.noCache=noCache,this.sendAsBinary=sendAsBinary,this.responseType=responseType,this.req=new XMLHttpRequest,this.req.onload=function(e){return onComplete(e)},this.req.onerror=function(e){return onError(e)},this.req.onabort=function(e){return onAbort(e)},this.req.onprogress=function(e){e.lengthComputable?onProgress(e,Math.round(e.loaded/e.total*100)):onProgress(e,-1)}}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(XHR,[{key:"setRequestHeader",value:function setRequestHeader(header,value){return this.req.setRequestHeader(header,value),this}},{key:"sendAsync",value:function sendAsync(){var _this=this,body=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.body||null;return new Promise(function(resolve,reject){try{var req=_this.req,method=_this.method,noCache=_this.noCache,sendAsBinary=_this.sendAsBinary,responseType=_this.responseType,url=noCache?_this.url+(_this.url.indexOf("?")>=0?"&":"?")+Date.now():_this.url;req.open(method,url,_this.async),responseType&&(req.responseType=responseType),_this.async&&(req.onreadystatechange=function(e){req.readyState===XHR_STATES_COMPLETED&&(200===req.status?resolve(req.responseType?req.response:req.responseText):reject(new Error("".concat(req.status,": ").concat(url))))}),sendAsBinary?req.sendAsBinary(body):req.send(body),_this.async||(200===req.status?resolve(req.responseType?req.response:req.responseText):reject(new Error("".concat(req.status,": ").concat(url))))}catch(error){reject(error)}})}}]),XHR}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n\n// All these functions are for substituting tan() function from Intel GPU only\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01; // 1/3!\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03; // 1/5!\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04; // 1/7!\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06; // 1/9!\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n\n    // 2pi range reduction\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 0.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 0.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__fp64_utils__=__webpack_require__(990),__WEBPACK_IMPORTED_MODULE_1__fp64_arithmetic_glsl__=__webpack_require__(991),__WEBPACK_IMPORTED_MODULE_2__fp64_functions_glsl__=__webpack_require__(992),fp64shader="".concat(__WEBPACK_IMPORTED_MODULE_1__fp64_arithmetic_glsl__.a,"\n").concat(__WEBPACK_IMPORTED_MODULE_2__fp64_functions_glsl__.a);__webpack_exports__.a={name:"fp64",vs:fp64shader,fs:null,fp64ify:__WEBPACK_IMPORTED_MODULE_0__fp64_utils__.b,fp64LowPart:__WEBPACK_IMPORTED_MODULE_0__fp64_utils__.a,fp64ifyMatrix4:__WEBPACK_IMPORTED_MODULE_0__fp64_utils__.c};"".concat(__WEBPACK_IMPORTED_MODULE_1__fp64_arithmetic_glsl__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";function fp64ify(a){var out=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],startIndex=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,hiPart=Math.fround(a),loPart=a-hiPart;return out[startIndex]=hiPart,out[startIndex+1]=loPart,out}__webpack_exports__.b=fp64ify,__webpack_exports__.a=function fp64LowPart(a){return a-Math.fround(a)},__webpack_exports__.c=function fp64ifyMatrix4(matrix){for(var matrixFP64=new Float32Array(32),i=0;i<4;++i)for(var j=0;j<4;++j){var index=4*i+j;fp64ify(matrix[4*j+i],matrixFP64,2*index)}return matrixFP64}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="uniform float ONE;\n\n/*\nAbout LUMA_FP64_CODE_ELIMINATION_WORKAROUND\n\nThe purpose of this workaround is to prevent shader compilers from\noptimizing away necessary arithmetic operations by swapping their sequences\nor transform the equation to some 'equivalent' from.\n\nThe method is to multiply an artifical variable, ONE, which will be known to\nthe compiler to be 1 only at runtime. The whole expression is then represented\nas a polynomial with respective to ONE. In the coefficients of all terms, only one a\nand one b should appear\n\nerr = (a + b) * ONE^6 - a * ONE^5 - (a + b) * ONE^4 + a * ONE^3 - b - (a + b) * ONE^2 + a * ONE\n*/\n\n// Divide float number to high and low floats to extend fraction bits\nvec2 split(float a) {\n  const float SPLIT = 4097.0;\n  float t = a * SPLIT;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float a_hi = t * ONE - (t - a);\n  float a_lo = a * ONE - a_hi;\n#else\n  float a_hi = t - (t - a);\n  float a_lo = a - a_hi;\n#endif\n  return vec2(a_hi, a_lo);\n}\n\n// Divide float number again when high float uses too many fraction bits\nvec2 split2(vec2 a) {\n  vec2 b = split(a.x);\n  b.y += a.y;\n  return b;\n}\n\n// Special sum operation when a > b\nvec2 quickTwoSum(float a, float b) {\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float sum = (a + b) * ONE;\n  float err = b - (sum - a) * ONE;\n#else\n  float sum = a + b;\n  float err = b - (sum - a);\n#endif\n  return vec2(sum, err);\n}\n\n// General sum operation\nvec2 twoSum(float a, float b) {\n  float s = (a + b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE + (b - v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) + (b - v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSub(float a, float b) {\n  float s = (a - b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE - (b + v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) - (b + v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSqr(float a) {\n  float prod = a * a;\n  vec2 a_fp64 = split(a);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float err = ((a_fp64.x * a_fp64.x - prod) * ONE + 2.0 * a_fp64.x *\n    a_fp64.y * ONE * ONE) + a_fp64.y * a_fp64.y * ONE * ONE * ONE;\n#else\n  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;\n#endif\n  return vec2(prod, err);\n}\n\nvec2 twoProd(float a, float b) {\n  float prod = a * b;\n  vec2 a_fp64 = split(a);\n  vec2 b_fp64 = split(b);\n  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +\n    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;\n  return vec2(prod, err);\n}\n\nvec2 sum_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSum(a.x, b.x);\n  t = twoSum(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 sub_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSub(a.x, b.x);\n  t = twoSub(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 mul_fp64(vec2 a, vec2 b) {\n  vec2 prod = twoProd(a.x, b.x);\n  // y component is for the error\n  prod.y += a.x * b.y;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  prod.y += a.y * b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  return prod;\n}\n\nvec2 div_fp64(vec2 a, vec2 b) {\n  float xn = 1.0 / b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  vec2 yn = mul_fp64(a, vec2(xn, 0));\n#else\n  vec2 yn = a * xn;\n#endif\n  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;\n  vec2 prod = twoProd(xn, diff);\n  return sum_fp64(yn, prod);\n}\n\nvec2 sqrt_fp64(vec2 a) {\n  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n\n  float x = 1.0 / sqrt(a.x);\n  float yn = a.x * x;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  vec2 yn_sqr = twoSqr(yn) * ONE;\n#else\n  vec2 yn_sqr = twoSqr(yn);\n#endif\n  float diff = sub_fp64(a, yn_sqr).x;\n  vec2 prod = twoProd(x * 0.5, diff);\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  return sum_fp64(split(yn), prod);\n#else\n  return sum_fp64(vec2(yn, 0.0), prod);\n#endif\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="const vec2 E_FP64 = vec2(2.7182817459106445e+00, 8.254840366817007e-08);\nconst vec2 LOG2_FP64 = vec2(0.6931471824645996e+00, -1.9046542121259336e-09);\nconst vec2 PI_FP64 = vec2(3.1415927410125732, -8.742278012618954e-8);\nconst vec2 TWO_PI_FP64 = vec2(6.2831854820251465, -1.7484556025237907e-7);\nconst vec2 PI_2_FP64 = vec2(1.5707963705062866, -4.371139006309477e-8);\nconst vec2 PI_4_FP64 = vec2(0.7853981852531433, -2.1855695031547384e-8);\nconst vec2 PI_16_FP64 = vec2(0.19634954631328583, -5.463923757886846e-9);\nconst vec2 PI_16_2_FP64 = vec2(0.39269909262657166, -1.0927847515773692e-8);\nconst vec2 PI_16_3_FP64 = vec2(0.5890486240386963, -1.4906100798128818e-9);\nconst vec2 PI_180_FP64 = vec2(0.01745329238474369, 1.3519960498364902e-10);\n\nconst vec2 SIN_TABLE_0_FP64 = vec2(0.19509032368659973, -1.6704714833615242e-9);\nconst vec2 SIN_TABLE_1_FP64 = vec2(0.3826834261417389, 6.22335089017767e-9);\nconst vec2 SIN_TABLE_2_FP64 = vec2(0.5555702447891235, -1.1769521357507529e-8);\nconst vec2 SIN_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617041793133e-8);\n\nconst vec2 COS_TABLE_0_FP64 = vec2(0.9807852506637573, 2.9739473106360492e-8);\nconst vec2 COS_TABLE_1_FP64 = vec2(0.9238795042037964, 2.8307490351764386e-8);\nconst vec2 COS_TABLE_2_FP64 = vec2(0.8314695954322815, 1.6870263741530778e-8);\nconst vec2 COS_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617152815436e-8);\n\nconst vec2 INVERSE_FACTORIAL_3_FP64 = vec2(1.666666716337204e-01, -4.967053879312289e-09); // 1/3!\nconst vec2 INVERSE_FACTORIAL_4_FP64 = vec2(4.16666679084301e-02, -1.2417634698280722e-09); // 1/4!\nconst vec2 INVERSE_FACTORIAL_5_FP64 = vec2(8.333333767950535e-03, -4.34617203337595e-10); // 1/5!\nconst vec2 INVERSE_FACTORIAL_6_FP64 = vec2(1.3888889225199819e-03, -3.3631094437103215e-11); // 1/6!\nconst vec2 INVERSE_FACTORIAL_7_FP64 = vec2(1.9841270113829523e-04,  -2.725596874933456e-12); // 1/7!\nconst vec2 INVERSE_FACTORIAL_8_FP64 = vec2(2.4801587642286904e-05, -3.406996025904184e-13); // 1/8!\nconst vec2 INVERSE_FACTORIAL_9_FP64 = vec2(2.75573188446287533e-06, 3.7935713937038186e-14); // 1/9!\nconst vec2 INVERSE_FACTORIAL_10_FP64 = vec2(2.755731998149713e-07, -7.575112367869873e-15); // 1/10!\n\nfloat nint(float d) {\n    if (d == floor(d)) return d;\n    return floor(d + 0.5);\n}\n\nvec2 nint_fp64(vec2 a) {\n    float hi = nint(a.x);\n    float lo;\n    vec2 tmp;\n    if (hi == a.x) {\n        lo = nint(a.y);\n        tmp = quickTwoSum(hi, lo);\n    } else {\n        lo = 0.0;\n        if (abs(hi - a.x) == 0.5 && a.y < 0.0) {\n            hi -= 1.0;\n        }\n        tmp = vec2(hi, lo);\n    }\n    return tmp;\n}\n\n/* k_power controls how much range reduction we would like to have\nRange reduction uses the following method:\nassume a = k_power * r + m * log(2), k and m being integers.\nSet k_power = 4 (we can choose other k to trade accuracy with performance.\nwe only need to calculate exp(r) and using exp(a) = 2^m * exp(r)^k_power;\n*/\n\nvec2 exp_fp64(vec2 a) {\n  // We need to make sure these two numbers match\n  // as bit-wise shift is not available in GLSL 1.0\n  const int k_power = 4;\n  const float k = 16.0;\n\n  const float inv_k = 1.0 / k;\n\n  if (a.x <= -88.0) return vec2(0.0, 0.0);\n  if (a.x >= 88.0) return vec2(1.0 / 0.0, 1.0 / 0.0);\n  if (a.x == 0.0 && a.y == 0.0) return vec2(1.0, 0.0);\n  if (a.x == 1.0 && a.y == 0.0) return E_FP64;\n\n  float m = floor(a.x / LOG2_FP64.x + 0.5);\n  vec2 r = sub_fp64(a, mul_fp64(LOG2_FP64, vec2(m, 0.0))) * inv_k;\n  vec2 s, t, p;\n\n  p = mul_fp64(r, r);\n  s = sum_fp64(r, p * 0.5);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_3_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_4_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_5_FP64);\n\n  // s = sum_fp64(s, t);\n  // p = mul_fp64(p, r);\n  // t = mul_fp64(p, INVERSE_FACTORIAL_6_FP64);\n\n  // s = sum_fp64(s, t);\n  // p = mul_fp64(p, r);\n  // t = mul_fp64(p, INVERSE_FACTORIAL_7_FP64);\n\n  s = sum_fp64(s, t);\n\n\n  // At this point, s = exp(r) - 1; but after following 4 recursions, we will get exp(r) ^ 512 - 1.\n  for (int i = 0; i < k_power; i++) {\n    s = sum_fp64(s * 2.0, mul_fp64(s, s));\n  }\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = sum_fp64(s, vec2(ONE, 0.0));\n#else\n  s = sum_fp64(s, vec2(1.0, 0.0));\n#endif\n\n  return s * pow(2.0, m);\n//   return r;\n}\n\nvec2 log_fp64(vec2 a)\n{\n  if (a.x == 1.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x <= 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n  vec2 x = vec2(log(a.x), 0.0);\n  vec2 s;\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = vec2(ONE, 0.0);\n#else\n  s = vec2(1.0, 0.0);\n#endif\n\n  x = sub_fp64(sum_fp64(x, mul_fp64(a, exp_fp64(-x))), s);\n  return x;\n}\n\nvec2 sin_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(0.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  s = a;\n  r = a;\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_3_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_5_FP64);\n  s = sum_fp64(s, t);\n\n  /* keep the following commented code in case we need them\n  for extra accuracy from the Taylor expansion*/\n\n  // r = mul_fp64(r, x);\n  // t = mul_fp64(r, INVERSE_FACTORIAL_7_FP64);\n  // s = sum_fp64(s, t);\n\n  // r = mul_fp64(r, x);\n  // t = mul_fp64(r, INVERSE_FACTORIAL_9_FP64);\n  // s = sum_fp64(s, t);\n\n  return s;\n}\n\nvec2 cos_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(1.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  r = x;\n  s = sum_fp64(vec2(1.0, 0.0), r * 0.5);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_4_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_6_FP64);\n  s = sum_fp64(s, t);\n\n  /* keep the following commented code in case we need them\n  for extra accuracy from the Taylor expansion*/\n\n  // r = mul_fp64(r, x);\n  // t = mul_fp64(r, INVERSE_FACTORIAL_8_FP64);\n  // s = sum_fp64(s, t);\n\n  // r = mul_fp64(r, x);\n  // t = mul_fp64(r, INVERSE_FACTORIAL_10_FP64);\n  // s = sum_fp64(s, t);\n\n  return s;\n}\n\nvoid sincos_taylor_fp64(vec2 a, out vec2 sin_t, out vec2 cos_t) {\n  if (a.x == 0.0 && a.y == 0.0) {\n    sin_t = vec2(0.0, 0.0);\n    cos_t = vec2(1.0, 0.0);\n  }\n\n  sin_t = sin_taylor_fp64(a);\n  cos_t = sqrt_fp64(sub_fp64(vec2(1.0, 0.0), mul_fp64(sin_t, sin_t)));\n}\n\nvec2 sin_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n\n    // 2pi range reduction\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return sin_taylor_fp64(t);\n        } else if (j == 1) {\n            return cos_taylor_fp64(t);\n        } else if (j == -1) {\n            return -cos_taylor_fp64(t);\n        } else {\n            return -sin_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 cos_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(1.0, 0.0);\n    }\n\n    // 2pi range reduction\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return cos_taylor_fp64(t);\n        } else if (j == 1) {\n            return -sin_taylor_fp64(t);\n        } else if (j == -1) {\n            return sin_taylor_fp64(t);\n        } else {\n            return -cos_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 tan_fp64(vec2 a) {\n    vec2 sin_a;\n    vec2 cos_a;\n\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n\n    // 2pi range reduction\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    // We just can't get PI/16 * 3.0 very accurately.\n    // so let's just store it\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n    vec2 sin_t, cos_t;\n    vec2 s, c;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#else\n        if (abs_k == 1) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs_k == 2) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs_k == 3) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs_k == 4) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#endif\n        if (k > 0) {\n            s = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            s = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return div_fp64(sin_a, cos_a);\n}\n\nvec2 radians_fp64(vec2 degree) {\n  return mul_fp64(degree, PI_180_FP64);\n}\n\nvec2 mix_fp64(vec2 a, vec2 b, float x) {\n  vec2 range = sub_fp64(b, a);\n  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));\n}\n\n// Vector functions\n// vec2 functions\nvoid vec2_sum_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sum_fp64(a[0], b[0]);\n    out_val[1] = sum_fp64(a[1], b[1]);\n}\n\nvoid vec2_sub_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sub_fp64(a[0], b[0]);\n    out_val[1] = sub_fp64(a[1], b[1]);\n}\n\nvoid vec2_mul_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = mul_fp64(a[0], b[0]);\n    out_val[1] = mul_fp64(a[1], b[1]);\n}\n\nvoid vec2_div_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = div_fp64(a[0], b[0]);\n    out_val[1] = div_fp64(a[1], b[1]);\n}\n\nvoid vec2_mix_fp64(vec2 x[2], vec2 y[2], float a, out vec2 out_val[2]) {\n  vec2 range[2];\n  vec2_sub_fp64(y, x, range);\n  vec2 portion[2];\n  portion[0] = range[0] * a;\n  portion[1] = range[1] * a;\n  vec2_sum_fp64(x, portion, out_val);\n}\n\nvec2 vec2_length_fp64(vec2 x[2]) {\n  return sqrt_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])));\n}\n\nvoid vec2_normalize_fp64(vec2 x[2], out vec2 out_val[2]) {\n  vec2 length = vec2_length_fp64(x);\n  vec2 length_vec2[2];\n  length_vec2[0] = length;\n  length_vec2[1] = length;\n\n  vec2_div_fp64(x, length_vec2, out_val);\n}\n\nvec2 vec2_distance_fp64(vec2 x[2], vec2 y[2]) {\n  vec2 diff[2];\n  vec2_sub_fp64(x, y, diff);\n  return vec2_length_fp64(diff);\n}\n\nvec2 vec2_dot_fp64(vec2 a[2], vec2 b[2]) {\n  vec2 v[2];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n\n  return sum_fp64(v[0], v[1]);\n}\n\n// vec3 functions\nvoid vec3_sub_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec3_sum_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvec2 vec3_length_fp64(vec2 x[3]) {\n  return sqrt_fp64(sum_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])),\n    mul_fp64(x[2], x[2])));\n}\n\nvec2 vec3_distance_fp64(vec2 x[3], vec2 y[3]) {\n  vec2 diff[3];\n  vec3_sub_fp64(x, y, diff);\n  return vec3_length_fp64(diff);\n}\n\n// vec4 functions\nvoid vec4_fp64(vec4 a, out vec2 out_val[4]) {\n  out_val[0].x = a[0];\n  out_val[0].y = 0.0;\n\n  out_val[1].x = a[1];\n  out_val[1].y = 0.0;\n\n  out_val[2].x = a[2];\n  out_val[2].y = 0.0;\n\n  out_val[3].x = a[3];\n  out_val[3].y = 0.0;\n}\n\nvoid vec4_scalar_mul_fp64(vec2 a[4], vec2 b, out vec2 out_val[4]) {\n  out_val[0] = mul_fp64(a[0], b);\n  out_val[1] = mul_fp64(a[1], b);\n  out_val[2] = mul_fp64(a[2], b);\n  out_val[3] = mul_fp64(a[3], b);\n}\n\nvoid vec4_sum_fp64(vec2 a[4], vec2 b[4], out vec2 out_val[4]) {\n  for (int i = 0; i < 4; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec4_dot_fp64(vec2 a[4], vec2 b[4], out vec2 out_val) {\n  vec2 v[4];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n  v[2] = mul_fp64(a[2], b[2]);\n  v[3] = mul_fp64(a[3], b[3]);\n\n  out_val = sum_fp64(sum_fp64(v[0], v[1]), sum_fp64(v[2], v[3]));\n}\n\nvoid mat4_vec4_mul_fp64(vec2 b[16], vec2 a[4], out vec2 out_val[4]) {\n  vec2 tmp[4];\n\n  for (int i = 0; i < 4; i++)\n  {\n    for (int j = 0; j < 4; j++)\n    {\n      tmp[j] = b[j + i * 4];\n    }\n    vec4_dot_fp64(a, tmp, out_val[i]);\n  }\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_math_gl__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_1__lighting_common_glsl__=__webpack_require__(994),__WEBPACK_IMPORTED_MODULE_2__lighting_vertex_glsl__=__webpack_require__(995),__WEBPACK_IMPORTED_MODULE_3__lighting_fragment_glsl__=__webpack_require__(996);var vertexShader="".concat(__WEBPACK_IMPORTED_MODULE_1__lighting_common_glsl__.a,"\n").concat(__WEBPACK_IMPORTED_MODULE_2__lighting_vertex_glsl__.a,"\n"),fragmentShader="".concat(__WEBPACK_IMPORTED_MODULE_1__lighting_common_glsl__.a,"\n").concat(__WEBPACK_IMPORTED_MODULE_3__lighting_fragment_glsl__.a,"\n");__webpack_exports__.a={name:"lighting",vs:vertexShader,fs:fragmentShader,getUniforms:function getUniforms(_ref){var _ref$lightingEnable=_ref.lightingEnable,lightingEnable=void 0!==_ref$lightingEnable&&_ref$lightingEnable,_ref$lightingAmbientC=_ref.lightingAmbientColor,lightingAmbientColor=void 0===_ref$lightingAmbientC?[.2,.2,.2]:_ref$lightingAmbientC,_ref$lightingDirectio=_ref.lightingDirection,lightingDirection=void 0===_ref$lightingDirectio?[1,1,1]:_ref$lightingDirectio,_ref$lightingPointLig=(_ref.lightingDirectionalColor,_ref.lightingPointLights),lightingPointLights=void 0===_ref$lightingPointLig?[]:_ref$lightingPointLig;return Object.assign({lightingEnable:lightingEnable,lightingAmbientColor:lightingAmbientColor},function getDirectionalUniforms(_ref2){var color=_ref2.color,direction=_ref2.direction,dir=new __WEBPACK_IMPORTED_MODULE_0_math_gl__.d(direction.x,direction.y,direction.z).normalize().scale(-1,-1,-1);return{directionalColor:[color.r,color.g,color.b],lightingDirection:[dir.x,dir.y,dir.z]}}(lightingDirection),function getPointUniforms(points){var numberPoints=(points=function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(points,Array)?points:[points]).length,pointLocations=[],pointColors=[],enableSpecular=[],pointSpecularColors=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=points[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var point=_step.value,position=point.position,color=point.color,diffuse=point.diffuse,specular=point.specular,pointColor=color||diffuse;pointLocations.push(position.x,position.y,position.z),pointColors.push(pointColor.r,pointColor.g,pointColor.b),enableSpecular.push(Number(Boolean(specular))),specular?pointSpecularColors.push(specular.r,specular.g,specular.b):pointSpecularColors.push(0,0,0)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return{numberPoints:numberPoints,pointLocation:pointLocations,pointColor:pointColors,enableSpecular:enableSpecular,pointSpecularColor:pointSpecularColors}}(lightingPointLights))}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="  // empty\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define LIGHT_MAX 4\n\n/*\n// lighting configuration\nuniform bool enableLights;\nuniform vec3 ambientColor;\nuniform vec3 directionalColor;\nuniform vec3 lightingDirection;\n\n// point lights configuration\nuniform vec3 pointLocation[LIGHT_MAX];\nuniform vec3 pointColor[LIGHT_MAX];\nuniform int numberPoints;\n\n// reflection / refraction configuration\nuniform bool useReflection;\n*/\n\nuniform bool lighting_uEnableLights;\nuniform vec3 lighting_uAmbientColor;\nuniform vec3 lighting_uDirection;\nuniform vec3 lighting_uDirectionalColor;\n\n// point lights configuration\nuniform int  lighting_uPointCount;\nuniform vec3 lighting_uPointLocation[LIGHT_MAX];\nuniform vec3 lighting_uPointColor[LIGHT_MAX];\n\n// reflection / refraction configuration\nuniform bool lighting_uEnableReflections;\n\n// varyings\nvarying vec4 lighting_vPosition;\nvarying vec4 lighting_vNormal;\nvarying vec3 lighting_vColor;\nvarying vec3 lighting_vLightWeighting;\nvarying vec3 lighting_vReflection;\n\nvoid lighting_setPositionAndNormal(vec3 position, vec3 normal) {\n  lighting_vPosition = worldMatrix * vec4(position, 1.);\n  lighting_vNormal = worldInverseTransposeMatrix * vec4(normal, 1.);;\n}\n\nvoid lighting__getLightWeigting() {\n  float directionalLightWeighting = max(dot(lighting_vNormal.xyz, lighting_uDirection), 0.);\n  vec3 pointWeight = vec3(0., 0., 0.);\n  for (int i = 0; i < LIGHT_MAX; i++) {\n    if (i < numberPoints) {\n      vec4 mvLightPosition = viewMatrix * vec4(lighting_uPointLocation[i], 1.);\n      vec3 pointLightDirection = normalize(mvLightPosition.xyz - lighting_vPosition.xyz);\n      pointWeight += max(dot(lighting_vNormal.xyz, pointLightDirection), 0.) * pointColor[i];\n     } else {\n       break;\n     }\n   }\n   return ambientColor + (directionalColor * directionalLightWeighting) + pointWeight;\n}\n\nvoid lighting_apply(vec3 position, vec3 normal) {\n  lighting_setPositionAndNormal(position, normal);\n\n  // lighting code\n  if(!lighting_uEnableLights) {\n    lighting_vLightWeighting = vec3(1., 1., 1.);\n  } else {\n    lighting_vLightWeighting = lighting__getLightWeighting();\n  }\n}\n\nvoid lighting_set_reflection(vec3 position) {\n    // refraction / reflection code\n  if (lighting_uEnableReflections) {\n    lighting_vReflection = (viewInverseMatrix[3] - (worldMatrix * vec4(position, 1.))).xyz;\n  } else {\n    lighting_vReflection = vec3(1., 1., 1.);\n  }\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#ifdef GL_ES\nprecision highp float;\n#endif\n\n#define LIGHT_MAX 4\n\nvarying vec3 lighting_vLightWeighting;\n\nvec4 lighting_apply(vec4 color) {\n  // set color from texture\n  return vec4(color.rgb * lighting_vLightWeighting, color.a);\n}\n\n// spec-map.fs\n\nuniform mat4 viewMatrix;\n\n\nvarying vec4 lighting_vColor;\nvarying vec4 lighting_vTransformedNormal;\nvarying vec4 lighting_vPosition;\n\nuniform float shininess;\nuniform bool enableSpecularMap;\nuniform bool enableLights;\n\nuniform vec3 ambientColor;\nuniform vec3 directionalColor;\nuniform vec3 lightingDirection;\n\nuniform vec3 lighting_uPointLocation[LIGHT_MAX];\nuniform vec3 lighting_uPointColor[LIGHT_MAX];\nuniform float lighting_uPointSpecularEnable[LIGHT_MAX];\nuniform vec3 lighting_uPointSpecularColor[LIGHT_MAX];\nuniform int numberPoints;\n\n\nvec3 lighting__calculate_light_weighting() {\n\treturn lighting__calculate_light_weighting(shininess);\n}\n\nvec3 lighting__calculate_light_weighting(shininess) {\n  vec3 normal = vTransformedNormal.xyz;\n  vec3 eyeDirection = normalize(-vPosition.xyz);\n\n  vec3 specularLight = vec3(0., 0., 0.);\n  vec3 diffuseLight = vec3(0., 0., 0.);\n\n  for (int i = 0; i < LIGHT_MAX; i++) {\n    if (i < numberPoints) {\n      vec3 transformedPointLocation = (viewMatrix * vec4(lighting_uPointLocation[i], 1.0)).xyz;\n      vec3 lightDirection = normalize(transformedPointLocation - vPosition.xyz);\n\n      if (lighting_uPointSpecularEnable > 0.) {\n        vec3 reflectionDirection = reflect(-lightDirection, normal);\n        float specularLightWeighting =\n          pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininessVal);\n        specularLight += specularLightWeighting * lighting_uPointSpecularColor[i];\n      }\n\n      float diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);\n      diffuseLight += diffuseLightWeighting * lighting_uPointColor[i];\n    } else {\n      break;\n    }\n  }\n\n  return ambientColor + diffuseLight + specularLight;\n}\n\nvoid lighting_filterColor(fragmentColor) {\n  if (!lighting_enable) {\n  \treturn fragmentColor;\n  } else {\n  \tvec3 lightWeighting = lighting__calculate_light_weighting();\n  \treturn vec4(fragmentColor.rgb * lightWeighting, fragmentColor.a);\n  }\n}\n\n// render-tex.fs\n\nuniform vec3 material_uAmbientColor;\nuniform vec3 material_uDiffuseColor;\nuniform vec3 material_uSpecularColor;\nuniform vec3 material_uEmissiveColor;\n\nuniform bool hasTexture1;\nuniform sampler2D sampler1;\n\nuniform mat4 viewMatrix;\n\nvoid apply_lighting(color) {\n  vec3 ambientLightWeighting = ambientColor;\n\n  vec3 normal = vTransformedNormal.xyz;\n  vec3 eyeDirection = normalize(-vPosition.xyz);\n\n  vec3 specularLight = vec3(0.0, 0.0, 0.0);\n  vec3 diffuseLight = vec3(0.0, 0.0, 0.0);\n\n  for (int i = 0; i < LIGHT_MAX; i++) {\n    if (i < numberPoints) {\n      vec3 transformedPointLocation = (viewMatrix * vec4(pointLocation[i], 1.0)).xyz;\n      vec3 lightDirection = normalize(transformedPointLocation - vPosition.xyz);\n\n      if (enableSpecularHighlights) {\n        vec3 reflectionDirection = reflect(-lightDirection, normal);\n        float specularLightWeighting =\n          pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininess);\n        specularLight += specularLightWeighting * pointSpecularColor[i];\n      }\n\n      float diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);\n      diffuseLight += diffuseLightWeighting * pointColor[i];\n    } else {\n        break;\n    }\n  }\n\n  vec3 matAmbientColor = material_uAmbientColor * color.rgb;\n  vec3 matDiffuseColor = material_uDiffuseColor * color.rgb;\n  vec3 matSpecularColor = material_uSpecularColor * color.rgb;\n  vec3 matEmissiveColor = material_uEmissiveColor * color.rgb;\n  gl_FragColor = vec4(\n    matAmbientColor * ambientLightWeighting\n    + matDiffuseColor * diffuseLightWeighting\n    + matSpecularColor * specularLightWeighting\n    + matEmissiveColor,\n    color.a\n  );\n}\n\n/// frag-lighting\n\n  vec3 lightWeighting;\n  if (!enableLights) {\n    lightWeighting = vec3(1.0, 1.0, 1.0);\n  } else {\n    vec3 lightDirection;\n    float specularLightWeighting = 0.0;\n    float diffuseLightWeighting = 0.0;\n    vec3  specularLight = vec3(0.0, 0.0, 0.0);\n    vec3  diffuseLight = vec3(0.0, 0.0, 0.0);\n\n    vec3 transformedPointLocation;\n    vec3 normal = vTransformedNormal.xyz;\n\n    vec3 eyeDirection = normalize(-vPosition.xyz);\n    vec3 reflectionDirection;\n\n    vec3 pointWeight = vec3(0.0, 0.0, 0.0);\n\n    for (int i = 0; i < LIGHT_MAX; i++) {\n      if (i < numberPoints) {\n        transformedPointLocation = (viewMatrix * vec4(pointLocation[i], 1.0)).xyz;\n        lightDirection = normalize(transformedPointLocation - vPosition.xyz);\n\n        if (enableSpecular[i] > 0.0) {\n          reflectionDirection = reflect(-lightDirection, normal);\n          specularLightWeighting = pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininess);\n          specularLight += specularLightWeighting * pointSpecularColor[i];\n        }\n\n        diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);\n        diffuseLight += diffuseLightWeighting * pointColor[i];\n      } else {\n        break;\n      }\n    }\n\n    lightWeighting = ambientColor + diffuseLight + specularLight;\n  }\n\n// reflection / refraction configs\nuniform float reflection;\nuniform float refraction;\n\n///\n  // has cube texture then apply reflection\n  // if (hasTextureCube1) {\n  //   vec3 nReflection = normalize(vReflection);\n  //   vec3 reflectionValue;\n  //   if (refraction > 0.0) {\n  //    reflectionValue = refract(nReflection, vNormal.xyz, refraction);\n  //   } else {\n  //    reflectionValue = -reflect(nReflection, vNormal.xyz);\n  //   }\n\n  //   // TODO(nico): check whether this is right.\n  //   vec4 cubeColor = textureCube(samplerCube1,\n  //       vec3(-reflectionValue.x, -reflectionValue.y, reflectionValue.z));\n  //   gl_FragColor = vec4(mix(gl_FragColor.xyz, cubeColor.xyz, reflection), 1.0);\n  // }\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__project_project__=__webpack_require__(601),DEFAULT_MODULE_OPTIONS={lightDirection:new Float32Array([1,1,2])};__webpack_exports__.a={name:"dirlight",vs:null,fs:"uniform vec3 dirlight_uLightDirection;\n\n/*\n * Returns color attenuated by angle from light source\n */\nvec4 dirlight_filterColor(vec4 color) {\n  vec3 normal = project_getNormal_World();\n  float d = abs(dot(normalize(normal), normalize(dirlight_uLightDirection)));\n  return vec4(color.rgb * d, color.a);\n}\n",getUniforms:function getUniforms(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DEFAULT_MODULE_OPTIONS,uniforms={};return opts.lightDirection&&(uniforms.dirlight_uLightDirection=opts.lightDirection),uniforms},dependencies:[__WEBPACK_IMPORTED_MODULE_0__project_project__.a]}},function(module,__webpack_exports__,__webpack_require__){"use strict";var DEFAULT_MODULE_OPTIONS={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingThreshold:1,pickingActive:!1};__webpack_exports__.a={name:"picking",vs:"uniform vec3 picking_uSelectedColor;\nuniform float picking_uThreshold;\nuniform bool picking_uSelectedColorValid;\n\nvarying vec4 picking_vRGBcolor_Aselected;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    abs(vertexColor.r - picking_uSelectedColor.r) < picking_uThreshold &&\n    abs(vertexColor.g - picking_uSelectedColor.g) < picking_uThreshold &&\n    abs(vertexColor.b - picking_uSelectedColor.b) < picking_uThreshold;\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  // Do the comparison with selected item color in vertex shader as it should mean fewer compares\n  picking_vRGBcolor_Aselected.a =\n    float(isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  picking_vRGBcolor_Aselected.rgb = pickingColor * COLOR_SCALE;\n}\n",fs:"uniform bool picking_uActive; // true during rendering to offscreen picking buffer\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nvarying vec4 picking_vRGBcolor_Aselected;\n\nconst float COLOR_SCALE = 1. / 255.;\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 picking_filterHighlightColor(vec4 color) {\n  bool selected = bool(picking_vRGBcolor_Aselected.a);\n  return selected ? (picking_uHighlightColor * COLOR_SCALE) : color;\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 picking_filterPickingColor(vec4 color) {\n  vec3 pickingColor = picking_vRGBcolor_Aselected.rgb;\n  if (picking_uActive && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return picking_uActive ? vec4(pickingColor, 1.0) : color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function getUniforms(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DEFAULT_MODULE_OPTIONS,uniforms={};if(void 0!==opts.pickingSelectedColor)if(null===opts.pickingSelectedColor)uniforms.picking_uSelectedColorValid=0;else{var selectedColor=[opts.pickingSelectedColor[0],opts.pickingSelectedColor[1],opts.pickingSelectedColor[2]];uniforms.picking_uSelectedColorValid=1,uniforms.picking_uSelectedColor=selectedColor}return void 0!==opts.pickingHighlightColor&&(uniforms.picking_uHighlightColor=opts.pickingHighlightColor),void 0!==opts.pickingThreshold&&(uniforms.picking_uThreshold=opts.pickingThreshold),void 0!==opts.pickingActive&&(uniforms.picking_uActive=opts.pickingActive?1:0),uniforms}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var DEFAULT_MODULE_OPTIONS={diffuseTexture:null,diffuseColor:[.5,.5,.5,1]};__webpack_exports__.a={name:"diffuse",getUniforms:function getUniforms(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DEFAULT_MODULE_OPTIONS,uniforms={};return void 0!==opts.diffuseTexture&&(uniforms.diffuse_uHasTexture=Boolean(opts.diffuseTexture),uniforms.diffuse_uTexture=opts.diffuseTexture),void 0!==opts.diffuseColor&&(uniforms.diffuse_uColor=opts.diffuseColor),uniforms},vs:"varying vec2 diffuse_vTexCoord;\n\n/* Set the UV coordinate from attributes */\nvoid diffuse_setTextureCoordinate(vec2 uv) {\n  diffuse_vTexCoord = uv;\n}\n",fs:"uniform vec4 diffuse_uColor;\nuniform bool diffuse_uHasTexture;\nuniform sampler2D diffuse_uTexture;\n\nvarying vec2 diffuse_vTexCoord;\n\n// Gets diffuse color of material from uniform\n// If we have a standard (diffuse) texture, set color to texture\n// return (vec4) - rgba\n//\nvec4 diffuse_getColor() {\n  vec2 texCoord = diffuse_vTexCoord;\n  return diffuse_uHasTexture ?\n    texture2D(diffuse_uTexture, vec2(texCoord.s, texCoord.t)) :\n    diffuse_uColor;\n}\n\nvec4 diffuse_filterColor(vec4 color) {\n  return diffuse_getColor();\n}\n"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Transform});var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__webgl_buffer__=__webpack_require__(140),__WEBPACK_IMPORTED_MODULE_2__webgl_transform_feedback__=__webpack_require__(576),__WEBPACK_IMPORTED_MODULE_3__model__=__webpack_require__(220),__WEBPACK_IMPORTED_MODULE_4__webgl_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_5__utils_assert__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_6__utils__=__webpack_require__(15);function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Transform=function(){function Transform(gl){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,Transform),Object(__WEBPACK_IMPORTED_MODULE_4__webgl_utils__.d)(gl),this.gl=gl,this.model=null,this._buffersSwapable=!1,this.currentIndex=0,this.sourceBuffers=new Array(2),this.destinationBuffers=new Array(2),this.transformFeedbacks=new Array(2),this._buffersToDelete=[],this.initialize(opts),Object.seal(this)}return _createClass(Transform,null,[{key:"isSupported",value:function isSupported(gl){return Object(__WEBPACK_IMPORTED_MODULE_4__webgl_utils__.l)(gl)}}]),_createClass(Transform,[{key:"delete",value:function _delete(){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this._buffersToDelete[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){_step.value.delete()}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.model.delete()}},{key:"initialize",value:function initialize(_ref){var _ref$sourceBuffers=_ref.sourceBuffers,sourceBuffers=void 0===_ref$sourceBuffers?null:_ref$sourceBuffers,_ref$destinationBuffe=_ref.destinationBuffers,destinationBuffers=void 0===_ref$destinationBuffe?null:_ref$destinationBuffe,_ref$vs=_ref.vs,vs=void 0===_ref$vs?null:_ref$vs,_ref$sourceDestinatio=_ref.sourceDestinationMap,sourceDestinationMap=void 0===_ref$sourceDestinatio?null:_ref$sourceDestinatio,_ref$varyings=_ref.varyings,varyings=void 0===_ref$varyings?null:_ref$varyings,_ref$drawMode=_ref.drawMode,drawMode=void 0===_ref$drawMode?__WEBPACK_IMPORTED_MODULE_0__constants___default.a.POINTS:_ref$drawMode,_ref$elementCount=_ref.elementCount,elementCount=void 0===_ref$elementCount?null:_ref$elementCount;Object(__WEBPACK_IMPORTED_MODULE_5__utils_assert__.a)(sourceBuffers&&vs&&varyings&&elementCount),Object(__WEBPACK_IMPORTED_MODULE_5__utils_assert__.a)(destinationBuffers||sourceDestinationMap),sourceDestinationMap&&(this.sourceDestinationMap=sourceDestinationMap,this._buffersSwapable=!0);var index=0;this.varyings=[],this.varyingMap={};var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=varyings[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var varying=_step2.value;this.varyings[index]=varying,this.varyingMap[varying]=index,index++}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}this._bindBuffers({sourceBuffers:sourceBuffers,destinationBuffers:destinationBuffers}),this._buildModel({vs:vs,drawMode:drawMode,elementCount:elementCount})}},{key:"update",value:function update(_ref2){var _ref2$sourceBuffers=_ref2.sourceBuffers,sourceBuffers=void 0===_ref2$sourceBuffers?null:_ref2$sourceBuffers,_ref2$destinationBuff=_ref2.destinationBuffers,destinationBuffers=void 0===_ref2$destinationBuff?null:_ref2$destinationBuff,_ref2$elementCount=_ref2.elementCount,elementCount=void 0===_ref2$elementCount?this.elementCount:_ref2$elementCount;if(!sourceBuffers&&!destinationBuffers)return __WEBPACK_IMPORTED_MODULE_6__utils__.g.warn("Transform : no buffers updated")(),this;this.model.setVertexCount(elementCount);var currentIndex=this.currentIndex,varyingMap=this.varyingMap,_buffersSwapable=this._buffersSwapable,transformFeedbacks=this.transformFeedbacks;for(var bufferName in destinationBuffers)Object(__WEBPACK_IMPORTED_MODULE_5__utils_assert__.a)(_instanceof(destinationBuffers[bufferName],__WEBPACK_IMPORTED_MODULE_1__webgl_buffer__.a));if(Object.assign(this.sourceBuffers[currentIndex],sourceBuffers),Object.assign(this.destinationBuffers[currentIndex],destinationBuffers),transformFeedbacks[currentIndex].bindBuffers(this.destinationBuffers[currentIndex],{varyingMap:varyingMap}),_buffersSwapable){var nextIndex=(currentIndex+1)%2;for(var sourceBufferName in this.sourceDestinationMap){var destinationBufferName=this.sourceDestinationMap[sourceBufferName];this.sourceBuffers[nextIndex][sourceBufferName]=this.destinationBuffers[currentIndex][destinationBufferName],this.destinationBuffers[nextIndex][destinationBufferName]=this.sourceBuffers[currentIndex][sourceBufferName],Object(__WEBPACK_IMPORTED_MODULE_5__utils_assert__.a)(_instanceof(this.destinationBuffers[nextIndex][destinationBufferName],__WEBPACK_IMPORTED_MODULE_1__webgl_buffer__.a))}transformFeedbacks[nextIndex].bindBuffers(this.destinationBuffers[nextIndex],{varyingMap:varyingMap})}return this}},{key:"run",value:function run(){var _ref3$uniforms=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).uniforms,uniforms=void 0===_ref3$uniforms?{}:_ref3$uniforms,model=this.model,transformFeedbacks=this.transformFeedbacks,sourceBuffers=this.sourceBuffers,currentIndex=this.currentIndex;model.setAttributes(sourceBuffers[currentIndex]),model.draw({transformFeedback:transformFeedbacks[currentIndex],uniforms:uniforms,parameters:function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},__WEBPACK_IMPORTED_MODULE_0__constants___default.a.RASTERIZER_DISCARD,!0)})}},{key:"swapBuffers",value:function swapBuffers(){Object(__WEBPACK_IMPORTED_MODULE_5__utils_assert__.a)(this._buffersSwapable),this.currentIndex=(this.currentIndex+1)%2}},{key:"getBuffer",value:function getBuffer(){var varyingName=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,destinationBuffers=this.destinationBuffers,currentIndex=this.currentIndex;return Object(__WEBPACK_IMPORTED_MODULE_5__utils_assert__.a)(varyingName&&destinationBuffers[currentIndex][varyingName]),destinationBuffers[currentIndex][varyingName]}},{key:"_bindBuffers",value:function _bindBuffers(_ref4){var _ref4$sourceBuffers=_ref4.sourceBuffers,sourceBuffers=void 0===_ref4$sourceBuffers?null:_ref4$sourceBuffers,_ref4$destinationBuff=_ref4.destinationBuffers,destinationBuffers=void 0===_ref4$destinationBuff?null:_ref4$destinationBuff,_buffersSwapable=this._buffersSwapable;for(var bufferName in destinationBuffers)Object(__WEBPACK_IMPORTED_MODULE_5__utils_assert__.a)(_instanceof(destinationBuffers[bufferName],__WEBPACK_IMPORTED_MODULE_1__webgl_buffer__.a));if(this.sourceBuffers[0]=Object.assign({},sourceBuffers),this.destinationBuffers[0]=Object.assign({},destinationBuffers),_buffersSwapable)for(var sourceBufferName in this.sourceBuffers[1]={},this.destinationBuffers[1]={},this.sourceDestinationMap){var destinationBufferName=this.sourceDestinationMap[sourceBufferName];if(!this.destinationBuffers[0][destinationBufferName]){var sourceBuffer=this.sourceBuffers[0][sourceBufferName],bytes=sourceBuffer.bytes,type=sourceBuffer.type,usage=sourceBuffer.usage,layout=sourceBuffer.layout;this.destinationBuffers[0][destinationBufferName]=new __WEBPACK_IMPORTED_MODULE_1__webgl_buffer__.a(this.gl,{bytes:bytes,type:type,usage:usage,layout:layout}),this._buffersToDelete.push(this.destinationBuffers[0][destinationBufferName])}this.sourceBuffers[1][sourceBufferName]=this.destinationBuffers[0][destinationBufferName],this.destinationBuffers[1][destinationBufferName]=this.sourceBuffers[0][sourceBufferName],Object(__WEBPACK_IMPORTED_MODULE_5__utils_assert__.a)(_instanceof(this.destinationBuffers[1][destinationBufferName],__WEBPACK_IMPORTED_MODULE_1__webgl_buffer__.a))}}},{key:"_buildModel",value:function _buildModel(_ref5){var vs=_ref5.vs,drawMode=_ref5.drawMode,elementCount=_ref5.elementCount,varyings=this.varyings,varyingMap=this.varyingMap,_buffersSwapable=this._buffersSwapable,fs="void main()\n{\n}\n",vsLines=vs.split("\n");0===vsLines[0].indexOf("#version ")&&(fs="".concat(vsLines[0],"\n").concat("void main()\n{\n}\n","\n")),this.model=new __WEBPACK_IMPORTED_MODULE_3__model__.a(this.gl,{vs:vs,fs:fs,varyings:varyings,drawMode:drawMode,vertexCount:elementCount}),this.transformFeedbacks[0]=new __WEBPACK_IMPORTED_MODULE_2__webgl_transform_feedback__.a(this.gl,{buffers:this.destinationBuffers[0],varyingMap:varyingMap}),_buffersSwapable&&(this.transformFeedbacks[1]=new __WEBPACK_IMPORTED_MODULE_2__webgl_transform_feedback__.a(this.gl,{buffers:this.destinationBuffers[1],varyingMap:this.varyingMap}))}},{key:"elementCount",get:function get(){return this.model.getVertexCount()}}]),Transform}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function glGet(name){return Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils_constants_to_keys__.c)(__WEBPACK_IMPORTED_MODULE_0__constants___default.a,name)},__webpack_exports__.b=function glKey(value){return Object(__WEBPACK_IMPORTED_MODULE_1__webgl_utils_constants_to_keys__.a)(__WEBPACK_IMPORTED_MODULE_0__constants___default.a,value)};var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_0__constants___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__constants__),__WEBPACK_IMPORTED_MODULE_1__webgl_utils_constants_to_keys__=__webpack_require__(461);__WEBPACK_IMPORTED_MODULE_0__constants___default.a},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='// EXTERNAL CONSTANTS: these must match JavaScript constants in "src/core/lib/constants.js"\nconst float COORDINATE_SYSTEM_IDENTITY = 0.;\nconst float COORDINATE_SYSTEM_LNG_LAT = 1.;\nconst float COORDINATE_SYSTEM_METER_OFFSETS = 2.;\nconst float COORDINATE_SYSTEM_LNGLAT_OFFSETS = 3.;\n\nuniform float project_uCoordinateSystem;\nuniform float project_uScale;\nuniform vec3 project_uPixelsPerMeter;\nuniform vec3 project_uPixelsPerDegree;\nuniform vec3 project_uPixelsPerUnit;\nuniform vec3 project_uPixelsPerUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\n\n//\n// Scaling offsets - scales meters to "pixels"\n// Note the scalar version of project_scale is for scaling the z component only\n//\nfloat project_scale(float meters) {\n  return meters * project_uPixelsPerMeter.z;\n}\n\nvec2 project_scale(vec2 meters) {\n  return meters * project_uPixelsPerMeter.xy;\n}\n\nvec3 project_scale(vec3 meters) {\n  return meters * project_uPixelsPerMeter;\n}\n\nvec4 project_scale(vec4 meters) {\n  return vec4(meters.xyz * project_uPixelsPerMeter, meters.w);\n}\n\n//\n// Projecting normal - transform deltas from current coordinate system to\n// normals in the worldspace\n//\nvec3 project_normal(vec3 vector) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNG_LAT ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    return normalize(vector * project_uPixelsPerDegree);\n  }\n  // Apply model matrix\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  return normalize(normal_modelspace.xyz * project_uPixelsPerMeter);\n}\n\nvec4 project_offset_(vec4 offset) {\n  vec3 pixelsPerUnit = project_uPixelsPerUnit + project_uPixelsPerUnit2 * offset.y;\n  return vec4(offset.xyz * pixelsPerUnit, offset.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  return vec2(\n    radians(lnglat.x) + PI,\n    PI - log(tan_fp32(PI * 0.25 + radians(lnglat.y) * 0.5))\n  );\n}\n\n//\n// Projects lnglats (or meter offsets, depending on mode) to pixels\n//\nvec4 project_position(vec4 position) {\n  // TODO - why not simply subtract center and fall through?\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNG_LAT) {\n    return project_uModelMatrix * vec4(\n      project_mercator_(position.xy) * WORLD_SCALE * project_uScale,\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    return project_offset_(position);\n  }\n\n  // METER_OFFSETS or IDENTITY\n  // Apply model matrix\n  vec4 position_modelspace = project_uModelMatrix * position;\n  return project_offset_(position_modelspace);\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0));\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0));\n  return projected_position.xy;\n}\n\n//\n// Projects from "world" coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_to_clipspace(vec4 position) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_METER_OFFSETS ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    // Needs to be divided with project_uPixelsPerMeter\n    position.w *= project_uPixelsPerMeter.z;\n  }\n  return project_uViewProjectionMatrix * position + project_uCenter;\n}\n\n// Returns a clip space offset that corresponds to a given number of **non-device** pixels\nvec4 project_pixel_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio;\n  return vec4(offset * project_uFocalDistance, 0.0, 0.0);\n}\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="float scale(float position) {\n  return project_scale(position);\n}\n\nvec2 scale(vec2 position) {\n  return project_scale(position);\n}\n\nvec3 scale(vec3 position) {\n  return project_scale(position);\n}\n\nvec4 scale(vec4 position) {\n  return project_scale(position);\n}\n\nvec2 preproject(vec2 position) {\n  return project_position(position);\n}\n\nvec3 preproject(vec3 position) {\n  return project_position(position);\n}\n\nvec4 preproject(vec4 position) {\n  return project_position(position);\n}\n\nvec4 project(vec4 position) {\n  return project_to_clipspace(position);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function getUniformsFromViewport(){var _ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},viewport=_ref2.viewport,_ref2$devicePixelRati=_ref2.devicePixelRatio,devicePixelRatio=void 0===_ref2$devicePixelRati?1:_ref2$devicePixelRati,_ref2$modelMatrix=_ref2.modelMatrix,modelMatrix=void 0===_ref2$modelMatrix?null:_ref2$modelMatrix,_ref2$coordinateSyste=_ref2.coordinateSystem,coordinateSystem=void 0===_ref2$coordinateSyste?__WEBPACK_IMPORTED_MODULE_2__lib_constants__.a.LNGLAT:_ref2$coordinateSyste,_ref2$coordinateOrigi=_ref2.coordinateOrigin,coordinateOrigin=void 0===_ref2$coordinateOrigi?DEFAULT_COORDINATE_ORIGIN:_ref2$coordinateOrigi,projectionMode=_ref2.projectionMode,positionOrigin=_ref2.positionOrigin;Object(__WEBPACK_IMPORTED_MODULE_5__utils_assert__.a)(viewport),void 0!==projectionMode&&__WEBPACK_IMPORTED_MODULE_4__utils_log__.a.removed("projectionMode","coordinateSystem");void 0!==positionOrigin&&__WEBPACK_IMPORTED_MODULE_4__utils_log__.a.removed("positionOrigin","coordinateOrigin");return Object.assign({project_uModelMatrix:modelMatrix||IDENTITY_MATRIX},getMemoizedViewportUniforms({viewport:viewport,devicePixelRatio:devicePixelRatio,coordinateSystem:coordinateSystem,coordinateOrigin:coordinateOrigin}))};var __WEBPACK_IMPORTED_MODULE_0_gl_mat4_multiply__=__webpack_require__(158),__WEBPACK_IMPORTED_MODULE_0_gl_mat4_multiply___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_gl_mat4_multiply__),__WEBPACK_IMPORTED_MODULE_1_gl_vec4_transformMat4__=__webpack_require__(222),__WEBPACK_IMPORTED_MODULE_1_gl_vec4_transformMat4___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_gl_vec4_transformMat4__),__WEBPACK_IMPORTED_MODULE_2__lib_constants__=__webpack_require__(224),__WEBPACK_IMPORTED_MODULE_3__utils_memoize__=__webpack_require__(477),__WEBPACK_IMPORTED_MODULE_4__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_5__utils_assert__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_6_viewport_mercator_project__=__webpack_require__(72),ZERO_VECTOR=[0,0,0,0],VECTOR_TO_POINT_MATRIX=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],IDENTITY_MATRIX=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],DEFAULT_PIXELS_PER_UNIT2=[0,0,0],DEFAULT_COORDINATE_ORIGIN=[0,0,0],getMemoizedViewportUniforms=Object(__WEBPACK_IMPORTED_MODULE_3__utils_memoize__.a)(function calculateViewportUniforms(_ref3){var viewport=_ref3.viewport,devicePixelRatio=_ref3.devicePixelRatio,coordinateSystem=_ref3.coordinateSystem,coordinateOrigin=_ref3.coordinateOrigin,coordinateZoom=viewport.zoom;Object(__WEBPACK_IMPORTED_MODULE_5__utils_assert__.a)(coordinateZoom>=0);var _calculateMatrixAndOf=function calculateMatrixAndOffset(_ref){var projectionCenter,viewport=_ref.viewport,coordinateSystem=_ref.coordinateSystem,coordinateOrigin=_ref.coordinateOrigin,coordinateZoom=_ref.coordinateZoom,viewMatrixUncentered=viewport.viewMatrixUncentered,viewMatrix=viewport.viewMatrix,projectionMatrix=viewport.projectionMatrix,viewProjectionMatrix=viewport.viewProjectionMatrix;switch(coordinateSystem){case __WEBPACK_IMPORTED_MODULE_2__lib_constants__.a.IDENTITY:case __WEBPACK_IMPORTED_MODULE_2__lib_constants__.a.LNGLAT:projectionCenter=ZERO_VECTOR;break;case __WEBPACK_IMPORTED_MODULE_2__lib_constants__.a.LNGLAT_OFFSETS:case __WEBPACK_IMPORTED_MODULE_2__lib_constants__.a.METER_OFFSETS:var positionPixels=Object(__WEBPACK_IMPORTED_MODULE_6_viewport_mercator_project__.i)(coordinateOrigin,Math.pow(2,coordinateZoom));projectionCenter=__WEBPACK_IMPORTED_MODULE_1_gl_vec4_transformMat4___default()([],[positionPixels[0],positionPixels[1],0,1],viewProjectionMatrix),viewMatrix=viewMatrixUncentered||viewMatrix,viewProjectionMatrix=__WEBPACK_IMPORTED_MODULE_0_gl_mat4_multiply___default()([],projectionMatrix,viewMatrix),viewProjectionMatrix=__WEBPACK_IMPORTED_MODULE_0_gl_mat4_multiply___default()([],viewProjectionMatrix,VECTOR_TO_POINT_MATRIX);break;default:throw new Error("Unknown projection mode")}return{viewMatrix:viewMatrix,viewProjectionMatrix:viewProjectionMatrix,projectionCenter:projectionCenter,cameraPos:viewport.cameraPosition}}({coordinateSystem:coordinateSystem,coordinateOrigin:coordinateOrigin,coordinateZoom:coordinateZoom,viewport:viewport}),projectionCenter=_calculateMatrixAndOf.projectionCenter,viewProjectionMatrix=_calculateMatrixAndOf.viewProjectionMatrix,cameraPos=_calculateMatrixAndOf.cameraPos;Object(__WEBPACK_IMPORTED_MODULE_5__utils_assert__.a)(viewProjectionMatrix,"Viewport missing modelViewProjectionMatrix");var distanceScales=viewport.getDistanceScales(),viewportSize=[viewport.width*devicePixelRatio,viewport.height*devicePixelRatio],uniforms={project_uCoordinateSystem:coordinateSystem,project_uCenter:projectionCenter,project_uViewportSize:viewportSize,project_uDevicePixelRatio:devicePixelRatio,project_uFocalDistance:viewport.focalDistance||1,project_uPixelsPerMeter:distanceScales.pixelsPerMeter,project_uPixelsPerDegree:distanceScales.pixelsPerDegree,project_uPixelsPerUnit:distanceScales.pixelsPerMeter,project_uPixelsPerUnit2:DEFAULT_PIXELS_PER_UNIT2,project_uScale:viewport.scale,project_uViewProjectionMatrix:viewProjectionMatrix,project_uCameraPosition:cameraPos};if(coordinateSystem===__WEBPACK_IMPORTED_MODULE_2__lib_constants__.a.METER_OFFSETS){var distanceScalesAtOrigin=viewport.getDistanceScales(coordinateOrigin);uniforms.project_uPixelsPerUnit=distanceScalesAtOrigin.pixelsPerMeter,uniforms.project_uPixelsPerUnit2=distanceScalesAtOrigin.pixelsPerMeter2}if(coordinateSystem===__WEBPACK_IMPORTED_MODULE_2__lib_constants__.a.LNGLAT_OFFSETS){var _distanceScalesAtOrigin=viewport.getDistanceScales(coordinateOrigin);uniforms.project_uPixelsPerUnit=_distanceScalesAtOrigin.pixelsPerDegree,uniforms.project_uPixelsPerUnit2=_distanceScalesAtOrigin.pixelsPerDegree2}return uniforms})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Viewport});var __WEBPACK_IMPORTED_MODULE_0_math_gl__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_1__math_utils__=__webpack_require__(267),__WEBPACK_IMPORTED_MODULE_2__web_mercator_utils__=__webpack_require__(226),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_scale__=__webpack_require__(159),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_scale___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_gl_mat4_scale__),__WEBPACK_IMPORTED_MODULE_4_gl_mat4_translate__=__webpack_require__(160),__WEBPACK_IMPORTED_MODULE_4_gl_mat4_translate___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_gl_mat4_translate__),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_multiply__=__webpack_require__(158),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_multiply___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_gl_mat4_multiply__),__WEBPACK_IMPORTED_MODULE_6_gl_mat4_invert__=__webpack_require__(472),__WEBPACK_IMPORTED_MODULE_6_gl_mat4_invert___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_gl_mat4_invert__);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}var IDENTITY=Object(__WEBPACK_IMPORTED_MODULE_1__math_utils__.a)(),Viewport=function(){function Viewport(){var _ref=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},width=_ref.width,height=_ref.height,_ref$viewMatrix=_ref.viewMatrix,viewMatrix=void 0===_ref$viewMatrix?IDENTITY:_ref$viewMatrix,_ref$projectionMatrix=_ref.projectionMatrix,projectionMatrix=void 0===_ref$projectionMatrix?IDENTITY:_ref$projectionMatrix;(function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")})(this,Viewport),this.width=width||1,this.height=height||1,this.scale=1,this.viewMatrix=viewMatrix,this.projectionMatrix=projectionMatrix;var vpm=Object(__WEBPACK_IMPORTED_MODULE_1__math_utils__.a)();__WEBPACK_IMPORTED_MODULE_5_gl_mat4_multiply___default()(vpm,vpm,this.projectionMatrix),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_multiply___default()(vpm,vpm,this.viewMatrix),this.viewProjectionMatrix=vpm;var m=Object(__WEBPACK_IMPORTED_MODULE_1__math_utils__.a)();__WEBPACK_IMPORTED_MODULE_3_gl_mat4_scale___default()(m,m,[this.width/2,-this.height/2,1]),__WEBPACK_IMPORTED_MODULE_4_gl_mat4_translate___default()(m,m,[1,-1,0]),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_multiply___default()(m,m,this.viewProjectionMatrix);var mInverse=__WEBPACK_IMPORTED_MODULE_6_gl_mat4_invert___default()(Object(__WEBPACK_IMPORTED_MODULE_1__math_utils__.a)(),m);if(!mInverse)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=m,this.pixelUnprojectionMatrix=mInverse,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Viewport,[{key:"equals",value:function equals(viewport){return!!_instanceof(viewport,Viewport)&&viewport.width===this.width&&viewport.height===this.height&&Object(__WEBPACK_IMPORTED_MODULE_0_math_gl__.h)(viewport.projectionMatrix,this.projectionMatrix)&&Object(__WEBPACK_IMPORTED_MODULE_0_math_gl__.h)(viewport.viewMatrix,this.viewMatrix)}},{key:"project",value:function project(xyz){var _ref2$topLeft=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).topLeft,_xyz=_slicedToArray(xyz,3),x0=_xyz[0],y0=_xyz[1],z0=_xyz[2],_projectFlat2=_slicedToArray(this.projectFlat([x0,y0]),2),X=_projectFlat2[0],Y=_projectFlat2[1],coord=Object(__WEBPACK_IMPORTED_MODULE_2__web_mercator_utils__.k)([X,Y,z0],this.pixelProjectionMatrix),_coord=_slicedToArray(coord,2),x=_coord[0],y=_coord[1],y2=void 0===_ref2$topLeft||_ref2$topLeft?y:this.height-y;return 2===xyz.length?[x,y2]:[x,y2,coord[2]]}},{key:"unproject",value:function unproject(xyz){var _NumberisFinite=Number.isFinite,_ref3=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},_ref3$topLeft=_ref3.topLeft,targetZ=_ref3.targetZ,_xyz2=_slicedToArray(xyz,3),x=_xyz2[0],y=_xyz2[1],z=_xyz2[2],y2=void 0===_ref3$topLeft||_ref3$topLeft?y:this.height-y,coord=Object(__WEBPACK_IMPORTED_MODULE_2__web_mercator_utils__.h)([x,y2,z],this.pixelUnprojectionMatrix,targetZ),_unprojectFlat2=_slicedToArray(this.unprojectFlat(coord),2),X=_unprojectFlat2[0],Y=_unprojectFlat2[1];return _NumberisFinite(z)?[X,Y,coord[2]]:_NumberisFinite(targetZ)?[X,Y,targetZ]:[X,Y]}},{key:"projectFlat",value:function projectFlat(xyz){return 1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.scale,xyz}},{key:"unprojectFlat",value:function unprojectFlat(xyz){return 1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.scale,xyz}}]),Viewport}()},function(module,exports){module.exports=function lerp(out,a,b,t){var ax=a[0],ay=a[1];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function normalizeViewportProps(_ref){var width=_ref.width,height=_ref.height,longitude=_ref.longitude,latitude=_ref.latitude,zoom=_ref.zoom,_ref$pitch=_ref.pitch,pitch=void 0===_ref$pitch?0:_ref$pitch,_ref$bearing=_ref.bearing,bearing=void 0===_ref$bearing?0:_ref$bearing;(-180>longitude||180<longitude)&&(longitude=Object(__WEBPACK_IMPORTED_MODULE_1__math_utils__.c)(longitude+180,360)-180),(-180>bearing||180<bearing)&&(bearing=Object(__WEBPACK_IMPORTED_MODULE_1__math_utils__.c)(bearing+180,360)-180);var flatViewport=new __WEBPACK_IMPORTED_MODULE_0__web_mercator_viewport__.a({width:width,height:height,longitude:longitude,latitude:latitude,zoom:zoom}),topY=flatViewport.project([longitude,MAX_LATITUDE])[1],bottomY=flatViewport.project([longitude,MIN_LATITUDE])[1],shiftY=0;return bottomY-topY<height&&(zoom+=Math.log2(height/(bottomY-topY)),flatViewport=new __WEBPACK_IMPORTED_MODULE_0__web_mercator_viewport__.a({width:width,height:height,longitude:longitude,latitude:latitude,zoom:zoom}),topY=flatViewport.project([longitude,MAX_LATITUDE])[1],bottomY=flatViewport.project([longitude,MIN_LATITUDE])[1]),0<topY?shiftY=topY:bottomY<height&&(shiftY=bottomY-height),shiftY&&(latitude=flatViewport.unproject([width/2,height/2+shiftY])[1]),{width:width,height:height,longitude:longitude,latitude:latitude,zoom:zoom,pitch:pitch,bearing:bearing}};var __WEBPACK_IMPORTED_MODULE_0__web_mercator_viewport__=__webpack_require__(225),__WEBPACK_IMPORTED_MODULE_1__math_utils__=__webpack_require__(267),MAX_LATITUDE=85.05113,MIN_LATITUDE=-85.05113},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function flyToViewport(startProps,endProps,t){var _Mathcosh=Math.cosh,_Mathlog=Math.log,_Mathsqrt=Math.sqrt,viewport={},startZoom=startProps.zoom,startCenter=[startProps.longitude,startProps.latitude],startScale=Object(__WEBPACK_IMPORTED_MODULE_2__web_mercator_utils__.l)(startZoom),endZoom=endProps.zoom,endCenter=[endProps.longitude,endProps.latitude],scale=Object(__WEBPACK_IMPORTED_MODULE_2__web_mercator_utils__.l)(endZoom-startZoom),startCenterXY=new __WEBPACK_IMPORTED_MODULE_0_math_gl__.c(Object(__WEBPACK_IMPORTED_MODULE_2__web_mercator_utils__.g)(startCenter,startScale)),uDelta=new __WEBPACK_IMPORTED_MODULE_0_math_gl__.c(Object(__WEBPACK_IMPORTED_MODULE_2__web_mercator_utils__.g)(endCenter,startScale)).subtract(startCenterXY),w0=Math.max(startProps.width,startProps.height),w1=w0/scale,u1=_Mathsqrt(uDelta.x*uDelta.x+uDelta.y*uDelta.y);if(Math.abs(u1)<EPSILON){for(var _i=0;_i<VIEWPORT_TRANSITION_PROPS.length;_i++){var key=VIEWPORT_TRANSITION_PROPS[_i],startValue=startProps[key],endValue=endProps[key];viewport[key]=Object(__WEBPACK_IMPORTED_MODULE_1__math_utils__.b)(startValue,endValue,t)}return viewport}var rho2=1.414*1.414,b0=(w1*w1-w0*w0+rho2*rho2*u1*u1)/(2*w0*rho2*u1),b1=(w1*w1-w0*w0-rho2*rho2*u1*u1)/(2*w1*rho2*u1),r0=_Mathlog(_Mathsqrt(b0*b0+1)-b0),r1=_Mathlog(_Mathsqrt(b1*b1+1)-b1),s=t*((r1-r0)/1.414),w=_Mathcosh(r0)/_Mathcosh(r0+1.414*s),u=w0*((_Mathcosh(r0)*Math.tanh(r0+1.414*s)-Math.sinh(r0))/rho2)/u1,scaleIncrement=1/w,newZoom=startZoom+Object(__WEBPACK_IMPORTED_MODULE_2__web_mercator_utils__.i)(scaleIncrement),newCenter=Object(__WEBPACK_IMPORTED_MODULE_2__web_mercator_utils__.j)(startCenterXY.add(uDelta.scale(u)).scale(scaleIncrement),Object(__WEBPACK_IMPORTED_MODULE_2__web_mercator_utils__.l)(newZoom));return viewport.longitude=newCenter[0],viewport.latitude=newCenter[1],viewport.zoom=newZoom,viewport};var __WEBPACK_IMPORTED_MODULE_0_math_gl__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_1__math_utils__=__webpack_require__(267),__WEBPACK_IMPORTED_MODULE_2__web_mercator_utils__=__webpack_require__(226),EPSILON=.01,VIEWPORT_TRANSITION_PROPS=["longitude","latitude","zoom"]},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__project_project__=__webpack_require__(223);__webpack_exports__.a={name:"project32",dependencies:[__WEBPACK_IMPORTED_MODULE_0__project_project__.a],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec2 position64xyLow, vec3 offset, out vec4 worldPosition\n) {\n  vec3 projectedPosition = project_position(position);\n  worldPosition = vec4(projectedPosition + offset, 1.0);\n  return project_to_clipspace(worldPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec2 position64xyLow, vec3 offset\n) {\n  vec4 worldPosition;\n  return project_position_to_clipspace(position, position64xyLow, offset, worldPosition);\n}\n"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="\nconst vec2 WORLD_SCALE_FP64 = vec2(81.4873275756836, 0.0000032873668232014097);\n\nuniform vec2 project64_uScale;\nuniform vec2 project_uViewProjectionMatrixFP64[16];\n\n// longitude: lnglat_fp64.xy; latitude: lnglat_fp64.zw\nvoid mercatorProject_fp64(vec4 lnglat_fp64, out vec2 out_val[2]) {\n\n#if defined(NVIDIA_FP64_WORKAROUND)\n  out_val[0] = sum_fp64(radians_fp64(lnglat_fp64.xy), PI_FP64 * ONE);\n#else\n  out_val[0] = sum_fp64(radians_fp64(lnglat_fp64.xy), PI_FP64);\n#endif\n  out_val[1] = sub_fp64(PI_FP64,\n    log_fp64(tan_fp64(sum_fp64(PI_4_FP64, radians_fp64(lnglat_fp64.zw) / 2.0))));\n  return;\n}\n\nvoid project_position_fp64(vec4 position_fp64, out vec2 out_val[2]) {\n  vec2 pos_fp64[2];\n  mercatorProject_fp64(position_fp64, pos_fp64);\n  vec2 x_fp64 = mul_fp64(pos_fp64[0], project64_uScale);\n  vec2 y_fp64 = mul_fp64(pos_fp64[1], project64_uScale);\n  out_val[0] = mul_fp64(x_fp64, WORLD_SCALE_FP64);\n  out_val[1] = mul_fp64(y_fp64, WORLD_SCALE_FP64);\n\n  return;\n}\n\nvoid project_position_fp64(vec2 position, vec2 position64xyLow, out vec2 out_val[2]) {\n  vec4 position64xy = vec4(\n    position.x, position64xyLow.x,\n    position.y, position64xyLow.y);\n\n  project_position_fp64(position64xy, out_val);\n}\n\nvec4 project_to_clipspace_fp64(vec2 vertex_pos_modelspace[4]) {\n  vec2 vertex_pos_clipspace[4];\n  mat4_vec4_mul_fp64(project_uViewProjectionMatrixFP64, vertex_pos_modelspace,\n    vertex_pos_clipspace);\n  return vec4(\n    vertex_pos_clipspace[0].x,\n    vertex_pos_clipspace[1].x,\n    vertex_pos_clipspace[2].x,\n    vertex_pos_clipspace[3].x\n    );\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec2 position64xyLow, vec3 offset, out vec4 worldPosition\n) {\n  // This is the local offset to the instance position\n  vec2 offset64[4];\n  vec4_fp64(vec4(offset, 0.0), offset64);\n\n  float z = project_scale(position.z);\n\n  // Apply web mercator projection (depends on coordinate system imn use)\n  vec2 projectedPosition64xy[2];\n  project_position_fp64(position.xy, position64xyLow, projectedPosition64xy);\n\n  vec2 worldPosition64[4];\n  worldPosition64[0] = sum_fp64(offset64[0], projectedPosition64xy[0]);\n  worldPosition64[1] = sum_fp64(offset64[1], projectedPosition64xy[1]);\n  worldPosition64[2] = sum_fp64(offset64[2], vec2(z, 0.0));\n  worldPosition64[3] = vec2(1.0, 0.0);\n\n  worldPosition = vec4(projectedPosition64xy[0].x, projectedPosition64xy[1].x, z, 1.0);\n\n  return project_to_clipspace_fp64(worldPosition64);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec2 position64xyLow, vec3 offset\n) {\n  vec4 worldPosition;\n  return project_position_to_clipspace(\n    position, position64xyLow, offset, worldPosition\n  );\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define MAX_NUM_OF_LIGHTS 5\n\n// TODO these should be using lighting_ prefix\nuniform vec3 lighting_lightPositions[MAX_NUM_OF_LIGHTS];\nuniform vec2 lighting_lightStrengths[MAX_NUM_OF_LIGHTS];\nuniform float lighting_ambientRatio;\nuniform float lighting_diffuseRatio;\nuniform float lighting_specularRatio;\nuniform int lighting_numberOfLights;\n\nfloat lighting_getLightWeight(vec3 position_worldspace_vec3, vec3 normals_worldspace) {\n  float lightWeight = 0.0;\n\n  vec3 normals_worldspace_vec3 = normals_worldspace.xyz;\n\n  vec3 camera_pos_worldspace = project_uCameraPosition;\n  vec3 view_direction = normalize(camera_pos_worldspace - position_worldspace_vec3);\n\n  for (int i = 0; i < MAX_NUM_OF_LIGHTS; i++) {\n    if (i >= lighting_numberOfLights) {\n      break;\n    }\n    vec3 light_position_worldspace = lighting_lightPositions[i];\n    vec3 light_direction = normalize(light_position_worldspace - position_worldspace_vec3);\n\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normals_worldspace_vec3);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normals_worldspace_vec3, halfway_direction), 0.0);\n      specular = pow(specular_angle, 32.0);\n    }\n    lambertian = max(lambertian, 0.0);\n    lightWeight += (lighting_ambientRatio + lambertian * lighting_diffuseRatio + specular * lighting_specularRatio) *\n      lighting_lightStrengths[i].x;\n  }\n\n  return lightWeight;\n}\n\n// DEPRECATED - Backwards compatibility\n\nfloat getLightWeight(vec3 position_worldspace_vec3, vec3 normals_worldspace) {\n  return lighting_getLightWeight(position_worldspace_vec3, normals_worldspace);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function projectPosition(position,_ref){var worldPosition,viewport=_ref.viewport,coordinateSystem=_ref.coordinateSystem,coordinateOrigin=_ref.coordinateOrigin,modelMatrix=_ref.modelMatrix,fromCoordinateSystem=_ref.fromCoordinateSystem,fromCoordinateOrigin=_ref.fromCoordinateOrigin,_position=_slicedToArray(position,3),x=_position[0],y=_position[1],z=_position[2];if(modelMatrix){var _vec4_transformMat=__WEBPACK_IMPORTED_MODULE_1_gl_vec4_transformMat4___default()([],[x,y,z,1],modelMatrix),_vec4_transformMat2=_slicedToArray(_vec4_transformMat,3);x=_vec4_transformMat2[0],y=_vec4_transformMat2[1],z=_vec4_transformMat2[2]}void 0===fromCoordinateSystem&&(fromCoordinateSystem=coordinateSystem);void 0===fromCoordinateOrigin&&(fromCoordinateOrigin=coordinateOrigin);switch(fromCoordinateSystem){case __WEBPACK_IMPORTED_MODULE_0__lib_constants__.a.LNGLAT:worldPosition=lngLatZToWorldPosition([x,y,z],viewport);break;case __WEBPACK_IMPORTED_MODULE_0__lib_constants__.a.LNGLAT_OFFSETS:worldPosition=lngLatZToWorldPosition([x+fromCoordinateOrigin[0],y+fromCoordinateOrigin[1],z+(fromCoordinateOrigin[2]||0)],viewport);break;case __WEBPACK_IMPORTED_MODULE_0__lib_constants__.a.METER_OFFSETS:worldPosition=lngLatZToWorldPosition(viewport.addMetersToLngLat(fromCoordinateOrigin,[x,y,z]),viewport);break;default:worldPosition=[x,y,z]}switch(coordinateSystem){case __WEBPACK_IMPORTED_MODULE_0__lib_constants__.a.LNGLAT_OFFSETS:case __WEBPACK_IMPORTED_MODULE_0__lib_constants__.a.METER_OFFSETS:var originWorld=lngLatZToWorldPosition(coordinateOrigin,viewport);__WEBPACK_IMPORTED_MODULE_2_gl_vec3_subtract___default()(worldPosition,worldPosition,originWorld),worldPosition[1]=-worldPosition[1]}return worldPosition};var __WEBPACK_IMPORTED_MODULE_0__lib_constants__=__webpack_require__(224),__WEBPACK_IMPORTED_MODULE_1_gl_vec4_transformMat4__=__webpack_require__(222),__WEBPACK_IMPORTED_MODULE_1_gl_vec4_transformMat4___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_gl_vec4_transformMat4__),__WEBPACK_IMPORTED_MODULE_2_gl_vec3_subtract__=__webpack_require__(1013),__WEBPACK_IMPORTED_MODULE_2_gl_vec3_subtract___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_gl_vec3_subtract__);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function lngLatZToWorldPosition(lngLatZ,viewport){var _viewport$projectFlat2=_slicedToArray(viewport.projectFlat(lngLatZ),2);return[_viewport$projectFlat2[0],_viewport$projectFlat2[1],(lngLatZ[2]||0)*viewport.distanceScales.pixelsPerMeter[2]]}},function(module,exports){module.exports=function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Deck});var __WEBPACK_IMPORTED_MODULE_0__lib_layer_manager__=__webpack_require__(608),__WEBPACK_IMPORTED_MODULE_1__experimental_lib_effect_manager__=__webpack_require__(616),__WEBPACK_IMPORTED_MODULE_2__experimental_lib_effect__=__webpack_require__(482),__WEBPACK_IMPORTED_MODULE_3__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_4_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_5_probe_gl__=__webpack_require__(256),__WEBPACK_IMPORTED_MODULE_6_mjolnir_js__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_probe_gl__),__webpack_require__(483)),__WEBPACK_IMPORTED_MODULE_7__utils_assert__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_8__controllers_map_controller__=__webpack_require__(619);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function noop(){}var defaultProps={id:"deckgl-overlay",width:"100%",height:"100%",pickingRadius:0,layerFilter:null,glOptions:{},gl:null,layers:[],effects:[],views:null,controller:null,onWebGLInitialized:noop,onBeforeRender:noop,onAfterRender:noop,onLayerClick:null,onLayerHover:null,useDevicePixels:!0,debug:!1,drawPickingColors:!1},CURSOR={GRABBING:"".concat("-webkit-","grabbing"),GRAB:"".concat("-webkit-","grab"),POINTER:"pointer"},defaultControllerProps=Object.assign({},__WEBPACK_IMPORTED_MODULE_8__controllers_map_controller__.a,{scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoomRotate:!0,getCursor:function getCursor(_ref){return _ref.isDragging?CURSOR.GRABBING:CURSOR.GRAB}}),Deck=function(){function Deck(props){_classCallCheck(this,Deck),props=Object.assign({},defaultProps,props),this.width=0,this.height=0,this.needsRedraw=!0,this.layerManager=null,this.effectManager=null,this.controller=null,this.stats=new __WEBPACK_IMPORTED_MODULE_5_probe_gl__.Stats({id:"deck.gl"}),this.viewState=props.initialViewState||null,this.interactiveState={isDragging:!1},this._onRendererInitialized=this._onRendererInitialized.bind(this),this._onRenderFrame=this._onRenderFrame.bind(this),this._onViewStateChange=this._onViewStateChange.bind(this),this._onInteractiveStateChange=this._onInteractiveStateChange.bind(this),this.canvas=this._createCanvas(props),this.controller=this._createController(props),this.animationLoop=this._createAnimationLoop(props),this.setProps(props),this.animationLoop.start()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Deck,[{key:"finalize",value:function finalize(){this.animationLoop.stop(),this.animationLoop=null,this.layerManager&&(this.layerManager.finalize(),this.layerManager=null),this.controller&&(this.controller.finalize(),this.controller=null),this.eventManager&&this.eventManager.destroy()}},{key:"setProps",value:function setProps(props){this.stats.timeStart("deck.setProps"),props=Object.assign({},this.props,props),this.props=props,this._setCanvasSize(props);var newProps=Object.assign({},props,{viewState:this._getViewState(props),width:this.width,height:this.height});this.layerManager&&this.layerManager.setParameters(newProps),this.animationLoop&&this.animationLoop.setProps(newProps),this.controller&&this.controller.setProps(Object.assign(newProps,{onViewStateChange:this._onViewStateChange})),this.stats.timeEnd("deck.setProps")}},{key:"pickObject",value:function pickObject(_ref2){var x=_ref2.x,y=_ref2.y,_ref2$radius=_ref2.radius,radius=void 0===_ref2$radius?0:_ref2$radius,_ref2$layerIds=_ref2.layerIds,layerIds=void 0===_ref2$layerIds?null:_ref2$layerIds;this.stats.timeStart("deck.pickObject");var selectedInfos=this.layerManager.pickObject({x:x,y:y,radius:radius,layerIds:layerIds,mode:"query",depth:1});return this.stats.timeEnd("deck.pickObject"),selectedInfos.length?selectedInfos[0]:null}},{key:"pickMultipleObjects",value:function pickMultipleObjects(_ref3){var x=_ref3.x,y=_ref3.y,_ref3$radius=_ref3.radius,radius=void 0===_ref3$radius?0:_ref3$radius,_ref3$layerIds=_ref3.layerIds,layerIds=void 0===_ref3$layerIds?null:_ref3$layerIds,_ref3$depth=_ref3.depth,depth=void 0===_ref3$depth?10:_ref3$depth;this.stats.timeStart("deck.pickMultipleObjects");var selectedInfos=this.layerManager.pickObject({x:x,y:y,radius:radius,layerIds:layerIds,mode:"query",depth:depth});return this.stats.timeEnd("deck.pickMultipleObjects"),selectedInfos}},{key:"pickObjects",value:function pickObjects(_ref4){var x=_ref4.x,y=_ref4.y,_ref4$width=_ref4.width,width=void 0===_ref4$width?1:_ref4$width,_ref4$height=_ref4.height,height=void 0===_ref4$height?1:_ref4$height,_ref4$layerIds=_ref4.layerIds,layerIds=void 0===_ref4$layerIds?null:_ref4$layerIds;this.stats.timeStart("deck.pickObjects");var infos=this.layerManager.pickObjects({x:x,y:y,width:width,height:height,layerIds:layerIds});return this.stats.timeEnd("deck.pickObjects"),infos}},{key:"getViewports",value:function getViewports(){return this.layerManager?this.layerManager.getViewports():[]}},{key:"_createCanvas",value:function _createCanvas(props){var canvas=props.canvas;("string"==typeof canvas&&(canvas=document.getElementById(canvas),Object(__WEBPACK_IMPORTED_MODULE_7__utils_assert__.a)(canvas)),canvas)||(canvas=document.createElement("canvas"),(props.parent||document.body).appendChild(canvas));var id=props.id,style=props.style;return canvas.id=id,Object.assign(canvas.style,style),canvas}},{key:"_setCanvasSize",value:function _setCanvasSize(props){var canvas=this.canvas,width=props.width,height=props.height;(width||0===width)&&(width=Number.isFinite(width)?"".concat(width,"px"):width,canvas.style.width=width),(height||0===height)&&(height=Number.isFinite(height)?"".concat(height,"px"):height,canvas.style.position="absolute",canvas.style.height=height)}},{key:"_updateCanvasSize",value:function _updateCanvasSize(){if(this._checkForCanvasSizeChange()){var width=this.width,height=this.height;this.layerManager.setParameters({width:width,height:height}),this.controller&&this.controller.setProps({viewState:this._getViewState(this.props),width:this.width,height:this.height}),this.props.onResize&&this.props.onResize({width:this.width,height:this.height})}}},{key:"_checkForCanvasSizeChange",value:function _checkForCanvasSizeChange(){var canvas=this.canvas;return!(!canvas||this.width===canvas.clientWidth&&this.height===canvas.clientHeight)&&(this.width=canvas.clientWidth,this.height=canvas.clientHeight,!0)}},{key:"_createController",value:function _createController(props){var controller=null;props.controller&&(controller=new(0,props.controller)(props)).setProps(Object.assign({},this.props,defaultControllerProps,{eventManager:this.eventManager,viewState:this._getViewState(props),onViewStateChange:this._onViewStateChange,onStateChange:this._onInteractiveStateChange}));return controller}},{key:"_createAnimationLoop",value:function _createAnimationLoop(props){var _this=this,width=props.width,height=props.height,gl=props.gl,glOptions=props.glOptions,debug=props.debug,useDevicePixels=props.useDevicePixels,autoResizeDrawingBuffer=props.autoResizeDrawingBuffer;return new __WEBPACK_IMPORTED_MODULE_4_luma_gl__.AnimationLoop({width:width,height:height,useDevicePixels:useDevicePixels,autoResizeDrawingBuffer:autoResizeDrawingBuffer,onCreateContext:function onCreateContext(opts){return gl||Object(__WEBPACK_IMPORTED_MODULE_4_luma_gl__.createGLContext)(Object.assign({},glOptions,{canvas:_this.canvas,debug:debug}))},onInitialize:this._onRendererInitialized,onRender:this._onRenderFrame,onBeforeRender:props.onBeforeRender,onAfterRender:props.onAfterRender})}},{key:"_getViewState",value:function _getViewState(props){return Object.assign({},props.viewState||this.viewState||{},{width:this.width,height:this.height})}},{key:"_onViewStateChange",value:function _onViewStateChange(_ref5){var viewState=_ref5.viewState;if(this.props.onViewStateChange){for(var _this$props,_len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];viewState=(_this$props=this.props).onViewStateChange.apply(_this$props,[{viewState:viewState}].concat(args))||viewState}this.viewState&&(this.viewState=viewState,this.layerManager.setParameters({viewState:viewState}),this.controller.setProps({viewState:viewState}))}},{key:"_onInteractiveStateChange",value:function _onInteractiveStateChange(_ref6){var _ref6$isDragging=_ref6.isDragging,isDragging=void 0!==_ref6$isDragging&&_ref6$isDragging;isDragging!==this.interactiveState.isDragging&&(this.interactiveState.isDragging=isDragging,this.props.getCursor&&(this.canvas.style.cursor=this.props.getCursor(this.interactiveState)))}},{key:"_onRendererInitialized",value:function _onRendererInitialized(_ref7){var gl=_ref7.gl,canvas=_ref7.canvas;Object(__WEBPACK_IMPORTED_MODULE_4_luma_gl__.setParameters)(gl,{blend:!0,blendFunc:[__WEBPACK_IMPORTED_MODULE_4_luma_gl__.GL.SRC_ALPHA,__WEBPACK_IMPORTED_MODULE_4_luma_gl__.GL.ONE_MINUS_SRC_ALPHA,__WEBPACK_IMPORTED_MODULE_4_luma_gl__.GL.ONE,__WEBPACK_IMPORTED_MODULE_4_luma_gl__.GL.ONE_MINUS_SRC_ALPHA],polygonOffsetFill:!0,depthTest:!0,depthFunc:__WEBPACK_IMPORTED_MODULE_4_luma_gl__.GL.LEQUAL}),this.props.onWebGLInitialized(gl),this.eventManager=new __WEBPACK_IMPORTED_MODULE_6_mjolnir_js__.EventManager(canvas),this.controller&&this.controller.setProps({eventManager:this.eventManager}),this.layerManager=new __WEBPACK_IMPORTED_MODULE_0__lib_layer_manager__.a(gl,{eventManager:this.eventManager,stats:this.stats}),this.effectManager=new __WEBPACK_IMPORTED_MODULE_1__experimental_lib_effect_manager__.a({gl:gl,layerManager:this.layerManager});var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.props.effects[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var effect=_step.value;this.effectManager.addEffect(effect)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.setProps(this.props),this._updateCanvasSize()}},{key:"_onRenderFrame",value:function _onRenderFrame(_ref8){var gl=_ref8.gl;if(this.stats.oneSecondPassed()){var table=this.stats.getStatsTable();this.stats.reset(),__WEBPACK_IMPORTED_MODULE_3__utils_log__.a.table(1,table)()}this._updateCanvasSize(),this.layerManager.updateLayers(),this.stats.bump("fps");var redrawReason=this.layerManager.needsRedraw({clearRedrawFlags:!0});redrawReason&&(this.stats.bump("render-fps"),this.props.onBeforeRender&&this.props.onBeforeRender({gl:gl}),this.layerManager.drawLayers({pass:"screen",redrawReason:redrawReason,drawPickingColors:this.props.drawPickingColors}),this.props.onAfterRender&&this.props.onAfterRender({gl:gl}))}}]),Deck}();Deck.displayName="Deck",Deck.getPropTypes=function getPropTypes(PropTypes){return{id:PropTypes.string,width:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),height:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),layers:PropTypes.oneOfType([PropTypes.object,PropTypes.array]),layerFilter:PropTypes.func,views:PropTypes.oneOfType([PropTypes.object,PropTypes.array]),viewState:PropTypes.object,controller:PropTypes.func,onViewStateChange:PropTypes.func,effects:PropTypes.arrayOf(PropTypes.instanceOf(__WEBPACK_IMPORTED_MODULE_2__experimental_lib_effect__.a)),glOptions:PropTypes.object,gl:PropTypes.object,pickingRadius:PropTypes.number,onWebGLInitialized:PropTypes.func,onResize:PropTypes.func,onBeforeRender:PropTypes.func,onAfterRender:PropTypes.func,onLayerClick:PropTypes.func,onLayerHover:PropTypes.func,useDevicePixels:PropTypes.bool,debug:PropTypes.bool,drawPickingColors:PropTypes.bool}},Deck.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return LayerAttribute});var __WEBPACK_IMPORTED_MODULE_0__utils_assert__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_1_luma_gl__=__webpack_require__(14);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var Attribute=__WEBPACK_IMPORTED_MODULE_1_luma_gl__.experimental.Attribute,DEFAULT_STATE={isExternalBuffer:!1,needsAlloc:!1,needsUpdate:!1,needsRedraw:!1,allocedInstances:-1},LayerAttribute=function(_Attribute){function LayerAttribute(gl){var _this,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,LayerAttribute),_this=_possibleConstructorReturn(this,(LayerAttribute.__proto__||Object.getPrototypeOf(LayerAttribute)).call(this,gl,opts));var _opts$transition=opts.transition,transition=void 0!==_opts$transition&&_opts$transition,_opts$noAlloc=opts.noAlloc,noAlloc=void 0!==_opts$noAlloc&&_opts$noAlloc,_opts$update=opts.update,update=void 0===_opts$update?null:_opts$update,_opts$accessor=opts.accessor,accessor=void 0===_opts$accessor?null:_opts$accessor,_opts$defaultValue=opts.defaultValue,defaultValue=void 0===_opts$defaultValue?[0,0,0,0]:_opts$defaultValue;return defaultValue=Array.isArray(defaultValue)?defaultValue:[defaultValue],Object.assign(_this.userData,DEFAULT_STATE,opts,{transition:transition,noAlloc:noAlloc,update:update,accessor:accessor,defaultValue:defaultValue}),Object.seal(_this.userData),_this._validateAttributeUpdaters(),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(LayerAttribute,Attribute),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LayerAttribute,[{key:"needsUpdate",value:function needsUpdate(){return this.userData.needsUpdate}},{key:"needsRedraw",value:function needsRedraw(){var _ref$clearChangedFlag=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).clearChangedFlags,clearChangedFlags=void 0!==_ref$clearChangedFlag&&_ref$clearChangedFlag,needsRedraw=this.userData.needsRedraw;return this.userData.needsRedraw=this.userData.needsRedraw&&!clearChangedFlags,needsRedraw}},{key:"getInstanceCount",value:function getInstanceCount(){return null!==this.value?this.value.length/this.size:0}},{key:"getUpdateTriggers",value:function getUpdateTriggers(){var accessor=this.userData.accessor;return[this.id].concat(accessor||[])}},{key:"supportsTransition",value:function supportsTransition(){return this.userData.transition}},{key:"setNeedsUpdate",value:function setNeedsUpdate(){var reason=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;this.userData.needsUpdate=this.userData.needsUpdate||reason}},{key:"setNeedsRedraw",value:function setNeedsRedraw(){var reason=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;this.userData.needsRedraw=this.userData.needsRedraw||reason}},{key:"setNumInstances",value:function setNumInstances(numInstances){var state=this.userData;if(!state.isExternalBuffer&&!state.noAlloc){var instanceCount=this.getInstanceCount();(0===instanceCount||instanceCount<numInstances)&&(state.update||state.accessor)&&(state.needsAlloc=!0,this.setNeedsUpdate(this.id))}}},{key:"allocate",value:function allocate(numInstances){this.setNumInstances(numInstances);var state=this.userData;if(state.needsAlloc){var allocCount=Math.max(numInstances,1),ArrayType=glArrayFromType(this.type||__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.FLOAT);return this.isGeneric=!1,this.value=new ArrayType(this.size*allocCount),state.needsAlloc=!1,state.needsUpdate=!0,state.allocedInstances=allocCount,!0}return!1}},{key:"updateBuffer",value:function updateBuffer(_ref2){var numInstances=_ref2.numInstances,data=_ref2.data,props=_ref2.props,context=_ref2.context;if(!this.needsUpdate())return!1;var state=this.userData,update=state.update,accessor=state.accessor,updated=!0;return update?(update.call(context,this,{data:data,props:props,numInstances:numInstances}),this.update({value:this.value,isGeneric:this.isGeneric}),this._checkAttributeArray()):accessor?(this._updateBufferViaStandardAccessor(data,props),this._checkAttributeArray()):updated=!1,state.needsUpdate=!1,state.needsRedraw=!0,updated}},{key:"setGenericValue",value:function setGenericValue(_ref3){var props=_ref3.props,state=this.userData,value=props[state.accessor];if(void 0!==value&&"function"!=typeof value){value=this._normalizeValue(value);var hasChanged=!this.isGeneric||!this._areValuesEqual(value,this.value);hasChanged&&this.update({isGeneric:!0,value:value}),state.needsRedraw=state.needsUpdate||hasChanged,state.needsUpdate=!1,state.isExternalBuffer=!0}}},{key:"setExternalBuffer",value:function setExternalBuffer(buffer,numInstances){var state=this.userData;if(buffer)if(state.isExternalBuffer=!0,state.needsUpdate=!1,_instanceof(buffer,__WEBPACK_IMPORTED_MODULE_1_luma_gl__.Buffer))this.externalBuffer!==buffer&&(this.update({isGeneric:!1,buffer:buffer}),state.needsRedraw=!0);else{var ArrayType=glArrayFromType(this.type||__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.FLOAT);if(!_instanceof(buffer,ArrayType))throw new Error("Attribute ".concat(this.id," must be of type ").concat(ArrayType.name));if(state.auto&&buffer.length<=numInstances*this.size)throw new Error("Attribute prop array must match length and size");this.value!==buffer&&(this.update({value:buffer}),state.needsRedraw=!0)}else state.isExternalBuffer=!1}},{key:"_normalizeValue",value:function _normalizeValue(value){var size=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size,defaultValue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.userData.defaultValue;switch(Array.isArray(value)||ArrayBuffer.isView(value)||(value=[value]),size){case 4:value[3]=Number.isFinite(value[3])?value[3]:defaultValue[3];case 3:value[2]=Number.isFinite(value[2])?value[2]:defaultValue[2];case 2:value[1]=Number.isFinite(value[1])?value[1]:defaultValue[1];case 1:value[0]=Number.isFinite(value[0])?value[0]:defaultValue[0]}return value}},{key:"_areValuesEqual",value:function _areValuesEqual(value1,value2){for(var size=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.size,i=0;i<size;i++)if(value1[i]!==value2[i])return!1;return!0}},{key:"_updateBufferViaStandardAccessor",value:function _updateBufferViaStandardAccessor(data,props){var state=this.userData,accessor=state.accessor,defaultValue=state.defaultValue,value=this.value,size=this.size,accessorFunc=props[accessor];Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)("function"==typeof accessorFunc,'accessor "'.concat(accessor,'" is not a function'));var i=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var objectValue=accessorFunc(_step.value);objectValue=this._normalizeValue(objectValue,size,defaultValue);for(var j=0;j<size;j++)value[i++]=objectValue[j]}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.update({value:value})}},{key:"_validateAttributeUpdaters",value:function _validateAttributeUpdaters(){var state=this.userData;if(!(state.noAlloc||"function"==typeof state.update||"string"==typeof state.accessor))throw new Error("Attribute ".concat(this.id," missing update or accessor"))}},{key:"_checkAttributeArray",value:function _checkAttributeArray(){var value=this.value;if(value&&value.length>=4&&!(Number.isFinite(value[0])&&Number.isFinite(value[1])&&Number.isFinite(value[2])&&Number.isFinite(value[3])))throw new Error("Illegal attribute generated for ".concat(this.id))}}]),LayerAttribute}();function glArrayFromType(glType){var _ref4$clamped=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clamped,clamped=void 0===_ref4$clamped||_ref4$clamped;switch(glType){case __WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.FLOAT:return Float32Array;case __WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_SHORT:case __WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_SHORT_5_6_5:case __WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_SHORT_4_4_4_4:case __WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;case __WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_INT:return Uint32Array;case __WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_BYTE:return clamped?Uint8ClampedArray:Uint8Array;case __WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.BYTE:return Int8Array;case __WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.SHORT:return Int16Array;case __WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.INT:return Int32Array;default:throw new Error("Failed to deduce type from array")}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AttributeTransitionManager});var __WEBPACK_IMPORTED_MODULE_0_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_1__attribute_transition_utils__=__webpack_require__(1017),__WEBPACK_IMPORTED_MODULE_2__transitions_transition__=__webpack_require__(610),__WEBPACK_IMPORTED_MODULE_3__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_4__utils_assert__=__webpack_require__(18);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Transform=__WEBPACK_IMPORTED_MODULE_0_luma_gl__.experimental.Transform,noop=function noop(){},AttributeTransitionManager=function(){function AttributeTransitionManager(gl,_ref){var id=_ref.id;_classCallCheck(this,AttributeTransitionManager),this.id=id,this.gl=gl,this.attributeTransitions={},this.needsRedraw=!1,this.transform=null,this.numInstances=0,Transform.isSupported(gl)?this.isSupported=!0:__WEBPACK_IMPORTED_MODULE_3__utils_log__.a.warn("WebGL2 not supported by this browser. Transition animation is disabled.")()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AttributeTransitionManager,[{key:"finalize",value:function finalize(){for(var attributeName in this.transform&&this.transform.delete(),this.attributeTransitions)this._removeTransition(attributeName)}},{key:"update",value:function update(_ref2){var attributes=_ref2.attributes,_ref2$transitions=_ref2.transitions,transitions=void 0===_ref2$transitions?{}:_ref2$transitions,numInstances=_ref2.numInstances;if(this.opts=transitions,this.numInstances=numInstances,this.isSupported){var attributeTransitions=this.attributeTransitions,changedTransitions={};for(var attributeName in attributes){this._updateAttribute(attributeName,attributes[attributeName])&&(changedTransitions[attributeName]=attributeTransitions[attributeName])}for(var _attributeName in attributeTransitions){var attribute=attributes[_attributeName];attribute&&attribute.supportsTransition()||this._removeTransition(_attributeName)}if(this.transform){if(this.transform){var _getBuffers=Object(__WEBPACK_IMPORTED_MODULE_1__attribute_transition_utils__.a)(changedTransitions),sourceBuffers=_getBuffers.sourceBuffers,destinationBuffers=_getBuffers.destinationBuffers;this.transform.update({elementCount:this.numInstances,sourceBuffers:sourceBuffers,destinationBuffers:destinationBuffers})}}else this._createModel()}}},{key:"hasAttribute",value:function hasAttribute(attributeName){return attributeName in this.attributeTransitions}},{key:"getAttributes",value:function getAttributes(){var animatedAttributes={};for(var attributeName in this.attributeTransitions){var transition=this.attributeTransitions[attributeName];transition.buffer&&(animatedAttributes[attributeName]=transition.buffer)}return animatedAttributes}},{key:"setCurrentTime",value:function setCurrentTime(currentTime){if(!this.transform)return!1;var uniforms={},needsRedraw=this.needsRedraw;for(var attributeName in this.needsRedraw=!1,this.attributeTransitions){var transition=this.attributeTransitions[attributeName];transition.update(currentTime)&&(uniforms["".concat(attributeName,"Time")]=transition.time,needsRedraw=!0)}return needsRedraw&&this.transform.run({uniforms:uniforms}),needsRedraw}},{key:"_createTransition",value:function _createTransition(attributeName,attribute){var transition=this.attributeTransitions[attributeName];return transition?null:(transition=new __WEBPACK_IMPORTED_MODULE_2__transitions_transition__.a({name:attributeName,attribute:attribute}),this.attributeTransitions[attributeName]=transition,this._invalidateModel(),transition)}},{key:"_removeTransition",value:function _removeTransition(attributeName){var transition=this.attributeTransitions[attributeName];transition&&(transition.buffer&&transition.buffer.delete(),transition._swapBuffer&&transition._swapBuffer.delete(),delete this.attributeTransitions[attributeName],this._invalidateModel())}},{key:"_updateAttribute",value:function _updateAttribute(attributeName,attribute){var settings=this._getTransitionSettings(attribute);if(settings){var hasChanged,transition=this.attributeTransitions[attributeName];if(transition?hasChanged=attribute.needsRedraw():(transition=this._createTransition(attributeName,attribute),hasChanged=!0),hasChanged)return this._triggerTransition(transition,settings),!0}return!1}},{key:"_invalidateModel",value:function _invalidateModel(){this.transform&&(this.transform.delete(),this.transform=null)}},{key:"_createModel",value:function _createModel(){0!==Object.keys(this.attributeTransitions).length&&(this.transform=new Transform(this.gl,Object.assign({elementCount:this.numInstances},Object(__WEBPACK_IMPORTED_MODULE_1__attribute_transition_utils__.a)(this.attributeTransitions),Object(__WEBPACK_IMPORTED_MODULE_1__attribute_transition_utils__.b)(this.attributeTransitions))))}},{key:"_getNextTransitionStates",value:function _getNextTransitionStates(transition){var toState,attribute=transition.attribute,size=attribute.size;toState=attribute.isGeneric?{isGeneric:!0,value:attribute.value,size:size}:{isGeneric:!1,buffer:attribute.getBuffer(),size:size};var fromState=transition.buffer||toState,toLength=this.numInstances*size,fromLength=fromState.data&&fromState.data.length||toLength,buffer=transition._swapBuffer;return transition._swapBuffer=transition.buffer,buffer||(buffer=new __WEBPACK_IMPORTED_MODULE_0_luma_gl__.Buffer(this.gl,{size:size,data:new Float32Array(toLength),usage:__WEBPACK_IMPORTED_MODULE_0_luma_gl__.GL.DYNAMIC_COPY})),buffer.data.length<toLength&&buffer.setData({data:new Float32Array(toLength)}),Object(__WEBPACK_IMPORTED_MODULE_1__attribute_transition_utils__.c)({fromState:fromState,toState:toState,fromLength:fromLength,toLength:toLength}),{fromState:fromState,toState:toState,buffer:buffer}}},{key:"_getTransitionSettings",value:function _getTransitionSettings(attribute){var opts=this.opts,_attribute$userData=attribute.userData,transition=_attribute$userData.transition,accessor=_attribute$userData.accessor;return transition?Array.isArray(accessor)?accessor.map(function(a){return opts[a]}).find(Boolean):opts[accessor]:null}},{key:"_normalizeTransitionSettings",value:function _normalizeTransitionSettings(settings){return Number.isFinite(settings)&&(settings={duration:settings}),Object(__WEBPACK_IMPORTED_MODULE_4__utils_assert__.a)(settings&&settings.duration>0),{duration:settings.duration,easing:settings.easing||function(t){return t},onStart:settings.onStart||noop,onEnd:settings.onEnd||noop,onInterrupt:settings.onInterrupt||noop}}},{key:"_triggerTransition",value:function _triggerTransition(transition,settings){this.needsRedraw=!0;var transitionSettings=this._normalizeTransitionSettings(settings);transition.start(Object.assign({},this._getNextTransitionStates(transition),transitionSettings))}}]),AttributeTransitionManager}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=function getShaders(transitions){var varyings=[],attributeDeclarations=[],uniformsDeclarations=[],varyingDeclarations=[],calculations=[];for(var attributeName in transitions){var transition=transitions[attributeName],attributeType=ATTRIBUTE_MAPPING[transition.attribute.size];attributeType&&(transition.bufferIndex=varyings.length,varyings.push(attributeName),attributeDeclarations.push("attribute ".concat(attributeType," ").concat(attributeName,"From;")),attributeDeclarations.push("attribute ".concat(attributeType," ").concat(attributeName,"To;")),uniformsDeclarations.push("uniform float ".concat(attributeName,"Time;")),varyingDeclarations.push("varying ".concat(attributeType," ").concat(attributeName,";")),calculations.push("".concat(attributeName," = mix(").concat(attributeName,"From, ").concat(attributeName,"To,\n        ").concat(attributeName,"Time);")))}var vs="\n#define SHADER_NAME feedback-vertex-shader\n".concat(attributeDeclarations.join("\n"),"\n").concat(uniformsDeclarations.join("\n"),"\n").concat(varyingDeclarations.join("\n"),"\n\nvoid main(void) {\n  ").concat(calculations.join("\n"),"\n  gl_Position = vec4(0.0);\n}\n"),fs="#define SHADER_NAME feedback-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\n".concat(varyingDeclarations.join("\n"),"\n\nvoid main(void) {\n  gl_FragColor = vec4(0.0);\n}\n");return{vs:vs,fs:fs,varyings:varyings}},__webpack_exports__.a=function getBuffers(transitions){var sourceBuffers={},destinationBuffers={};for(var attributeName in transitions){var _transitions$attribut=transitions[attributeName],fromState=_transitions$attribut.fromState,toState=_transitions$attribut.toState,buffer=_transitions$attribut.buffer;sourceBuffers["".concat(attributeName,"From")]=fromState,sourceBuffers["".concat(attributeName,"To")]=toState,destinationBuffers["".concat(attributeName)]=buffer}return{sourceBuffers:sourceBuffers,destinationBuffers:destinationBuffers}},__webpack_exports__.c=function padBuffer(_ref){var fromState=_ref.fromState,toState=_ref.toState,fromLength=_ref.fromLength,toLength=_ref.toLength;if(fromLength>=toLength||!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(fromState,__WEBPACK_IMPORTED_MODULE_0_luma_gl__.Buffer))return;var data=new Float32Array(toLength);data.set(fromState.getData({})),toState.isGeneric?Object(__WEBPACK_IMPORTED_MODULE_1__utils_flatten__.a)({target:data,source:toState.value,start:fromLength,count:(toLength-fromLength)/toState.size}):data.set(toState.buffer.data.subarray(fromLength),fromLength);fromState.setData({data:data})};var __WEBPACK_IMPORTED_MODULE_0_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_1__utils_flatten__=__webpack_require__(227);var ATTRIBUTE_MAPPING={1:"float",2:"vec2",3:"vec3",4:"vec4"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function diffProps(props,oldProps){var propsChangedReason=compareProps({newProps:props,oldProps:oldProps,ignoreProps:{data:null,updateTriggers:null}}),dataChangedReason=function diffDataProps(props,oldProps){if(null===oldProps)return"oldProps is null, initial diff";var dataComparator=props.dataComparator;if(dataComparator){if(!dataComparator(props.data,oldProps.data))return"Data comparator detected a change"}else if(props.data!==oldProps.data)return"A new data container was supplied";return null}(props,oldProps),updateTriggersChangedReason=!1;dataChangedReason||(updateTriggersChangedReason=function diffUpdateTriggers(props,oldProps){if(null===oldProps)return"oldProps is null, initial diff";if("all"in props.updateTriggers){var diffReason=diffUpdateTrigger(oldProps,props,"all");if(diffReason)return{all:!0}}var triggerChanged={},reason=!1;for(var triggerName in props.updateTriggers)if("all"!==triggerName){var _diffReason=diffUpdateTrigger(oldProps,props,triggerName);_diffReason&&(triggerChanged[triggerName]=!0,reason=triggerChanged)}return reason}(props,oldProps));return{dataChanged:dataChangedReason,propsChanged:propsChangedReason,updateTriggersChanged:updateTriggersChangedReason}};var __WEBPACK_IMPORTED_MODULE_0__utils_assert__=__webpack_require__(18);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function compareProps(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},newProps=_ref.newProps,oldProps=_ref.oldProps,_ref$ignoreProps=_ref.ignoreProps,ignoreProps=void 0===_ref$ignoreProps?{}:_ref$ignoreProps,_ref$shallowComparePr=_ref.shallowCompareProps,shallowCompareProps=void 0===_ref$shallowComparePr?{}:_ref$shallowComparePr,_ref$triggerName=_ref.triggerName,triggerName=void 0===_ref$triggerName?"props":_ref$triggerName;if(Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(void 0!==oldProps&&void 0!==newProps,"compareProps args"),oldProps===newProps)return null;if("object"!==_typeof(newProps)||null===newProps)return"".concat(triggerName," changed shallowly");if("object"!==_typeof(oldProps)||null===oldProps)return"".concat(triggerName," changed shallowly");for(var key in oldProps)if(!(key in ignoreProps)){if(!(key in newProps))return"".concat(triggerName,".").concat(key," dropped: ").concat(oldProps[key]," -> undefined");var equals=newProps[key]&&oldProps[key]&&newProps[key].equals;if(equals&&!equals.call(newProps[key],oldProps[key]))return"".concat(triggerName,".").concat(key," changed deeply: ").concat(oldProps[key]," -> ").concat(newProps[key]);if(key in shallowCompareProps)"function"===_typeof(newProps[key])&&"function"==typeof oldProps[key]&&(equals=!0);if(!equals&&oldProps[key]!==newProps[key])return"".concat(triggerName,".").concat(key," changed shallowly: ").concat(oldProps[key]," -> ").concat(newProps[key])}for(var _key in newProps)if(!(_key in ignoreProps||_key in oldProps))return"".concat(triggerName,".").concat(_key," added: undefined -> ").concat(newProps[_key]);return null}function diffUpdateTrigger(props,oldProps,triggerName){var newTriggers=props.updateTriggers[triggerName]||{};return compareProps({oldProps:oldProps.updateTriggers[triggerName]||{},newProps:newTriggers,triggerName:triggerName})}},function(module,__webpack_exports__,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}__webpack_exports__.a=function count(container){if(!function isObject(value){return null!==value&&"object"===_typeof(value)}(container))throw new Error(ERR_NOT_OBJECT);if("function"==typeof container.count)return container.count();if(Number.isFinite(container.size))return container.size;if(Number.isFinite(container.length))return container.length;if(function isPlainObject(value){return null!==value&&"object"===_typeof(value)&&value.constructor===Object}(container))return Object.keys(container).length;throw new Error(ERR_NOT_CONTAINER)};var ERR_NOT_OBJECT="count(): argument not an object",ERR_NOT_CONTAINER="count(): argument not a container"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Component});var __WEBPACK_IMPORTED_MODULE_0__lifecycle_constants__=__webpack_require__(611),__WEBPACK_IMPORTED_MODULE_1__lifecycle_create_props__=__webpack_require__(1021),__WEBPACK_IMPORTED_MODULE_2__component_state__=__webpack_require__(612);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var counter=0,Component=function(){function Component(){_classCallCheck(this,Component),this.props=__WEBPACK_IMPORTED_MODULE_1__lifecycle_create_props__.a.apply(this,arguments),this.id=this.props.id,this.count=counter++,this.lifecycle=__WEBPACK_IMPORTED_MODULE_0__lifecycle_constants__.a.NO_STATE,this.parent=null,this.context=null,this.state=null,this.internalState=null,Object.seal(this)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Component,[{key:"clone",value:function clone(newProps){return new this.constructor(Object.assign({},this.props,newProps))}},{key:"_initState",value:function _initState(){this.internalState=new __WEBPACK_IMPORTED_MODULE_2__component_state__.a({})}},{key:"stats",get:function get(){return this.internalState.stats}}]),Component}();Component.defaultProps={}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function createProps(){for(var propsPrototype=getPropsPrototypeAndTypes(this.constructor).defaultProps,propsInstance=Object.create(propsPrototype,{_component:{enumerable:!1,value:this},_asyncPropOriginalValues:{enumerable:!1,value:{}},_asyncPropResolvedValues:{enumerable:!1,value:{}}}),i=0;i<arguments.length;++i)Object.assign(propsInstance,arguments[i]);return Object(__WEBPACK_IMPORTED_MODULE_0__lib_seer_integration__.a)(propsInstance),Object.freeze(propsInstance),propsInstance};var __WEBPACK_IMPORTED_MODULE_0__lib_seer_integration__=__webpack_require__(479),__WEBPACK_IMPORTED_MODULE_1__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_2__prop_types__=__webpack_require__(1022);function getPropsPrototypeAndTypes(componentClass){var props=getOwnProperty(componentClass,"_mergedDefaultProps");return props?{defaultProps:props,propTypes:getOwnProperty(componentClass,"_propTypes")}:function createPropsPrototypeAndTypes(componentClass){var parent=componentClass.prototype;if(!parent)return{defaultProps:{}};var parentClass=Object.getPrototypeOf(componentClass),parentPropDefs=parent&&getPropsPrototypeAndTypes(parentClass)||null,componentDefaultProps=getOwnProperty(componentClass,"defaultProps")||{},componentPropDefs=Object(__WEBPACK_IMPORTED_MODULE_2__prop_types__.a)(componentDefaultProps),propTypes=Object.assign({},parentPropDefs&&parentPropDefs.propTypes,componentPropDefs.propTypes),defaultProps=function createPropsPrototype(props,parentProps,propTypes,componentClass){var defaultProps=Object.create(null);Object.assign(defaultProps,parentProps,props);var id=function getComponentName(componentClass){var componentName=getOwnProperty(componentClass,"layerName")||getOwnProperty(componentClass,"componentName");componentName||__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.once(0,"".concat(componentClass.name,".componentName not specified"));return componentName||componentClass.name}(componentClass);return delete props.id,Object.defineProperties(defaultProps,{id:{configurable:!1,writable:!0,value:id}}),function addAsyncPropsToPropPrototype(defaultProps,propTypes){var defaultValues={},descriptors={_asyncPropDefaultValues:{enumerable:!1,value:defaultValues},_asyncPropOriginalValues:{enumerable:!1,value:{}}};for(var propName in propTypes){var propType=propTypes[propName],name=propType.name,value=propType.value;propType.async&&(defaultValues[name]=value,descriptors[name]=getDescriptorForAsyncProp(name))}Object.defineProperties(defaultProps,descriptors)}(defaultProps,propTypes),defaultProps}(componentPropDefs.defaultProps,parentPropDefs&&parentPropDefs.defaultProps,propTypes,componentClass);return componentClass._mergedDefaultProps=defaultProps,componentClass._propTypes=propTypes,{propTypes:propTypes,defaultProps:defaultProps}}(componentClass)}function getDescriptorForAsyncProp(name){return{configurable:!1,enumerable:!0,set:function set(newValue){"string"==typeof newValue||function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(newValue,Promise)?this._asyncPropOriginalValues[name]=newValue:this._asyncPropResolvedValues[name]=newValue},get:function get(){if(this._asyncPropResolvedValues){if(name in this._asyncPropResolvedValues){var value=this._asyncPropResolvedValues[name];return"data"===name?value||this._asyncPropDefaultValues[name]:value}var state=this._component&&this._component.internalState;if(state&&state.hasAsyncProp(name))return state.getAsyncProp(name)}return this._asyncPropDefaultValues[name]}}}function getOwnProperty(object,prop){return Object.prototype.hasOwnProperty.call(object,prop)&&object[prop]}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function parsePropTypes(propDefs){for(var propTypes={},defaultProps={},_arr=Object.entries(propDefs),_i=0;_i<_arr.length;_i++){var _arr$_i=(arr=_arr[_i],i=2,function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),propName=_arr$_i[0],propDef=_arr$_i[1],propType=parsePropType(propName,propDef);propTypes[propName]=propType,defaultProps[propName]=propType.value}var arr,i;return{propTypes:propTypes,defaultProps:defaultProps}};var __WEBPACK_IMPORTED_MODULE_0__utils_assert__=__webpack_require__(18);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var TYPE_DEFINITIONS={boolean:{validate:function validate(value,propType){return!0}},number:{validateType:function validateType(value,propType){return"value"in propType&&(!("max"in propType)||Number.isFinite(propType.max))&&(!("min"in propType)||Number.isFinite(propType.min))},validate:function validate(value,propType){return Number.isFinite(value)&&(!("max"in propType)||value<=propType.max)&&(!("min"in propType)||value>=propType.min)}}};function parsePropType(name,propDef){switch(getTypeOf(propDef)){case"object":return function parsePropDefinition(propDef){var type=propDef.type,typeValidator=(TYPE_DEFINITIONS[type]||{}).typeValidator;typeValidator&&Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(typeValidator(propDef),"Illegal prop type");return propDef}(propDef=function normalizePropDefinition(name,propDef){if(!("type"in propDef))return"value"in propDef?Object.assign({name:name,type:getTypeOf(propDef.value)},propDef):{name:name,type:"object",value:propDef};return Object.assign({name:name},propDef)}(name,propDef));case"array":return function guessArrayType(name,array){if(/color/i.test(name)&&(3===array.length||4===array.length))return{name:name,type:"color",value:array};return{name:name,type:"array",value:array}}(name,propDef);case"boolean":return{name:name,type:"boolean",value:propDef};case"number":return function guessNumberType(name,value){var max=/radius|scale|width|height|pixel|size|miter/i.test(name)&&/^((?!scale).)*$/.test(name)?100:1;return{name:name,type:"number",max:Math.max(value,max),min:Math.min(value,0),value:value}}(name,propDef);case"function":return{name:name,type:"function",value:propDef};default:return{name:name,type:"unknown",value:propDef}}}function getTypeOf(value){return Array.isArray(value)||ArrayBuffer.isView(value)?"array":null===value?"null":_typeof(value)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return LayerState});var __WEBPACK_IMPORTED_MODULE_0__lifecycle_component_state__=__webpack_require__(612);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var LayerState=function(_ComponentState){function LayerState(_ref){var _this,attributeManager=_ref.attributeManager,layer=_ref.layer;return _classCallCheck(this,LayerState),(_this=_possibleConstructorReturn(this,(LayerState.__proto__||Object.getPrototypeOf(LayerState)).call(this,layer))).attributeManager=attributeManager,_this.model=null,_this.needsRedraw=!0,_this.subLayers=null,_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(LayerState,__WEBPACK_IMPORTED_MODULE_0__lifecycle_component_state__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LayerState,[{key:"layer",get:function get(){return this.component},set:function set(layer){this.component=layer}}]),LayerState}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function pickObject(gl,_ref){for(var layers=_ref.layers,viewports=_ref.viewports,x=_ref.x,y=_ref.y,radius=_ref.radius,layerFilter=_ref.layerFilter,_ref$depth=_ref.depth,depth=void 0===_ref$depth?1:_ref$depth,mode=_ref.mode,onViewportActive=_ref.onViewportActive,pickingFBO=_ref.pickingFBO,lastPickedInfo=_ref.lastPickedInfo,useDevicePixels=_ref.useDevicePixels,pixelRatio=Object(__WEBPACK_IMPORTED_MODULE_0__draw_layers__.c)({useDevicePixels:useDevicePixels}),deviceX=Math.round(x*pixelRatio),deviceY=Math.round(gl.canvas.height-y*pixelRatio),deviceRadius=Math.round(radius*pixelRatio),deviceRect=function getPickingRect(_ref5){var deviceX=_ref5.deviceX,deviceY=_ref5.deviceY,deviceRadius=_ref5.deviceRadius,deviceWidth=_ref5.deviceWidth,deviceHeight=_ref5.deviceHeight;if(!(deviceX>=0&&deviceY>=0&&deviceX<deviceWidth&&deviceY<deviceHeight))return null;var x=Math.max(0,deviceX-deviceRadius),y=Math.max(0,deviceY-deviceRadius),width=Math.min(deviceWidth,deviceX+deviceRadius)-x+1,height=Math.min(deviceHeight,deviceY+deviceRadius)-y+1;return{x:x,y:y,width:width,height:height}}({deviceX:deviceX,deviceY:deviceY,deviceRadius:deviceRadius,deviceWidth:pickingFBO.width,deviceHeight:pickingFBO.height}),result=[],affectedLayers={},i=0;i<depth;i++){var pickedColors=deviceRect&&drawAndSamplePickingBuffer(gl,{layers:layers,viewports:viewports,onViewportActive:onViewportActive,useDevicePixels:useDevicePixels,pickingFBO:pickingFBO,deviceRect:deviceRect,layerFilter:layerFilter,redrawReason:mode}),pickInfo=pickedColors&&getClosestFromPickingBuffer(gl,{pickedColors:pickedColors,layers:layers,deviceX:deviceX,deviceY:deviceY,deviceRadius:deviceRadius,deviceRect:deviceRect})||NO_PICKED_OBJECT;if(pickInfo.pickedColor&&i+1<depth){var layerId=pickInfo.pickedColor[3]-1;affectedLayers[layerId]||(affectedLayers[layerId]=layers[layerId].copyPickingColors()),layers[layerId].clearPickingColor(pickInfo.pickedColor)}var processedPickInfos=processPickInfo({pickInfo:pickInfo,lastPickedInfo:lastPickedInfo,mode:mode,layers:layers,viewports:viewports,x:x,y:y,deviceX:deviceX,deviceY:deviceY,pixelRatio:pixelRatio});if(processedPickInfos&&processedPickInfos.forEach(function(info){return result.push(info)}),!pickInfo.pickedColor)break}return Object.keys(affectedLayers).forEach(function(layerId){return layers[layerId].restorePickingColors(affectedLayers[layerId])}),result},__webpack_exports__.b=function pickVisibleObjects(gl,_ref2){var layers=_ref2.layers,viewports=_ref2.viewports,x=_ref2.x,y=_ref2.y,width=_ref2.width,height=_ref2.height,mode=_ref2.mode,layerFilter=_ref2.layerFilter,onViewportActive=_ref2.onViewportActive,pickingFBO=_ref2.pickingFBO,useDevicePixels=_ref2.useDevicePixels,pixelRatio=Object(__WEBPACK_IMPORTED_MODULE_0__draw_layers__.c)({useDevicePixels:useDevicePixels}),deviceLeft=Math.round(x*pixelRatio),deviceBottom=Math.round(gl.canvas.height-y*pixelRatio),deviceRight=Math.round((x+width)*pixelRatio),deviceTop=Math.round(gl.canvas.height-(y+height)*pixelRatio),pickedColors=drawAndSamplePickingBuffer(gl,{layers:layers,viewports:viewports,onViewportActive:onViewportActive,pickingFBO:pickingFBO,useDevicePixels:useDevicePixels,deviceRect:{x:deviceLeft,y:deviceTop,width:deviceRight-deviceLeft,height:deviceBottom-deviceTop},layerFilter:layerFilter,redrawReason:mode}),pickInfos=function getUniquesFromPickingBuffer(gl,_ref8){var pickedColors=_ref8.pickedColors,layers=_ref8.layers,uniqueColors=new Map;if(pickedColors)for(var i=0;i<pickedColors.length;i+=4){var pickedLayerIndex=pickedColors[i+3]-1;if(pickedLayerIndex>=0){var pickedColor=pickedColors.slice(i,i+4),colorKey=pickedColor.join(",");if(!uniqueColors.has(colorKey)){var pickedLayer=layers[pickedLayerIndex];pickedLayer?uniqueColors.set(colorKey,{pickedColor:pickedColor,pickedLayer:pickedLayer,pickedObjectIndex:pickedLayer.decodePickingColor(pickedColor)}):__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(uniqueColors.values())}(0,{pickedColors:pickedColors,layers:layers}),uniqueInfos=new Map;return pickInfos.forEach(function(pickInfo){var info={color:pickInfo.pickedColor,layer:null,index:pickInfo.pickedObjectIndex,picked:!0,x:x,y:y,width:width,height:height,pixelRatio:pixelRatio};info=getLayerPickingInfo({layer:pickInfo.pickedLayer,info:info,mode:mode}),uniqueInfos.has(info.object)||uniqueInfos.set(info.object,info)}),Array.from(uniqueInfos.values())};var __WEBPACK_IMPORTED_MODULE_0__draw_layers__=__webpack_require__(613),__WEBPACK_IMPORTED_MODULE_1__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_2__utils_assert__=__webpack_require__(18),NO_PICKED_OBJECT={pickedColor:null,pickedLayer:null,pickedObjectIndex:-1};function drawAndSamplePickingBuffer(gl,_ref3){var layers=_ref3.layers,viewports=_ref3.viewports,onViewportActive=_ref3.onViewportActive,useDevicePixels=_ref3.useDevicePixels,pickingFBO=_ref3.pickingFBO,deviceRect=_ref3.deviceRect,layerFilter=_ref3.layerFilter,redrawReason=_ref3.redrawReason;if(Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(deviceRect),Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(Number.isFinite(deviceRect.width)&&deviceRect.width>0,"`width` must be > 0"),Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(Number.isFinite(deviceRect.height)&&deviceRect.height>0,"`height` must be > 0"),layers.filter(function(layer){return layer.isPickable()}).length<1)return null;Object(__WEBPACK_IMPORTED_MODULE_0__draw_layers__.b)(gl,{layers:layers,viewports:viewports,onViewportActive:onViewportActive,useDevicePixels:useDevicePixels,pickingFBO:pickingFBO,deviceRect:deviceRect,layerFilter:layerFilter,redrawReason:redrawReason});var x=deviceRect.x,y=deviceRect.y,width=deviceRect.width,height=deviceRect.height,pickedColors=new Uint8Array(width*height*4);return pickingFBO.readPixels({x:x,y:y,width:width,height:height,pixelArray:pickedColors}),pickedColors}function processPickInfo(_ref6){var pickInfo=_ref6.pickInfo,lastPickedInfo=_ref6.lastPickedInfo,mode=_ref6.mode,layers=_ref6.layers,viewports=_ref6.viewports,x=_ref6.x,y=_ref6.y,deviceX=_ref6.deviceX,deviceY=_ref6.deviceY,pixelRatio=_ref6.pixelRatio,pickedColor=pickInfo.pickedColor,pickedLayer=pickInfo.pickedLayer,pickedObjectIndex=pickInfo.pickedObjectIndex,affectedLayers=pickedLayer?[pickedLayer]:[];if("hover"===mode){var lastPickedObjectIndex=lastPickedInfo.index,lastPickedLayerId=lastPickedInfo.layerId,pickedLayerId=pickedLayer&&pickedLayer.props.id;if(pickedLayerId!==lastPickedLayerId||pickedObjectIndex!==lastPickedObjectIndex){if(pickedLayerId!==lastPickedLayerId){var lastPickedLayer=layers.find(function(layer){return layer.props.id===lastPickedLayerId});lastPickedLayer&&affectedLayers.unshift(lastPickedLayer)}lastPickedInfo.layerId=pickedLayerId,lastPickedInfo.index=pickedObjectIndex}}var baseInfo={color:null,layer:null,index:-1,picked:!1,x:x,y:y,pixel:[x,y],lngLat:function getViewportFromCoordinates(_ref4){return _ref4.viewports[0]}({viewports:viewports}).unproject([x,y]),devicePixel:[deviceX,deviceY],pixelRatio:pixelRatio},infos=new Map;return affectedLayers.forEach(function(layer){var info=Object.assign({},baseInfo);layer===pickedLayer&&(info.color=pickedColor,info.index=pickedObjectIndex,info.picked=!0),(info=getLayerPickingInfo({layer:layer,info:info,mode:mode}))&&infos.set(info.layer.id,info);var pickingParameters={pickingSelectedColor:layer.props.autoHighlight&&pickedLayer===layer?pickedColor:null},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=layer.getModels()[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){_step.value.updateModuleSettings(pickingParameters)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}),function callLayerPickingCallbacks(infos,mode){var unhandledPickInfos=[];return infos.forEach(function(info){var handled=!1;switch(mode){case"click":handled=info.layer.props.onClick(info);break;case"hover":handled=info.layer.props.onHover(info);break;case"query":break;default:throw new Error("unknown pick type")}handled||unhandledPickInfos.push(info)}),unhandledPickInfos}(infos,mode)}function getClosestFromPickingBuffer(gl,_ref7){var pickedColors=_ref7.pickedColors,layers=_ref7.layers,deviceX=_ref7.deviceX,deviceY=_ref7.deviceY,deviceRadius=_ref7.deviceRadius,deviceRect=_ref7.deviceRect;Object(__WEBPACK_IMPORTED_MODULE_2__utils_assert__.a)(pickedColors);for(var x=deviceRect.x,y=deviceRect.y,width=deviceRect.width,height=deviceRect.height,minSquareDistanceToCenter=deviceRadius*deviceRadius,closestPixelIndex=-1,i=0,row=0;row<height;row++){var dy=row+y-deviceY,dy2=dy*dy;if(dy2>minSquareDistanceToCenter)i+=4*width;else for(var col=0;col<width;col++){if(pickedColors[i+3]-1>=0){var dx=col+x-deviceX,d2=dx*dx+dy2;d2<=minSquareDistanceToCenter&&(minSquareDistanceToCenter=d2,closestPixelIndex=i)}i+=4}}if(closestPixelIndex>=0){var _pickedLayerIndex=pickedColors[closestPixelIndex+3]-1,pickedColor=pickedColors.slice(closestPixelIndex,closestPixelIndex+4),pickedLayer=layers[_pickedLayerIndex];if(pickedLayer)return{pickedColor:pickedColor,pickedLayer:pickedLayer,pickedObjectIndex:pickedLayer.decodePickingColor(pickedColor)};__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.error("Picked non-existent layer. Is picking buffer corrupt?")()}return NO_PICKED_OBJECT}function getLayerPickingInfo(_ref9){for(var layer=_ref9.layer,info=_ref9.info,mode=_ref9.mode;layer&&info;){var sourceLayer=info.layer||layer;info.layer=layer,info=layer.pickLayer({info:info,mode:mode,sourceLayer:sourceLayer}),layer=layer.parent}return info}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ViewManager});var __WEBPACK_IMPORTED_MODULE_0__utils_assert__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_1__utils_deep_equal__=__webpack_require__(614),__WEBPACK_IMPORTED_MODULE_2__views_view__=__webpack_require__(101),__WEBPACK_IMPORTED_MODULE_3__viewports_viewport__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_4__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_5__utils_flatten__=__webpack_require__(227);function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var INITIAL_VIEW_STATE={latitude:0,longitude:0,zoom:1},ViewManager=function(){function ViewManager(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function")}(this,ViewManager),this.views=[],this.width=100,this.height=100,this.viewState=INITIAL_VIEW_STATE,this._viewports=[],this._needsRedraw="Initial render",this._needsUpdate=!0,Object.seal(this),this.setProps(props)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ViewManager,[{key:"finalize",value:function finalize(){}},{key:"needsRedraw",value:function needsRedraw(){var _ref$clearRedrawFlags=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).clearRedrawFlags,clearRedrawFlags=void 0===_ref$clearRedrawFlags||_ref$clearRedrawFlags,redraw=this._needsRedraw;return clearRedrawFlags&&(this._needsRedraw=!1),redraw}},{key:"setNeedsRedraw",value:function setNeedsRedraw(reason){this._needsRedraw=this._needsRedraw||reason}},{key:"setNeedsUpdate",value:function setNeedsUpdate(reason){this._needsUpdate=this._needsUpdate||reason,this._needsRedraw=this._needsRedraw||reason}},{key:"getViewports",value:function getViewports(){return this._rebuildViewportsFromViews(),this._viewports}},{key:"project",value:function project(xyz){for(var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{topLeft:!0},viewports=this.getViewports(),i=viewports.length-1;i>=0;--i){var viewport=viewports[i];if(viewport.contains(xyz,opts))return viewport.project(xyz,opts)}return null}},{key:"unproject",value:function unproject(xyz,opts){for(var viewports=this.getViewports(),i=viewports.length-1;i>=0;--i){var viewport=viewports[i];if(viewport.containsPixel(xyz,opts))return viewport.unproject(xyz)}return null}},{key:"setProps",value:function setProps(props){"views"in props&&this.setViews(props.views),"viewState"in props&&this.setViewState(props.viewState),("width"in props||"height"in props)&&this.setSize(props.width,props.height),"useDevicePixels"in props&&(this.context.useDevicePixels=props.useDevicePixels)}},{key:"setSize",value:function setSize(width,height){Object(__WEBPACK_IMPORTED_MODULE_0__utils_assert__.a)(Number.isFinite(width)&&Number.isFinite(height)),width===this.width&&height===this.height||(this.width=width,this.height=height,this.setNeedsUpdate("Size changed"))}},{key:"setViews",value:function setViews(views){views=Object(__WEBPACK_IMPORTED_MODULE_5__utils_flatten__.b)(views,{filter:Boolean}).map(function(view){return _instanceof(view,__WEBPACK_IMPORTED_MODULE_3__viewports_viewport__.a)?new __WEBPACK_IMPORTED_MODULE_2__views_view__.a({viewportInstance:view}):view}),this._diffViews(views,this.views)&&this.setNeedsUpdate("views changed"),this.views=views}},{key:"setViewState",value:function setViewState(viewState){viewState?(Object(__WEBPACK_IMPORTED_MODULE_1__utils_deep_equal__.a)(viewState,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=viewState):__WEBPACK_IMPORTED_MODULE_4__utils_log__.a.warn("setting null viewState")()}},{key:"_rebuildViewportsFromViews",value:function _rebuildViewportsFromViews(){if(this._needsUpdate){var width=this.width,height=this.height,views=this.views,viewState=this.viewState;this._viewports=views.map(function(view){return view.makeViewport({width:width,height:height,viewState:viewState})}),this._needsUpdate=!1}}},{key:"_diffViews",value:function _diffViews(newViews,oldViews){return newViews.length!==oldViews.length||newViews.some(function(_,i){return!newViews[i].equals(oldViews[i])})}}]),ViewManager}()},function(module,exports){module.exports=function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out[3]=a[3]*b[3],out}},function(module,__webpack_exports__,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}__webpack_exports__.b=function parsePosition(value){switch(_typeof(value)){case"number":return{position:value,relative:!1};case"string":var match=value.match(PERCENT_OR_PIXELS_REGEX);if(match&&match.length>=3){var relative="%"===match[2],position=parseFloat(match[1]);return{position:relative?position/100:position,relative:relative}}default:throw new Error("Could not parse position string ".concat(value))}},__webpack_exports__.a=function getPosition(position,extent){return position.relative?Math.round(position.position*extent):position.position};var PERCENT_OR_PIXELS_REGEX=/([0-9]+\.?[0-9]*)(%|px)/},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__utils_hammer__=__webpack_require__(617),__WEBPACK_IMPORTED_MODULE_1__inputs_wheel_input__=__webpack_require__(1033),__WEBPACK_IMPORTED_MODULE_2__inputs_move_input__=__webpack_require__(1034),__WEBPACK_IMPORTED_MODULE_3__inputs_key_input__=__webpack_require__(1035),__WEBPACK_IMPORTED_MODULE_4__inputs_contextmenu_input__=__webpack_require__(1036),__WEBPACK_IMPORTED_MODULE_5__constants__=__webpack_require__(268),__WEBPACK_IMPORTED_MODULE_6__utils_event_utils__=__webpack_require__(1037),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var DEFAULT_OPTIONS={events:null,recognizers:null,Manager:__WEBPACK_IMPORTED_MODULE_0__utils_hammer__.a,rightButton:!1,touchAction:"none",legacyBlockScroll:!0},EventManager=function(){function EventManager(){var element=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EventManager),this.options=Object.assign({},DEFAULT_OPTIONS,options),this.eventHandlers=[],this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(element);var events=options.events;events&&this.on(events)}return _createClass(EventManager,[{key:"setElement",value:function setElement(element){var _this=this;if(this.element&&this.destroy(),this.element=element,element){var options=this.options,ManagerClass=options.Manager;this.manager=new ManagerClass(element,{touchAction:options.touchAction,recognizers:options.recognizers||__WEBPACK_IMPORTED_MODULE_5__constants__.e}).on("hammer.input",this._onBasicInput),options.recognizers||Object.keys(__WEBPACK_IMPORTED_MODULE_5__constants__.f).forEach(function(name){var recognizer=_this.manager.get(name);recognizer&&__WEBPACK_IMPORTED_MODULE_5__constants__.f[name].forEach(function(otherName){recognizer.recognizeWith(otherName)})}),this.wheelInput=new __WEBPACK_IMPORTED_MODULE_1__inputs_wheel_input__.a(element,this._onOtherEvent,{enable:!1,legacyBlockScroll:options.legacyBlockScroll}),this.moveInput=new __WEBPACK_IMPORTED_MODULE_2__inputs_move_input__.a(element,this._onOtherEvent,{enable:!1}),this.keyInput=new __WEBPACK_IMPORTED_MODULE_3__inputs_key_input__.a(element,this._onOtherEvent,{enable:!1}),this.contextmenuInput=new __WEBPACK_IMPORTED_MODULE_4__inputs_contextmenu_input__.a(element,this._onOtherEvent,{rightButton:options.rightButton}),this.eventHandlers.forEach(function(_ref){var recognizerName=_ref.recognizerName,eventAlias=_ref.eventAlias,wrappedHandler=_ref.wrappedHandler;_this._toggleRecognizer(recognizerName,!0),_this.manager.on(eventAlias,wrappedHandler)})}}},{key:"destroy",value:function destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function on(event,handler,srcElement){if("string"==typeof event)this._addEventHandler(event,handler,srcElement);else for(var eventName in srcElement=handler,event)this._addEventHandler(eventName,event[eventName],srcElement)}},{key:"off",value:function off(event,handler){if("string"==typeof event)this._removeEventHandler(event,handler);else for(var eventName in event)this._removeEventHandler(eventName,event[eventName])}},{key:"_toggleRecognizer",value:function _toggleRecognizer(name,enabled){var manager=this.manager;if(manager){var recognizer=manager.get(name);if(recognizer){recognizer.set({enable:enabled});var fallbackRecognizers=__WEBPACK_IMPORTED_MODULE_5__constants__.g[name];fallbackRecognizers&&!this.options.recognizers&&fallbackRecognizers.forEach(function(otherName){var otherRecognizer=manager.get(otherName);enabled?otherRecognizer.requireFailure(name):otherRecognizer.dropRequireFailure(name)})}this.wheelInput.enableEventType(name,enabled),this.moveInput.enableEventType(name,enabled),this.keyInput.enableEventType(name,enabled)}}},{key:"_addEventHandler",value:function _addEventHandler(event,handler){var srcElement=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,manager=this.manager,eventHandlers=this.eventHandlers,wrappedHandler=this._wrapEventHandler(event,handler,srcElement),eventAlias=__WEBPACK_IMPORTED_MODULE_5__constants__.c[event]||event,recognizerName=__WEBPACK_IMPORTED_MODULE_5__constants__.b[eventAlias]||eventAlias;this._toggleRecognizer(recognizerName,!0);var ancestorEventHandlers=eventHandlers.filter(function(entry){return entry.eventAlias===eventAlias&&entry.srcElement!==srcElement&&(!entry.srcElement||entry.srcElement.contains(srcElement))});eventHandlers.push({event:event,eventAlias:eventAlias,recognizerName:recognizerName,srcElement:srcElement,handler:handler,wrappedHandler:wrappedHandler}),ancestorEventHandlers.forEach(function(entry){return manager.off(eventAlias,entry.wrappedHandler)}),manager&&manager.on(eventAlias,wrappedHandler),ancestorEventHandlers.forEach(function(entry){return manager.on(eventAlias,entry.wrappedHandler)})}},{key:"_removeEventHandler",value:function _removeEventHandler(event,handler){for(var manager=this.manager,eventHandlers=this.eventHandlers,eventHandlerRemoved=!1,i=eventHandlers.length;i--;){var entry=eventHandlers[i];entry.event===event&&entry.handler===handler&&(manager&&manager.off(entry.eventAlias,entry.wrappedHandler),eventHandlers.splice(i,1),eventHandlerRemoved=!0)}if(eventHandlerRemoved){var eventAlias=__WEBPACK_IMPORTED_MODULE_5__constants__.c[event]||event,recognizerName=__WEBPACK_IMPORTED_MODULE_5__constants__.b[eventAlias]||eventAlias;eventHandlers.find(function(entry){return entry.recognizerName===recognizerName})||this._toggleRecognizer(recognizerName,!1)}}},{key:"_wrapEventHandler",value:function _wrapEventHandler(type,handler,srcElement){var _this2=this;return function(event){var mjolnirEvent=event.mjolnirEvent;(mjolnirEvent||(mjolnirEvent=_this2._normalizeEvent(event),event.mjolnirEvent=mjolnirEvent),mjolnirEvent.handled&&mjolnirEvent.handled!==srcElement)||(!srcElement||srcElement.contains(event.srcEvent.target))&&handler(Object.assign({},mjolnirEvent,{type:type,stopPropagation:function stopPropagation(){mjolnirEvent.handled||(mjolnirEvent.handled=srcElement)}}))}}},{key:"_normalizeEvent",value:function _normalizeEvent(event){var element=this.element;return Object.assign({},event,Object(__WEBPACK_IMPORTED_MODULE_6__utils_event_utils__.b)(event),Object(__WEBPACK_IMPORTED_MODULE_6__utils_event_utils__.a)(event,element),{handled:!1,rootElement:element})}},{key:"_onBasicInput",value:function _onBasicInput(event){var srcEvent=event.srcEvent,alias=__WEBPACK_IMPORTED_MODULE_5__constants__.a[srcEvent.type];alias&&this.manager.emit(alias,event)}},{key:"_onOtherEvent",value:function _onOtherEvent(event){this.manager.emit(event.type,event)}}]),EventManager}();__webpack_exports__.a=EventManager},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),function(process){__webpack_require__.d(__webpack_exports__,"isBrowserMainThread",function(){return isBrowserMainThread});var __WEBPACK_IMPORTED_MODULE_0__is_electron__=__webpack_require__(1030),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},isBrowser=!("object"===(void 0===process?"undefined":_typeof(process))&&"[object process]"===String(process)&&!process.browser)||__WEBPACK_IMPORTED_MODULE_0__is_electron__.a,isBrowserMainThread=isBrowser&&"undefined"!=typeof document;__webpack_exports__.default=isBrowser}.call(__webpack_exports__,__webpack_require__(61))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(process){var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};__webpack_exports__.a=function isElectron(){return"undefined"!=typeof window&&"object"===_typeof(window.process)&&"renderer"===window.process.type||!(void 0===process||"object"!==_typeof(process.versions)||!Boolean(process.versions.electron))||"object"===("undefined"==typeof navigator?"undefined":_typeof(navigator))&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}()}).call(__webpack_exports__,__webpack_require__(61))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=function enhancePointerEventInput(PointerEventInput){var oldHandler=PointerEventInput.prototype.handler;PointerEventInput.prototype.handler=function handler(ev){var store=this.store;ev.button>0&&(function some(array,predict){for(var i=0;i<array.length;i++)if(predict(array[i]))return!0;return!1}(store,function(e){return e.pointerId===ev.pointerId})||store.push(ev)),oldHandler.call(this,ev)}},__webpack_exports__.a=function enhanceMouseInput(MouseInput){MouseInput.prototype.handler=function handler(ev){var eventType=MOUSE_INPUT_MAP[ev.type];eventType&INPUT_START&&ev.button>=0&&(this.pressed=!0),eventType&INPUT_MOVE&&0===ev.which&&(eventType=INPUT_END),this.pressed&&(eventType&INPUT_END&&(this.pressed=!1),this.callback(this.manager,eventType,{pointers:[ev],changedPointers:[ev],pointerType:"mouse",srcEvent:ev}))}};var INPUT_START=1,INPUT_MOVE=2,INPUT_END=4,MOUSE_INPUT_MAP={mousedown:INPUT_START,mousemove:INPUT_MOVE,mouseup:INPUT_END}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(window,document,exportName,undefined){"use strict";var assign,VENDOR_PREFIXES=["","webkit","Moz","MS","ms","o"],TEST_ELEMENT=document.createElement("div"),TYPE_FUNCTION="function",round=Math.round,abs=Math.abs,now=Date.now;function setTimeoutContext(fn,timeout,context){return setTimeout(bindFn(fn,context),timeout)}function invokeArrayArg(arg,fn,context){return!!Array.isArray(arg)&&(each(arg,context[fn],context),!0)}function each(obj,iterator,context){var i;if(obj)if(obj.forEach)obj.forEach(iterator,context);else if(obj.length!==undefined)for(i=0;i<obj.length;)iterator.call(context,obj[i],i,obj),i++;else for(i in obj)obj.hasOwnProperty(i)&&iterator.call(context,obj[i],i,obj)}function deprecate(method,name,message){var deprecationMessage="DEPRECATED METHOD: "+name+"\n"+message+" AT \n";return function(){var e=new Error("get-stack-trace"),stack=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",log=window.console&&(window.console.warn||window.console.log);return log&&log.call(window.console,deprecationMessage,stack),method.apply(this,arguments)}}assign="function"!=typeof Object.assign?function assign(target){if(target===undefined||null===target)throw new TypeError("Cannot convert undefined or null to object");for(var output=Object(target),index=1;index<arguments.length;index++){var source=arguments[index];if(source!==undefined&&null!==source)for(var nextKey in source)source.hasOwnProperty(nextKey)&&(output[nextKey]=source[nextKey])}return output}:Object.assign;var extend=deprecate(function extend(dest,src,merge){for(var keys=Object.keys(src),i=0;i<keys.length;)(!merge||merge&&dest[keys[i]]===undefined)&&(dest[keys[i]]=src[keys[i]]),i++;return dest},"extend","Use `assign`."),merge=deprecate(function merge(dest,src){return extend(dest,src,!0)},"merge","Use `assign`.");function inherit(child,base,properties){var childP,baseP=base.prototype;(childP=child.prototype=Object.create(baseP)).constructor=child,childP._super=baseP,properties&&assign(childP,properties)}function bindFn(fn,context){return function boundFn(){return fn.apply(context,arguments)}}function boolOrFn(val,args){return typeof val==TYPE_FUNCTION?val.apply(args&&args[0]||undefined,args):val}function ifUndefined(val1,val2){return val1===undefined?val2:val1}function addEventListeners(target,types,handler){each(splitStr(types),function(type){target.addEventListener(type,handler,!1)})}function removeEventListeners(target,types,handler){each(splitStr(types),function(type){target.removeEventListener(type,handler,!1)})}function hasParent(node,parent){for(;node;){if(node==parent)return!0;node=node.parentNode}return!1}function inStr(str,find){return str.indexOf(find)>-1}function splitStr(str){return str.trim().split(/\s+/g)}function inArray(src,find,findByKey){if(src.indexOf&&!findByKey)return src.indexOf(find);for(var i=0;i<src.length;){if(findByKey&&src[i][findByKey]==find||!findByKey&&src[i]===find)return i;i++}return-1}function toArray(obj){return Array.prototype.slice.call(obj,0)}function uniqueArray(src,key,sort){for(var results=[],values=[],i=0;i<src.length;){var val=key?src[i][key]:src[i];inArray(values,val)<0&&results.push(src[i]),values[i]=val,i++}return sort&&(results=key?results.sort(function sortUniqueArray(a,b){return a[key]>b[key]}):results.sort()),results}function prefixed(obj,property){for(var prefix,prop,camelProp=property[0].toUpperCase()+property.slice(1),i=0;i<VENDOR_PREFIXES.length;){if((prop=(prefix=VENDOR_PREFIXES[i])?prefix+camelProp:property)in obj)return prop;i++}return undefined}var _uniqueId=1;function getWindowForElement(element){var doc=element.ownerDocument||element;return doc.defaultView||doc.parentWindow||window}var SUPPORT_TOUCH="ontouchstart"in window,SUPPORT_POINTER_EVENTS=prefixed(window,"PointerEvent")!==undefined,SUPPORT_ONLY_TOUCH=SUPPORT_TOUCH&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),COMPUTE_INTERVAL=25,INPUT_START=1,INPUT_MOVE=2,INPUT_END=4,INPUT_CANCEL=8,DIRECTION_NONE=1,DIRECTION_LEFT=2,DIRECTION_RIGHT=4,DIRECTION_UP=8,DIRECTION_DOWN=16,DIRECTION_HORIZONTAL=DIRECTION_LEFT|DIRECTION_RIGHT,DIRECTION_VERTICAL=DIRECTION_UP|DIRECTION_DOWN,DIRECTION_ALL=DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,PROPS_XY=["x","y"],PROPS_CLIENT_XY=["clientX","clientY"];function Input(manager,callback){var self=this;this.manager=manager,this.callback=callback,this.element=manager.element,this.target=manager.options.inputTarget,this.domHandler=function(ev){boolOrFn(manager.options.enable,[manager])&&self.handler(ev)},this.init()}function inputHandler(manager,eventType,input){var pointersLen=input.pointers.length,changedPointersLen=input.changedPointers.length,isFirst=eventType&INPUT_START&&pointersLen-changedPointersLen==0,isFinal=eventType&(INPUT_END|INPUT_CANCEL)&&pointersLen-changedPointersLen==0;input.isFirst=!!isFirst,input.isFinal=!!isFinal,isFirst&&(manager.session={}),input.eventType=eventType,function computeInputData(manager,input){var session=manager.session,pointers=input.pointers,pointersLength=pointers.length;session.firstInput||(session.firstInput=simpleCloneInputData(input));pointersLength>1&&!session.firstMultiple?session.firstMultiple=simpleCloneInputData(input):1===pointersLength&&(session.firstMultiple=!1);var firstInput=session.firstInput,firstMultiple=session.firstMultiple,offsetCenter=firstMultiple?firstMultiple.center:firstInput.center,center=input.center=getCenter(pointers);input.timeStamp=now(),input.deltaTime=input.timeStamp-firstInput.timeStamp,input.angle=getAngle(offsetCenter,center),input.distance=getDistance(offsetCenter,center),function computeDeltaXY(session,input){var center=input.center,offset=session.offsetDelta||{},prevDelta=session.prevDelta||{},prevInput=session.prevInput||{};input.eventType!==INPUT_START&&prevInput.eventType!==INPUT_END||(prevDelta=session.prevDelta={x:prevInput.deltaX||0,y:prevInput.deltaY||0},offset=session.offsetDelta={x:center.x,y:center.y});input.deltaX=prevDelta.x+(center.x-offset.x),input.deltaY=prevDelta.y+(center.y-offset.y)}(session,input),input.offsetDirection=getDirection(input.deltaX,input.deltaY);var overallVelocity=getVelocity(input.deltaTime,input.deltaX,input.deltaY);input.overallVelocityX=overallVelocity.x,input.overallVelocityY=overallVelocity.y,input.overallVelocity=abs(overallVelocity.x)>abs(overallVelocity.y)?overallVelocity.x:overallVelocity.y,input.scale=firstMultiple?function getScale(start,end){return getDistance(end[0],end[1],PROPS_CLIENT_XY)/getDistance(start[0],start[1],PROPS_CLIENT_XY)}(firstMultiple.pointers,pointers):1,input.rotation=firstMultiple?function getRotation(start,end){return getAngle(end[1],end[0],PROPS_CLIENT_XY)+getAngle(start[1],start[0],PROPS_CLIENT_XY)}(firstMultiple.pointers,pointers):0,input.maxPointers=session.prevInput?input.pointers.length>session.prevInput.maxPointers?input.pointers.length:session.prevInput.maxPointers:input.pointers.length,function computeIntervalInputData(session,input){var velocity,velocityX,velocityY,direction,last=session.lastInterval||input,deltaTime=input.timeStamp-last.timeStamp;if(input.eventType!=INPUT_CANCEL&&(deltaTime>COMPUTE_INTERVAL||last.velocity===undefined)){var deltaX=input.deltaX-last.deltaX,deltaY=input.deltaY-last.deltaY,v=getVelocity(deltaTime,deltaX,deltaY);velocityX=v.x,velocityY=v.y,velocity=abs(v.x)>abs(v.y)?v.x:v.y,direction=getDirection(deltaX,deltaY),session.lastInterval=input}else velocity=last.velocity,velocityX=last.velocityX,velocityY=last.velocityY,direction=last.direction;input.velocity=velocity,input.velocityX=velocityX,input.velocityY=velocityY,input.direction=direction}(session,input);var target=manager.element;hasParent(input.srcEvent.target,target)&&(target=input.srcEvent.target);input.target=target}(manager,input),manager.emit("hammer.input",input),manager.recognize(input),manager.session.prevInput=input}function simpleCloneInputData(input){for(var pointers=[],i=0;i<input.pointers.length;)pointers[i]={clientX:round(input.pointers[i].clientX),clientY:round(input.pointers[i].clientY)},i++;return{timeStamp:now(),pointers:pointers,center:getCenter(pointers),deltaX:input.deltaX,deltaY:input.deltaY}}function getCenter(pointers){var pointersLength=pointers.length;if(1===pointersLength)return{x:round(pointers[0].clientX),y:round(pointers[0].clientY)};for(var x=0,y=0,i=0;i<pointersLength;)x+=pointers[i].clientX,y+=pointers[i].clientY,i++;return{x:round(x/pointersLength),y:round(y/pointersLength)}}function getVelocity(deltaTime,x,y){return{x:x/deltaTime||0,y:y/deltaTime||0}}function getDirection(x,y){return x===y?DIRECTION_NONE:abs(x)>=abs(y)?x<0?DIRECTION_LEFT:DIRECTION_RIGHT:y<0?DIRECTION_UP:DIRECTION_DOWN}function getDistance(p1,p2,props){props||(props=PROPS_XY);var x=p2[props[0]]-p1[props[0]],y=p2[props[1]]-p1[props[1]];return Math.sqrt(x*x+y*y)}function getAngle(p1,p2,props){props||(props=PROPS_XY);var x=p2[props[0]]-p1[props[0]],y=p2[props[1]]-p1[props[1]];return 180*Math.atan2(y,x)/Math.PI}Input.prototype={handler:function(){},init:function(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)}};var MOUSE_INPUT_MAP={mousedown:INPUT_START,mousemove:INPUT_MOVE,mouseup:INPUT_END},MOUSE_ELEMENT_EVENTS="mousedown",MOUSE_WINDOW_EVENTS="mousemove mouseup";function MouseInput(){this.evEl=MOUSE_ELEMENT_EVENTS,this.evWin=MOUSE_WINDOW_EVENTS,this.pressed=!1,Input.apply(this,arguments)}inherit(MouseInput,Input,{handler:function MEhandler(ev){var eventType=MOUSE_INPUT_MAP[ev.type];eventType&INPUT_START&&0===ev.button&&(this.pressed=!0),eventType&INPUT_MOVE&&1!==ev.which&&(eventType=INPUT_END),this.pressed&&(eventType&INPUT_END&&(this.pressed=!1),this.callback(this.manager,eventType,{pointers:[ev],changedPointers:[ev],pointerType:"mouse",srcEvent:ev}))}});var POINTER_INPUT_MAP={pointerdown:INPUT_START,pointermove:INPUT_MOVE,pointerup:INPUT_END,pointercancel:INPUT_CANCEL,pointerout:INPUT_CANCEL},IE10_POINTER_TYPE_ENUM={2:"touch",3:"pen",4:"mouse",5:"kinect"},POINTER_ELEMENT_EVENTS="pointerdown",POINTER_WINDOW_EVENTS="pointermove pointerup pointercancel";function PointerEventInput(){this.evEl=POINTER_ELEMENT_EVENTS,this.evWin=POINTER_WINDOW_EVENTS,Input.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}window.MSPointerEvent&&!window.PointerEvent&&(POINTER_ELEMENT_EVENTS="MSPointerDown",POINTER_WINDOW_EVENTS="MSPointerMove MSPointerUp MSPointerCancel"),inherit(PointerEventInput,Input,{handler:function PEhandler(ev){var store=this.store,removePointer=!1,eventTypeNormalized=ev.type.toLowerCase().replace("ms",""),eventType=POINTER_INPUT_MAP[eventTypeNormalized],pointerType=IE10_POINTER_TYPE_ENUM[ev.pointerType]||ev.pointerType,isTouch="touch"==pointerType,storeIndex=inArray(store,ev.pointerId,"pointerId");eventType&INPUT_START&&(0===ev.button||isTouch)?storeIndex<0&&(store.push(ev),storeIndex=store.length-1):eventType&(INPUT_END|INPUT_CANCEL)&&(removePointer=!0),storeIndex<0||(store[storeIndex]=ev,this.callback(this.manager,eventType,{pointers:store,changedPointers:[ev],pointerType:pointerType,srcEvent:ev}),removePointer&&store.splice(storeIndex,1))}});var SINGLE_TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL},SINGLE_TOUCH_TARGET_EVENTS="touchstart",SINGLE_TOUCH_WINDOW_EVENTS="touchstart touchmove touchend touchcancel";function SingleTouchInput(){this.evTarget=SINGLE_TOUCH_TARGET_EVENTS,this.evWin=SINGLE_TOUCH_WINDOW_EVENTS,this.started=!1,Input.apply(this,arguments)}inherit(SingleTouchInput,Input,{handler:function TEhandler(ev){var type=SINGLE_TOUCH_INPUT_MAP[ev.type];if(type===INPUT_START&&(this.started=!0),this.started){var touches=function normalizeSingleTouches(ev,type){var all=toArray(ev.touches),changed=toArray(ev.changedTouches);type&(INPUT_END|INPUT_CANCEL)&&(all=uniqueArray(all.concat(changed),"identifier",!0));return[all,changed]}.call(this,ev,type);type&(INPUT_END|INPUT_CANCEL)&&touches[0].length-touches[1].length==0&&(this.started=!1),this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:"touch",srcEvent:ev})}}});var TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL},TOUCH_TARGET_EVENTS="touchstart touchmove touchend touchcancel";function TouchInput(){this.evTarget=TOUCH_TARGET_EVENTS,this.targetIds={},Input.apply(this,arguments)}inherit(TouchInput,Input,{handler:function MTEhandler(ev){var type=TOUCH_INPUT_MAP[ev.type],touches=function getTouches(ev,type){var allTouches=toArray(ev.touches),targetIds=this.targetIds;if(type&(INPUT_START|INPUT_MOVE)&&1===allTouches.length)return targetIds[allTouches[0].identifier]=!0,[allTouches,allTouches];var i,targetTouches,changedTouches=toArray(ev.changedTouches),changedTargetTouches=[],target=this.target;if(targetTouches=allTouches.filter(function(touch){return hasParent(touch.target,target)}),type===INPUT_START)for(i=0;i<targetTouches.length;)targetIds[targetTouches[i].identifier]=!0,i++;i=0;for(;i<changedTouches.length;)targetIds[changedTouches[i].identifier]&&changedTargetTouches.push(changedTouches[i]),type&(INPUT_END|INPUT_CANCEL)&&delete targetIds[changedTouches[i].identifier],i++;if(!changedTargetTouches.length)return;return[uniqueArray(targetTouches.concat(changedTargetTouches),"identifier",!0),changedTargetTouches]}.call(this,ev,type);touches&&this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:"touch",srcEvent:ev})}});var DEDUP_TIMEOUT=2500,DEDUP_DISTANCE=25;function TouchMouseInput(){Input.apply(this,arguments);var handler=bindFn(this.handler,this);this.touch=new TouchInput(this.manager,handler),this.mouse=new MouseInput(this.manager,handler),this.primaryTouch=null,this.lastTouches=[]}function setLastTouch(eventData){var touch=eventData.changedPointers[0];if(touch.identifier===this.primaryTouch){var lastTouch={x:touch.clientX,y:touch.clientY};this.lastTouches.push(lastTouch);var lts=this.lastTouches;setTimeout(function(){var i=lts.indexOf(lastTouch);i>-1&&lts.splice(i,1)},DEDUP_TIMEOUT)}}inherit(TouchMouseInput,Input,{handler:function TMEhandler(manager,inputEvent,inputData){var isTouch="touch"==inputData.pointerType,isMouse="mouse"==inputData.pointerType;if(!(isMouse&&inputData.sourceCapabilities&&inputData.sourceCapabilities.firesTouchEvents)){if(isTouch)(function recordTouches(eventType,eventData){eventType&INPUT_START?(this.primaryTouch=eventData.changedPointers[0].identifier,setLastTouch.call(this,eventData)):eventType&(INPUT_END|INPUT_CANCEL)&&setLastTouch.call(this,eventData)}).call(this,inputEvent,inputData);else if(isMouse&&function isSyntheticEvent(eventData){for(var x=eventData.srcEvent.clientX,y=eventData.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var t=this.lastTouches[i],dx=Math.abs(x-t.x),dy=Math.abs(y-t.y);if(dx<=DEDUP_DISTANCE&&dy<=DEDUP_DISTANCE)return!0}return!1}.call(this,inputData))return;this.callback(manager,inputEvent,inputData)}},destroy:function destroy(){this.touch.destroy(),this.mouse.destroy()}});var PREFIXED_TOUCH_ACTION=prefixed(TEST_ELEMENT.style,"touchAction"),NATIVE_TOUCH_ACTION=PREFIXED_TOUCH_ACTION!==undefined,TOUCH_ACTION_AUTO="auto",TOUCH_ACTION_MANIPULATION="manipulation",TOUCH_ACTION_NONE="none",TOUCH_ACTION_PAN_X="pan-x",TOUCH_ACTION_PAN_Y="pan-y",TOUCH_ACTION_MAP=function getTouchActionProps(){if(!NATIVE_TOUCH_ACTION)return!1;var touchMap={},cssSupports=window.CSS&&window.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(val){touchMap[val]=!cssSupports||window.CSS.supports("touch-action",val)}),touchMap}();function TouchAction(manager,value){this.manager=manager,this.set(value)}TouchAction.prototype={set:function(value){"compute"==value&&(value=this.compute()),NATIVE_TOUCH_ACTION&&this.manager.element.style&&TOUCH_ACTION_MAP[value]&&(this.manager.element.style[PREFIXED_TOUCH_ACTION]=value),this.actions=value.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var actions=[];return each(this.manager.recognizers,function(recognizer){boolOrFn(recognizer.options.enable,[recognizer])&&(actions=actions.concat(recognizer.getTouchAction()))}),function cleanTouchActions(actions){if(inStr(actions,TOUCH_ACTION_NONE))return TOUCH_ACTION_NONE;var hasPanX=inStr(actions,TOUCH_ACTION_PAN_X),hasPanY=inStr(actions,TOUCH_ACTION_PAN_Y);if(hasPanX&&hasPanY)return TOUCH_ACTION_NONE;if(hasPanX||hasPanY)return hasPanX?TOUCH_ACTION_PAN_X:TOUCH_ACTION_PAN_Y;if(inStr(actions,TOUCH_ACTION_MANIPULATION))return TOUCH_ACTION_MANIPULATION;return TOUCH_ACTION_AUTO}(actions.join(" "))},preventDefaults:function(input){var srcEvent=input.srcEvent,direction=input.offsetDirection;if(this.manager.session.prevented)srcEvent.preventDefault();else{var actions=this.actions,hasNone=inStr(actions,TOUCH_ACTION_NONE)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_NONE],hasPanY=inStr(actions,TOUCH_ACTION_PAN_Y)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y],hasPanX=inStr(actions,TOUCH_ACTION_PAN_X)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];if(hasNone){var isTapPointer=1===input.pointers.length,isTapMovement=input.distance<2,isTapTouchTime=input.deltaTime<250;if(isTapPointer&&isTapMovement&&isTapTouchTime)return}if(!hasPanX||!hasPanY)return hasNone||hasPanY&&direction&DIRECTION_HORIZONTAL||hasPanX&&direction&DIRECTION_VERTICAL?this.preventSrc(srcEvent):void 0}},preventSrc:function(srcEvent){this.manager.session.prevented=!0,srcEvent.preventDefault()}};var STATE_POSSIBLE=1,STATE_BEGAN=2,STATE_CHANGED=4,STATE_ENDED=8,STATE_RECOGNIZED=STATE_ENDED,STATE_CANCELLED=16;function Recognizer(options){this.options=assign({},this.defaults,options||{}),this.id=function uniqueId(){return _uniqueId++}(),this.manager=null,this.options.enable=ifUndefined(this.options.enable,!0),this.state=STATE_POSSIBLE,this.simultaneous={},this.requireFail=[]}function stateStr(state){return state&STATE_CANCELLED?"cancel":state&STATE_ENDED?"end":state&STATE_CHANGED?"move":state&STATE_BEGAN?"start":""}function directionStr(direction){return direction==DIRECTION_DOWN?"down":direction==DIRECTION_UP?"up":direction==DIRECTION_LEFT?"left":direction==DIRECTION_RIGHT?"right":""}function getRecognizerByNameIfManager(otherRecognizer,recognizer){var manager=recognizer.manager;return manager?manager.get(otherRecognizer):otherRecognizer}function AttrRecognizer(){Recognizer.apply(this,arguments)}function PanRecognizer(){AttrRecognizer.apply(this,arguments),this.pX=null,this.pY=null}function PinchRecognizer(){AttrRecognizer.apply(this,arguments)}function PressRecognizer(){Recognizer.apply(this,arguments),this._timer=null,this._input=null}function RotateRecognizer(){AttrRecognizer.apply(this,arguments)}function SwipeRecognizer(){AttrRecognizer.apply(this,arguments)}function TapRecognizer(){Recognizer.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Hammer(element,options){return(options=options||{}).recognizers=ifUndefined(options.recognizers,Hammer.defaults.preset),new Manager(element,options)}Recognizer.prototype={defaults:{},set:function(options){return assign(this.options,options),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"recognizeWith",this))return this;var simultaneous=this.simultaneous;return simultaneous[(otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this)).id]||(simultaneous[otherRecognizer.id]=otherRecognizer,otherRecognizer.recognizeWith(this)),this},dropRecognizeWith:function(otherRecognizer){return invokeArrayArg(otherRecognizer,"dropRecognizeWith",this)?this:(otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this),delete this.simultaneous[otherRecognizer.id],this)},requireFailure:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"requireFailure",this))return this;var requireFail=this.requireFail;return-1===inArray(requireFail,otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this))&&(requireFail.push(otherRecognizer),otherRecognizer.requireFailure(this)),this},dropRequireFailure:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"dropRequireFailure",this))return this;otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);var index=inArray(this.requireFail,otherRecognizer);return index>-1&&this.requireFail.splice(index,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(otherRecognizer){return!!this.simultaneous[otherRecognizer.id]},emit:function(input){var self=this,state=this.state;function emit(event){self.manager.emit(event,input)}state<STATE_ENDED&&emit(self.options.event+stateStr(state)),emit(self.options.event),input.additionalEvent&&emit(input.additionalEvent),state>=STATE_ENDED&&emit(self.options.event+stateStr(state))},tryEmit:function(input){if(this.canEmit())return this.emit(input);this.state=32},canEmit:function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(32|STATE_POSSIBLE)))return!1;i++}return!0},recognize:function(inputData){var inputDataClone=assign({},inputData);if(!boolOrFn(this.options.enable,[this,inputDataClone]))return this.reset(),void(this.state=32);this.state&(STATE_RECOGNIZED|STATE_CANCELLED|32)&&(this.state=STATE_POSSIBLE),this.state=this.process(inputDataClone),this.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED|STATE_CANCELLED)&&this.tryEmit(inputDataClone)},process:function(inputData){},getTouchAction:function(){},reset:function(){}},inherit(AttrRecognizer,Recognizer,{defaults:{pointers:1},attrTest:function(input){var optionPointers=this.options.pointers;return 0===optionPointers||input.pointers.length===optionPointers},process:function(input){var state=this.state,eventType=input.eventType,isRecognized=state&(STATE_BEGAN|STATE_CHANGED),isValid=this.attrTest(input);return isRecognized&&(eventType&INPUT_CANCEL||!isValid)?state|STATE_CANCELLED:isRecognized||isValid?eventType&INPUT_END?state|STATE_ENDED:state&STATE_BEGAN?state|STATE_CHANGED:STATE_BEGAN:32}}),inherit(PanRecognizer,AttrRecognizer,{defaults:{event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL},getTouchAction:function(){var direction=this.options.direction,actions=[];return direction&DIRECTION_HORIZONTAL&&actions.push(TOUCH_ACTION_PAN_Y),direction&DIRECTION_VERTICAL&&actions.push(TOUCH_ACTION_PAN_X),actions},directionTest:function(input){var options=this.options,hasMoved=!0,distance=input.distance,direction=input.direction,x=input.deltaX,y=input.deltaY;return direction&options.direction||(options.direction&DIRECTION_HORIZONTAL?(direction=0===x?DIRECTION_NONE:x<0?DIRECTION_LEFT:DIRECTION_RIGHT,hasMoved=x!=this.pX,distance=Math.abs(input.deltaX)):(direction=0===y?DIRECTION_NONE:y<0?DIRECTION_UP:DIRECTION_DOWN,hasMoved=y!=this.pY,distance=Math.abs(input.deltaY))),input.direction=direction,hasMoved&&distance>options.threshold&&direction&options.direction},attrTest:function(input){return AttrRecognizer.prototype.attrTest.call(this,input)&&(this.state&STATE_BEGAN||!(this.state&STATE_BEGAN)&&this.directionTest(input))},emit:function(input){this.pX=input.deltaX,this.pY=input.deltaY;var direction=directionStr(input.direction);direction&&(input.additionalEvent=this.options.event+direction),this._super.emit.call(this,input)}}),inherit(PinchRecognizer,AttrRecognizer,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[TOUCH_ACTION_NONE]},attrTest:function(input){return this._super.attrTest.call(this,input)&&(Math.abs(input.scale-1)>this.options.threshold||this.state&STATE_BEGAN)},emit:function(input){if(1!==input.scale){var inOut=input.scale<1?"in":"out";input.additionalEvent=this.options.event+inOut}this._super.emit.call(this,input)}}),inherit(PressRecognizer,Recognizer,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[TOUCH_ACTION_AUTO]},process:function(input){var options=this.options,validPointers=input.pointers.length===options.pointers,validMovement=input.distance<options.threshold,validTime=input.deltaTime>options.time;if(this._input=input,!validMovement||!validPointers||input.eventType&(INPUT_END|INPUT_CANCEL)&&!validTime)this.reset();else if(input.eventType&INPUT_START)this.reset(),this._timer=setTimeoutContext(function(){this.state=STATE_RECOGNIZED,this.tryEmit()},options.time,this);else if(input.eventType&INPUT_END)return STATE_RECOGNIZED;return 32},reset:function(){clearTimeout(this._timer)},emit:function(input){this.state===STATE_RECOGNIZED&&(input&&input.eventType&INPUT_END?this.manager.emit(this.options.event+"up",input):(this._input.timeStamp=now(),this.manager.emit(this.options.event,this._input)))}}),inherit(RotateRecognizer,AttrRecognizer,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[TOUCH_ACTION_NONE]},attrTest:function(input){return this._super.attrTest.call(this,input)&&(Math.abs(input.rotation)>this.options.threshold||this.state&STATE_BEGAN)}}),inherit(SwipeRecognizer,AttrRecognizer,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,pointers:1},getTouchAction:function(){return PanRecognizer.prototype.getTouchAction.call(this)},attrTest:function(input){var velocity,direction=this.options.direction;return direction&(DIRECTION_HORIZONTAL|DIRECTION_VERTICAL)?velocity=input.overallVelocity:direction&DIRECTION_HORIZONTAL?velocity=input.overallVelocityX:direction&DIRECTION_VERTICAL&&(velocity=input.overallVelocityY),this._super.attrTest.call(this,input)&&direction&input.offsetDirection&&input.distance>this.options.threshold&&input.maxPointers==this.options.pointers&&abs(velocity)>this.options.velocity&&input.eventType&INPUT_END},emit:function(input){var direction=directionStr(input.offsetDirection);direction&&this.manager.emit(this.options.event+direction,input),this.manager.emit(this.options.event,input)}}),inherit(TapRecognizer,Recognizer,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[TOUCH_ACTION_MANIPULATION]},process:function(input){var options=this.options,validPointers=input.pointers.length===options.pointers,validMovement=input.distance<options.threshold,validTouchTime=input.deltaTime<options.time;if(this.reset(),input.eventType&INPUT_START&&0===this.count)return this.failTimeout();if(validMovement&&validTouchTime&&validPointers){if(input.eventType!=INPUT_END)return this.failTimeout();var validInterval=!this.pTime||input.timeStamp-this.pTime<options.interval,validMultiTap=!this.pCenter||getDistance(this.pCenter,input.center)<options.posThreshold;if(this.pTime=input.timeStamp,this.pCenter=input.center,validMultiTap&&validInterval?this.count+=1:this.count=1,this._input=input,0===this.count%options.taps)return this.hasRequireFailures()?(this._timer=setTimeoutContext(function(){this.state=STATE_RECOGNIZED,this.tryEmit()},options.interval,this),STATE_BEGAN):STATE_RECOGNIZED}return 32},failTimeout:function(){return this._timer=setTimeoutContext(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==STATE_RECOGNIZED&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Hammer.VERSION="2.0.7",Hammer.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[RotateRecognizer,{enable:!1}],[PinchRecognizer,{enable:!1},["rotate"]],[SwipeRecognizer,{direction:DIRECTION_HORIZONTAL}],[PanRecognizer,{direction:DIRECTION_HORIZONTAL},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Manager(element,options){this.options=assign({},Hammer.defaults,options||{}),this.options.inputTarget=this.options.inputTarget||element,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=element,this.input=function createInputInstance(manager){var inputClass=manager.options.inputClass;return new(inputClass||(SUPPORT_POINTER_EVENTS?PointerEventInput:SUPPORT_ONLY_TOUCH?TouchInput:SUPPORT_TOUCH?TouchMouseInput:MouseInput))(manager,inputHandler)}(this),this.touchAction=new TouchAction(this,this.options.touchAction),toggleCssProps(this,!0),each(this.options.recognizers,function(item){var recognizer=this.add(new item[0](item[1]));item[2]&&recognizer.recognizeWith(item[2]),item[3]&&recognizer.requireFailure(item[3])},this)}function toggleCssProps(manager,add){var prop,element=manager.element;element.style&&(each(manager.options.cssProps,function(value,name){prop=prefixed(element.style,name),add?(manager.oldCssProps[prop]=element.style[prop],element.style[prop]=value):element.style[prop]=manager.oldCssProps[prop]||""}),add||(manager.oldCssProps={}))}Manager.prototype={set:function(options){return assign(this.options,options),options.touchAction&&this.touchAction.update(),options.inputTarget&&(this.input.destroy(),this.input.target=options.inputTarget,this.input.init()),this},stop:function(force){this.session.stopped=force?2:1},recognize:function(inputData){var session=this.session;if(!session.stopped){var recognizer;this.touchAction.preventDefaults(inputData);var recognizers=this.recognizers,curRecognizer=session.curRecognizer;(!curRecognizer||curRecognizer&&curRecognizer.state&STATE_RECOGNIZED)&&(curRecognizer=session.curRecognizer=null);for(var i=0;i<recognizers.length;)recognizer=recognizers[i],2===session.stopped||curRecognizer&&recognizer!=curRecognizer&&!recognizer.canRecognizeWith(curRecognizer)?recognizer.reset():recognizer.recognize(inputData),!curRecognizer&&recognizer.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED)&&(curRecognizer=session.curRecognizer=recognizer),i++}},get:function(recognizer){if(recognizer instanceof Recognizer)return recognizer;for(var recognizers=this.recognizers,i=0;i<recognizers.length;i++)if(recognizers[i].options.event==recognizer)return recognizers[i];return null},add:function(recognizer){if(invokeArrayArg(recognizer,"add",this))return this;var existing=this.get(recognizer.options.event);return existing&&this.remove(existing),this.recognizers.push(recognizer),recognizer.manager=this,this.touchAction.update(),recognizer},remove:function(recognizer){if(invokeArrayArg(recognizer,"remove",this))return this;if(recognizer=this.get(recognizer)){var recognizers=this.recognizers,index=inArray(recognizers,recognizer);-1!==index&&(recognizers.splice(index,1),this.touchAction.update())}return this},on:function(events,handler){if(events!==undefined&&handler!==undefined){var handlers=this.handlers;return each(splitStr(events),function(event){handlers[event]=handlers[event]||[],handlers[event].push(handler)}),this}},off:function(events,handler){if(events!==undefined){var handlers=this.handlers;return each(splitStr(events),function(event){handler?handlers[event]&&handlers[event].splice(inArray(handlers[event],handler),1):delete handlers[event]}),this}},emit:function(event,data){this.options.domEvents&&function triggerDomEvent(event,data){var gestureEvent=document.createEvent("Event");gestureEvent.initEvent(event,!0,!0),gestureEvent.gesture=data,data.target.dispatchEvent(gestureEvent)}(event,data);var handlers=this.handlers[event]&&this.handlers[event].slice();if(handlers&&handlers.length){data.type=event,data.preventDefault=function(){data.srcEvent.preventDefault()};for(var i=0;i<handlers.length;)handlers[i](data),i++}},destroy:function(){this.element&&toggleCssProps(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},assign(Hammer,{INPUT_START:INPUT_START,INPUT_MOVE:INPUT_MOVE,INPUT_END:INPUT_END,INPUT_CANCEL:INPUT_CANCEL,STATE_POSSIBLE:STATE_POSSIBLE,STATE_BEGAN:STATE_BEGAN,STATE_CHANGED:STATE_CHANGED,STATE_ENDED:STATE_ENDED,STATE_RECOGNIZED:STATE_RECOGNIZED,STATE_CANCELLED:STATE_CANCELLED,STATE_FAILED:32,DIRECTION_NONE:DIRECTION_NONE,DIRECTION_LEFT:DIRECTION_LEFT,DIRECTION_RIGHT:DIRECTION_RIGHT,DIRECTION_UP:DIRECTION_UP,DIRECTION_DOWN:DIRECTION_DOWN,DIRECTION_HORIZONTAL:DIRECTION_HORIZONTAL,DIRECTION_VERTICAL:DIRECTION_VERTICAL,DIRECTION_ALL:DIRECTION_ALL,Manager:Manager,Input:Input,TouchAction:TouchAction,TouchInput:TouchInput,MouseInput:MouseInput,PointerEventInput:PointerEventInput,TouchMouseInput:TouchMouseInput,SingleTouchInput:SingleTouchInput,Recognizer:Recognizer,AttrRecognizer:AttrRecognizer,Tap:TapRecognizer,Pan:PanRecognizer,Swipe:SwipeRecognizer,Pinch:PinchRecognizer,Rotate:RotateRecognizer,Press:PressRecognizer,on:addEventListeners,off:removeEventListeners,each:each,merge:merge,extend:extend,assign:assign,inherit:inherit,bindFn:bindFn,prefixed:prefixed}),(void 0!==window?window:"undefined"!=typeof self?self:{}).Hammer=Hammer,(__WEBPACK_AMD_DEFINE_RESULT__=function(){return Hammer}.call(exports,__webpack_require__,exports,module))===undefined||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(window,document)},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(268),__WEBPACK_IMPORTED_MODULE_1__utils_globals__=__webpack_require__(618),_createClass=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__utils_globals__),function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}());var firefox=-1!==__WEBPACK_IMPORTED_MODULE_1__utils_globals__.userAgent.indexOf("firefox"),WHEEL_EVENTS=__WEBPACK_IMPORTED_MODULE_0__constants__.d.WHEEL_EVENTS,WheelInput=function(){function WheelInput(element,callback){var _this=this,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WheelInput),this.element=element,this.callback=callback,this.options=Object.assign({enable:!0},options),this.events=WHEEL_EVENTS.concat(options.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach(function(event){return element.addEventListener(event,_this.handleEvent)})}return _createClass(WheelInput,[{key:"destroy",value:function destroy(){var _this2=this;this.events.forEach(function(event){return _this2.element.removeEventListener(event,_this2.handleEvent)})}},{key:"enableEventType",value:function enableEventType(eventType,enabled){"wheel"===eventType&&(this.options.enable=enabled)}},{key:"handleEvent",value:function handleEvent(event){if(this.options.enable){this.options.legacyBlockScroll&&event.preventDefault();var value=event.deltaY;__WEBPACK_IMPORTED_MODULE_1__utils_globals__.window.WheelEvent&&(firefox&&event.deltaMode===__WEBPACK_IMPORTED_MODULE_1__utils_globals__.window.WheelEvent.DOM_DELTA_PIXEL&&(value/=__WEBPACK_IMPORTED_MODULE_1__utils_globals__.window.devicePixelRatio),event.deltaMode===__WEBPACK_IMPORTED_MODULE_1__utils_globals__.window.WheelEvent.DOM_DELTA_LINE&&(value*=40));var wheelPosition={x:event.clientX,y:event.clientY};0!==value&&value%4.000244140625==0&&(value=Math.floor(value/4.000244140625)),event.shiftKey&&value&&(value*=.25),this._onWheel(event,-value,wheelPosition)}}},{key:"_onWheel",value:function _onWheel(srcEvent,delta,position){this.callback({type:"wheel",center:position,delta:delta,srcEvent:srcEvent,pointerType:"mouse",target:srcEvent.target})}}]),WheelInput}();__webpack_exports__.a=WheelInput},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(268),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var MOUSE_EVENTS=__WEBPACK_IMPORTED_MODULE_0__constants__.d.MOUSE_EVENTS,MoveInput=function(){function MoveInput(element,callback){var _this=this,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MoveInput),this.element=element,this.callback=callback,this.pressed=!1,this.options=Object.assign({enable:!0},options),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.events=MOUSE_EVENTS.concat(options.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach(function(event){return element.addEventListener(event,_this.handleEvent)})}return _createClass(MoveInput,[{key:"destroy",value:function destroy(){var _this2=this;this.events.forEach(function(event){return _this2.element.removeEventListener(event,_this2.handleEvent)})}},{key:"enableEventType",value:function enableEventType(eventType,enabled){"pointermove"===eventType&&(this.enableMoveEvent=enabled),"pointerleave"===eventType&&(this.enableLeaveEvent=enabled)}},{key:"handleEvent",value:function handleEvent(event){if(this.enableLeaveEvent&&"mouseleave"===event.type&&this.callback({type:"pointerleave",srcEvent:event,pointerType:"mouse",target:event.target}),this.enableMoveEvent)switch(event.type){case"mousedown":event.button>=0&&(this.pressed=!0);break;case"mousemove":0===event.which&&(this.pressed=!1),this.pressed||this.callback({type:"pointermove",srcEvent:event,pointerType:"mouse",target:event.target});break;case"mouseup":this.pressed=!1}}}]),MoveInput}();__webpack_exports__.a=MoveInput},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__constants__=__webpack_require__(268),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var KEY_EVENTS=__WEBPACK_IMPORTED_MODULE_0__constants__.d.KEY_EVENTS,KeyInput=function(){function KeyInput(element,callback){var _this=this,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,KeyInput),this.element=element,this.callback=callback,this.options=Object.assign({enable:!0},options),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=KEY_EVENTS.concat(options.events||[]),this.handleEvent=this.handleEvent.bind(this),element.tabIndex=1,element.style.outline="none",this.events.forEach(function(event){return element.addEventListener(event,_this.handleEvent)})}return _createClass(KeyInput,[{key:"destroy",value:function destroy(){var _this2=this;this.events.forEach(function(event){return _this2.element.removeEventListener(event,_this2.handleEvent)})}},{key:"enableEventType",value:function enableEventType(eventType,enabled){"keydown"===eventType&&(this.enableDownEvent=enabled),"keyup"===eventType&&(this.enableUpEvent=enabled)}},{key:"handleEvent",value:function handleEvent(event){var targetElement=event.target||event.srcElement;"INPUT"===targetElement.tagName&&"text"===targetElement.type||"TEXTAREA"===targetElement.tagName||(this.enableDownEvent&&"keydown"===event.type&&this.callback({type:"keydown",srcEvent:event,key:event.key,target:event.target}),this.enableUpEvent&&"keyup"===event.type&&this.callback({type:"keyup",srcEvent:event,key:event.key,target:event.target}))}}]),KeyInput}();__webpack_exports__.a=KeyInput},function(module,__webpack_exports__,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var ContextmenuInput=function(){function ContextmenuInput(element,callback){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ContextmenuInput),this.element=element,this.callback=callback,this.options=Object.assign({enable:!0},options),this.handleEvent=this.handleEvent.bind(this),element.addEventListener("contextmenu",this.handleEvent)}return _createClass(ContextmenuInput,[{key:"destroy",value:function destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"handleEvent",value:function handleEvent(event){this.callback({type:"contextmenu",center:{x:event.clientX,y:event.clientY},srcEvent:event,pointerType:"mouse",target:event.target}),this.options.rightButton&&event.preventDefault()}}]),ContextmenuInput}();__webpack_exports__.a=ContextmenuInput},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=function whichButtons(event){var eventType=MOUSE_EVENTS[event.srcEvent.type];if(!eventType)return null;var _event$srcEvent=event.srcEvent,buttons=_event$srcEvent.buttons,button=_event$srcEvent.button,which=_event$srcEvent.which,leftButton=!1,middleButton=!1,rightButton=!1;eventType===UP_EVENT||eventType===MOVE_EVENT&&!Number.isFinite(buttons)?(leftButton=which===MOUSE_EVENT_WHICH_LEFT,middleButton=which===MOUSE_EVENT_WHICH_MIDDLE,rightButton=which===MOUSE_EVENT_WHICH_RIGHT):eventType===MOVE_EVENT?(leftButton=Boolean(buttons&MOUSE_EVENT_BUTTONS_LEFT_MASK),middleButton=Boolean(buttons&MOUSE_EVENT_BUTTONS_MIDDLE_MASK),rightButton=Boolean(buttons&MOUSE_EVENT_BUTTONS_RIGHT_MASK)):eventType===DOWN_EVENT&&(leftButton=button===MOUSE_EVENT_BUTTON_LEFT,middleButton=button===MOUSE_EVENT_BUTTON_MIDDLE,rightButton=button===MOUSE_EVENT_BUTTON_RIGHT);return{leftButton:leftButton,middleButton:middleButton,rightButton:rightButton}},__webpack_exports__.a=function getOffsetPosition(event,rootElement){var srcEvent=event.srcEvent;if(!event.center&&!Number.isFinite(srcEvent.clientX))return null;var center=event.center||{x:srcEvent.clientX,y:srcEvent.clientY},rect=rootElement.getBoundingClientRect(),scaleX=rect.width/rootElement.offsetWidth,scaleY=rect.height/rootElement.offsetHeight,offsetCenter={x:(center.x-rect.left-rootElement.clientLeft)/scaleX,y:(center.y-rect.top-rootElement.clientTop)/scaleY};return{center:center,offsetCenter:offsetCenter}};var DOWN_EVENT=1,MOVE_EVENT=2,UP_EVENT=4,MOUSE_EVENTS={pointerdown:DOWN_EVENT,pointermove:MOVE_EVENT,pointerup:UP_EVENT,mousedown:DOWN_EVENT,mousemove:MOVE_EVENT,mouseup:UP_EVENT},MOUSE_EVENT_WHICH_LEFT=1,MOUSE_EVENT_WHICH_MIDDLE=2,MOUSE_EVENT_WHICH_RIGHT=3,MOUSE_EVENT_BUTTON_LEFT=0,MOUSE_EVENT_BUTTON_MIDDLE=1,MOUSE_EVENT_BUTTON_RIGHT=2,MOUSE_EVENT_BUTTONS_LEFT_MASK=1,MOUSE_EVENT_BUTTONS_RIGHT_MASK=2,MOUSE_EVENT_BUTTONS_MIDDLE_MASK=4},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CompositeLayer});var __WEBPACK_IMPORTED_MODULE_0__layer__=__webpack_require__(478),__WEBPACK_IMPORTED_MODULE_1__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_2__utils_flatten__=__webpack_require__(227);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var CompositeLayer=function(_Layer){function CompositeLayer(props){return _classCallCheck(this,CompositeLayer),_possibleConstructorReturn(this,(CompositeLayer.__proto__||Object.getPrototypeOf(CompositeLayer)).call(this,props))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(CompositeLayer,__WEBPACK_IMPORTED_MODULE_0__layer__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(CompositeLayer,[{key:"getSubLayers",value:function getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}},{key:"initializeState",value:function initializeState(){}},{key:"getPickingInfo",value:function getPickingInfo(_ref){return _ref.info}},{key:"renderLayers",value:function renderLayers(){return null}},{key:"getSubLayerProps",value:function getSubLayerProps(sublayerProps){var _this$props=this.props,newProps={opacity:_this$props.opacity,pickable:_this$props.pickable,visible:_this$props.visible,parameters:_this$props.parameters,getPolygonOffset:_this$props.getPolygonOffset,highlightedObjectIndex:_this$props.highlightedObjectIndex,autoHighlight:_this$props.autoHighlight,highlightColor:_this$props.highlightColor,coordinateSystem:_this$props.coordinateSystem,coordinateOrigin:_this$props.coordinateOrigin,modelMatrix:_this$props.modelMatrix};return sublayerProps&&Object.assign(newProps,sublayerProps,{id:"".concat(this.props.id,"-").concat(sublayerProps.id),updateTriggers:Object.assign({all:this.props.updateTriggers.all},sublayerProps.updateTriggers)}),newProps}},{key:"_renderLayers",value:function _renderLayers(){var subLayers=this.internalState.subLayers;subLayers&&!this.needsUpdate()?__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.log(3,"Composite layer reused subLayers ".concat(this),this.internalState.subLayers)():(subLayers=this.renderLayers(),subLayers=Object(__WEBPACK_IMPORTED_MODULE_2__utils_flatten__.b)(subLayers,{filter:Boolean}),this.internalState.subLayers=subLayers,__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.log(2,"Composite layer rendered new subLayers ".concat(this),subLayers)());var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=subLayers[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){_step.value.parent=this}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"isComposite",get:function get(){return!0}}]),CompositeLayer}();CompositeLayer.layerName="CompositeLayer"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return FirstPersonView});var __WEBPACK_IMPORTED_MODULE_0__view__=__webpack_require__(101),__WEBPACK_IMPORTED_MODULE_1__viewports_viewport__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_2_math_gl__=__webpack_require__(17);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var SphericalCoordinates=__WEBPACK_IMPORTED_MODULE_2_math_gl__.i.SphericalCoordinates;var FirstPersonView=function(_View){function FirstPersonView(){return _classCallCheck(this,FirstPersonView),_possibleConstructorReturn(this,(FirstPersonView.__proto__||Object.getPrototypeOf(FirstPersonView)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(FirstPersonView,__WEBPACK_IMPORTED_MODULE_0__view__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FirstPersonView,[{key:"_getViewport",value:function _getViewport(props){var _props$viewState=props.viewState,_props$viewState$mode=_props$viewState.modelMatrix,modelMatrix=void 0===_props$viewState$mode?null:_props$viewState$mode,bearing=_props$viewState.bearing,_props$viewState$up=_props$viewState.up,up=void 0===_props$viewState$up?[0,0,1]:_props$viewState$up,dir=function getDirectionFromBearingAndPitch(_ref){var bearing=_ref.bearing,pitch=_ref.pitch;return new SphericalCoordinates({bearing:bearing,pitch:pitch}).toVector3().normalize()}({bearing:bearing,pitch:89}),center=modelMatrix?modelMatrix.transformDirection(dir):dir,viewMatrix=(new __WEBPACK_IMPORTED_MODULE_2_math_gl__.a).lookAt({eye:[0,0,0],center:center,up:up});return new __WEBPACK_IMPORTED_MODULE_1__viewports_viewport__.a(Object.assign({},props,{zoom:null,viewMatrix:viewMatrix}))}}]),FirstPersonView}();FirstPersonView.displayName="FirstPersonView"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ThirdPersonView});var __WEBPACK_IMPORTED_MODULE_0__view__=__webpack_require__(101),__WEBPACK_IMPORTED_MODULE_1__viewports_viewport__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_2_math_gl__=__webpack_require__(17);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var SphericalCoordinates=__WEBPACK_IMPORTED_MODULE_2_math_gl__.i.SphericalCoordinates;var ThirdPersonView=function(_View){function ThirdPersonView(){return _classCallCheck(this,ThirdPersonView),_possibleConstructorReturn(this,(ThirdPersonView.__proto__||Object.getPrototypeOf(ThirdPersonView)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(ThirdPersonView,__WEBPACK_IMPORTED_MODULE_0__view__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ThirdPersonView,[{key:"_getViewport",value:function _getViewport(props){var _props$viewState=props.viewState,bearing=_props$viewState.bearing,pitch=_props$viewState.pitch,position=_props$viewState.position,up=_props$viewState.up,distance=50*_props$viewState.zoom,eye=function getDirectionFromBearingAndPitch(_ref){var bearing=_ref.bearing,pitch=_ref.pitch;return new SphericalCoordinates({bearing:bearing,pitch:pitch}).toVector3().normalize()}({bearing:bearing,pitch:pitch}).scale(-distance).multiply(new __WEBPACK_IMPORTED_MODULE_2_math_gl__.d(1,1,-1)),viewMatrix=(new __WEBPACK_IMPORTED_MODULE_2_math_gl__.a).multiplyRight((new __WEBPACK_IMPORTED_MODULE_2_math_gl__.a).lookAt({eye:eye,center:position,up:up}));return new __WEBPACK_IMPORTED_MODULE_1__viewports_viewport__.a(Object.assign({},props,{id:this.id,zoom:null,viewMatrix:viewMatrix}))}}]),ThirdPersonView}();ThirdPersonView.displayName="ThirdPersonView"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return OrbitView});var __WEBPACK_IMPORTED_MODULE_0__view__=__webpack_require__(101),__WEBPACK_IMPORTED_MODULE_1__viewports_viewport__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_2__utils_math_utils__=__webpack_require__(480),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_multiply__=__webpack_require__(158),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_multiply___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_gl_mat4_multiply__),__WEBPACK_IMPORTED_MODULE_4_gl_mat4_lookAt__=__webpack_require__(156),__WEBPACK_IMPORTED_MODULE_4_gl_mat4_lookAt___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_gl_mat4_lookAt__),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_scale__=__webpack_require__(159),__WEBPACK_IMPORTED_MODULE_5_gl_mat4_scale___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_gl_mat4_scale__),__WEBPACK_IMPORTED_MODULE_6_gl_mat4_perspective__=__webpack_require__(157),__WEBPACK_IMPORTED_MODULE_6_gl_mat4_perspective___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_gl_mat4_perspective__),__WEBPACK_IMPORTED_MODULE_7_gl_mat4_translate__=__webpack_require__(160),__WEBPACK_IMPORTED_MODULE_7_gl_mat4_translate___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_gl_mat4_translate__),__WEBPACK_IMPORTED_MODULE_8_gl_mat4_rotateX__=__webpack_require__(264),__WEBPACK_IMPORTED_MODULE_8_gl_mat4_rotateX___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_gl_mat4_rotateX__),__WEBPACK_IMPORTED_MODULE_9_gl_mat4_rotateY__=__webpack_require__(473),__WEBPACK_IMPORTED_MODULE_9_gl_mat4_rotateY___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_gl_mat4_rotateY__),__WEBPACK_IMPORTED_MODULE_10_gl_mat4_rotateZ__=__webpack_require__(265),__WEBPACK_IMPORTED_MODULE_10_gl_mat4_rotateZ___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_gl_mat4_rotateZ__);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var DEGREES_TO_RADIANS=Math.PI/180,OrbitViewport=function(_Viewport){function OrbitViewport(){return _classCallCheck(this,OrbitViewport),_possibleConstructorReturn(this,(OrbitViewport.__proto__||Object.getPrototypeOf(OrbitViewport)).apply(this,arguments))}return _inherits(OrbitViewport,__WEBPACK_IMPORTED_MODULE_1__viewports_viewport__["a"]),_createClass(OrbitViewport,[{key:"project",value:function project(xyz){var _ref$topLeft=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).topLeft,topLeft=void 0!==_ref$topLeft&&_ref$topLeft,_v=_slicedToArray(Object(__WEBPACK_IMPORTED_MODULE_2__utils_math_utils__.c)(this.pixelProjectionMatrix,_toConsumableArray(xyz).concat([1])),3),x=_v[0],y=_v[1],z=_v[2];return[x,topLeft?this.height-y:y,z]}},{key:"unproject",value:function unproject(xyz){var _ref2$topLeft=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).topLeft,topLeft=void 0!==_ref2$topLeft&&_ref2$topLeft,_xyz=_slicedToArray(xyz,3),x=_xyz[0],y=_xyz[1],z=_xyz[2],y2=topLeft?this.height-y:y;return Object(__WEBPACK_IMPORTED_MODULE_2__utils_math_utils__.c)(this.pixelUnprojectionMatrix,[x,y2,z,1])}}]),OrbitViewport}(),OrbitView=function(_View){function OrbitView(){return _classCallCheck(this,OrbitView),_possibleConstructorReturn(this,(OrbitView.__proto__||Object.getPrototypeOf(OrbitView)).apply(this,arguments))}return _inherits(OrbitView,__WEBPACK_IMPORTED_MODULE_0__view__["a"]),_createClass(OrbitView,[{key:"_getViewport",value:function _getViewport(props){var viewState=props.viewState,width=props.width||1,height=props.height||1,fovy=props.fov||props.fovy||viewState.fovy||75,near=props.near||viewState.near||1,far=props.far||viewState.far||100,aspect=Number.isFinite(viewState.aspect)?viewState.aspect:width/height,fovyRadians=fovy*DEGREES_TO_RADIANS;return new OrbitViewport({id:this.id,viewMatrix:this._getViewMatrix(props.viewState),projectionMatrix:__WEBPACK_IMPORTED_MODULE_6_gl_mat4_perspective___default()([],fovyRadians,aspect,near,far),x:props.x,y:props.y,width:width,height:height})}},{key:"_getViewMatrix",value:function _getViewMatrix(viewState){var distance=viewState.distance,_viewState$rotationX=viewState.rotationX,rotationX=void 0===_viewState$rotationX?0:_viewState$rotationX,_viewState$rotationOr=viewState.rotationOrbit,rotationOrbit=void 0===_viewState$rotationOr?0:_viewState$rotationOr,_viewState$orbitAxis=viewState.orbitAxis,orbitAxis=void 0===_viewState$orbitAxis?"Z":_viewState$orbitAxis,_viewState$lookAt=viewState.lookAt,lookAt=void 0===_viewState$lookAt?[0,0,0]:_viewState$lookAt,_viewState$up=viewState.up,up=void 0===_viewState$up?[0,1,0]:_viewState$up,_viewState$zoom=viewState.zoom,zoom=void 0===_viewState$zoom?1:_viewState$zoom,rotationMatrix=__WEBPACK_IMPORTED_MODULE_8_gl_mat4_rotateX___default()([],Object(__WEBPACK_IMPORTED_MODULE_2__utils_math_utils__.a)(),-rotationX/180*Math.PI);"Z"===orbitAxis?__WEBPACK_IMPORTED_MODULE_10_gl_mat4_rotateZ___default()(rotationMatrix,rotationMatrix,-rotationOrbit/180*Math.PI):__WEBPACK_IMPORTED_MODULE_9_gl_mat4_rotateY___default()(rotationMatrix,rotationMatrix,-rotationOrbit/180*Math.PI);var translateMatrix=Object(__WEBPACK_IMPORTED_MODULE_2__utils_math_utils__.a)();__WEBPACK_IMPORTED_MODULE_5_gl_mat4_scale___default()(translateMatrix,translateMatrix,[zoom,zoom,zoom]),__WEBPACK_IMPORTED_MODULE_7_gl_mat4_translate___default()(translateMatrix,translateMatrix,[-lookAt[0],-lookAt[1],-lookAt[2]]);var viewMatrix=__WEBPACK_IMPORTED_MODULE_4_gl_mat4_lookAt___default()([],[0,0,distance],[0,0,0],up);return __WEBPACK_IMPORTED_MODULE_3_gl_mat4_multiply___default()(viewMatrix,viewMatrix,__WEBPACK_IMPORTED_MODULE_3_gl_mat4_multiply___default()(rotationMatrix,rotationMatrix,translateMatrix)),viewMatrix}},{key:"fitBounds",value:function fitBounds(boundingBox,viewState){var width=this.width,height=this.height,fov=this.fov,near=this.near,far=this.far;return this._getViewport({width:width,height:height,fov:fov,near:near,far:far})}}],[{key:"getDistance",value:function getDistance(_ref3){var boundingBox=_ref3.boundingBox,fov=_ref3.fov;return Math.max(boundingBox[0],boundingBox[1],boundingBox[2])/2/Math.tan(fov/180*Math.PI/2)}}]),OrbitView}();OrbitView.displayName="OrbitView"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return PerspectiveView});var __WEBPACK_IMPORTED_MODULE_0__view__=__webpack_require__(101),__WEBPACK_IMPORTED_MODULE_1__viewports_viewport__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_2_gl_mat4_lookAt__=__webpack_require__(156),__WEBPACK_IMPORTED_MODULE_2_gl_mat4_lookAt___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_gl_mat4_lookAt__),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_perspective__=__webpack_require__(157),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_perspective___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_gl_mat4_perspective__);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var DEGREES_TO_RADIANS=Math.PI/180,PerspectiveView=function(_View){function PerspectiveView(){return _classCallCheck(this,PerspectiveView),_possibleConstructorReturn(this,(PerspectiveView.__proto__||Object.getPrototypeOf(PerspectiveView)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(PerspectiveView,__WEBPACK_IMPORTED_MODULE_0__view__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PerspectiveView,[{key:"_getViewport",value:function _getViewport(props){var x=props.x,y=props.y,width=props.width,height=props.height,viewState=props.viewState,eye=viewState.eye,_viewState$lookAt=viewState.lookAt,lookAt=void 0===_viewState$lookAt?[0,0,0]:_viewState$lookAt,_viewState$up=viewState.up,up=void 0===_viewState$up?[0,1,0]:_viewState$up,fovy=props.fovy||viewState.fovy||75,near=props.near||viewState.near||1,far=props.far||viewState.far||100,aspect=Number.isFinite(viewState.aspect)?viewState.aspect:width/height,fovyRadians=fovy*DEGREES_TO_RADIANS;return new __WEBPACK_IMPORTED_MODULE_1__viewports_viewport__.a({id:this.id,x:x,y:y,width:width,height:height,viewMatrix:__WEBPACK_IMPORTED_MODULE_2_gl_mat4_lookAt___default()([],eye,lookAt,up),projectionMatrix:__WEBPACK_IMPORTED_MODULE_3_gl_mat4_perspective___default()([],fovyRadians,aspect,near,far)})}}]),PerspectiveView}();PerspectiveView.displayName="PerspectiveView"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return OrthographicView});var __WEBPACK_IMPORTED_MODULE_0__view__=__webpack_require__(101),__WEBPACK_IMPORTED_MODULE_1__viewports_viewport__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_2_math_gl__=__webpack_require__(17);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var OrthographicView=function(_View){function OrthographicView(){return _classCallCheck(this,OrthographicView),_possibleConstructorReturn(this,(OrthographicView.__proto__||Object.getPrototypeOf(OrthographicView)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(OrthographicView,__WEBPACK_IMPORTED_MODULE_0__view__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(OrthographicView,[{key:"_getViewport",value:function _getViewport(_ref){var x=_ref.x,y=_ref.y,width=_ref.width,height=_ref.height,viewState=_ref.viewState,_viewState$eye=viewState.eye,eye=void 0===_viewState$eye?[0,0,1]:_viewState$eye,_viewState$lookAt=viewState.lookAt,lookAt=void 0===_viewState$lookAt?[0,0,0]:_viewState$lookAt,_viewState$up=viewState.up,up=void 0===_viewState$up?[0,1,0]:_viewState$up;width=width||1,height=height||1;var _this$props=this.props,_this$props$left=_this$props.left,left=void 0===_this$props$left?-width/2:_this$props$left,_this$props$top=_this$props.top,top=void 0===_this$props$top?-height/2:_this$props$top,_this$props$near=_this$props.near,near=void 0===_this$props$near?1:_this$props$near,_this$props$far=_this$props.far,far=void 0===_this$props$far?100:_this$props$far,_this$props2=this.props,_this$props2$right=_this$props2.right,right=void 0===_this$props2$right?null:_this$props2$right,_this$props2$bottom=_this$props2.bottom,bottom=void 0===_this$props2$bottom?null:_this$props2$bottom;return right=Number.isFinite(right)?right:left+width,bottom=Number.isFinite(bottom)?bottom:top+height,new __WEBPACK_IMPORTED_MODULE_1__viewports_viewport__.a({id:this.id,x:x,y:y,width:width,height:height,viewMatrix:(new __WEBPACK_IMPORTED_MODULE_2_math_gl__.a).lookAt({eye:eye,lookAt:lookAt,up:up}),projectionMatrix:(new __WEBPACK_IMPORTED_MODULE_2_math_gl__.a).ortho({left:left,right:right,bottom:bottom,top:top,near:near,far:far})})}}]),OrthographicView}();OrthographicView.displayName="OrthographicView"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return FirstPersonController});var __WEBPACK_IMPORTED_MODULE_0__controller__=__webpack_require__(269),__WEBPACK_IMPORTED_MODULE_1__view_state__=__webpack_require__(622),__WEBPACK_IMPORTED_MODULE_2_math_gl__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_3__utils_assert__=__webpack_require__(18);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function ensureFinite(value,fallbackValue){return Number.isFinite(value)?value:fallbackValue}var FirstPersonState=function(_ViewState){function FirstPersonState(_ref){var _this,width=_ref.width,height=_ref.height,position=_ref.position,bearing=_ref.bearing,pitch=_ref.pitch,longitude=_ref.longitude,latitude=_ref.latitude,zoom=_ref.zoom,startPanEventPosition=(_ref.syncBearing,_ref.bounds,_ref.startPanEventPosition),startPanPosition=_ref.startPanPosition,startRotateCenter=_ref.startRotateCenter,startRotateViewport=_ref.startRotateViewport,startZoomPos=_ref.startZoomPos,startZoom=_ref.startZoom;return _classCallCheck(this,FirstPersonState),(_this=_possibleConstructorReturn(this,(FirstPersonState.__proto__||Object.getPrototypeOf(FirstPersonState)).call(this,{width:width,height:height,position:position,bearing:bearing,pitch:pitch,longitude:longitude,latitude:latitude,zoom:zoom})))._interactiveState={startPanEventPosition:startPanEventPosition,startPanPosition:startPanPosition,startRotateCenter:startRotateCenter,startRotateViewport:startRotateViewport,startZoomPos:startZoomPos,startZoom:startZoom},_this}return _inherits(FirstPersonState,__WEBPACK_IMPORTED_MODULE_1__view_state__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FirstPersonState,[{key:"getInteractiveState",value:function getInteractiveState(){return this._interactiveState}},{key:"panStart",value:function panStart(_ref2){var pos=_ref2.pos,_this$_viewportProps=this._viewportProps,translationX=_this$_viewportProps.translationX,translationY=_this$_viewportProps.translationY;return this._getUpdatedState({startPanPosition:[translationX,translationY],startPanEventPosition:pos})}},{key:"pan",value:function pan(_ref3){var pos=_ref3.pos,startPos=_ref3.startPos,startPanEventPosition=this._interactiveState.startPanEventPosition||startPos;Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(startPanEventPosition,"`startPanEventPosition` props is required");var _ref5=_slicedToArray(this._interactiveState.startPanPosition||[],2),translationX=_ref5[0],translationY=_ref5[1];translationX=ensureFinite(translationX,this._viewportProps.translationX),translationY=ensureFinite(translationY,this._viewportProps.translationY);var deltaX=pos[0]-startPanEventPosition[0],deltaY=pos[1]-startPanEventPosition[1];return this._getUpdatedState({translationX:translationX+deltaX,translationY:translationY-deltaY})}},{key:"panEnd",value:function panEnd(){return this._getUpdatedState({startPanPosition:null,startPanPos:null})}},{key:"rotateStart",value:function rotateStart(_ref6){_ref6.pos;return this._getUpdatedState({startRotateCenter:this._viewportProps.position,startRotateViewport:this._viewportProps})}},{key:"rotate",value:function rotate(_ref7){var deltaScaleX=_ref7.deltaScaleX,deltaScaleY=_ref7.deltaScaleY,_this$_viewportProps2=this._viewportProps,bearing=_this$_viewportProps2.bearing,pitch=_this$_viewportProps2.pitch;return this._getUpdatedState({bearing:bearing+10*deltaScaleX,pitch:pitch-10*deltaScaleY})}},{key:"rotateEnd",value:function rotateEnd(){return this._getUpdatedState({startRotateCenter:null,startRotateViewport:null})}},{key:"zoomStart",value:function zoomStart(_ref8){var pos=_ref8.pos;return this._getUpdatedState({startZoomPos:pos,startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function zoom(_ref9){var pos=_ref9.pos,startPos=_ref9.startPos,scale=_ref9.scale,_this$_viewportProps3=this._viewportProps,zoom=_this$_viewportProps3.zoom,minZoom=_this$_viewportProps3.minZoom,maxZoom=_this$_viewportProps3.maxZoom,width=_this$_viewportProps3.width,height=_this$_viewportProps3.height,startZoomPos=(_this$_viewportProps3.translationX,_this$_viewportProps3.translationY,this._interactiveState.startZoomPos||startPos||pos),newZoom=Object(__WEBPACK_IMPORTED_MODULE_2_math_gl__.f)(zoom*scale,minZoom,maxZoom);pos[0],startZoomPos[0],pos[1],startZoomPos[1],startZoomPos[0],startZoomPos[1];return newZoom/zoom<1?this.moveBackward():this.moveForward()}},{key:"zoomEnd",value:function zoomEnd(){return this._getUpdatedState({startZoomPos:null,startZoom:null})}},{key:"moveLeft",value:function moveLeft(){var newBearing=this._viewportProps.bearing-2;return this._getUpdatedState({bearing:newBearing})}},{key:"moveRight",value:function moveRight(){var newBearing=this._viewportProps.bearing+2;return this._getUpdatedState({bearing:newBearing})}},{key:"moveForward",value:function moveForward(){var position=this._viewportProps.position,direction=this.getDirection(),delta=new __WEBPACK_IMPORTED_MODULE_2_math_gl__.d(direction).normalize().scale(1);return this._getUpdatedState({position:new __WEBPACK_IMPORTED_MODULE_2_math_gl__.d(position).add(delta)})}},{key:"moveBackward",value:function moveBackward(){var position=this._viewportProps.position,direction=this.getDirection(),delta=new __WEBPACK_IMPORTED_MODULE_2_math_gl__.d(direction).normalize().scale(-1);return this._getUpdatedState({position:new __WEBPACK_IMPORTED_MODULE_2_math_gl__.d(position).add(delta)})}},{key:"moveUp",value:function moveUp(){var position=this._viewportProps.position;return this._getUpdatedState({position:new __WEBPACK_IMPORTED_MODULE_2_math_gl__.d(position).add([0,0,1])})}},{key:"moveDown",value:function moveDown(){var position=this._viewportProps.position,delta=position[2]>=1?[0,0,-1]:[0,0,0];return this._getUpdatedState({position:new __WEBPACK_IMPORTED_MODULE_2_math_gl__.d(position).add(delta)})}},{key:"zoomIn",value:function zoomIn(){return this._getUpdatedState({zoom:this._viewportProps.zoom+.2})}},{key:"zoomOut",value:function zoomOut(){return this._getUpdatedState({zoom:this._viewportProps.zoom-.2})}},{key:"_getUpdatedState",value:function _getUpdatedState(newProps){return new FirstPersonState(Object.assign({},this._viewportProps,this._interactiveState,newProps))}}]),FirstPersonState}(),FirstPersonController=function(_Controller){function FirstPersonController(props){return _classCallCheck(this,FirstPersonController),_possibleConstructorReturn(this,(FirstPersonController.__proto__||Object.getPrototypeOf(FirstPersonController)).call(this,FirstPersonState,props))}return _inherits(FirstPersonController,__WEBPACK_IMPORTED_MODULE_0__controller__["a"]),FirstPersonController}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return OrbitController});var __WEBPACK_IMPORTED_MODULE_0_math_gl__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_1__controller__=__webpack_require__(269),__WEBPACK_IMPORTED_MODULE_2__deprecated_orbit_viewport__=__webpack_require__(623),__WEBPACK_IMPORTED_MODULE_3__utils_assert__=__webpack_require__(18);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var defaultState={lookAt:[0,0,0],rotationX:0,rotationOrbit:0,fov:50,near:1,far:100,translationX:0,translationY:0,zoom:1},defaultConstraints={minZoom:0,maxZoom:1/0};function ensureFinite(value,fallbackValue){return Number.isFinite(value)?value:fallbackValue}var OrbitState=function(){function OrbitState(_ref){var width=_ref.width,height=_ref.height,distance=_ref.distance,rotationX=_ref.rotationX,rotationOrbit=_ref.rotationOrbit,orbitAxis=_ref.orbitAxis,bounds=_ref.bounds,lookAt=_ref.lookAt,fov=_ref.fov,near=_ref.near,far=_ref.far,translationX=_ref.translationX,translationY=_ref.translationY,zoom=_ref.zoom,minZoom=_ref.minZoom,maxZoom=_ref.maxZoom,startPanViewport=_ref.startPanViewport,startPanPos=_ref.startPanPos,isPanning=_ref.isPanning,startRotateViewport=_ref.startRotateViewport,isRotating=_ref.isRotating,startZoomViewport=_ref.startZoomViewport,startZoomPos=_ref.startZoomPos;_classCallCheck(this,OrbitState),Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(Number.isFinite(width),"`width` must be supplied"),Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(Number.isFinite(height),"`height` must be supplied"),Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(Number.isFinite(distance),"`distance` must be supplied"),this._viewportProps=this._applyConstraints({width:width,height:height,distance:distance,rotationX:ensureFinite(rotationX,defaultState.rotationX),rotationOrbit:ensureFinite(rotationOrbit,defaultState.rotationOrbit),orbitAxis:orbitAxis,bounds:bounds,lookAt:lookAt||defaultState.lookAt,fov:ensureFinite(fov,defaultState.fov),near:ensureFinite(near,defaultState.near),far:ensureFinite(far,defaultState.far),translationX:ensureFinite(translationX,defaultState.translationX),translationY:ensureFinite(translationY,defaultState.translationY),zoom:ensureFinite(zoom,defaultState.zoom),minZoom:ensureFinite(minZoom,defaultConstraints.minZoom),maxZoom:ensureFinite(maxZoom,defaultConstraints.maxZoom)}),this._interactiveState={startPanViewport:startPanViewport,startPanPos:startPanPos,isPanning:isPanning,startRotateViewport:startRotateViewport,isRotating:isRotating,startZoomViewport:startZoomViewport,startZoomPos:startZoomPos}}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(OrbitState,[{key:"getViewportProps",value:function getViewportProps(){return this._viewportProps}},{key:"getInteractiveState",value:function getInteractiveState(){return this._interactiveState}},{key:"panStart",value:function panStart(_ref2){var pos=_ref2.pos,viewport=new __WEBPACK_IMPORTED_MODULE_2__deprecated_orbit_viewport__.a(this._viewportProps);return this._getUpdatedOrbitState({startPanPos:pos,startPanViewport:viewport})}},{key:"pan",value:function pan(_ref3){var pos=_ref3.pos,startPos=_ref3.startPos;if(this._interactiveState.isRotating)return this._getUpdatedOrbitState();var startPanPos=this._interactiveState.startPanPos||startPos;Object(__WEBPACK_IMPORTED_MODULE_3__utils_assert__.a)(startPanPos,"`startPanPos` props is required");var viewport=this._interactiveState.startPanViewport||new __WEBPACK_IMPORTED_MODULE_2__deprecated_orbit_viewport__.a(this._viewportProps),deltaX=pos[0]-startPanPos[0],deltaY=pos[1]-startPanPos[1],center=viewport.project(viewport.lookAt),newLookAt=viewport.unproject([center[0]-deltaX,center[1]-deltaY,center[2]]);return this._getUpdatedOrbitState({lookAt:newLookAt,isPanning:!0})}},{key:"panEnd",value:function panEnd(){return this._getUpdatedOrbitState({startPanViewport:null,startPanPos:null,isPanning:null})}},{key:"rotateStart",value:function rotateStart(_ref4){_ref4.pos;var viewport=new __WEBPACK_IMPORTED_MODULE_2__deprecated_orbit_viewport__.a(this._viewportProps);return this._getUpdatedOrbitState({startRotateViewport:viewport})}},{key:"rotate",value:function rotate(_ref5){var deltaScaleX=_ref5.deltaScaleX,deltaScaleY=_ref5.deltaScaleY;if(this._interactiveState.isPanning)return this._getUpdatedOrbitState();var _ref6=this._interactiveState.startRotateViewport||{},rotationX=_ref6.rotationX,rotationOrbit=_ref6.rotationOrbit;rotationX=ensureFinite(rotationX,this._viewportProps.rotationX),rotationOrbit=ensureFinite(rotationOrbit,this._viewportProps.rotationOrbit);var newRotationX=Object(__WEBPACK_IMPORTED_MODULE_0_math_gl__.f)(rotationX-180*deltaScaleY,-89.999,89.999),newRotationOrbit=(rotationOrbit-180*deltaScaleX)%360;return this._getUpdatedOrbitState({rotationX:newRotationX,rotationOrbit:newRotationOrbit,isRotating:!0})}},{key:"rotateEnd",value:function rotateEnd(){return this._getUpdatedOrbitState({startRotateViewport:null,isRotating:null})}},{key:"zoomStart",value:function zoomStart(_ref7){var pos=_ref7.pos,viewport=new __WEBPACK_IMPORTED_MODULE_2__deprecated_orbit_viewport__.a(this._viewportProps);return this._getUpdatedOrbitState({startZoomViewport:viewport,startZoomPos:pos})}},{key:"zoom",value:function zoom(_ref8){var pos=_ref8.pos,startPos=_ref8.startPos,scale=_ref8.scale,_this$_viewportProps=this._viewportProps,zoom=_this$_viewportProps.zoom,minZoom=_this$_viewportProps.minZoom,maxZoom=_this$_viewportProps.maxZoom,width=_this$_viewportProps.width,height=_this$_viewportProps.height,startZoomPos=this._interactiveState.startZoomPos||startPos||pos,viewport=this._interactiveState.startZoomViewport||new __WEBPACK_IMPORTED_MODULE_2__deprecated_orbit_viewport__.a(this._viewportProps),newZoom=Object(__WEBPACK_IMPORTED_MODULE_0_math_gl__.f)(zoom*scale,minZoom,maxZoom),deltaX=pos[0]-startZoomPos[0],deltaY=pos[1]-startZoomPos[1],cx=startZoomPos[0]-width/2,cy=height/2-startZoomPos[1],center=viewport.project(viewport.lookAt),newCenterX=center[0]-cx+cx*newZoom/zoom+deltaX,newCenterY=center[1]+cy-cy*newZoom/zoom-deltaY,newLookAt=viewport.unproject([newCenterX,newCenterY,center[2]]);return this._getUpdatedOrbitState({lookAt:newLookAt,zoom:newZoom})}},{key:"zoomEnd",value:function zoomEnd(){return this._getUpdatedOrbitState({startZoomPos:null})}},{key:"_getUpdatedOrbitState",value:function _getUpdatedOrbitState(newProps){return new OrbitState(Object.assign({},this._viewportProps,this._interactiveState,newProps))}},{key:"_applyConstraints",value:function _applyConstraints(props){var maxZoom=props.maxZoom,minZoom=props.minZoom,zoom=props.zoom;return props.zoom=zoom>maxZoom?maxZoom:zoom,props.zoom=zoom<minZoom?minZoom:zoom,props}}]),OrbitState}(),OrbitController=function(_Controller){function OrbitController(props){return _classCallCheck(this,OrbitController),_possibleConstructorReturn(this,(OrbitController.__proto__||Object.getPrototypeOf(OrbitController)).call(this,OrbitState,props))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(OrbitController,__WEBPACK_IMPORTED_MODULE_1__controller__["a"]),OrbitController}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ViewportFlyToInterpolator});var __WEBPACK_IMPORTED_MODULE_0__transition_interpolator__=__webpack_require__(620),__WEBPACK_IMPORTED_MODULE_1_math_gl__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_2_viewport_mercator_project__=__webpack_require__(72);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var LINEARLY_INTERPOLATED_PROPS=["bearing","pitch"],ViewportFlyToInterpolator=function(_TransitionInterpolat){function ViewportFlyToInterpolator(){return _classCallCheck(this,ViewportFlyToInterpolator),_possibleConstructorReturn(this,(ViewportFlyToInterpolator.__proto__||Object.getPrototypeOf(ViewportFlyToInterpolator)).call(this,{compare:["longitude","latitude","zoom","bearing","pitch"],extract:["width","height","longitude","latitude","zoom","bearing","pitch"],required:["width","height","latitude","longitude","zoom"]}))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(ViewportFlyToInterpolator,__WEBPACK_IMPORTED_MODULE_0__transition_interpolator__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ViewportFlyToInterpolator,[{key:"interpolateProps",value:function interpolateProps(startProps,endProps,t){for(var viewport=Object(__WEBPACK_IMPORTED_MODULE_2_viewport_mercator_project__.c)(startProps,endProps,t),_i=0;_i<LINEARLY_INTERPOLATED_PROPS.length;_i++){var key=LINEARLY_INTERPOLATED_PROPS[_i];viewport[key]=Object(__WEBPACK_IMPORTED_MODULE_1_math_gl__.j)(startProps[key]||0,endProps[key]||0,t)}return viewport}}]),ViewportFlyToInterpolator}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ReflectionEffect});var __WEBPACK_IMPORTED_MODULE_0_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_1__lib_effect__=__webpack_require__(482),__WEBPACK_IMPORTED_MODULE_2__viewports_web_mercator_viewport__=__webpack_require__(481),__WEBPACK_IMPORTED_MODULE_3__reflection_effect_vertex_glsl__=__webpack_require__(1048),__WEBPACK_IMPORTED_MODULE_4__reflection_effect_fragment_glsl__=__webpack_require__(1049);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var ReflectionEffect=function(_Effect){function ReflectionEffect(){var _this,reflectivity=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,blur=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return _classCallCheck(this,ReflectionEffect),(_this=_possibleConstructorReturn(this,(ReflectionEffect.__proto__||Object.getPrototypeOf(ReflectionEffect)).call(this))).reflectivity=reflectivity,_this.blur=blur,_this.framebuffer=null,_this.setNeedsRedraw(),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(ReflectionEffect,__WEBPACK_IMPORTED_MODULE_1__lib_effect__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ReflectionEffect,[{key:"getShaders",value:function getShaders(){return{vs:__WEBPACK_IMPORTED_MODULE_3__reflection_effect_vertex_glsl__.a,fs:__WEBPACK_IMPORTED_MODULE_4__reflection_effect_fragment_glsl__.a,modules:[],shaderCache:this.context.shaderCache}}},{key:"initialize",value:function initialize(_ref){var gl=_ref.gl;_ref.layerManager;this.unitQuad=new __WEBPACK_IMPORTED_MODULE_0_luma_gl__.Model(gl,Object.assign({},this.getShaders(),{id:"reflection-effect",geometry:new __WEBPACK_IMPORTED_MODULE_0_luma_gl__.Geometry({drawMode:__WEBPACK_IMPORTED_MODULE_0_luma_gl__.GL.TRIANGLE_FAN,vertices:new Float32Array([0,0,0,1,0,0,1,1,0,0,1,0])})})),this.framebuffer=new __WEBPACK_IMPORTED_MODULE_0_luma_gl__.Framebuffer(gl,{depth:!0})}},{key:"preDraw",value:function preDraw(_ref2){var gl=_ref2.gl,layerManager=_ref2.layerManager,viewport=layerManager.context.viewport,dpi="undefined"!=typeof window&&window.devicePixelRatio||1;this.framebuffer.resize({width:dpi*viewport.width,height:dpi*viewport.height});var pitch=viewport.pitch;this.framebuffer.bind(),layerManager.setViewport(new __WEBPACK_IMPORTED_MODULE_2__viewports_web_mercator_viewport__.a(Object.assign({},viewport,{pitch:-180-pitch}))),gl.clear(__WEBPACK_IMPORTED_MODULE_0_luma_gl__.GL.COLOR_BUFFER_BIT|__WEBPACK_IMPORTED_MODULE_0_luma_gl__.GL.DEPTH_BUFFER_BIT),layerManager.drawLayers({pass:"reflection"}),layerManager.setViewport(viewport),this.framebuffer.unbind()}},{key:"draw",value:function draw(_ref3){_ref3.gl,_ref3.layerManager;this.unitQuad.render({reflectionTexture:this.framebuffer.texture,reflectionTextureWidth:this.framebuffer.width,reflectionTextureHeight:this.framebuffer.height,reflectivity:this.reflectivity,blur:this.blur})}},{key:"finalize",value:function finalize(_ref4){_ref4.gl,_ref4.layerManager}}]),ReflectionEffect}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME reflection-effect-vs\n\nattribute vec3 vertices;\n\nvarying vec2 uv;\n\nvoid main(void) {\n  uv = vertices.xy;\n  gl_Position = vec4(2. * vertices.xy - vec2(1., 1.), 1., 1.);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='#define SHADER_NAME reflection-effect-fs\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D reflectionTexture;\nuniform int reflectionTextureWidth;\nuniform int reflectionTextureHeight;\n\nuniform float reflectivity;\nuniform float blur;\n\n\nvarying vec2 uv;\n\n#define KERNEL_SIZE 7\n\n/*\n * Samples from tex with a gaussian-shaped patch, centered at uv and\n * with standard deviation sigma.  The size of the texture in\n * pixels must be specified by dim\n */\nvec4 sample_gaussian(sampler2D tex, vec2 dim, vec2 uv, float sigma) {\n  if (sigma == 0.0) {\n    return texture2D(tex, uv);\n  }\n\n  vec2 delta = 1.0 / dim;\n  vec2 top_left = uv - delta * float(KERNEL_SIZE+1) / 2.0;\n\n  vec4 color = vec4(0);\n  float sum = 0.0;\n  for (int i = 0; i <  KERNEL_SIZE; ++i) {\n    for (int j = 0; j < KERNEL_SIZE; ++j) {\n      vec2 uv2 = top_left + vec2(i, j) * delta;\n      float d = length((uv2 - uv) * dim);\n      float f = exp(-(d*d) / (2.0*sigma * sigma));\n      color += f * texture2D(tex, uv2);\n      sum += f;\n    }\n  }\n  return color / sum;\n}\n\nvoid main(void) {\n  //map blur in [0, 1] to sigma in [0, inf]\n  //alpha will determine the "steepness" of our curve.\n  //this was picked just to make the scale feel "natural"\n  //if our image is 1000 pixels wide, a blur of 0.5 should correspond\n  //to a sigma of 1 pixels\n  float alpha = 1000.0;\n  float sigma = blur / (alpha * (1.0 - blur));\n  //let this be our standard deviation in terms of screen-widths.\n  //rewrite this in terms of pixels.\n  sigma *= float(reflectionTextureWidth);\n\n\n  gl_FragColor = sample_gaussian(reflectionTexture, vec2(reflectionTextureWidth,\n    reflectionTextureHeight), vec2(uv.x, 1. - uv.y), sigma);\n  //because our canvas expects alphas to be pre-multiplied, we multiply by whole\n  //color vector by reflectivity, not just the alpha channel\n  gl_FragColor *= reflectivity;\n}\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__.d(__webpack_exports__,"a",function(){return BinSorter});var defaultGetValue=function defaultGetValue(points){return points.length},BinSorter=function(){function BinSorter(){var bins=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],getValue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultGetValue;_classCallCheck(this,BinSorter),this.sortedBins=this.getSortedBins(bins,getValue),this.maxCount=this.getMaxCount(),this.binMap=this.getBinMap()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(BinSorter,[{key:"getSortedBins",value:function getSortedBins(bins,getValue){return bins.reduce(function(accu,h,i){var value=getValue(h.points);return null!==value&&void 0!==value&&accu.push({i:Number.isFinite(h.index)?h.index:i,value:value,counts:h.points.length}),accu},[]).sort(function(a,b){return a.value-b.value})}},{key:"getValueRange",value:function getValueRange(_ref){var _ref2=_slicedToArray(_ref,2),lower=_ref2[0],upper=_ref2[1],len=this.sortedBins.length;if(!len)return[0,0];var lowerIdx=Math.ceil(lower/100*(len-1)),upperIdx=Math.floor(upper/100*(len-1));return[this.sortedBins[lowerIdx].value,this.sortedBins[upperIdx].value]}},{key:"getMaxCount",value:function getMaxCount(){var maxCount=0;return this.sortedBins.forEach(function(x){return maxCount=maxCount>x.counts?maxCount:x.counts}),maxCount}},{key:"getBinMap",value:function getBinMap(){return this.sortedBins.reduce(function(mapper,curr){return Object.assign(mapper,function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},curr.i,curr))},{})}}]),BinSorter}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return defaultColorRange});var defaultColorRange=[[255,255,178],[254,217,118],[254,178,76],[253,141,60],[240,59,32],[189,0,38]]},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.c=function linearScale(domain,range,value){return(value-domain[0])/(domain[1]-domain[0])*(range[1]-range[0])+range[0]},__webpack_exports__.d=quantizeScale,__webpack_exports__.b=function getQuantizeScale(domain,range){return function(value){return quantizeScale(domain,range,value)}},__webpack_exports__.a=function getLinearScale(domain,range){return function(value){return(value-domain[0])/(domain[1]-domain[0])*(range[1]-range[0])+range[0]}};var __WEBPACK_IMPORTED_MODULE_0__log__=__webpack_require__(28);function quantizeScale(domain,range,value){var domainRange=domain[1]-domain[0];if(domainRange<=0)return __WEBPACK_IMPORTED_MODULE_0__log__.a.warn("quantizeScale: invalid domain, returning range[0]"),range[0];var step=domainRange/range.length,idx=Math.floor((value-domain[0])/step);return range[Math.max(Math.min(idx,range.length-1),0)]}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return PerspectiveViewport});var __WEBPACK_IMPORTED_MODULE_0__viewports_viewport__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_1__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_2_gl_mat4_lookAt__=__webpack_require__(156),__WEBPACK_IMPORTED_MODULE_2_gl_mat4_lookAt___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_gl_mat4_lookAt__),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_perspective__=__webpack_require__(157),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_perspective___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_gl_mat4_perspective__);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var DEGREES_TO_RADIANS=Math.PI/180,PerspectiveViewport=function(_Viewport){function PerspectiveViewport(_ref){var width=_ref.width,height=_ref.height,eye=_ref.eye,_ref$lookAt=_ref.lookAt,lookAt=void 0===_ref$lookAt?[0,0,0]:_ref$lookAt,_ref$up=_ref.up,up=void 0===_ref$up?[0,1,0]:_ref$up,_ref$fovy=_ref.fovy,fovy=void 0===_ref$fovy?75:_ref$fovy,_ref$near=_ref.near,near=void 0===_ref$near?1:_ref$near,_ref$far=_ref.far,far=void 0===_ref$far?100:_ref$far,_ref$aspect=_ref.aspect,aspect=void 0===_ref$aspect?null:_ref$aspect;_classCallCheck(this,PerspectiveViewport),__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.deprecated("PerspectiveViewport","PerspectiveView")();var fovyRadians=fovy*DEGREES_TO_RADIANS;return aspect=Number.isFinite(aspect)?aspect:width/height,_possibleConstructorReturn(this,(PerspectiveViewport.__proto__||Object.getPrototypeOf(PerspectiveViewport)).call(this,{viewMatrix:__WEBPACK_IMPORTED_MODULE_2_gl_mat4_lookAt___default()([],eye,lookAt,up),projectionMatrix:__WEBPACK_IMPORTED_MODULE_3_gl_mat4_perspective___default()([],fovyRadians,aspect,near,far),width:width,height:height}))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(PerspectiveViewport,__WEBPACK_IMPORTED_MODULE_0__viewports_viewport__["a"]),PerspectiveViewport}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return OrthographicViewport});var __WEBPACK_IMPORTED_MODULE_0__viewports_viewport__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_1__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_2_gl_mat4_lookAt__=__webpack_require__(156),__WEBPACK_IMPORTED_MODULE_2_gl_mat4_lookAt___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_gl_mat4_lookAt__),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_ortho__=__webpack_require__(583),__WEBPACK_IMPORTED_MODULE_3_gl_mat4_ortho___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_gl_mat4_ortho__);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var OrthographicViewport=function(_Viewport){function OrthographicViewport(_ref){var width=_ref.width,height=_ref.height,_ref$eye=_ref.eye,eye=void 0===_ref$eye?[0,0,1]:_ref$eye,_ref$lookAt=_ref.lookAt,lookAt=void 0===_ref$lookAt?[0,0,0]:_ref$lookAt,_ref$up=_ref.up,up=void 0===_ref$up?[0,1,0]:_ref$up,_ref$near=_ref.near,near=void 0===_ref$near?1:_ref$near,_ref$far=_ref.far,far=void 0===_ref$far?100:_ref$far,left=_ref.left,top=_ref.top,_ref$right=_ref.right,right=void 0===_ref$right?null:_ref$right,_ref$bottom=_ref.bottom,bottom=void 0===_ref$bottom?null:_ref$bottom;return _classCallCheck(this,OrthographicViewport),__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.deprecated("OrthographicViewport","OrthographicView")(),right=Number.isFinite(right)?right:left+width,bottom=Number.isFinite(bottom)?bottom:top+height,_possibleConstructorReturn(this,(OrthographicViewport.__proto__||Object.getPrototypeOf(OrthographicViewport)).call(this,{viewMatrix:__WEBPACK_IMPORTED_MODULE_2_gl_mat4_lookAt___default()([],eye,lookAt,up),projectionMatrix:__WEBPACK_IMPORTED_MODULE_3_gl_mat4_ortho___default()([],left,right,bottom,top,near,far),width:width,height:height}))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(OrthographicViewport,__WEBPACK_IMPORTED_MODULE_0__viewports_viewport__["a"]),OrthographicViewport}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return FirstPersonViewport});var __WEBPACK_IMPORTED_MODULE_0__viewports_viewport__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_1__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_2_math_gl__=__webpack_require__(17);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var SphericalCoordinates=__WEBPACK_IMPORTED_MODULE_2_math_gl__.i.SphericalCoordinates;var FirstPersonViewport=function(_Viewport){function FirstPersonViewport(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,FirstPersonViewport),__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.deprecated("FirstPersonViewport","FirstPersonView")();var _opts$modelMatrix=opts.modelMatrix,modelMatrix=void 0===_opts$modelMatrix?null:_opts$modelMatrix,bearing=opts.bearing,_opts$up=opts.up,up=void 0===_opts$up?[0,0,1]:_opts$up,dir=function getDirectionFromBearingAndPitch(_ref){var bearing=_ref.bearing,pitch=_ref.pitch;return new SphericalCoordinates({bearing:bearing,pitch:pitch}).toVector3().normalize()}({bearing:bearing,pitch:89}),center=modelMatrix?modelMatrix.transformDirection(dir):dir,viewMatrix=(new __WEBPACK_IMPORTED_MODULE_2_math_gl__.a).lookAt({eye:[0,0,0],center:center,up:up});return _possibleConstructorReturn(this,(FirstPersonViewport.__proto__||Object.getPrototypeOf(FirstPersonViewport)).call(this,Object.assign({},opts,{zoom:null,viewMatrix:viewMatrix})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(FirstPersonViewport,__WEBPACK_IMPORTED_MODULE_0__viewports_viewport__["a"]),FirstPersonViewport}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ThirdPersonViewport});var __WEBPACK_IMPORTED_MODULE_0__viewports_viewport__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_1__utils_log__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_2_math_gl__=__webpack_require__(17);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var SphericalCoordinates=__WEBPACK_IMPORTED_MODULE_2_math_gl__.i.SphericalCoordinates;var ThirdPersonViewport=function(_Viewport){function ThirdPersonViewport(opts){_classCallCheck(this,ThirdPersonViewport),__WEBPACK_IMPORTED_MODULE_1__utils_log__.a.deprecated("ThirdPersonViewport","ThirdPersonView")();var bearing=opts.bearing,pitch=opts.pitch,position=opts.position,up=opts.up,distance=50*opts.zoom,eye=function getDirectionFromBearingAndPitch(_ref){var bearing=_ref.bearing,pitch=_ref.pitch;return new SphericalCoordinates({bearing:bearing,pitch:pitch}).toVector3().normalize()}({bearing:bearing,pitch:pitch}).scale(-distance).multiply(new __WEBPACK_IMPORTED_MODULE_2_math_gl__.d(1,1,-1)),viewMatrix=(new __WEBPACK_IMPORTED_MODULE_2_math_gl__.a).multiplyRight((new __WEBPACK_IMPORTED_MODULE_2_math_gl__.a).lookAt({eye:eye,center:position,up:up}));return _possibleConstructorReturn(this,(ThirdPersonViewport.__proto__||Object.getPrototypeOf(ThirdPersonViewport)).call(this,Object.assign({},opts,{zoom:null,viewMatrix:viewMatrix})))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(ThirdPersonViewport,__WEBPACK_IMPORTED_MODULE_0__viewports_viewport__["a"]),ThirdPersonViewport}()},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__arc_layer_arc_layer__=__webpack_require__(1058);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__arc_layer_arc_layer__.a});var __WEBPACK_IMPORTED_MODULE_1__icon_layer_icon_layer__=__webpack_require__(624);__webpack_require__.d(__webpack_exports__,"g",function(){return __WEBPACK_IMPORTED_MODULE_1__icon_layer_icon_layer__.a});var __WEBPACK_IMPORTED_MODULE_2__line_layer_line_layer__=__webpack_require__(1064);__webpack_require__.d(__webpack_exports__,"h",function(){return __WEBPACK_IMPORTED_MODULE_2__line_layer_line_layer__.a});var __WEBPACK_IMPORTED_MODULE_3__point_cloud_layer_point_cloud_layer__=__webpack_require__(1067);__webpack_require__.d(__webpack_exports__,"j",function(){return __WEBPACK_IMPORTED_MODULE_3__point_cloud_layer_point_cloud_layer__.a});var __WEBPACK_IMPORTED_MODULE_4__scatterplot_layer_scatterplot_layer__=__webpack_require__(625);__webpack_require__.d(__webpack_exports__,"l",function(){return __WEBPACK_IMPORTED_MODULE_4__scatterplot_layer_scatterplot_layer__.a});var __WEBPACK_IMPORTED_MODULE_5__screen_grid_layer_screen_grid_layer__=__webpack_require__(1072);__webpack_require__.d(__webpack_exports__,"m",function(){return __WEBPACK_IMPORTED_MODULE_5__screen_grid_layer_screen_grid_layer__.a});var __WEBPACK_IMPORTED_MODULE_6__grid_layer_grid_layer__=__webpack_require__(1075);__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_6__grid_layer_grid_layer__.a});var __WEBPACK_IMPORTED_MODULE_7__grid_cell_layer_grid_cell_layer__=__webpack_require__(626);__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_7__grid_cell_layer_grid_cell_layer__.a});var __WEBPACK_IMPORTED_MODULE_8__hexagon_layer_hexagon_layer__=__webpack_require__(1079);__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_8__hexagon_layer_hexagon_layer__.a});var __WEBPACK_IMPORTED_MODULE_9__hexagon_cell_layer_hexagon_cell_layer__=__webpack_require__(627);__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_9__hexagon_cell_layer_hexagon_cell_layer__.a});var __WEBPACK_IMPORTED_MODULE_10__path_layer_path_layer__=__webpack_require__(485);__webpack_require__.d(__webpack_exports__,"i",function(){return __WEBPACK_IMPORTED_MODULE_10__path_layer_path_layer__.a});var __WEBPACK_IMPORTED_MODULE_11__polygon_layer_polygon_layer__=__webpack_require__(1088);__webpack_require__.d(__webpack_exports__,"k",function(){return __WEBPACK_IMPORTED_MODULE_11__polygon_layer_polygon_layer__.a});var __WEBPACK_IMPORTED_MODULE_12__geojson_layer_geojson_layer__=__webpack_require__(1093);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_12__geojson_layer_geojson_layer__.a});var __WEBPACK_IMPORTED_MODULE_13__text_layer_text_layer__=__webpack_require__(1095);__webpack_require__.d(__webpack_exports__,"n",function(){return __WEBPACK_IMPORTED_MODULE_13__text_layer_text_layer__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ArcLayer});var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2__arc_layer_vertex_glsl__=__webpack_require__(1059),__WEBPACK_IMPORTED_MODULE_3__arc_layer_vertex_64_glsl__=__webpack_require__(1060),__WEBPACK_IMPORTED_MODULE_4__arc_layer_fragment_glsl__=__webpack_require__(1061);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.getPrototypeOf||function _getPrototypeOf(o){return o.__proto__})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var fp64LowPart=__WEBPACK_IMPORTED_MODULE_1_luma_gl__.fp64.fp64LowPart,DEFAULT_COLOR=[0,0,0,255],defaultProps={fp64:!1,getSourcePosition:function getSourcePosition(x){return x.sourcePosition},getTargetPosition:function getTargetPosition(x){return x.targetPosition},getSourceColor:function getSourceColor(x){return x.color||DEFAULT_COLOR},getTargetColor:function getTargetColor(x){return x.color||DEFAULT_COLOR},getStrokeWidth:1},ArcLayer=function(_Layer){function ArcLayer(props){_classCallCheck(this,ArcLayer);var overrideProps=null;return Number.isFinite(props.strokeWidth)&&(__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.log.deprecated("ArcLayer: `strokeWidth`","`getStrokeWidth`"),overrideProps={getStrokeWidth:props.strokeWidth}),_possibleConstructorReturn(this,(ArcLayer.__proto__||Object.getPrototypeOf(ArcLayer)).call(this,props,overrideProps))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(ArcLayer,__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__["Layer"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ArcLayer,[{key:"getShaders",value:function getShaders(){return this.is64bitEnabled()?{vs:__WEBPACK_IMPORTED_MODULE_3__arc_layer_vertex_64_glsl__.a,fs:__WEBPACK_IMPORTED_MODULE_4__arc_layer_fragment_glsl__.a,modules:["project64","picking"]}:{vs:__WEBPACK_IMPORTED_MODULE_2__arc_layer_vertex_glsl__.a,fs:__WEBPACK_IMPORTED_MODULE_4__arc_layer_fragment_glsl__.a,modules:["picking"]}}},{key:"initializeState",value:function initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:4,transition:!0,accessor:["getSourcePosition","getTargetPosition"],update:this.calculateInstancePositions},instanceSourceColors:{size:4,type:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_BYTE,transition:!0,accessor:"getSourceColor",defaultValue:DEFAULT_COLOR},instanceTargetColors:{size:4,type:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_BYTE,transition:!0,accessor:"getTargetColor",defaultValue:DEFAULT_COLOR},instanceWidths:{size:1,transition:!0,accessor:"getStrokeWidth",defaultValue:1}})}},{key:"updateAttribute",value:function updateAttribute(_ref){var props=_ref.props,oldProps=_ref.oldProps;_ref.changeFlags;if(props.fp64!==oldProps.fp64){var attributeManager=this.getAttributeManager();attributeManager.invalidateAll(),props.fp64&&props.coordinateSystem===__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.COORDINATE_SYSTEM.LNGLAT?attributeManager.addInstanced({instancePositions64Low:{size:4,accessor:["getSourcePosition","getTargetPosition"],update:this.calculateInstancePositions64Low}}):attributeManager.remove(["instancePositions64Low"])}}},{key:"updateState",value:function updateState(_ref2){var props=_ref2.props,oldProps=_ref2.oldProps,changeFlags=_ref2.changeFlags;if(_get(ArcLayer.prototype.__proto__||Object.getPrototypeOf(ArcLayer.prototype),"updateState",this).call(this,{props:props,oldProps:oldProps,changeFlags:changeFlags}),props.fp64!==oldProps.fp64){var gl=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(gl)})}this.updateAttribute({props:props,oldProps:oldProps,changeFlags:changeFlags})}},{key:"_getModel",value:function _getModel(gl){for(var positions=[],i=0;i<50;i++)positions=positions.concat([i,-1,0,i,1,0]);var model=new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Model(gl,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Geometry({drawMode:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.TRIANGLE_STRIP,attributes:{positions:new Float32Array(positions)}}),isInstanced:!0,shaderCache:this.context.shaderCache}));return model.setUniforms({numSegments:50}),model}},{key:"calculateInstancePositions",value:function calculateInstancePositions(attribute){var _this$props=this.props,data=_this$props.data,getSourcePosition=_this$props.getSourcePosition,getTargetPosition=_this$props.getTargetPosition,value=attribute.value,size=attribute.size,i=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var object=_step.value,sourcePosition=getSourcePosition(object),targetPosition=getTargetPosition(object);value[i+0]=sourcePosition[0],value[i+1]=sourcePosition[1],value[i+2]=targetPosition[0],value[i+3]=targetPosition[1],i+=size}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"calculateInstancePositions64Low",value:function calculateInstancePositions64Low(attribute){var _this$props2=this.props,data=_this$props2.data,getSourcePosition=_this$props2.getSourcePosition,getTargetPosition=_this$props2.getTargetPosition,value=attribute.value,size=attribute.size,i=0,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=data[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var object=_step2.value,sourcePosition=getSourcePosition(object),targetPosition=getTargetPosition(object);value[i+0]=fp64LowPart(sourcePosition[0]),value[i+1]=fp64LowPart(sourcePosition[1]),value[i+2]=fp64LowPart(targetPosition[0]),value[i+3]=fp64LowPart(targetPosition[1]),i+=size}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}}]),ArcLayer}();ArcLayer.layerName="ArcLayer",ArcLayer.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME arc-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec4 instanceSourceColors;\nattribute vec4 instanceTargetColors;\nattribute vec4 instancePositions;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\n\nuniform float numSegments;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n\n  vec2 x = mix(source, target, ratio);\n  vec2 center = mix(source, target, 0.5);\n\n  float dSourceCenter = distance(source, center);\n  float dXCenter = distance(x, center);\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset_screenspace = dir_screenspace * offset_direction * instanceWidths / 2.0;\n  vec2 offset_clipspace = project_pixel_to_clipspace(offset_screenspace).xy;\n\n  return offset_clipspace;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n  float vertex_height = paraboloid(source, target, segmentRatio);\n\n  return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n  );\n}\n\nvoid main(void) {\n  vec2 source = project_position(instancePositions.xy);\n  vec2 target = project_position(instancePositions.zw);\n\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  // if it's the first point, use next - current as direction\n  // otherwise use current - prev\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n\n  vec3 currPos = getPos(source, target, segmentRatio);\n  vec3 nextPos = getPos(source, target, nextSegmentRatio);\n  vec4 curr = project_to_clipspace(vec4(currPos, 1.0));\n  vec4 next = project_to_clipspace(vec4(nextPos, 1.0));\n\n  // extrude\n  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, positions.y);\n  gl_Position = curr + vec4(offset, 0.0, 0.0);\n\n  vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio) / 255.;\n  vColor = vec4(color.rgb, color.a * opacity);\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME arc-layer-vertex-shader-64\n\nattribute vec3 positions;\nattribute vec4 instanceSourceColors;\nattribute vec4 instanceTargetColors;\n\nattribute vec4 instancePositions;\nattribute vec4 instancePositions64Low;\n\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\n\nuniform float numSegments;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nvec2 paraboloid_fp64(vec2 source[2], vec2 target[2], float ratio) {\n\n  vec2 x[2];\n  vec2_mix_fp64(source, target, ratio, x);\n  vec2 center[2];\n  vec2_mix_fp64(source, target, 0.5, center);\n\n  vec2 dSourceCenter = vec2_distance_fp64(source, center);\n  vec2 dXCenter = vec2_distance_fp64(x, center);\n  return mul_fp64(sum_fp64(dSourceCenter, dXCenter), sub_fp64(dSourceCenter, dXCenter));\n}\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset_screenspace = dir_screenspace * offset_direction * instanceWidths / 2.0;\n  vec2 offset_clipspace = project_pixel_to_clipspace(offset_screenspace).xy;\n\n  return offset_clipspace;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\n\nvoid get_pos_fp64(vec2 source[2], vec2 target[2], float segmentRatio, out vec2 position[4]) {\n\n  vec2 vertex_height = paraboloid_fp64(source, target, segmentRatio);\n\n  vec2 position_temp[2];\n\n  vec2_mix_fp64(source, target, segmentRatio, position_temp);\n\n  position[0] = position_temp[0];\n  position[1] = position_temp[1];\n\n  if (vertex_height.x < 0.0 || (vertex_height.x == 0.0 && vertex_height.y <= 0.0)) {\n    vertex_height = vec2(0.0, 0.0);\n  }\n\n  position[2] = sqrt_fp64(vertex_height);\n  position[3] = vec2(1.0, 0.0);\n}\n\nvoid main(void) {\n  vec2 projected_source_coord[2];\n  vec2 projected_target_coord[2];\n\n  project_position_fp64(instancePositions.xy, instancePositions64Low.xy, projected_source_coord);\n  project_position_fp64(instancePositions.zw, instancePositions64Low.zw, projected_target_coord);\n\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n\n  // if it's the first point, use next - current as direction\n  // otherwise use current - prev\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n\n  vec2 curr_pos_modelspace[4];\n\n  get_pos_fp64(projected_source_coord, projected_target_coord, segmentRatio,\n    curr_pos_modelspace);\n\n  vec2 next_pos_modelspace[4];\n\n  get_pos_fp64(projected_source_coord, projected_target_coord, nextSegmentRatio,\n    next_pos_modelspace);\n\n  vec4 curr_pos_clipspace = project_to_clipspace_fp64(curr_pos_modelspace);\n  vec4 next_pos_clipspace = project_to_clipspace_fp64(next_pos_modelspace);\n\n  vec2 offset = getExtrusionOffset(next_pos_clipspace.xy - curr_pos_clipspace.xy, positions.y);\n\n  gl_Position = curr_pos_clipspace + vec4(offset, 0.0, 0.0);\n\n  vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio) / 255.;\n  vColor = vec4(color.rgb, color.a * opacity);\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME arc-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  vec2 iconSize = instanceIconFrames.zw;\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : instanceSizes / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * sizeScale * instanceScale;\n  pixelOffset.y *= -1.0;\n\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64xyLow, vec3(0.0));\n  gl_Position += project_pixel_to_clipspace(pixelOffset);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vTextureCoords.y = 1.0 - vTextureCoords.y;\n\n  vColor = instanceColors / 255.;\n\n  vColorMode = instanceColorModes;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME icon-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\n\nconst float MIN_ALPHA = 0.05;\n\nvoid main(void) {\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // if colorMode == 0, use pixel color from the texture\n  // if colorMode == 1 or rendering picking buffer, use texture as transparency mask\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  float a = texColor.a * opacity * mix(1.0, vColor.a, vColorMode);\n\n  if (a < MIN_ALPHA) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return LineLayer});var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2__line_layer_vertex_glsl__=__webpack_require__(1065),__WEBPACK_IMPORTED_MODULE_3__line_layer_fragment_glsl__=__webpack_require__(1066);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.getPrototypeOf||function _getPrototypeOf(o){return o.__proto__})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var fp64LowPart=__WEBPACK_IMPORTED_MODULE_1_luma_gl__.fp64.fp64LowPart,DEFAULT_COLOR=[0,0,0,255],defaultProps={fp64:!1,getSourcePosition:function getSourcePosition(x){return x.sourcePosition},getTargetPosition:function getTargetPosition(x){return x.targetPosition},getColor:function getColor(x){return x.color||DEFAULT_COLOR},getStrokeWidth:1},LineLayer=function(_Layer){function LineLayer(props){_classCallCheck(this,LineLayer);var overrideProps=null;return Number.isFinite(props.strokeWidth)&&(__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.log.deprecated("LineLayer: `strokeWidth`","`getStrokeWidth`"),overrideProps={getStrokeWidth:props.strokeWidth}),_possibleConstructorReturn(this,(LineLayer.__proto__||Object.getPrototypeOf(LineLayer)).call(this,props,overrideProps))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(LineLayer,__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__["Layer"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LineLayer,[{key:"getShaders",value:function getShaders(){var projectModule=this.is64bitEnabled()?"project64":"project32";return{vs:__WEBPACK_IMPORTED_MODULE_2__line_layer_vertex_glsl__.a,fs:__WEBPACK_IMPORTED_MODULE_3__line_layer_fragment_glsl__.a,modules:[projectModule,"picking"]}}},{key:"initializeState",value:function initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,transition:!0,accessor:"getTargetPosition"},instanceSourceTargetPositions64xyLow:{size:4,accessor:["getSourcePosition","getTargetPosition"],update:this.calculateInstanceSourceTargetPositions64xyLow},instanceColors:{size:4,type:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_BYTE,transition:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceWidths:{size:1,transition:!0,accessor:"getStrokeWidth",defaultValue:1}})}},{key:"updateState",value:function updateState(_ref){var props=_ref.props,oldProps=_ref.oldProps,changeFlags=_ref.changeFlags;if(_get(LineLayer.prototype.__proto__||Object.getPrototypeOf(LineLayer.prototype),"updateState",this).call(this,{props:props,oldProps:oldProps,changeFlags:changeFlags}),props.fp64!==oldProps.fp64){var gl=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(gl)}),this.state.attributeManager.invalidateAll()}}},{key:"_getModel",value:function _getModel(gl){return new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Model(gl,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Geometry({drawMode:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.TRIANGLE_STRIP,attributes:{positions:new Float32Array([0,-1,0,0,1,0,1,-1,0,1,1,0])}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"calculateInstanceSourceTargetPositions64xyLow",value:function calculateInstanceSourceTargetPositions64xyLow(attribute){var isFP64=this.is64bitEnabled();if(attribute.isGeneric=!isFP64,isFP64){var _this$props=this.props,data=_this$props.data,getSourcePosition=_this$props.getSourcePosition,getTargetPosition=_this$props.getTargetPosition,value=attribute.value,size=attribute.size,i=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var object=_step.value,sourcePosition=getSourcePosition(object),targetPosition=getTargetPosition(object);value[i+0]=fp64LowPart(sourcePosition[0]),value[i+1]=fp64LowPart(sourcePosition[1]),value[i+2]=fp64LowPart(targetPosition[0]),value[i+3]=fp64LowPart(targetPosition[1]),i+=size}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}else attribute.value=new Float32Array(4)}}]),LineLayer}();LineLayer.layerName="LineLayer",LineLayer.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME line-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceTargetPositions;\nattribute vec4 instanceSourceTargetPositions64xyLow;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\n\nuniform float opacity;\n\nvarying vec4 vColor;\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset_screenspace = dir_screenspace * offset_direction * instanceWidths / 2.0;\n  vec2 offset_clipspace = project_pixel_to_clipspace(offset_screenspace).xy;\n\n  return offset_clipspace;\n}\n\nvoid main(void) {\n  // Position\n  vec4 source = project_position_to_clipspace(instanceSourcePositions, instanceSourceTargetPositions64xyLow.xy, vec3(0.));\n  vec4 target = project_position_to_clipspace(instanceTargetPositions, instanceSourceTargetPositions64xyLow.zw, vec3(0.));\n\n  // linear interpolation of source & target to pick right coord\n  float segmentIndex = positions.x;\n  vec4 p = mix(source, target, segmentIndex);\n\n  // extrude\n  vec2 offset = getExtrusionOffset(target.xy - source.xy, positions.y);\n  gl_Position = p + vec4(offset, 0.0, 0.0);\n\n  // Color\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME line-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return PointCloudLayer});var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2__point_cloud_layer_vertex_glsl__=__webpack_require__(1068),__WEBPACK_IMPORTED_MODULE_3__point_cloud_layer_fragment_glsl__=__webpack_require__(1069);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.getPrototypeOf||function _getPrototypeOf(o){return o.__proto__})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var fp64LowPart=__WEBPACK_IMPORTED_MODULE_1_luma_gl__.fp64.fp64LowPart,DEFAULT_COLOR=[0,0,0,255],defaultProps={radiusPixels:10,fp64:!1,getPosition:function getPosition(x){return x.position},getNormal:function getNormal(x){return x.normal},getColor:function getColor(x){return x.color||DEFAULT_COLOR},lightSettings:{}},PointCloudLayer=function(_Layer){function PointCloudLayer(){return _classCallCheck(this,PointCloudLayer),_possibleConstructorReturn(this,(PointCloudLayer.__proto__||Object.getPrototypeOf(PointCloudLayer)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(PointCloudLayer,__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__["Layer"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PointCloudLayer,[{key:"getShaders",value:function getShaders(id){var projectModule=this.is64bitEnabled()?"project64":"project32";return{vs:__WEBPACK_IMPORTED_MODULE_2__point_cloud_layer_vertex_glsl__.a,fs:__WEBPACK_IMPORTED_MODULE_3__point_cloud_layer_fragment_glsl__.a,modules:[projectModule,"lighting","picking"]}}},{key:"initializeState",value:function initializeState(){this.state.attributeManager.addInstanced({instancePositions:{size:3,transition:!0,accessor:"getPosition"},instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow},instanceNormals:{size:3,transition:!0,accessor:"getNormal",defaultValue:[0,0,1]},instanceColors:{size:4,type:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_BYTE,transition:!0,accessor:"getColor",defaultValue:[0,0,0,255]}})}},{key:"updateState",value:function updateState(_ref){var props=_ref.props,oldProps=_ref.oldProps,changeFlags=_ref.changeFlags;if(_get(PointCloudLayer.prototype.__proto__||Object.getPrototypeOf(PointCloudLayer.prototype),"updateState",this).call(this,{props:props,oldProps:oldProps,changeFlags:changeFlags}),props.fp64!==oldProps.fp64){var gl=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(gl)}),this.state.attributeManager.invalidateAll()}}},{key:"draw",value:function draw(_ref2){var uniforms=_ref2.uniforms,radiusPixels=this.props.radiusPixels;this.state.model.render(Object.assign({},uniforms,{radiusPixels:radiusPixels}))}},{key:"_getModel",value:function _getModel(gl){for(var positions=[],i=0;i<3;i++){var angle=i/3*Math.PI*2;positions.push(2*Math.cos(angle),2*Math.sin(angle),0)}return new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Model(gl,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Geometry({drawMode:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.TRIANGLES,attributes:{positions:new Float32Array(positions)}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"calculateInstancePositions64xyLow",value:function calculateInstancePositions64xyLow(attribute){var isFP64=this.is64bitEnabled();if(attribute.isGeneric=!isFP64,isFP64){var _this$props=this.props,data=_this$props.data,getPosition=_this$props.getPosition,value=attribute.value,i=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var position=getPosition(_step.value);value[i++]=fp64LowPart(position[0]),value[i++]=fp64LowPart(position[1])}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}else attribute.value=new Float32Array(2)}}]),PointCloudLayer}();PointCloudLayer.layerName="PointCloudLayer",PointCloudLayer.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME point-cloud-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute vec3 instanceNormals;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusPixels;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n\n  // Find the center of the point and add the current vertex\n  vec4 position_worldspace;\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64xyLow, vec3(0.), position_worldspace);\n  gl_Position += project_pixel_to_clipspace(positions.xy * radiusPixels);\n\n  // Apply lighting\n  float lightWeight = lighting_getLightWeight(position_worldspace.xyz, // the w component is always 1.0\n    project_normal(instanceNormals));\n\n  // Apply opacity to instance color, or return instance picking color\n  vColor = vec4(lightWeight * instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME point-cloud-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute float instanceRadius;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float outline;\nuniform float strokeWidth;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\n\nvoid main(void) {\n  // Multiply out radius and clamp to limits\n  float outerRadiusPixels = clamp(\n    project_scale(radiusScale * instanceRadius),\n    radiusMinPixels, radiusMaxPixels\n  );\n\n  // outline is centered at the radius\n  // outer radius needs to offset by half stroke width\n  outerRadiusPixels += outline * strokeWidth / 2.0;\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n  // 0 - solid circle, 1 - stroke with lineWidth=0\n  innerUnitRadius = outline * (1.0 - strokeWidth / outerRadiusPixels);\n\n  vec3 offset = positions * outerRadiusPixels;\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64xyLow, offset);\n\n  // Apply opacity to instance color, or return instance picking color\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME scatterplot-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\n\nvoid main(void) {\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0 || distToCenter < innerUnitRadius) {\n    discard;\n  }\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ScreenGridLayer});var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1_luma_gl__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_2_math_gl__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_3__screen_grid_layer_vertex_glsl__=__webpack_require__(1073),__WEBPACK_IMPORTED_MODULE_4__screen_grid_layer_fragment_glsl__=__webpack_require__(1074);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.getPrototypeOf||function _getPrototypeOf(o){return o.__proto__})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var defaultColorRange=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.defaultColorRange,quantizeScale=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.quantizeScale,DEFAULT_MINCOLOR=[0,0,0,255],DEFAULT_MAXCOLOR=[0,255,0,255],defaultProps={cellSizePixels:100,colorDomain:null,colorRange:defaultColorRange,getPosition:function getPosition(d){return d.position},getWeight:function getWeight(d){return 1}},ScreenGridLayer=function(_Layer){function ScreenGridLayer(){return _classCallCheck(this,ScreenGridLayer),_possibleConstructorReturn(this,(ScreenGridLayer.__proto__||Object.getPrototypeOf(ScreenGridLayer)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(ScreenGridLayer,__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__["Layer"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ScreenGridLayer,[{key:"getShaders",value:function getShaders(){return{vs:__WEBPACK_IMPORTED_MODULE_3__screen_grid_layer_vertex_glsl__.a,fs:__WEBPACK_IMPORTED_MODULE_4__screen_grid_layer_fragment_glsl__.a,modules:["picking"]}}},{key:"initializeState",value:function initializeState(){var attributeManager=this.getAttributeManager(),gl=this.context.gl;attributeManager.addInstanced({instancePositions:{size:3,update:this.calculateInstancePositions},instanceColors:{size:4,type:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.UNSIGNED_BYTE,transition:!0,accessor:["getPosition","getWeight"],update:this.calculateInstanceColors}}),this.setState({model:this._getModel(gl)})}},{key:"shouldUpdateState",value:function shouldUpdateState(_ref){return _ref.changeFlags.somethingChanged}},{key:"updateState",value:function updateState(_ref2){var oldProps=_ref2.oldProps,props=_ref2.props,changeFlags=_ref2.changeFlags;_get(ScreenGridLayer.prototype.__proto__||Object.getPrototypeOf(ScreenGridLayer.prototype),"updateState",this).call(this,{props:props,oldProps:oldProps,changeFlags:changeFlags}),(props.cellSizePixels!==oldProps.cellSizePixels||changeFlags.viewportChanged)&&this.updateCell()}},{key:"draw",value:function draw(_ref3){var uniforms=_ref3.uniforms,_this$props$parameter=this.props.parameters,parameters=void 0===_this$props$parameter?{}:_this$props$parameter,_this$state=this.state,model=_this$state.model,cellScale=_this$state.cellScale;uniforms=Object.assign({},uniforms,{cellScale:cellScale}),model.draw({uniforms:uniforms,parameters:Object.assign({depthTest:!1,depthMask:!1},parameters)})}},{key:"_getModel",value:function _getModel(gl){return new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Model(gl,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new __WEBPACK_IMPORTED_MODULE_1_luma_gl__.Geometry({drawMode:__WEBPACK_IMPORTED_MODULE_1_luma_gl__.GL.TRIANGLE_FAN,attributes:{vertices:new Float32Array([0,0,0,1,0,0,1,1,0,0,1,0])}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"updateCell",value:function updateCell(){var _this$context$viewpor=this.context.viewport,width=_this$context$viewpor.width,height=_this$context$viewpor.height,cellSizePixels=this.props.cellSizePixels,cellScale=new Float32Array([(cellSizePixels-2)/width*2,-(cellSizePixels-2)/height*2,1]),numCol=Math.ceil(width/cellSizePixels),numRow=Math.ceil(height/cellSizePixels);this.setState({cellScale:cellScale,numCol:numCol,numRow:numRow,numInstances:numCol*numRow}),this.getAttributeManager().invalidateAll()}},{key:"calculateInstancePositions",value:function calculateInstancePositions(attribute,_ref4){for(var numInstances=_ref4.numInstances,_this$context$viewpor2=this.context.viewport,width=_this$context$viewpor2.width,height=_this$context$viewpor2.height,cellSizePixels=this.props.cellSizePixels,numCol=this.state.numCol,value=attribute.value,size=attribute.size,i=0;i<numInstances;i++){var x=i%numCol,y=Math.floor(i/numCol);value[i*size+0]=x*cellSizePixels/width*2-1,value[i*size+1]=1-y*cellSizePixels/height*2,value[i*size+2]=0}}},{key:"calculateInstanceColors",value:function calculateInstanceColors(attribute){var _this$props=this.props,data=_this$props.data,cellSizePixels=_this$props.cellSizePixels,getPosition=_this$props.getPosition,getWeight=_this$props.getWeight,_this$state2=this.state,numCol=_this$state2.numCol,numRow=_this$state2.numRow,numInstances=_this$state2.numInstances,value=attribute.value,size=attribute.size,weights=new Array(numInstances),maxCount=0;weights.fill(0);var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var point=_step.value,pixel=this.project(getPosition(point)),colId=Math.floor(pixel[0]/cellSizePixels),rowId=Math.floor(pixel[1]/cellSizePixels);if(colId>=0&&colId<numCol&&rowId>=0&&rowId<numRow){var _i=colId+rowId*numCol;weights[_i]+=getWeight(point),weights[_i]>maxCount&&(maxCount=weights[_i])}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.setState({maxCount:maxCount});for(var i=0;i<numInstances;i++){var color=this._getColor(weights[i],maxCount),index=i*size;value[index+0]=color[0],value[index+1]=color[1],value[index+2]=color[2],value[index+3]=color[3]}}},{key:"_getColor",value:function _getColor(weight,maxCount){var color,_this$props2=this.props,minColor=_this$props2.minColor,maxColor=_this$props2.maxColor,colorRange=_this$props2.colorRange;if(this._shouldUseMinMax()){var step=weight/maxCount;return color=Object(__WEBPACK_IMPORTED_MODULE_2_math_gl__.j)(minColor||DEFAULT_MINCOLOR,maxColor||DEFAULT_MAXCOLOR,step)}var colorDomain=this.props.colorDomain||[1,maxCount];return weight<colorDomain[0]||weight>colorDomain[1]?[0,0,0,0]:((color=quantizeScale(colorDomain,colorRange,weight))[3]=Number.isFinite(color[3])?color[3]:255,color)}},{key:"_shouldUseMinMax",value:function _shouldUseMinMax(){var _this$props3=this.props,minColor=_this$props3.minColor,maxColor=_this$props3.maxColor,colorDomain=_this$props3.colorDomain,colorRange=_this$props3.colorRange;return!(!minColor&&!maxColor)||!colorDomain&&!colorRange}}]),ScreenGridLayer}();ScreenGridLayer.layerName="ScreenGridLayer",ScreenGridLayer.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME screen-grid-layer-vertex-shader\n\nattribute vec3 vertices;\nattribute vec3 instancePositions;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform vec3 cellScale;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 color = instanceColors / 255.;\n\n  vColor = vec4(color.rgb, color.a * opacity);\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n\n  gl_Position = vec4(instancePositions + vertices * cellScale, 1.);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME screen-grid-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return GridLayer});var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__grid_cell_layer_grid_cell_layer__=__webpack_require__(626),__WEBPACK_IMPORTED_MODULE_2__grid_aggregator__=__webpack_require__(1078);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.getPrototypeOf||function _getPrototypeOf(o){return o.__proto__})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var BinSorter=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.BinSorter,defaultColorRange=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.defaultColorRange,getQuantizeScale=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.getQuantizeScale,getLinearScale=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.getLinearScale;function nop(){}var defaultProps={colorDomain:null,colorRange:defaultColorRange,getColorValue:function getColorValue(points){return points.length},lowerPercentile:{type:"number",min:0,max:100,value:0},upperPercentile:{type:"number",min:0,max:100,value:100},onSetColorDomain:nop,elevationDomain:null,elevationRange:[0,1e3],getElevationValue:function getElevationValue(points){return points.length},elevationLowerPercentile:{type:"number",min:0,max:100,value:0},elevationUpperPercentile:{type:"number",min:0,max:100,value:100},elevationScale:1,onSetElevationDomain:nop,cellSize:{type:"number",min:0,max:1e3,value:1e3},coverage:{type:"number",min:0,max:1,value:1},getPosition:function getPosition(x){return x.position},extruded:!1,fp64:!1,lightSettings:{}},GridLayer=function(_CompositeLayer){function GridLayer(){return _classCallCheck(this,GridLayer),_possibleConstructorReturn(this,(GridLayer.__proto__||Object.getPrototypeOf(GridLayer)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(GridLayer,__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__["CompositeLayer"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(GridLayer,[{key:"initializeState",value:function initializeState(){this.state={layerData:[],sortedColorBins:null,sortedElevationBins:null,colorValueDomain:null,elevationValueDomain:null,colorScaleFunc:nop,elevationScaleFunc:nop,dimensionUpdaters:this.getDimensionUpdaters()}}},{key:"updateState",value:function updateState(_ref){var _this=this,oldProps=_ref.oldProps,props=_ref.props,changeFlags=_ref.changeFlags,reprojectNeeded=this.needsReProjectPoints(oldProps,props);changeFlags.dataChanged||reprojectNeeded?this.getLayerData():(this.getDimensionChanges(oldProps,props)||[]).forEach(function(f){return"function"==typeof f&&f.apply(_this)})}},{key:"needsReProjectPoints",value:function needsReProjectPoints(oldProps,props){return oldProps.cellSize!==props.cellSize}},{key:"getDimensionUpdaters",value:function getDimensionUpdaters(){return{getColor:[{id:"value",triggers:["getColorValue"],updater:this.getSortedColorBins},{id:"domain",triggers:["lowerPercentile","upperPercentile"],updater:this.getColorValueDomain},{id:"scaleFunc",triggers:["colorDomain","colorRange"],updater:this.getColorScale}],getElevation:[{id:"value",triggers:["getElevationValue"],updater:this.getSortedElevationBins},{id:"domain",triggers:["elevationLowerPercentile","elevationUpperPercentile"],updater:this.getElevationValueDomain},{id:"scaleFunc",triggers:["elevationDomain","elevationRange"],updater:this.getElevationScale}]}}},{key:"getDimensionChanges",value:function getDimensionChanges(oldProps,props){var dimensionUpdaters=this.state.dimensionUpdaters,updaters=[];for(var dimensionKey in dimensionUpdaters){var needUpdate=dimensionUpdaters[dimensionKey].find(function(item){return item.triggers.some(function(t){return oldProps[t]!==props[t]})});needUpdate&&updaters.push(needUpdate.updater)}return updaters.length?updaters:null}},{key:"getPickingInfo",value:function getPickingInfo(_ref2){var info=_ref2.info,_this$state=this.state,sortedColorBins=_this$state.sortedColorBins,sortedElevationBins=_this$state.sortedElevationBins,object=null;if(info.picked&&info.index>-1){var cell=this.state.layerData[info.index],colorValue=sortedColorBins.binMap[cell.index]&&sortedColorBins.binMap[cell.index].value,elevationValue=sortedElevationBins.binMap[cell.index]&&sortedElevationBins.binMap[cell.index].value;object=Object.assign({colorValue:colorValue,elevationValue:elevationValue},cell)}return Object.assign(info,{picked:Boolean(object),object:object})}},{key:"getUpdateTriggers",value:function getUpdateTriggers(){var _this2=this,dimensionUpdaters=this.state.dimensionUpdaters,updateTriggers={},_loop=function _loop(dimensionKey){updateTriggers[dimensionKey]={};var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=dimensionUpdaters[dimensionKey][Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){_step.value.triggers.forEach(function(prop){updateTriggers[dimensionKey][prop]=_this2.props[prop]})}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}};for(var dimensionKey in dimensionUpdaters)_loop(dimensionKey);return updateTriggers}},{key:"getLayerData",value:function getLayerData(){var _this$props=this.props,data=_this$props.data,cellSize=_this$props.cellSize,getPosition=_this$props.getPosition,layerData=Object(__WEBPACK_IMPORTED_MODULE_2__grid_aggregator__.a)(data,cellSize,getPosition).layerData;this.setState({layerData:layerData}),this.getSortedBins()}},{key:"getValueDomain",value:function getValueDomain(){this.getColorValueDomain(),this.getElevationValueDomain()}},{key:"getSortedBins",value:function getSortedBins(){this.getSortedColorBins(),this.getSortedElevationBins()}},{key:"getSortedColorBins",value:function getSortedColorBins(){var getColorValue=this.props.getColorValue,sortedColorBins=new BinSorter(this.state.layerData||[],getColorValue);this.setState({sortedColorBins:sortedColorBins}),this.getColorValueDomain()}},{key:"getSortedElevationBins",value:function getSortedElevationBins(){var getElevationValue=this.props.getElevationValue,sortedElevationBins=new BinSorter(this.state.layerData||[],getElevationValue);this.setState({sortedElevationBins:sortedElevationBins}),this.getElevationValueDomain()}},{key:"getColorValueDomain",value:function getColorValueDomain(){var _this$props2=this.props,lowerPercentile=_this$props2.lowerPercentile,upperPercentile=_this$props2.upperPercentile,onSetColorDomain=_this$props2.onSetColorDomain;this.state.colorValueDomain=this.state.sortedColorBins.getValueRange([lowerPercentile,upperPercentile]),"function"==typeof onSetColorDomain&&onSetColorDomain(this.state.colorValueDomain),this.getColorScale()}},{key:"getElevationValueDomain",value:function getElevationValueDomain(){var _this$props3=this.props,elevationLowerPercentile=_this$props3.elevationLowerPercentile,elevationUpperPercentile=_this$props3.elevationUpperPercentile,onSetElevationDomain=_this$props3.onSetElevationDomain;this.state.elevationValueDomain=this.state.sortedElevationBins.getValueRange([elevationLowerPercentile,elevationUpperPercentile]),"function"==typeof onSetElevationDomain&&onSetElevationDomain(this.state.elevationValueDomain),this.getElevationScale()}},{key:"getColorScale",value:function getColorScale(){var colorRange=this.props.colorRange,colorDomain=this.props.colorDomain||this.state.colorValueDomain;this.state.colorScaleFunc=getQuantizeScale(colorDomain,colorRange)}},{key:"getElevationScale",value:function getElevationScale(){var elevationRange=this.props.elevationRange,elevationDomain=this.props.elevationDomain||this.state.elevationValueDomain;this.state.elevationScaleFunc=getLinearScale(elevationDomain,elevationRange)}},{key:"_onGetSublayerColor",value:function _onGetSublayerColor(cell){var _this$state2=this.state,sortedColorBins=_this$state2.sortedColorBins,colorScaleFunc=_this$state2.colorScaleFunc,colorValueDomain=_this$state2.colorValueDomain,cv=sortedColorBins.binMap[cell.index]&&sortedColorBins.binMap[cell.index].value,colorDomain=this.props.colorDomain||colorValueDomain,color=cv>=colorDomain[0]&&cv<=colorDomain[colorDomain.length-1]?colorScaleFunc(cv):[0,0,0,0];return color[3]=Number.isFinite(color[3])?color[3]:255,color}},{key:"_onGetSublayerElevation",value:function _onGetSublayerElevation(cell){var _this$state3=this.state,sortedElevationBins=_this$state3.sortedElevationBins,elevationScaleFunc=_this$state3.elevationScaleFunc,elevationValueDomain=_this$state3.elevationValueDomain,ev=sortedElevationBins.binMap[cell.index]&&sortedElevationBins.binMap[cell.index].value,elevationDomain=this.props.elevationDomain||elevationValueDomain;return ev>=elevationDomain[0]&&ev<=elevationDomain[elevationDomain.length-1]?elevationScaleFunc(ev):-1}},{key:"getSubLayerProps",value:function getSubLayerProps(){var _this$props4=this.props,elevationScale=_this$props4.elevationScale,fp64=_this$props4.fp64,extruded=_this$props4.extruded,cellSize=_this$props4.cellSize,coverage=_this$props4.coverage,lightSettings=_this$props4.lightSettings,transitions=_this$props4.transitions;return _get(GridLayer.prototype.__proto__||Object.getPrototypeOf(GridLayer.prototype),"getSubLayerProps",this).call(this,{id:"grid-cell",data:this.state.layerData,fp64:fp64,cellSize:cellSize,coverage:coverage,lightSettings:lightSettings,elevationScale:elevationScale,extruded:extruded,getColor:this._onGetSublayerColor.bind(this),getElevation:this._onGetSublayerElevation.bind(this),transitions:transitions&&{getColor:transitions.getColorValue,getElevation:transitions.getElevationValue},updateTriggers:this.getUpdateTriggers()})}},{key:"getSubLayerClass",value:function getSubLayerClass(){return __WEBPACK_IMPORTED_MODULE_1__grid_cell_layer_grid_cell_layer__.a}},{key:"renderLayers",value:function renderLayers(){return new(this.getSubLayerClass())(this.getSubLayerProps())}}]),GridLayer}();GridLayer.layerName="GridLayer",GridLayer.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME grid-cell-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 normals;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute float instanceElevations;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\n// Custom uniforms\nuniform float extruded;\nuniform float cellSize;\nuniform float coverage;\nuniform float opacity;\nuniform float elevationScale;\n\n// A magic number to scale elevation so that 1 unit approximate to 1 meter\n#define ELEVATION_SCALE 0.8\n\n// Result\nvarying vec4 vColor;\n\nvoid main(void) {\n\n  // if ahpha == 0.0 or z < 0.0, do not render element\n  float noRender = float(instanceColors.a == 0.0 || instanceElevations < 0.0);\n  float finalCellSize = project_scale(cellSize) * mix(1.0, 0.0, noRender);\n\n  float elevation = 0.0;\n\n  if (extruded > 0.5) {\n    elevation = instanceElevations  * (positions.z + 1.0) *\n      ELEVATION_SCALE * elevationScale;\n  }\n\n  // cube geometry vertics are between -1 to 1, scale and transform it to between 0, 1\n  vec3 extrudedPosition = vec3(instancePositions.xy, elevation);\n  vec2 extrudedPosition64xyLow = instancePositions64xyLow;\n  vec3 offset = vec3(\n    (positions.x * coverage + 1.0) / 2.0 * finalCellSize,\n    (positions.y * coverage - 1.0) / 2.0 * finalCellSize,\n    1.0);\n\n  // extrude positions\n  vec4 position_worldspace;\n  gl_Position = project_position_to_clipspace(extrudedPosition, extrudedPosition64xyLow, offset, position_worldspace);\n\n  float lightWeight = 1.0;\n\n  if (extruded > 0.5) {\n    lightWeight = lighting_getLightWeight(\n      position_worldspace.xyz, // the w component is always 1.0\n      normals\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * instanceColors.rgb;\n  vec4 color = vec4(lightWeightedColor, instanceColors.a * opacity) / 255.0;\n  vColor = color;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME grid-cell-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function pointToDensityGridData(points,cellSize,getPosition){var _pointsToGridHashing2=function _pointsToGridHashing(){for(var pLat,points=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],cellSize=arguments.length>1?arguments[1]:void 0,getPosition=arguments.length>2?arguments[2]:void 0,latMin=1/0,latMax=-1/0,p=0;p<points.length;p++)pLat=getPosition(points[p])[1],Number.isFinite(pLat)&&(latMin=pLat<latMin?pLat:latMin,latMax=pLat>latMax?pLat:latMax);var gridOffset=function _calculateGridLatLonOffset(cellSize,latitude){var yOffset=function _calculateLatOffset(dy){return dy/R_EARTH*(180/Math.PI)}(cellSize),xOffset=function _calculateLonOffset(lat,dx){return dx/R_EARTH*(180/Math.PI)/Math.cos(lat*Math.PI/180)}(latitude,cellSize);return{yOffset:yOffset,xOffset:xOffset}}(cellSize,(latMin+latMax)/2);if(gridOffset.xOffset<=0||gridOffset.yOffset<=0)return{gridHash:{},gridOffset:gridOffset};return{gridHash:points.reduce(function(accu,pt){var lat=getPosition(pt)[1],lng=getPosition(pt)[0];if(!Number.isFinite(lat)||!Number.isFinite(lng))return accu;var latIdx=Math.floor((lat+90)/gridOffset.yOffset),lonIdx=Math.floor((lng+180)/gridOffset.xOffset),key="".concat(latIdx,"-").concat(lonIdx);return accu[key]=accu[key]||{count:0,points:[]},accu[key].count+=1,accu[key].points.push(pt),accu},{}),gridOffset:gridOffset}}(points,cellSize,getPosition),gridHash=_pointsToGridHashing2.gridHash,gridOffset=_pointsToGridHashing2.gridOffset,layerData=function _getGridLayerDataFromGridHash(gridHash,gridOffset){return Object.keys(gridHash).reduce(function(accu,key,i){var idxs=key.split("-"),latIdx=parseInt(idxs[0],10),lonIdx=parseInt(idxs[1],10);return accu.push(Object.assign({index:i,position:[gridOffset.xOffset*lonIdx-180,gridOffset.yOffset*latIdx-90]},gridHash[key])),accu},[])}(gridHash,gridOffset);return{gridOffset:gridOffset,layerData:layerData}};var R_EARTH=6378e3},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return HexagonLayer});var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__hexagon_cell_layer_hexagon_cell_layer__=__webpack_require__(627),__WEBPACK_IMPORTED_MODULE_2__hexagon_aggregator__=__webpack_require__(1082);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.getPrototypeOf||function _getPrototypeOf(o){return o.__proto__})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var BinSorter=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.BinSorter,getQuantizeScale=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.getQuantizeScale,getLinearScale=__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.getLinearScale;function nop(){}var defaultProps={colorDomain:null,colorRange:__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.experimental.defaultColorRange,getColorValue:function getColorValue(points){return points.length},lowerPercentile:0,upperPercentile:100,onSetColorDomain:nop,elevationDomain:null,elevationRange:[0,1e3],getElevationValue:function getElevationValue(points){return points.length},elevationLowerPercentile:0,elevationUpperPercentile:100,elevationScale:{type:"number",min:0,value:1},onSetElevationDomain:nop,radius:1e3,coverage:{type:"number",min:0,max:1,value:1},extruded:!1,hexagonAggregator:__WEBPACK_IMPORTED_MODULE_2__hexagon_aggregator__.a,getPosition:function getPosition(x){return x.position},fp64:!1,lightSettings:{}},HexagonLayer=function(_CompositeLayer){function HexagonLayer(props){return _classCallCheck(this,HexagonLayer),props.hexagonAggregator||props.radius||(__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.log.once(0,"HexagonLayer: Default hexagonAggregator requires radius prop to be set, Now using 1000 meter as default")(),props.radius=defaultProps.radius),Number.isFinite(props.upperPercentile)&&(props.upperPercentile>100||props.upperPercentile<0)&&(__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.log.once(0,"HexagonLayer: upperPercentile should be between 0 and 100. Assign to 100 by default")(),props.upperPercentile=defaultProps.upperPercentile),Number.isFinite(props.lowerPercentile)&&(props.lowerPercentile>100||props.lowerPercentile<0)&&(__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.log.once(0,"HexagonLayer: lowerPercentile should be between 0 and 100. Assign to 0 by default")(),props.lowerPercentile=defaultProps.upperPercentile),props.lowerPercentile>=props.upperPercentile&&(__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.log.once(0,"HexagonLayer: lowerPercentile should not be bigger than upperPercentile. Assign to 0 by default")(),props.lowerPercentile=defaultProps.lowerPercentile),_possibleConstructorReturn(this,(HexagonLayer.__proto__||Object.getPrototypeOf(HexagonLayer)).call(this,props))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(HexagonLayer,__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__["CompositeLayer"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(HexagonLayer,[{key:"initializeState",value:function initializeState(){this.state={hexagons:[],hexagonVertices:null,sortedColorBins:null,sortedElevationBins:null,colorValueDomain:null,elevationValueDomain:null,colorScaleFunc:nop,elevationScaleFunc:nop,dimensionUpdaters:this.getDimensionUpdaters()}}},{key:"updateState",value:function updateState(_ref){var _this=this,oldProps=_ref.oldProps,props=_ref.props,changeFlags=_ref.changeFlags,dimensionChanges=this.getDimensionChanges(oldProps,props);changeFlags.dataChanged||this.needsReProjectPoints(oldProps,props)?this.getHexagons():dimensionChanges&&dimensionChanges.forEach(function(f){return"function"==typeof f&&f.apply(_this)})}},{key:"needsReProjectPoints",value:function needsReProjectPoints(oldProps,props){return oldProps.radius!==props.radius||oldProps.hexagonAggregator!==props.hexagonAggregator}},{key:"getDimensionUpdaters",value:function getDimensionUpdaters(){return{getColor:[{id:"value",triggers:["getColorValue"],updater:this.getSortedColorBins},{id:"domain",triggers:["lowerPercentile","upperPercentile"],updater:this.getColorValueDomain},{id:"scaleFunc",triggers:["colorDomain","colorRange"],updater:this.getColorScale}],getElevation:[{id:"value",triggers:["getElevationValue"],updater:this.getSortedElevationBins},{id:"domain",triggers:["elevationLowerPercentile","elevationUpperPercentile"],updater:this.getElevationValueDomain},{id:"scaleFunc",triggers:["elevationDomain","elevationRange"],updater:this.getElevationScale}]}}},{key:"getDimensionChanges",value:function getDimensionChanges(oldProps,props){var dimensionUpdaters=this.state.dimensionUpdaters,updaters=[];for(var dimensionKey in dimensionUpdaters){var needUpdate=dimensionUpdaters[dimensionKey].find(function(item){return item.triggers.some(function(t){return oldProps[t]!==props[t]})});needUpdate&&updaters.push(needUpdate.updater)}return updaters.length?updaters:null}},{key:"getHexagons",value:function getHexagons(){var hexagonAggregator=this.props.hexagonAggregator,viewport=this.context.viewport,_hexagonAggregator=hexagonAggregator(this.props,viewport),hexagons=_hexagonAggregator.hexagons,hexagonVertices=_hexagonAggregator.hexagonVertices;this.setState({hexagons:hexagons,hexagonVertices:hexagonVertices}),this.getSortedBins()}},{key:"getPickingInfo",value:function getPickingInfo(_ref2){var info=_ref2.info,_this$state=this.state,sortedColorBins=_this$state.sortedColorBins,sortedElevationBins=_this$state.sortedElevationBins,object=null;if(info.picked&&info.index>-1){var cell=this.state.hexagons[info.index],colorValue=sortedColorBins.binMap[cell.index]&&sortedColorBins.binMap[cell.index].value,elevationValue=sortedElevationBins.binMap[cell.index]&&sortedElevationBins.binMap[cell.index].value;object=Object.assign({colorValue:colorValue,elevationValue:elevationValue},cell)}return Object.assign(info,{picked:Boolean(object),object:object})}},{key:"getUpdateTriggers",value:function getUpdateTriggers(){var _this2=this,dimensionUpdaters=this.state.dimensionUpdaters,updateTriggers={},_loop=function _loop(dimensionKey){updateTriggers[dimensionKey]={};var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=dimensionUpdaters[dimensionKey][Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){_step.value.triggers.forEach(function(prop){updateTriggers[dimensionKey][prop]=_this2.props[prop]})}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}};for(var dimensionKey in dimensionUpdaters)_loop(dimensionKey);return updateTriggers}},{key:"getValueDomain",value:function getValueDomain(){this.getColorValueDomain(),this.getElevationValueDomain()}},{key:"getSortedBins",value:function getSortedBins(){this.getSortedColorBins(),this.getSortedElevationBins()}},{key:"getSortedColorBins",value:function getSortedColorBins(){var getColorValue=this.props.getColorValue,sortedColorBins=new BinSorter(this.state.hexagons||[],getColorValue);this.setState({sortedColorBins:sortedColorBins}),this.getColorValueDomain()}},{key:"getSortedElevationBins",value:function getSortedElevationBins(){var getElevationValue=this.props.getElevationValue,sortedElevationBins=new BinSorter(this.state.hexagons||[],getElevationValue);this.setState({sortedElevationBins:sortedElevationBins}),this.getElevationValueDomain()}},{key:"getColorValueDomain",value:function getColorValueDomain(){var _this$props=this.props,lowerPercentile=_this$props.lowerPercentile,upperPercentile=_this$props.upperPercentile,onSetColorDomain=_this$props.onSetColorDomain;this.state.colorValueDomain=this.state.sortedColorBins.getValueRange([lowerPercentile,upperPercentile]),"function"==typeof onSetColorDomain&&onSetColorDomain(this.state.colorValueDomain),this.getColorScale()}},{key:"getElevationValueDomain",value:function getElevationValueDomain(){var _this$props2=this.props,elevationLowerPercentile=_this$props2.elevationLowerPercentile,elevationUpperPercentile=_this$props2.elevationUpperPercentile,onSetElevationDomain=_this$props2.onSetElevationDomain;this.state.elevationValueDomain=this.state.sortedElevationBins.getValueRange([elevationLowerPercentile,elevationUpperPercentile]),"function"==typeof onSetElevationDomain&&onSetElevationDomain(this.state.elevationValueDomain),this.getElevationScale()}},{key:"getColorScale",value:function getColorScale(){var colorRange=this.props.colorRange,colorDomain=this.props.colorDomain||this.state.colorValueDomain;this.state.colorScaleFunc=getQuantizeScale(colorDomain,colorRange)}},{key:"getElevationScale",value:function getElevationScale(){var elevationRange=this.props.elevationRange,elevationDomain=this.props.elevationDomain||this.state.elevationValueDomain;this.state.elevationScaleFunc=getLinearScale(elevationDomain,elevationRange)}},{key:"_onGetSublayerColor",value:function _onGetSublayerColor(cell){var _this$state2=this.state,sortedColorBins=_this$state2.sortedColorBins,colorScaleFunc=_this$state2.colorScaleFunc,colorValueDomain=_this$state2.colorValueDomain,cv=sortedColorBins.binMap[cell.index]&&sortedColorBins.binMap[cell.index].value,colorDomain=this.props.colorDomain||colorValueDomain,color=cv>=colorDomain[0]&&cv<=colorDomain[colorDomain.length-1]?colorScaleFunc(cv):[0,0,0,0];return color[3]=Number.isFinite(color[3])?color[3]:255,color}},{key:"_onGetSublayerElevation",value:function _onGetSublayerElevation(cell){var _this$state3=this.state,sortedElevationBins=_this$state3.sortedElevationBins,elevationScaleFunc=_this$state3.elevationScaleFunc,elevationValueDomain=_this$state3.elevationValueDomain,ev=sortedElevationBins.binMap[cell.index]&&sortedElevationBins.binMap[cell.index].value,elevationDomain=this.props.elevationDomain||elevationValueDomain;return ev>=elevationDomain[0]&&ev<=elevationDomain[elevationDomain.length-1]?elevationScaleFunc(ev):-1}},{key:"getSubLayerProps",value:function getSubLayerProps(){var _this$props3=this.props,radius=_this$props3.radius,elevationScale=_this$props3.elevationScale,extruded=_this$props3.extruded,coverage=_this$props3.coverage,lightSettings=_this$props3.lightSettings,fp64=_this$props3.fp64,transitions=_this$props3.transitions;return _get(HexagonLayer.prototype.__proto__||Object.getPrototypeOf(HexagonLayer.prototype),"getSubLayerProps",this).call(this,{id:"hexagon-cell",data:this.state.hexagons,fp64:fp64,hexagonVertices:this.state.hexagonVertices,radius:radius,elevationScale:elevationScale,angle:Math.PI/2,extruded:extruded,coverage:coverage,lightSettings:lightSettings,getColor:this._onGetSublayerColor.bind(this),getElevation:this._onGetSublayerElevation.bind(this),transitions:transitions&&{getColor:transitions.getColorValue,getElevation:transitions.getElevationValue},updateTriggers:this.getUpdateTriggers()})}},{key:"getSubLayerClass",value:function getSubLayerClass(){return __WEBPACK_IMPORTED_MODULE_1__hexagon_cell_layer_hexagon_cell_layer__.a}},{key:"renderLayers",value:function renderLayers(){return new(this.getSubLayerClass())(this.getSubLayerProps())}}]),HexagonLayer}();HexagonLayer.layerName="HexagonLayer",HexagonLayer.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="\n#define SHADER_NAME hexagon-cell-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 normals;\n\nattribute vec2 instancePositions;\nattribute float instanceElevations;\nattribute vec2 instancePositions64xyLow;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\n// Custom uniforms\nuniform float opacity;\nuniform float radius;\nuniform float angle;\nuniform float extruded;\nuniform float coverage;\nuniform float elevationScale;\n\n// Result\nvarying vec4 vColor;\n\n// A magic number to scale elevation so that 1 unit approximate to 1 meter.\n#define ELEVATION_SCALE 0.8\n\nvoid main(void) {\n\n  // rotate primitive position and normal\n  mat2 rotationMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n\n  // calculate elevation, if 3d not enabled set to 0\n  // cylindar gemoetry height are between -0.5 to 0.5, transform it to between 0, 1\n  float elevation = 0.0;\n\n  if (extruded > 0.5) {\n    elevation = instanceElevations * (positions.z + 0.5) *\n      ELEVATION_SCALE * elevationScale;\n  }\n\n  // if ahpha == 0.0 or z < 0.0, do not render element\n  float noRender = float(instanceColors.a == 0.0 || instanceElevations < 0.0);\n  float dotRadius = project_scale(radius) * mix(coverage, 0.0, noRender);\n\n  // project center of hexagon\n  vec3 centroidPosition = vec3(instancePositions, elevation);\n  vec2 centroidPosition64xyLow = instancePositions64xyLow;\n  vec3 offset = vec3(rotationMatrix * positions.xy * dotRadius, 0.);\n\n  vec4 position_worldspace;\n  gl_Position = project_position_to_clipspace(centroidPosition, centroidPosition64xyLow, offset, position_worldspace);\n\n  // Light calculations\n  // Worldspace is the linear space after Mercator projection\n\n  vec3 normals_worldspace = vec3(rotationMatrix * normals.xy, normals.z);\n\n  float lightWeight = 1.0;\n\n  if (extruded > 0.5) {\n    lightWeight = lighting_getLightWeight(\n      position_worldspace.xyz, // the w component is always 1.0\n      normals_worldspace\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * instanceColors.rgb;\n\n  // opacity-multiplied instance color\n  vColor = vec4(lightWeightedColor, opacity * instanceColors.a) / 255.0;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME hexagon-cell-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function pointToHexbin(_ref,viewport){var data=_ref.data,radius=_ref.radius,getPosition=_ref.getPosition,radiusInPixel=function getRadiusInPixel(radius,viewport){var pixelsPerMeter=viewport.getDistanceScales().pixelsPerMeter;return radius*pixelsPerMeter[0]}(radius,viewport),screenPoints=data.map(function(pt){return Object.assign({screenCoord:viewport.projectFlat(getPosition(pt))},pt)});return{hexagons:Object(__WEBPACK_IMPORTED_MODULE_0_d3_hexbin__.a)().radius(radiusInPixel).x(function(d){return d.screenCoord[0]}).y(function(d){return d.screenCoord[1]})(screenPoints).map(function(hex,index){return{centroid:viewport.unprojectFlat([hex.x,hex.y]),points:hex,index:index}})}};var __WEBPACK_IMPORTED_MODULE_0_d3_hexbin__=__webpack_require__(1083)},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__src_hexbin__=__webpack_require__(1084);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__src_hexbin__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var thirdPi=Math.PI/3,angles=[0,thirdPi,2*thirdPi,3*thirdPi,4*thirdPi,5*thirdPi];function pointX(d){return d[0]}function pointY(d){return d[1]}__webpack_exports__.a=function(){var r,dx,dy,x0=0,y0=0,x1=1,y1=1,x=pointX,y=pointY;function hexbin(points){var i,binsById={},bins=[],n=points.length;for(i=0;i<n;++i)if(!isNaN(px=+x.call(null,point=points[i],i,points))&&!isNaN(py=+y.call(null,point,i,points))){var point,px,py,pj=Math.round(py/=dy),pi=Math.round(px=px/dx-(1&pj)/2),py1=py-pj;if(3*Math.abs(py1)>1){var px1=px-pi,pi2=pi+(px<pi?-1:1)/2,pj2=pj+(py<pj?-1:1),px2=px-pi2,py2=py-pj2;px1*px1+py1*py1>px2*px2+py2*py2&&(pi=pi2+(1&pj?1:-1)/2,pj=pj2)}var id=pi+"-"+pj,bin=binsById[id];bin?bin.push(point):(bins.push(bin=binsById[id]=[point]),bin.x=(pi+(1&pj)/2)*dx,bin.y=pj*dy)}return bins}function hexagon(radius){var x0=0,y0=0;return angles.map(function(angle){var x1=Math.sin(angle)*radius,y1=-Math.cos(angle)*radius,dx=x1-x0,dy=y1-y0;return x0=x1,y0=y1,[dx,dy]})}return hexbin.hexagon=function(radius){return"m"+hexagon(null==radius?r:+radius).join("l")+"z"},hexbin.centers=function(){for(var centers=[],j=Math.round(y0/dy),i=Math.round(x0/dx),y=j*dy;y<y1+r;y+=dy,++j)for(var x=i*dx+(1&j)*dx/2;x<x1+dx/2;x+=dx)centers.push([x,y]);return centers},hexbin.mesh=function(){var fragment=hexagon(r).slice(0,4).join("l");return hexbin.centers().map(function(p){return"M"+p+"m"+fragment}).join("")},hexbin.x=function(_){return arguments.length?(x=_,hexbin):x},hexbin.y=function(_){return arguments.length?(y=_,hexbin):y},hexbin.radius=function(_){return arguments.length?(dx=2*(r=+_)*Math.sin(thirdPi),dy=1.5*r,hexbin):r},hexbin.size=function(_){return arguments.length?(x0=y0=0,x1=+_[0],y1=+_[1],hexbin):[x1-x0,y1-y0]},hexbin.extent=function(_){return arguments.length?(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1],hexbin):[[x0,y0],[x1,y1]]},hexbin.radius(1)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME path-layer-vertex-shader-64\n\nattribute vec3 positions;\n\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftDeltas;\nattribute vec3 instanceRightDeltas;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec2 instanceDashArrays;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float miterLimit;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vDashArray;\nvarying float vPathPosition;\nvarying float vPathLength;\n\nconst float EPSILON = 0.001;\nconst float PIXEL_EPSILON = 0.1;\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\n// calculate line join positions\nvec3 lineJoin(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  float relativePosition, bool isEnd, bool isJoint,\n  float width\n) {\n  vec2 deltaA = currPoint.xy - prevPoint.xy;\n  vec2 deltaB = nextPoint.xy - currPoint.xy;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  // when two points are closer than PIXEL_EPSILON in pixels,\n  // assume they are the same point to avoid precision issue\n  lenA = lenA > PIXEL_EPSILON ? lenA : 0.0;\n  lenB = lenB > PIXEL_EPSILON ? lenB : 0.0;\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = vec2(dirA + dirB);\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // width offset from current position\n  vec2 perp = isEnd ? perpA : perpB;\n  float L = isEnd ? lenA : lenB;\n\n  // cap super sharp angles\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n\n  bool turnsRight = dirA.x * dirB.y > dirA.y * dirB.x;\n\n  float offsetScale = 1.0 / max(sinHalfA, EPSILON);\n\n  float cornerPosition = isJoint ?\n    0.0 :\n    flipIfTrue(turnsRight == (relativePosition > 0.0));\n\n  // do not bevel if line segment is too short\n  cornerPosition *=\n    float(cornerPosition <= 0.0 || sinHalfA < min(lenA, lenB) / width * cosHalfA);\n\n  // trim if inside corner extends further than the line segment\n  if (cornerPosition < 0.0) {\n    offsetScale = min(offsetScale, L / width / max(cosHalfA, EPSILON));\n  }\n\n  vMiterLength = cornerPosition >= 0.0 ?\n    mix(offsetScale, 0.0, cornerPosition) :\n    offsetScale * cornerPosition;\n  vMiterLength -= sinHalfA * jointType;\n\n  float offsetDirection = mix(\n    positions.y,\n    mix(\n      flipIfTrue(turnsRight),\n      positions.y * flipIfTrue(turnsRight == (positions.x == 1.)),\n      cornerPosition\n    ),\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec, -tangent, step(0.5, cornerPosition));\n  offsetScale = mix(offsetScale, 1.0 / max(cosHalfA, 0.001), step(0.5, cornerPosition));\n\n  // special treatment for start cap and end cap\n  // TODO - This has an issue. len is always positive because it is length.\n  // Step returns zero if -lenA<0, so practically this is a comparison of\n  // lenA with zero, with lots of problems because of the -lenA. Can we use EPSILON?\n  bool isStartCap = step(0.0, -lenA) > 0.5;\n  bool isEndCap = step(0.0, -lenB) > 0.5;\n  bool isCap = isStartCap || isEndCap;\n\n  // 0: center, 1: side\n  cornerPosition = isCap ? (1.0 - positions.z) : 0.;\n\n  // start of path: use next - curr\n  if (isStartCap) {\n    offsetVec = mix(dirB, perpB, cornerPosition);\n  }\n\n  // end of path: use curr - prev\n  if (isEndCap) {\n    offsetVec = mix(dirA, perpA, cornerPosition);\n  }\n\n  // extend out a triangle to envelope the round cap\n  if (isCap) {\n    offsetScale = mix(4.0 * jointType, 1.0, cornerPosition);\n    vMiterLength = 1.0 - cornerPosition;\n    offsetDirection = mix(flipIfTrue(isStartCap), positions.y, cornerPosition);\n  }\n\n  vCornerOffset = offsetVec * offsetDirection * offsetScale;\n\n  // Generate variables for dash calculation\n  vDashArray = instanceDashArrays;\n  vPathLength = L / width;\n  // vec2 offsetFromStartOfPath = isEnd ? vCornerOffset + deltaA / width : vCornerOffset;\n  vec2 offsetFromStartOfPath = vCornerOffset;\n  if (isEnd) {\n    offsetFromStartOfPath += deltaA / width;\n  }\n  vec2 dir = isEnd ? dirA : dirB;\n  vPathPosition = dot(offsetFromStartOfPath, dir);\n\n  return currPoint + vec3(vCornerOffset * width, 0.0);\n}\n\n// calculate line join positions\n// extract params from attributes and uniforms\nvec3 lineJoin(vec3 prevPoint, vec3 currPoint, vec3 nextPoint) {\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n\n  float relativePosition = positions.y;\n  bool isEnd = positions.x > EPSILON;\n  bool isJoint = positions.z > EPSILON;\n\n  float width = clamp(project_scale(instanceStrokeWidths * widthScale),\n    widthMinPixels, widthMaxPixels) / 2.0;\n\n  return lineJoin(\n    prevPoint, currPoint, nextPoint,\n    relativePosition, isEnd, isJoint,\n    width\n  );\n}\n\nvoid main() {\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(-instanceLeftDeltas, vec3(0.0), isEnd) + instanceStartPositions;\n  prevPosition = project_position(prevPosition);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  currPosition = project_position(currPosition);\n\n  vec3 nextPosition = mix(vec3(0.0), instanceRightDeltas, isEnd) + instanceEndPositions;\n  nextPosition = project_position(nextPosition);\n\n  vec3 pos = lineJoin(prevPosition, currPosition, nextPosition);\n\n  gl_Position = project_to_clipspace(vec4(pos, 1.0));\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="\n#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec4 instanceStartEndPositions64xyLow;\nattribute vec3 instanceLeftDeltas;\nattribute vec3 instanceRightDeltas;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec2 instanceDashArrays;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float miterLimit;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vDashArray;\nvarying float vPathPosition;\nvarying float vPathLength;\n\nconst float EPSILON = 0.001;\nconst float PIXEL_EPSILON = 0.1;\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\nvec3 lineJoin(vec2 prevPoint64[2], vec2 currPoint64[2], vec2 nextPoint64[2]) {\n\n  float width = clamp(project_scale(instanceStrokeWidths * widthScale),\n    widthMinPixels, widthMaxPixels) / 2.0;\n\n  vec2 deltaA64[2];\n  vec2 deltaB64[2];\n\n  vec2_sub_fp64(currPoint64, prevPoint64, deltaA64);\n  vec2_sub_fp64(nextPoint64, currPoint64, deltaB64);\n\n  vec2 lengthA64 = vec2_length_fp64(deltaA64);\n  vec2 lengthB64 = vec2_length_fp64(deltaB64);\n\n  vec2 deltaA = vec2(deltaA64[0].x, deltaA64[1].x);\n  vec2 deltaB = vec2(deltaB64[0].x, deltaB64[1].x);\n\n  float lenA = lengthA64.x;\n  float lenB = lengthB64.x;\n\n  vec2 offsetVec;\n  float offsetScale;\n  float offsetDirection;\n\n  // when two points are closer than PIXEL_EPSILON in pixels,\n  // assume they are the same point to avoid precision issue\n  lenA = lenA > PIXEL_EPSILON ? lenA : 0.0;\n  lenB = lenB > PIXEL_EPSILON ? lenB : 0.0;\n  vec2 dirA = lenA > 0. ? deltaA / lenA : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? deltaB / lenB : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = vec2(dirA + dirB);\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // width offset from current position\n  vec2 perp = mix(perpB, perpA, positions.x);\n  float L = mix(lenB, lenA, positions.x);\n\n  // cap super sharp angles\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n  bool turnsRight = dirA.x * dirB.y > dirA.y * dirB.x;\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n  float cornerPosition = mix(\n    flipIfTrue(turnsRight == (positions.y > 0.0)),\n    0.0,\n    positions.z\n  );\n\n  offsetScale = 1.0 / max(sinHalfA, EPSILON);\n\n  // do not bevel if line segment is too short\n  cornerPosition *= float(cornerPosition <= 0.0 || sinHalfA < min(lenA, lenB) / width * cosHalfA);\n  // trim if inside corner extends further than the line segment\n  offsetScale = mix(\n    offsetScale,\n    min(offsetScale, L / width / max(cosHalfA, EPSILON)),\n    float(cornerPosition < 0.0)\n  );\n\n  vMiterLength = mix(\n    offsetScale * cornerPosition,\n    mix(offsetScale, 0.0, cornerPosition),\n    step(0.0, cornerPosition)\n  ) - sinHalfA * jointType;\n  offsetDirection = mix(\n    positions.y,\n    mix(\n      flipIfTrue(turnsRight),\n      positions.y * flipIfTrue(turnsRight == (positions.x == 1.)),\n      cornerPosition\n    ),\n    step(0.0, cornerPosition)\n  );\n  offsetVec = mix(miterVec, -tangent, step(0.5, cornerPosition));\n  offsetScale = mix(offsetScale, 1.0 / max(cosHalfA, 0.001), step(0.5, cornerPosition));\n\n  // special treatment for start cap and end cap\n  // using a small number as the limit for determining if the lenA or lenB is 0\n  float isStartCap = step(lenA, 1.0e-5);\n  float isEndCap = step(lenB, 1.0e-5);\n  float isCap = max(isStartCap, isEndCap);\n\n  // 0: center, 1: side\n  cornerPosition = isCap * (1.0 - positions.z);\n\n  // start of path: use next - curr\n  offsetVec = mix(offsetVec, mix(dirB, perpB, cornerPosition), isStartCap);\n  // end of path: use curr - prev\n  offsetVec = mix(offsetVec, mix(dirA, perpA, cornerPosition), isEndCap);\n\n  // extend out a triangle to envelope the round cap\n  offsetScale = mix(\n    offsetScale,\n    mix(4.0 * jointType, 1.0, cornerPosition),\n    isCap\n  );\n  vMiterLength = mix(vMiterLength, 1.0 - cornerPosition, isCap);\n\n  offsetDirection = mix(\n    offsetDirection,\n    mix(flipIfTrue(isStartCap > 0.), positions.y, cornerPosition),\n    isCap\n  );\n\n  vCornerOffset = offsetVec * offsetDirection * offsetScale;\n\n  // Generate variables for dash calculation\n  vDashArray = instanceDashArrays;\n  vPathLength = L / width;\n  float isEnd = positions.x;\n  vec2 offsetFromStartOfPath = mix(vCornerOffset, vCornerOffset + deltaA / width, isEnd);\n  vec2 dir = mix(dirB, dirA, isEnd);\n  vPathPosition = dot(offsetFromStartOfPath, dir);\n\n  return vec3(vCornerOffset * width, 0.0);\n}\n\nvoid main() {\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n\n  float isEnd = positions.x;\n\n  // Calculate current position 64bit\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec2 currPosition64xyLow = mix(instanceStartEndPositions64xyLow.xy, instanceStartEndPositions64xyLow.zw, isEnd);\n  vec2 projected_curr_position[2];\n  project_position_fp64(currPosition.xy, currPosition64xyLow, projected_curr_position);\n  float projected_curr_position_z = project_scale(currPosition.z);\n\n  // Calculate previous position\n\n  vec3 prevPosition = mix(-instanceLeftDeltas, vec3(0.0), isEnd) + instanceStartPositions;\n\n  // Calculate prev position 64bit\n\n  vec2 projected_prev_position[2];\n  project_position_fp64(prevPosition.xy, instanceStartEndPositions64xyLow.xy, projected_prev_position);\n\n  // Calculate next positions\n  vec3 nextPosition = mix(vec3(0.0), instanceRightDeltas, isEnd) + instanceEndPositions;\n\n  // Calculate next position 64bit\n\n  vec2 projected_next_position[2];\n  project_position_fp64(nextPosition.xy, instanceStartEndPositions64xyLow.zw, projected_next_position);\n\n  vec3 pos = lineJoin(projected_prev_position, projected_curr_position, projected_next_position);\n  vec2 vertex_pos_modelspace[4];\n\n  vertex_pos_modelspace[0] = sum_fp64(vec2(pos.x, 0.0), projected_curr_position[0]);\n  vertex_pos_modelspace[1] = sum_fp64(vec2(pos.y, 0.0), projected_curr_position[1]);\n  vertex_pos_modelspace[2] = vec2(pos.z + projected_curr_position_z, 0.0);\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME path-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform float jointType;\nuniform float miterLimit;\nuniform float alignMode;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vDashArray;\nvarying float vPathPosition;\nvarying float vPathLength;\n\n// mod doesn't work correctly for negative numbers\nfloat mod2(float a, float b) {\n  return a - floor(a / b) * b;\n}\n\nfloat round(float x) {\n  return floor(x + 0.5);\n}\n\n// if given position is in the gap part of the dashed line\n// dashArray.x: solid stroke length, relative to width\n// dashArray.y: gap length, relative to width\n// alignMode:\n// 0 - no adjustment\n// o----     ----     ----     ---- o----     -o----     ----     o\n// 1 - stretch to fit, draw half dash at each end for nicer joints\n// o--    ----    ----    ----    --o--      --o--     ----     --o\nbool dash_isFragInGap() {\n  float solidLength = vDashArray.x;\n  float gapLength = vDashArray.y;\n\n  float unitLength = solidLength + gapLength;\n\n  if (unitLength == 0.0) {\n    return false;\n  }\n\n  unitLength = mix(\n    unitLength,\n    vPathLength / round(vPathLength / unitLength),\n    alignMode\n  );\n\n  float offset = alignMode * solidLength / 2.0;\n\n  return gapLength > 0.0 &&\n    vPathPosition >= 0.0 &&\n    vPathPosition <= vPathLength &&\n    mod2(vPathPosition + offset, unitLength) > solidLength;\n}\n\nvoid main(void) {\n  // if joint is rounded, test distance from the corner\n  if (jointType > 0.0 && vMiterLength > 0.0 && length(vCornerOffset) > 1.0) {\n    // Enable to debug joints\n    // gl_FragColor = vec4(0., 1., 0., 1.);\n    // return;\n    discard;\n  }\n  if (jointType == 0.0 && vMiterLength > miterLimit) {\n    // Enable to debug joints\n    // gl_FragColor = vec4(0., 0., 1., 1.);\n    // return;\n    discard;\n  }\n  if (vColor.a == 0.0 || dash_isFragInGap()) {\n    // Enable to debug joints\n    // gl_FragColor = vec4(0., 1., 1., 1.);\n    // return;\n    discard;\n  }\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return PolygonLayer});var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__solid_polygon_layer_solid_polygon_layer__=__webpack_require__(628),__WEBPACK_IMPORTED_MODULE_2__path_layer_path_layer__=__webpack_require__(485),__WEBPACK_IMPORTED_MODULE_3__solid_polygon_layer_polygon__=__webpack_require__(629);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var defaultLineColor=[0,0,0,255],defaultFillColor=[0,0,0,255],defaultProps={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,lineDashJustified:!1,fp64:!1,getPolygon:function getPolygon(f){return f.polygon},getFillColor:function getFillColor(f){return f.fillColor||defaultFillColor},getLineColor:function getLineColor(f){return f.lineColor||defaultLineColor},getLineWidth:function getLineWidth(f){return f.lineWidth||1},getLineDashArray:null,getElevation:function getElevation(f){return f.elevation||1e3},lightSettings:{}},PolygonLayer=function(_CompositeLayer){function PolygonLayer(){return _classCallCheck(this,PolygonLayer),_possibleConstructorReturn(this,(PolygonLayer.__proto__||Object.getPrototypeOf(PolygonLayer)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(PolygonLayer,__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__["CompositeLayer"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PolygonLayer,[{key:"initializeState",value:function initializeState(){this.state={paths:[]}}},{key:"updateState",value:function updateState(_ref){var _this=this,changeFlags=(_ref.oldProps,_ref.props,_ref.changeFlags);if(changeFlags.dataChanged||changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.all||changeFlags.updateTriggersChanged.getPolygon)){var _this$props=this.props,data=_this$props.data,getPolygon=_this$props.getPolygon;this.state.paths=[],data.forEach(function(object){__WEBPACK_IMPORTED_MODULE_3__solid_polygon_layer_polygon__.e(getPolygon(object)).forEach(function(polygon){return _this.state.paths.push({path:polygon,object:object})})})}}},{key:"getPickingInfo",value:function getPickingInfo(_ref2){var info=_ref2.info;return Object.assign(info,{object:info.object&&info.object.object||info.object})}},{key:"_getAccessor",value:function _getAccessor(accessor){return"function"==typeof accessor?function(x){return accessor(x.object)}:accessor}},{key:"renderLayers",value:function renderLayers(){var _this$props2=this.props,data=_this$props2.data,stroked=_this$props2.stroked,filled=_this$props2.filled,extruded=_this$props2.extruded,wireframe=_this$props2.wireframe,elevationScale=_this$props2.elevationScale,_this$props3=this.props,lineWidthScale=_this$props3.lineWidthScale,lineWidthMinPixels=_this$props3.lineWidthMinPixels,lineWidthMaxPixels=_this$props3.lineWidthMaxPixels,lineJointRounded=_this$props3.lineJointRounded,lineMiterLimit=_this$props3.lineMiterLimit,lineDashJustified=_this$props3.lineDashJustified,fp64=_this$props3.fp64,_this$props4=this.props,getFillColor=_this$props4.getFillColor,getLineColor=_this$props4.getLineColor,getLineWidth=_this$props4.getLineWidth,getLineDashArray=_this$props4.getLineDashArray,getElevation=_this$props4.getElevation,getPolygon=_this$props4.getPolygon,updateTriggers=_this$props4.updateTriggers,lightSettings=_this$props4.lightSettings,paths=this.state.paths,hasData=data&&data.length>0,polygonLayer=hasData&&new __WEBPACK_IMPORTED_MODULE_1__solid_polygon_layer_solid_polygon_layer__.a(this.getSubLayerProps({id:"fill",updateTriggers:{getElevation:updateTriggers.getElevation,getFillColor:updateTriggers.getFillColor,getLineColor:updateTriggers.getLineColor}}),{data:data,extruded:extruded,elevationScale:elevationScale,fp64:fp64,filled:filled,wireframe:wireframe,getPolygon:getPolygon,getElevation:getElevation,getFillColor:getFillColor,getLineColor:getLineColor,lightSettings:lightSettings}),polygonLineLayer=!extruded&&stroked&&hasData&&new __WEBPACK_IMPORTED_MODULE_2__path_layer_path_layer__.a(this.getSubLayerProps({id:"stroke",updateTriggers:{getWidth:updateTriggers.getLineWidth,getColor:updateTriggers.getLineColor,getDashArray:updateTriggers.getLineDashArray}}),{data:paths,fp64:fp64,widthScale:lineWidthScale,widthMinPixels:lineWidthMinPixels,widthMaxPixels:lineWidthMaxPixels,rounded:lineJointRounded,miterLimit:lineMiterLimit,dashJustified:lineDashJustified,getPath:function getPath(x){return x.path},getColor:this._getAccessor(getLineColor),getWidth:this._getAccessor(getLineWidth),getDashArray:this._getAccessor(getLineDashArray)});return[!extruded&&polygonLayer,polygonLineLayer,extruded&&polygonLayer]}}]),PolygonLayer}();PolygonLayer.layerName="PolygonLayer",PolygonLayer.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return PolygonTesselator});var __WEBPACK_IMPORTED_MODULE_0__polygon__=__webpack_require__(629),__WEBPACK_IMPORTED_MODULE_1__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_2_luma_gl__=__webpack_require__(14);function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var fillArray=__WEBPACK_IMPORTED_MODULE_1__deck_gl_core__.experimental.fillArray,fp64LowPart=__WEBPACK_IMPORTED_MODULE_2_luma_gl__.fp64.fp64LowPart;var DEFAULT_COLOR=[0,0,0,255],PolygonTesselator=function(){function PolygonTesselator(_ref){var polygons=_ref.polygons,IndexType=_ref.IndexType;_classCallCheck(this,PolygonTesselator);var pointCount=function getPointCount(polygons){return polygons.reduce(function(points,polygon){return points+__WEBPACK_IMPORTED_MODULE_0__polygon__.d(polygon)},0)}(polygons=polygons.map(function(polygon){return __WEBPACK_IMPORTED_MODULE_0__polygon__.e(polygon)}));if(this.polygons=polygons,this.pointCount=pointCount,this.IndexType=IndexType,IndexType===Uint16Array&&pointCount>65535)throw new Error("Vertex count exceeds browser's limit");this.attributes={pickingColors:function calculatePickingColors(_ref9){var polygons=_ref9.polygons,pointCount=_ref9.pointCount,attribute=new Uint8ClampedArray(3*pointCount),i=0;return polygons.forEach(function(complexPolygon,polygonIndex){var color=function getPickingColor(index){return[255&++index,index>>8&255,index>>16&255]}(polygonIndex),vertexCount=__WEBPACK_IMPORTED_MODULE_0__polygon__.d(complexPolygon);fillArray({target:attribute,source:color,start:i,count:vertexCount}),i+=color.length*vertexCount}),attribute}({polygons:polygons,pointCount:pointCount})}}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PolygonTesselator,[{key:"updatePositions",value:function updatePositions(_ref2){var fp64=_ref2.fp64,extruded=_ref2.extruded,attributes=this.attributes,polygons=this.polygons,pointCount=this.pointCount;attributes.positions=attributes.positions||new Float32Array(3*pointCount),attributes.nextPositions=attributes.nextPositions||new Float32Array(3*pointCount),fp64&&(attributes.positions64xyLow=attributes.positions64xyLow||new Float32Array(2*pointCount),attributes.nextPositions64xyLow=attributes.nextPositions64xyLow||new Float32Array(2*pointCount)),function _updatePositions(_ref6){var _ref6$cache=_ref6.cache,positions=_ref6$cache.positions,positions64xyLow=_ref6$cache.positions64xyLow,nextPositions=_ref6$cache.nextPositions,nextPositions64xyLow=_ref6$cache.nextPositions64xyLow,polygons=_ref6.polygons,extruded=_ref6.extruded,fp64=_ref6.fp64,i=0,nextI=0,startVertex=null,popStartVertex=function popStartVertex(){startVertex&&(nextPositions[3*nextI]=startVertex.x,nextPositions[3*nextI+1]=startVertex.y,nextPositions[3*nextI+2]=startVertex.z,fp64&&(nextPositions64xyLow[2*nextI]=startVertex.xLow,nextPositions64xyLow[2*nextI+1]=startVertex.yLow),nextI++),startVertex=null};polygons.forEach(function(polygon,polygonIndex){__WEBPACK_IMPORTED_MODULE_0__polygon__.a(polygon,function(vertex,vertexIndex){var xLow,yLow,x=vertex[0],y=vertex[1],z=vertex[2]||0;positions[3*i]=x,positions[3*i+1]=y,positions[3*i+2]=z,fp64&&(xLow=fp64LowPart(x),yLow=fp64LowPart(y),positions64xyLow[2*i]=xLow,positions64xyLow[2*i+1]=yLow),i++,extruded&&vertexIndex>0&&(nextPositions[3*nextI]=x,nextPositions[3*nextI+1]=y,nextPositions[3*nextI+2]=z,fp64&&(nextPositions64xyLow[2*nextI]=xLow,nextPositions64xyLow[2*nextI+1]=yLow),nextI++),0===vertexIndex&&(popStartVertex(),function pushStartVertex(x,y,z,xLow,yLow){extruded&&(startVertex={x:x,y:y,z:z,xLow:xLow,yLow:yLow})}(x,y,z,xLow,yLow))})}),popStartVertex()}({cache:attributes,polygons:polygons,extruded:extruded,fp64:fp64})}},{key:"indices",value:function indices(){return function calculateIndices(_ref5){var polygons=_ref5.polygons,_ref5$IndexType=_ref5.IndexType,IndexType=void 0===_ref5$IndexType?Uint32Array:_ref5$IndexType,indexCount=3*function getTriangleCount(polygons){return polygons.reduce(function(triangles,polygon){return triangles+__WEBPACK_IMPORTED_MODULE_0__polygon__.c(polygon)},0)}(polygons),offsets=function getPolygonOffsets(polygons){var offsets=new Array(polygons.length+1);offsets[0]=0;var offset=0;return polygons.forEach(function(polygon,i){offset+=__WEBPACK_IMPORTED_MODULE_0__polygon__.d(polygon),offsets[i+1]=offset}),offsets}(polygons),attribute=new IndexType(indexCount),i=0;return polygons.forEach(function(polygon,polygonIndex){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=__WEBPACK_IMPORTED_MODULE_0__polygon__.b(polygon)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var index=_step.value;attribute[i++]=index+offsets[polygonIndex]}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}),attribute}({polygons:this.polygons,IndexType:this.IndexType})}},{key:"positions",value:function positions(){return this.attributes.positions}},{key:"positions64xyLow",value:function positions64xyLow(){return this.attributes.positions64xyLow}},{key:"nextPositions",value:function nextPositions(){return this.attributes.nextPositions}},{key:"nextPositions64xyLow",value:function nextPositions64xyLow(){return this.attributes.nextPositions64xyLow}},{key:"elevations",value:function elevations(){var _ref3=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref3$key=_ref3.key,key=void 0===_ref3$key?"elevations":_ref3$key,_ref3$getElevation=_ref3.getElevation,getElevation=void 0===_ref3$getElevation?function(x){return 100}:_ref3$getElevation,attributes=this.attributes,polygons=this.polygons,pointCount=this.pointCount,values=function updateElevations(_ref7){var cache=_ref7.cache,polygons=_ref7.polygons,pointCount=_ref7.pointCount,getElevation=_ref7.getElevation,elevations=cache||new Float32Array(pointCount),i=0;return polygons.forEach(function(complexPolygon,polygonIndex){var height=getElevation(polygonIndex),vertexCount=__WEBPACK_IMPORTED_MODULE_0__polygon__.d(complexPolygon);fillArray({target:elevations,source:[height],start:i,count:vertexCount}),i+=vertexCount}),elevations}({cache:attributes[key],polygons:polygons,pointCount:pointCount,getElevation:getElevation});return attributes[key]=values,values}},{key:"colors",value:function colors(){var _ref4=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref4$key=_ref4.key,key=void 0===_ref4$key?"colors":_ref4$key,_ref4$getColor=_ref4.getColor,getColor=void 0===_ref4$getColor?function(x){return DEFAULT_COLOR}:_ref4$getColor,attributes=this.attributes,polygons=this.polygons,pointCount=this.pointCount,values=function updateColors(_ref8){var cache=_ref8.cache,polygons=_ref8.polygons,pointCount=_ref8.pointCount,getColor=_ref8.getColor,colors=cache||new Uint8ClampedArray(4*pointCount),i=0;return polygons.forEach(function(complexPolygon,polygonIndex){var color=getColor(polygonIndex);isNaN(color[3])&&(color[3]=255);var vertexCount=__WEBPACK_IMPORTED_MODULE_0__polygon__.d(complexPolygon);fillArray({target:colors,source:color,start:i,count:vertexCount}),i+=color.length*vertexCount}),colors}({cache:attributes[key],polygons:polygons,pointCount:pointCount,getColor:getColor});return attributes[key]=values,values}},{key:"pickingColors",value:function pickingColors(){return this.attributes.pickingColors}}]),PolygonTesselator}()},function(module,exports,__webpack_require__){"use strict";function earcut(data,holeIndices,dim){dim=dim||2;var minX,minY,maxX,maxY,x,y,invSize,hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:data.length,outerNode=linkedList(data,0,outerLen,dim,!0),triangles=[];if(!outerNode)return triangles;if(hasHoles&&(outerNode=function eliminateHoles(data,holeIndices,outerNode,dim){var i,len,start,end,list,queue=[];for(i=0,len=holeIndices.length;i<len;i++)start=holeIndices[i]*dim,end=i<len-1?holeIndices[i+1]*dim:data.length,(list=linkedList(data,start,end,dim,!1))===list.next&&(list.steiner=!0),queue.push(getLeftmost(list));for(queue.sort(compareX),i=0;i<queue.length;i++)eliminateHole(queue[i],outerNode),outerNode=filterPoints(outerNode,outerNode.next);return outerNode}(data,holeIndices,outerNode,dim)),data.length>80*dim){minX=maxX=data[0],minY=maxY=data[1];for(var i=dim;i<outerLen;i+=dim)x=data[i],y=data[i+1],x<minX&&(minX=x),y<minY&&(minY=y),x>maxX&&(maxX=x),y>maxY&&(maxY=y);invSize=0!==(invSize=Math.max(maxX-minX,maxY-minY))?1/invSize:0}return earcutLinked(outerNode,triangles,dim,minX,minY,invSize),triangles}function linkedList(data,start,end,dim,clockwise){var i,last;if(clockwise===signedArea(data,start,end,dim)>0)for(i=start;i<end;i+=dim)last=insertNode(i,data[i],data[i+1],last);else for(i=end-dim;i>=start;i-=dim)last=insertNode(i,data[i],data[i+1],last);return last&&equals(last,last.next)&&(removeNode(last),last=last.next),last}function filterPoints(start,end){if(!start)return start;end||(end=start);var again,p=start;do{if(again=!1,p.steiner||!equals(p,p.next)&&0!==area(p.prev,p,p.next))p=p.next;else{if(removeNode(p),(p=end=p.prev)===p.next)break;again=!0}}while(again||p!==end);return end}function earcutLinked(ear,triangles,dim,minX,minY,invSize,pass){if(ear){!pass&&invSize&&function indexCurve(start,minX,minY,invSize){var p=start;do{null===p.z&&(p.z=zOrder(p.x,p.y,minX,minY,invSize)),p.prevZ=p.prev,p.nextZ=p.next,p=p.next}while(p!==start);p.prevZ.nextZ=null,p.prevZ=null,function sortLinked(list){var i,p,q,e,tail,numMerges,pSize,qSize,inSize=1;do{for(p=list,list=null,tail=null,numMerges=0;p;){for(numMerges++,q=p,pSize=0,i=0;i<inSize&&(pSize++,q=q.nextZ);i++);for(qSize=inSize;pSize>0||qSize>0&&q;)0!==pSize&&(0===qSize||!q||p.z<=q.z)?(e=p,p=p.nextZ,pSize--):(e=q,q=q.nextZ,qSize--),tail?tail.nextZ=e:list=e,e.prevZ=tail,tail=e;p=q}tail.nextZ=null,inSize*=2}while(numMerges>1);return list}(p)}(ear,minX,minY,invSize);for(var prev,next,stop=ear;ear.prev!==ear.next;)if(prev=ear.prev,next=ear.next,invSize?isEarHashed(ear,minX,minY,invSize):isEar(ear))triangles.push(prev.i/dim),triangles.push(ear.i/dim),triangles.push(next.i/dim),removeNode(ear),ear=next.next,stop=next.next;else if((ear=next)===stop){pass?1===pass?earcutLinked(ear=cureLocalIntersections(ear,triangles,dim),triangles,dim,minX,minY,invSize,2):2===pass&&splitEarcut(ear,triangles,dim,minX,minY,invSize):earcutLinked(filterPoints(ear),triangles,dim,minX,minY,invSize,1);break}}}function isEar(ear){var a=ear.prev,b=ear,c=ear.next;if(area(a,b,c)>=0)return!1;for(var p=ear.next.next;p!==ear.prev;){if(pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function isEarHashed(ear,minX,minY,invSize){var a=ear.prev,b=ear,c=ear.next;if(area(a,b,c)>=0)return!1;for(var minTX=a.x<b.x?a.x<c.x?a.x:c.x:b.x<c.x?b.x:c.x,minTY=a.y<b.y?a.y<c.y?a.y:c.y:b.y<c.y?b.y:c.y,maxTX=a.x>b.x?a.x>c.x?a.x:c.x:b.x>c.x?b.x:c.x,maxTY=a.y>b.y?a.y>c.y?a.y:c.y:b.y>c.y?b.y:c.y,minZ=zOrder(minTX,minTY,minX,minY,invSize),maxZ=zOrder(maxTX,maxTY,minX,minY,invSize),p=ear.prevZ,n=ear.nextZ;p&&p.z>=minZ&&n&&n.z<=maxZ;){if(p!==ear.prev&&p!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,n!==ear.prev&&n!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,n.x,n.y)&&area(n.prev,n,n.next)>=0)return!1;n=n.nextZ}for(;p&&p.z>=minZ;){if(p!==ear.prev&&p!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;n&&n.z<=maxZ;){if(n!==ear.prev&&n!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,n.x,n.y)&&area(n.prev,n,n.next)>=0)return!1;n=n.nextZ}return!0}function cureLocalIntersections(start,triangles,dim){var p=start;do{var a=p.prev,b=p.next.next;!equals(a,b)&&intersects(a,p,p.next,b)&&locallyInside(a,b)&&locallyInside(b,a)&&(triangles.push(a.i/dim),triangles.push(p.i/dim),triangles.push(b.i/dim),removeNode(p),removeNode(p.next),p=start=b),p=p.next}while(p!==start);return p}function splitEarcut(start,triangles,dim,minX,minY,invSize){var a=start;do{for(var b=a.next.next;b!==a.prev;){if(a.i!==b.i&&isValidDiagonal(a,b)){var c=splitPolygon(a,b);return a=filterPoints(a,a.next),c=filterPoints(c,c.next),earcutLinked(a,triangles,dim,minX,minY,invSize),void earcutLinked(c,triangles,dim,minX,minY,invSize)}b=b.next}a=a.next}while(a!==start)}function compareX(a,b){return a.x-b.x}function eliminateHole(hole,outerNode){if(outerNode=function findHoleBridge(hole,outerNode){var m,p=outerNode,hx=hole.x,hy=hole.y,qx=-1/0;do{if(hy<=p.y&&hy>=p.next.y&&p.next.y!==p.y){var x=p.x+(hy-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(x<=hx&&x>qx){if(qx=x,x===hx){if(hy===p.y)return p;if(hy===p.next.y)return p.next}m=p.x<p.next.x?p:p.next}}p=p.next}while(p!==outerNode);if(!m)return null;if(hx===qx)return m.prev;var tan,stop=m,mx=m.x,my=m.y,tanMin=1/0;p=m.next;for(;p!==stop;)hx>=p.x&&p.x>=mx&&hx!==p.x&&pointInTriangle(hy<my?hx:qx,hy,mx,my,hy<my?qx:hx,hy,p.x,p.y)&&((tan=Math.abs(hy-p.y)/(hx-p.x))<tanMin||tan===tanMin&&p.x>m.x)&&locallyInside(p,hole)&&(m=p,tanMin=tan),p=p.next;return m}(hole,outerNode)){var b=splitPolygon(outerNode,hole);filterPoints(b,b.next)}}function zOrder(x,y,minX,minY,invSize){return(x=1431655765&((x=858993459&((x=252645135&((x=16711935&((x=32767*(x-minX)*invSize)|x<<8))|x<<4))|x<<2))|x<<1))|(y=1431655765&((y=858993459&((y=252645135&((y=16711935&((y=32767*(y-minY)*invSize)|y<<8))|y<<4))|y<<2))|y<<1))<<1}function getLeftmost(start){var p=start,leftmost=start;do{p.x<leftmost.x&&(leftmost=p),p=p.next}while(p!==start);return leftmost}function pointInTriangle(ax,ay,bx,by,cx,cy,px,py){return(cx-px)*(ay-py)-(ax-px)*(cy-py)>=0&&(ax-px)*(by-py)-(bx-px)*(ay-py)>=0&&(bx-px)*(cy-py)-(cx-px)*(by-py)>=0}function isValidDiagonal(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!function intersectsPolygon(a,b){var p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==b.i&&p.next.i!==b.i&&intersects(p,p.next,a,b))return!0;p=p.next}while(p!==a);return!1}(a,b)&&locallyInside(a,b)&&locallyInside(b,a)&&function middleInside(a,b){var p=a,inside=!1,px=(a.x+b.x)/2,py=(a.y+b.y)/2;do{p.y>py!=p.next.y>py&&p.next.y!==p.y&&px<(p.next.x-p.x)*(py-p.y)/(p.next.y-p.y)+p.x&&(inside=!inside),p=p.next}while(p!==a);return inside}(a,b)}function area(p,q,r){return(q.y-p.y)*(r.x-q.x)-(q.x-p.x)*(r.y-q.y)}function equals(p1,p2){return p1.x===p2.x&&p1.y===p2.y}function intersects(p1,q1,p2,q2){return!!(equals(p1,q1)&&equals(p2,q2)||equals(p1,q2)&&equals(p2,q1))||area(p1,q1,p2)>0!=area(p1,q1,q2)>0&&area(p2,q2,p1)>0!=area(p2,q2,q1)>0}function locallyInside(a,b){return area(a.prev,a,a.next)<0?area(a,b,a.next)>=0&&area(a,a.prev,b)>=0:area(a,b,a.prev)<0||area(a,a.next,b)<0}function splitPolygon(a,b){var a2=new Node(a.i,a.x,a.y),b2=new Node(b.i,b.x,b.y),an=a.next,bp=b.prev;return a.next=b,b.prev=a,a2.next=an,an.prev=a2,b2.next=a2,a2.prev=b2,bp.next=b2,b2.prev=bp,b2}function insertNode(i,x,y,last){var p=new Node(i,x,y);return last?(p.next=last.next,p.prev=last,last.next.prev=p,last.next=p):(p.prev=p,p.next=p),p}function removeNode(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function Node(i,x,y){this.i=i,this.x=x,this.y=y,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(data,start,end,dim){for(var sum=0,i=start,j=end-dim;i<end;i+=dim)sum+=(data[j]-data[i])*(data[i+1]+data[j+1]),j=i;return sum}module.exports=earcut,module.exports.default=earcut,earcut.deviation=function(data,holeIndices,dim,triangles){var hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:data.length,polygonArea=Math.abs(signedArea(data,0,outerLen,dim));if(hasHoles)for(var i=0,len=holeIndices.length;i<len;i++){var start=holeIndices[i]*dim,end=i<len-1?holeIndices[i+1]*dim:data.length;polygonArea-=Math.abs(signedArea(data,start,end,dim))}var trianglesArea=0;for(i=0;i<triangles.length;i+=3){var a=triangles[i]*dim,b=triangles[i+1]*dim,c=triangles[i+2]*dim;trianglesArea+=Math.abs((data[a]-data[c])*(data[b+1]-data[a+1])-(data[a]-data[b])*(data[c+1]-data[a+1]))}return 0===polygonArea&&0===trianglesArea?0:Math.abs((trianglesArea-polygonArea)/polygonArea)},earcut.flatten=function(data){for(var dim=data[0][0].length,result={vertices:[],holes:[],dimensions:dim},holeIndex=0,i=0;i<data.length;i++){for(var j=0;j<data[i].length;j++)for(var d=0;d<dim;d++)result.vertices.push(data[i][j][d]);i>0&&(holeIndex+=data[i-1].length,result.holes.push(holeIndex))}return result}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME solid-polygon-layer-vertex-shader\n\nattribute vec2 vertexPositions;\nattribute vec3 positions;\nattribute vec2 positions64xyLow;\nattribute vec3 nextPositions;\nattribute vec2 nextPositions64xyLow;\nattribute float elevations;\nattribute vec4 colors;\nattribute vec3 pickingColors;\n\nuniform float isSideVertex;\nuniform float extruded;\nuniform float elevationScale;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec3 pos;\n  vec2 pos64xyLow;\n  vec3 normal;\n\n  if (isSideVertex > 0.5) {\n    pos = mix(positions, nextPositions, vertexPositions.x);\n    pos64xyLow = mix(positions64xyLow, nextPositions64xyLow, vertexPositions.x);\n  } else {\n    pos = positions;\n    pos64xyLow = positions64xyLow;\n  }\n  if (extruded > 0.5) {\n    pos.z += elevations * vertexPositions.y;\n  }\n  pos.z *= elevationScale;\n\n  vec4 position_worldspace;\n  gl_Position = project_position_to_clipspace(pos, pos64xyLow, vec3(0.), position_worldspace);\n\n  float lightWeight = 1.0;\n  \n  if (extruded > 0.5) {\n    if (isSideVertex > 0.5) {\n      normal = vec3(positions.y - nextPositions.y, nextPositions.x - positions.x, 0.0);\n      normal = project_normal(normal);\n    } else {\n      normal = vec3(0.0, 0.0, 1.0);\n    }\n\n    lightWeight = lighting_getLightWeight(position_worldspace.xyz, normal);\n  }\n\n  vec3 lightWeightedColor = lightWeight * colors.rgb;\n  vColor = vec4(lightWeightedColor, colors.a * opacity) / 255.0;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(pickingColors);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="#define SHADER_NAME solid-polygon-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return GeoJsonLayer});var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__scatterplot_layer_scatterplot_layer__=__webpack_require__(625),__WEBPACK_IMPORTED_MODULE_2__path_layer_path_layer__=__webpack_require__(485),__WEBPACK_IMPORTED_MODULE_3__solid_polygon_layer_solid_polygon_layer__=__webpack_require__(628),__WEBPACK_IMPORTED_MODULE_4__geojson__=__webpack_require__(1094);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var defaultLineColor=[0,0,0,255],defaultFillColor=[0,0,0,255],defaultProps={stroked:!0,filled:!0,extruded:!1,wireframe:!1,lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,elevationScale:1,pointRadiusScale:1,pointRadiusMinPixels:0,pointRadiusMaxPixels:Number.MAX_SAFE_INTEGER,fp64:!1,getLineColor:function getLineColor(f){return f.properties&&f.properties.lineColor||defaultLineColor},getFillColor:function getFillColor(f){return f.properties&&f.properties.fillColor||defaultFillColor},getRadius:function getRadius(f){return f.properties&&(f.properties.radius||f.properties.size)||1},getLineWidth:function getLineWidth(f){return f.properties&&f.properties.lineWidth||1},getElevation:function getElevation(f){return f.properties&&f.properties.elevation||1e3},subLayers:{PointLayer:__WEBPACK_IMPORTED_MODULE_1__scatterplot_layer_scatterplot_layer__.a,LineLayer:__WEBPACK_IMPORTED_MODULE_2__path_layer_path_layer__.a,PolygonLayer:__WEBPACK_IMPORTED_MODULE_3__solid_polygon_layer_solid_polygon_layer__.a},lightSettings:{}},getCoordinates=function getCoordinates(f){return f.geometry.coordinates},GeoJsonLayer=function(_CompositeLayer){function GeoJsonLayer(){return _classCallCheck(this,GeoJsonLayer),_possibleConstructorReturn(this,(GeoJsonLayer.__proto__||Object.getPrototypeOf(GeoJsonLayer)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(GeoJsonLayer,__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__["CompositeLayer"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(GeoJsonLayer,[{key:"initializeState",value:function initializeState(){this.state={features:{}}}},{key:"updateState",value:function updateState(_ref){_ref.oldProps;var props=_ref.props;if(_ref.changeFlags.dataChanged){var data=props.data,features=Object(__WEBPACK_IMPORTED_MODULE_4__geojson__.a)(data);this.state.features=Object(__WEBPACK_IMPORTED_MODULE_4__geojson__.b)(features)}}},{key:"getPickingInfo",value:function getPickingInfo(_ref2){var info=_ref2.info;return Object.assign(info,{object:info.object&&info.object.feature||info.object})}},{key:"renderLayers",value:function renderLayers(){var features=this.state.features,pointFeatures=features.pointFeatures,lineFeatures=features.lineFeatures,polygonFeatures=features.polygonFeatures,polygonOutlineFeatures=features.polygonOutlineFeatures,_this$props=this.props,stroked=_this$props.stroked,filled=_this$props.filled,extruded=_this$props.extruded,wireframe=_this$props.wireframe,subLayers=_this$props.subLayers,lightSettings=_this$props.lightSettings,_this$props2=this.props,lineWidthScale=_this$props2.lineWidthScale,lineWidthMinPixels=_this$props2.lineWidthMinPixels,lineWidthMaxPixels=_this$props2.lineWidthMaxPixels,lineJointRounded=_this$props2.lineJointRounded,lineMiterLimit=_this$props2.lineMiterLimit,pointRadiusScale=_this$props2.pointRadiusScale,pointRadiusMinPixels=_this$props2.pointRadiusMinPixels,pointRadiusMaxPixels=_this$props2.pointRadiusMaxPixels,elevationScale=_this$props2.elevationScale,fp64=_this$props2.fp64,_this$props3=this.props,getLineColor=_this$props3.getLineColor,getFillColor=_this$props3.getFillColor,getRadius=_this$props3.getRadius,getLineWidth=_this$props3.getLineWidth,getElevation=_this$props3.getElevation,updateTriggers=_this$props3.updateTriggers,drawPoints=pointFeatures&&pointFeatures.length>0,drawLines=lineFeatures&&lineFeatures.length>0,hasPolygonLines=polygonOutlineFeatures&&polygonOutlineFeatures.length>0,polygonFillLayer=polygonFeatures&&polygonFeatures.length>0&&new subLayers.PolygonLayer(this.getSubLayerProps({id:"polygon-fill",updateTriggers:{getElevation:updateTriggers.getElevation,getFillColor:updateTriggers.getFillColor,getLineColor:updateTriggers.getLineColor}}),{data:polygonFeatures,fp64:fp64,extruded:extruded,elevationScale:elevationScale,filled:filled,wireframe:wireframe,lightSettings:lightSettings,getPolygon:getCoordinates,getElevation:getElevation,getFillColor:getFillColor,getLineColor:getLineColor}),polygonLineLayer=!extruded&&stroked&&hasPolygonLines&&new subLayers.LineLayer(this.getSubLayerProps({id:"polygon-outline",updateTriggers:{getColor:updateTriggers.getLineColor,getWidth:updateTriggers.getLineWidth}}),{data:polygonOutlineFeatures,fp64:fp64,widthScale:lineWidthScale,widthMinPixels:lineWidthMinPixels,widthMaxPixels:lineWidthMaxPixels,rounded:lineJointRounded,miterLimit:lineMiterLimit,getPath:getCoordinates,getColor:getLineColor,getWidth:getLineWidth}),pathLayer=drawLines&&new subLayers.LineLayer(this.getSubLayerProps({id:"line-paths",updateTriggers:{getColor:updateTriggers.getLineColor,getWidth:updateTriggers.getLineWidth}}),{data:lineFeatures,fp64:fp64,widthScale:lineWidthScale,widthMinPixels:lineWidthMinPixels,widthMaxPixels:lineWidthMaxPixels,rounded:lineJointRounded,miterLimit:lineMiterLimit,getPath:getCoordinates,getColor:getLineColor,getWidth:getLineWidth}),pointLayer=drawPoints&&new subLayers.PointLayer(this.getSubLayerProps({id:"points",updateTriggers:{getColor:updateTriggers.getFillColor,getRadius:updateTriggers.getRadius}}),{data:pointFeatures,fp64:fp64,radiusScale:pointRadiusScale,radiusMinPixels:pointRadiusMinPixels,radiusMaxPixels:pointRadiusMaxPixels,getPosition:getCoordinates,getColor:getFillColor,getRadius:getRadius});return[!extruded&&polygonFillLayer,polygonLineLayer,pathLayer,pointLayer,extruded&&polygonFillLayer]}}]),GeoJsonLayer}();GeoJsonLayer.layerName="GeoJsonLayer",GeoJsonLayer.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";function assert(condition,message){if(!condition)throw new Error("deck.gl: ".concat(message))}__webpack_exports__.a=function getGeojsonFeatures(geojson){if(Array.isArray(geojson))return geojson;switch(assert(geojson.type,"GeoJSON does not have type"),geojson.type){case"GeometryCollection":return assert(Array.isArray(geojson.geometries),"GeoJSON does not have geometries array"),geojson.geometries.map(function(geometry){return{geometry:geometry}});case"Feature":return[geojson];case"FeatureCollection":return assert(Array.isArray(geojson.features),"GeoJSON does not have features array"),geojson.features;default:return[{geometry:geojson}]}},__webpack_exports__.b=function separateGeojsonFeatures(features){var pointFeatures=[],lineFeatures=[],polygonFeatures=[],polygonOutlineFeatures=[];return features.forEach(function(feature){assert(feature&&feature.geometry,"GeoJSON does not have geometry");var _feature$geometry=feature.geometry,type=_feature$geometry.type,coordinates=_feature$geometry.coordinates,properties=feature.properties;switch(function checkCoordinates(type,coordinates){var nestLevel=COORDINATE_NEST_LEVEL[type];for(assert(nestLevel,"Unknown GeoJSON type ".concat(type));coordinates&&--nestLevel>0;)coordinates=coordinates[0];assert(coordinates&&Number.isFinite(coordinates[0]),"".concat(type," coordinates are malformed"))}(type,coordinates),type){case"Point":pointFeatures.push(feature);break;case"MultiPoint":coordinates.forEach(function(point){pointFeatures.push({geometry:{coordinates:point},properties:properties,feature:feature})});break;case"LineString":lineFeatures.push(feature);break;case"MultiLineString":coordinates.forEach(function(path){lineFeatures.push({geometry:{coordinates:path},properties:properties,feature:feature})});break;case"Polygon":polygonFeatures.push(feature),coordinates.forEach(function(path){polygonOutlineFeatures.push({geometry:{coordinates:path},properties:properties,feature:feature})});break;case"MultiPolygon":coordinates.forEach(function(polygon){polygonFeatures.push({geometry:{coordinates:polygon},properties:properties,feature:feature}),polygon.forEach(function(path){polygonOutlineFeatures.push({geometry:{coordinates:path},properties:properties,feature:feature})})})}}),{pointFeatures:pointFeatures,lineFeatures:lineFeatures,polygonFeatures:polygonFeatures,polygonOutlineFeatures:polygonOutlineFeatures}};var COORDINATE_NEST_LEVEL={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return TextLayer});var __WEBPACK_IMPORTED_MODULE_0__deck_gl_core__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__multi_icon_layer_multi_icon_layer__=__webpack_require__(1096),__WEBPACK_IMPORTED_MODULE_2__font_atlas__=__webpack_require__(1098);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var TEXT_ANCHOR={start:1,middle:0,end:-1},ALIGNMENT_BASELINE={top:1,center:0,bottom:-1},DEFAULT_COLOR=[0,0,0,255],defaultProps={fp64:!1,sizeScale:1,fontFamily:"Monaco, monospace",characterSet:__WEBPACK_IMPORTED_MODULE_2__font_atlas__.a,getText:function getText(x){return x.text},getPosition:function getPosition(x){return x.position},getColor:function getColor(x){return x.color||DEFAULT_COLOR},getSize:function getSize(x){return x.size||32},getAngle:function getAngle(x){return x.angle||0},getTextAnchor:function getTextAnchor(x){return x.textAnchor||"middle"},getAlignmentBaseline:function getAlignmentBaseline(x){return x.alignmentBaseline||"center"},getPixelOffset:function getPixelOffset(x){return x.offset||x.pixelOffset||[0,0]}},TextLayer=function(_CompositeLayer){function TextLayer(){return _classCallCheck(this,TextLayer),_possibleConstructorReturn(this,(TextLayer.__proto__||Object.getPrototypeOf(TextLayer)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(TextLayer,__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__["CompositeLayer"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(TextLayer,[{key:"updateState",value:function updateState(_ref){var props=_ref.props,oldProps=_ref.oldProps,changeFlags=_ref.changeFlags,fontChanged=oldProps.fontFamily!==props.fontFamily||oldProps.characterSet!==props.characterSet;fontChanged&&this.updateFontAtlas(props.fontFamily,props.characterSet),(changeFlags.dataChanged||fontChanged||changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.all||changeFlags.updateTriggersChanged.getText))&&this.transformStringToLetters()}},{key:"updateFontAtlas",value:function updateFontAtlas(fontFamily,characterSet){var gl=this.context.gl,_makeFontAtlas=Object(__WEBPACK_IMPORTED_MODULE_2__font_atlas__.b)(gl,{fontFamily:fontFamily,characterSet:characterSet}),scale=_makeFontAtlas.scale,mapping=_makeFontAtlas.mapping,texture=_makeFontAtlas.texture;this.setState({scale:scale,iconAtlas:texture,iconMapping:mapping})}},{key:"getPickingInfo",value:function getPickingInfo(_ref2){var info=_ref2.info;return Object.assign(info,{object:info.object&&info.object.object})}},{key:"transformStringToLetters",value:function transformStringToLetters(){var _this$props=this.props,data=_this$props.data,getText=_this$props.getText,iconMapping=this.state.iconMapping;if(data&&0!==data.length){var transformedData=[];data.forEach(function(val){var text=getText(val);if(text){var offsets=[0],offsetLeft=0;Array.from(text).forEach(function(letter,i){var datum={text:letter,index:i,offsets:offsets,len:text.length,object:val},frame=iconMapping[letter];frame?offsetLeft+=frame.width:(__WEBPACK_IMPORTED_MODULE_0__deck_gl_core__.log.warn("Missing character: ".concat(letter))(),offsetLeft+=32),offsets.push(offsetLeft),transformedData.push(datum)})}}),this.setState({data:transformedData})}}},{key:"getLetterOffset",value:function getLetterOffset(datum){return datum.offsets[datum.index]}},{key:"getTextLength",value:function getTextLength(datum){return datum.offsets[datum.offsets.length-1]}},{key:"_getAccessor",value:function _getAccessor(accessor){return"function"==typeof accessor?function(x){return accessor(x.object)}:accessor}},{key:"getAnchorXFromTextAnchor",value:function getAnchorXFromTextAnchor(getTextAnchor){return function(x){var textAnchor="function"==typeof getTextAnchor?getTextAnchor(x.object):getTextAnchor;if(!TEXT_ANCHOR.hasOwnProperty(textAnchor))throw new Error("Invalid text anchor parameter: ".concat(textAnchor));return TEXT_ANCHOR[textAnchor]}}},{key:"getAnchorYFromAlignmentBaseline",value:function getAnchorYFromAlignmentBaseline(getAlignmentBaseline){return function(x){var alignmentBaseline="function"==typeof getAlignmentBaseline?getAlignmentBaseline(x.object):getAlignmentBaseline;if(!ALIGNMENT_BASELINE.hasOwnProperty(alignmentBaseline))throw new Error("Invalid alignment baseline parameter: ".concat(alignmentBaseline));return ALIGNMENT_BASELINE[alignmentBaseline]}}},{key:"renderLayers",value:function renderLayers(){var _this=this,_this$state=this.state,data=_this$state.data,scale=_this$state.scale,iconAtlas=_this$state.iconAtlas,iconMapping=_this$state.iconMapping;if(!iconMapping||!iconAtlas||!data)return null;var _this$props2=this.props,_getPosition=_this$props2.getPosition,getColor=_this$props2.getColor,getSize=_this$props2.getSize,getAngle=_this$props2.getAngle,getTextAnchor=_this$props2.getTextAnchor,getAlignmentBaseline=_this$props2.getAlignmentBaseline,getPixelOffset=_this$props2.getPixelOffset,fp64=_this$props2.fp64,sizeScale=_this$props2.sizeScale,transitions=_this$props2.transitions,updateTriggers=_this$props2.updateTriggers;return[new __WEBPACK_IMPORTED_MODULE_1__multi_icon_layer_multi_icon_layer__.a(this.getSubLayerProps({id:"text-multi-icon-layer",data:data,iconAtlas:iconAtlas,iconMapping:iconMapping,getIcon:function getIcon(d){return d.text},getPosition:function getPosition(d){return _getPosition(d.object)},getShiftInQueue:function getShiftInQueue(d){return _this.getLetterOffset(d)},getLengthOfQueue:function getLengthOfQueue(d){return _this.getTextLength(d)},getColor:this._getAccessor(getColor),getSize:this._getAccessor(getSize),getAngle:this._getAccessor(getAngle),getAnchorX:this.getAnchorXFromTextAnchor(getTextAnchor),getAnchorY:this.getAnchorYFromAlignmentBaseline(getAlignmentBaseline),getPixelOffset:this._getAccessor(getPixelOffset),fp64:fp64,sizeScale:sizeScale*scale,transitions:transitions&&{getPosition:transitions.getPosition,getAngle:transitions.getAngle,getColor:transitions.getColor,getSize:transitions.getSize,getPixelOffset:updateTriggers.getPixelOffset},updateTriggers:{getPosition:updateTriggers.getPosition,getAngle:updateTriggers.getAngle,getColor:updateTriggers.getColor,getSize:updateTriggers.getSize,getPixelOffset:updateTriggers.getPixelOffset,getAnchorX:updateTriggers.getTextAnchor,getAnchorY:updateTriggers.getAlignmentBaseline}}))]}}]),TextLayer}();TextLayer.layerName="TextLayer",TextLayer.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MultiIconLayer});var __WEBPACK_IMPORTED_MODULE_0__icon_layer_icon_layer__=__webpack_require__(624),__WEBPACK_IMPORTED_MODULE_1__multi_icon_layer_vertex_glsl__=__webpack_require__(1097);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.getPrototypeOf||function _getPrototypeOf(o){return o.__proto__})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var MultiIconLayer=function(_IconLayer){function MultiIconLayer(){return _classCallCheck(this,MultiIconLayer),_possibleConstructorReturn(this,(MultiIconLayer.__proto__||Object.getPrototypeOf(MultiIconLayer)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(MultiIconLayer,__WEBPACK_IMPORTED_MODULE_0__icon_layer_icon_layer__["a"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(MultiIconLayer,[{key:"getShaders",value:function getShaders(){return Object.assign({},_get(MultiIconLayer.prototype.__proto__||Object.getPrototypeOf(MultiIconLayer.prototype),"getShaders",this).call(this),{vs:__WEBPACK_IMPORTED_MODULE_1__multi_icon_layer_vertex_glsl__.a})}},{key:"initializeState",value:function initializeState(){_get(MultiIconLayer.prototype.__proto__||Object.getPrototypeOf(MultiIconLayer.prototype),"initializeState",this).call(this),this.getAttributeManager().addInstanced({instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}},{key:"updateState",value:function updateState(updateParams){_get(MultiIconLayer.prototype.__proto__||Object.getPrototypeOf(MultiIconLayer.prototype),"updateState",this).call(this,updateParams);var changeFlags=updateParams.changeFlags;changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.getAnchorX||changeFlags.updateTriggersChanged.getAnchorY)&&this.getAttributeManager().invalidate("instanceOffsets")}},{key:"calculateInstanceOffsets",value:function calculateInstanceOffsets(attribute){var _this$props=this.props,data=_this$props.data,iconMapping=_this$props.iconMapping,getIcon=_this$props.getIcon,getAnchorX=_this$props.getAnchorX,getAnchorY=_this$props.getAnchorY,getLengthOfQueue=_this$props.getLengthOfQueue,getShiftInQueue=_this$props.getShiftInQueue,value=attribute.value,i=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var object=_step.value,rect=iconMapping[getIcon(object)]||{},len=getLengthOfQueue(object),shiftX=getShiftInQueue(object);value[i++]=(getAnchorX(object)-1)*len/2+rect.width/2+shiftX||0,value[i++]=rect.height/2*getAnchorY(object)||0}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}}]),MultiIconLayer}();MultiIconLayer.layerName="MultiIconLayer",MultiIconLayer.defaultProps={getShiftInQueue:function getShiftInQueue(x){return x.shift||0},getLengthOfQueue:function getLengthOfQueue(x){return x.len||1},getAnchorX:function getAnchorX(x){return x.anchorX||0},getAnchorY:function getAnchorY(x){return x.anchorY||0},getPixelOffset:function getPixelOffset(x){return x.pixelOffset||[0,0]}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='#define SHADER_NAME multi-icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\n\n// the following three attributes are for the multi-icon layer\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  vec2 iconSize = instanceIconFrames.zw;\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : instanceSizes / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * sizeScale * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64xyLow, vec3(0.0));\n  gl_Position += project_pixel_to_clipspace(pixelOffset);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vTextureCoords.y = 1.0 - vTextureCoords.y;\n\n  vColor = instanceColors / 255.;\n  picking_setPickingColor(instancePickingColors);\n\n  vColorMode = instanceColorModes;\n}\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return DEFAULT_CHAR_SET}),__webpack_exports__.b=function makeFontAtlas(gl,_ref){var _parameters,fontFamily=_ref.fontFamily,_ref$characterSet=_ref.characterSet,characterSet=void 0===_ref$characterSet?DEFAULT_CHAR_SET:_ref$characterSet,_ref$fontSize=_ref.fontSize,fontSize=void 0===_ref$fontSize?DEFAULT_FONT_SIZE:_ref$fontSize,_ref$padding=_ref.padding,padding=void 0===_ref$padding?DEFAULT_PADDING:_ref$padding,canvas=document.createElement("canvas"),ctx=canvas.getContext("2d");setTextStyle(ctx,fontFamily,fontSize,!0);var row=0,x=0,fontBoundingBoxDescent=ctx.measureText(characterSet[0]).fontBoundingBoxDescent,fontHeight=fontBoundingBoxDescent||fontSize,useAdvancedMetrics=Boolean(fontBoundingBoxDescent),mapping={};for(var char in Array.from(characterSet).forEach(function(char){var width=ctx.measureText(char).width;x+width>MAX_CANVAS_WIDTH&&(x=0,row++),mapping[char]={x:x,y:row*(fontHeight+padding),width:width,height:fontHeight,mask:!0},x+=width+padding}),canvas.width=MAX_CANVAS_WIDTH,canvas.height=(row+1)*(fontHeight+padding),setTextStyle(ctx,fontFamily,fontSize,useAdvancedMetrics),mapping)ctx.fillText(char,mapping[char].x,mapping[char].y);return{scale:fontHeight/fontSize,mapping:mapping,texture:new __WEBPACK_IMPORTED_MODULE_0_luma_gl__.Texture2D(gl,{pixels:canvas,parameters:(_parameters={},_defineProperty(_parameters,GL_TEXTURE_WRAP_S,GL_CLAMP_TO_EDGE),_defineProperty(_parameters,GL_TEXTURE_WRAP_T,GL_CLAMP_TO_EDGE),_parameters)})}};var __WEBPACK_IMPORTED_MODULE_0_luma_gl__=__webpack_require__(14);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}for(var GL_TEXTURE_WRAP_S=10242,GL_TEXTURE_WRAP_T=10243,GL_CLAMP_TO_EDGE=33071,MAX_CANVAS_WIDTH=1024,DEFAULT_FONT_SIZE=64,DEFAULT_PADDING=4,DEFAULT_CHAR_SET=[],i=32;i<128;i++)DEFAULT_CHAR_SET.push(String.fromCharCode(i));function setTextStyle(ctx,fontFamily,fontSize,useAdvancedMetrics){ctx.font="".concat(fontSize,"px ").concat(fontFamily),ctx.fillStyle="#000",ctx.textBaseline=useAdvancedMetrics?"top":"hanging",ctx.textAlign="left"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,newObj}(__webpack_require__(0)),_propTypes=_interopRequireDefault(__webpack_require__(1)),_autobind=_interopRequireDefault(__webpack_require__(631)),_inheritsFrom=__webpack_require__(1100),_core=__webpack_require__(27);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var propTypes=Object.assign({},_core.Deck.getPropTypes(_propTypes.default),{viewports:_propTypes.default.array,viewport:_propTypes.default.object}),defaultProps=_core.Deck.defaultProps,DeckGL=function(_React$Component){function DeckGL(props){var _this;return _classCallCheck(this,DeckGL),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(DeckGL.__proto__||Object.getPrototypeOf(DeckGL)).call(this,props))).state={},_this.children=[],(0,_autobind.default)(_assertThisInitialized(_this)),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(DeckGL,_react.default.Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DeckGL,[{key:"componentDidMount",value:function componentDidMount(){this.deck=new _core.Deck(Object.assign({},this.props,{canvas:this.deckCanvas,viewState:this._getViewState(this.props),onViewStateChange:this._onViewStateChange,onResize:this._onResize})),this._updateFromProps(this.props)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){this._updateFromProps(nextProps)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.deck.finalize()}},{key:"pickObject",value:function pickObject(_ref){var x=_ref.x,y=_ref.y,_ref$radius=_ref.radius,radius=void 0===_ref$radius?0:_ref$radius,_ref$layerIds=_ref.layerIds,layerIds=void 0===_ref$layerIds?null:_ref$layerIds;return this.deck.pickObject({x:x,y:y,radius:radius,layerIds:layerIds})}},{key:"pickMultipleObjects",value:function pickMultipleObjects(_ref2){var x=_ref2.x,y=_ref2.y,_ref2$radius=_ref2.radius,radius=void 0===_ref2$radius?0:_ref2$radius,_ref2$layerIds=_ref2.layerIds,layerIds=void 0===_ref2$layerIds?null:_ref2$layerIds,_ref2$depth=_ref2.depth,depth=void 0===_ref2$depth?10:_ref2$depth;return this.deck.pickMultipleObjects({x:x,y:y,radius:radius,layerIds:layerIds,depth:depth})}},{key:"pickObjects",value:function pickObjects(_ref3){var x=_ref3.x,y=_ref3.y,_ref3$width=_ref3.width,width=void 0===_ref3$width?1:_ref3$width,_ref3$height=_ref3.height,height=void 0===_ref3$height?1:_ref3$height,_ref3$layerIds=_ref3.layerIds,layerIds=void 0===_ref3$layerIds?null:_ref3$layerIds;return this.deck.pickObjects({x:x,y:y,width:width,height:height,layerIds:layerIds})}},{key:"queryObject",value:function queryObject(opts){return _core.log.deprecated("queryObject","pickObject")(),this.deck.pickObject(opts)}},{key:"queryVisibleObjects",value:function queryVisibleObjects(opts){return _core.log.deprecated("queryVisibleObjects","pickObjects")(),this.pickObjects(opts)}},{key:"_onResize",value:function _onResize(){var _this$props;this.props.onResize&&(_this$props=this.props).onResize.apply(_this$props,arguments);this.forceUpdate()}},{key:"_onViewStateChange",value:function _onViewStateChange(){var _this$props2;this.props.onViewStateChange&&(_this$props2=this.props).onViewStateChange.apply(_this$props2,arguments);this.forceUpdate()}},{key:"_updateFromProps",value:function _updateFromProps(nextProps){var _this$_extractJSXLaye=this._extractJSXLayers(nextProps.children),layers=_this$_extractJSXLaye.layers,children=_this$_extractJSXLaye.children;this.deck&&this.deck.setProps(Object.assign({},nextProps,{views:this._getViews(nextProps),viewState:this._getViewState(nextProps),layers:layers?_toConsumableArray(layers).concat(_toConsumableArray(nextProps.layers)):nextProps.layers})),this.children=children}},{key:"_getViews",value:function _getViews(props){return props.viewports&&_core.log.deprecated("DeckGL.viewports","DeckGL.views")(),props.viewport&&_core.log.deprecated("DeckGL.viewport","DeckGL.views")(),props.views||props.viewports||props.viewport&&[props.viewport]}},{key:"_getViewState",value:function _getViewState(props){var viewState=props.viewState;if(!viewState&&"latitude"in props&&"longitude"in props&&"zoom"in props){var latitude=props.latitude,longitude=props.longitude,zoom=props.zoom,_props$pitch=props.pitch,pitch=void 0===_props$pitch?0:_props$pitch,_props$bearing=props.bearing,bearing=void 0===_props$bearing?0:_props$bearing;viewState=props.viewState||{latitude:latitude,longitude:longitude,zoom:zoom,pitch:pitch,bearing:bearing}}return viewState}},{key:"_extractJSXLayers",value:function _extractJSXLayers(children){var reactChildren=[],layers=null;return _react.default.Children.forEach(children,function(reactElement){if(reactElement){var LayerType=reactElement.type;if((0,_inheritsFrom.inheritsFrom)(LayerType,_core.Layer)){var layer=new LayerType(reactElement.props);(layers=layers||[]).push(layer)}else reactChildren.push(reactElement)}}),{layers:layers,children:reactChildren}}},{key:"_renderChildrenUnderViews",value:function _renderChildrenUnderViews(children){var _this2=this,viewMap={};return(this.deck?this.deck.getViewports():[]).forEach(function(view){view.id&&(viewMap[view.id]=view)}),children.map(function(child,i){return child.props.viewId||child.props.viewId?_this2._positionChild({child:child,viewMap:viewMap,i:i}):child})}},{key:"_positionChild",value:function _positionChild(_ref4){var child=_ref4.child,viewMap=_ref4.viewMap,i=_ref4.i,_child$props=child.props,viewId=_child$props.viewId,viewportId=_child$props.viewportId;viewportId&&_core.log.deprecated("viewportId","viewId")();var view=viewMap[viewId||viewportId];if(!view)return null;var x=view.x,y=view.y,width=view.width,height=view.height,newProps=Object.assign({},child.props,{width:width,height:height});Object.assign(newProps,view.getMercatorParams(),{visible:view.isMapSynched()});var clone=(0,_react.cloneElement)(child,newProps),style={position:"absolute",left:x,top:y,width:width,height:height},key="view-child-".concat(viewId,"-").concat(i);return(0,_react.createElement)("div",{key:key,id:key,style:style},clone)}},{key:"render",value:function render(){var _this3=this,children=this._renderChildrenUnderViews(this.children),id=this.props.id,style=Object.assign({},{position:"absolute",left:0,top:0},this.props.style),canvas=(0,_react.createElement)("canvas",{ref:function ref(c){return _this3.deckCanvas=c},key:"deck-canvas",id:id,style:style});return children.push(canvas),(0,_react.createElement)("div",{id:"deckgl-wrapper"},children)}}]),DeckGL}();exports.default=DeckGL,DeckGL.propTypes=propTypes,DeckGL.defaultProps=defaultProps},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.inheritsFrom=function inheritsFrom(Type,ParentType){for(;Type;){if(Type===ParentType)return!0;Type=Object.getPrototypeOf(Type)}return!1}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=__webpack_require__(0),_propTypes=_interopRequireDefault(__webpack_require__(1)),_mjolnir=__webpack_require__(483),_core=__webpack_require__(27),_cursors=_interopRequireDefault(__webpack_require__(1102));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?right[Symbol.hasInstance](left):left instanceof right}(instance,Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var propTypes={viewportState:_propTypes.default.func,state:_propTypes.default.object,width:_propTypes.default.number.isRequired,height:_propTypes.default.number.isRequired,longitude:_propTypes.default.number.isRequired,latitude:_propTypes.default.number.isRequired,zoom:_propTypes.default.number.isRequired,bearing:_propTypes.default.number,pitch:_propTypes.default.number,altitude:_propTypes.default.number,position:_propTypes.default.array,maxZoom:_propTypes.default.number,minZoom:_propTypes.default.number,maxPitch:_propTypes.default.number,minPitch:_propTypes.default.number,onViewportChange:_propTypes.default.func,transitionDuration:_propTypes.default.number,transitionInterpolator:_propTypes.default.object,transitionInterruption:_propTypes.default.number,transitionEasing:_propTypes.default.func,onTransitionStart:_propTypes.default.func,onTransitionInterrupt:_propTypes.default.func,onTransitionEnd:_propTypes.default.func,scrollZoom:_propTypes.default.bool,dragPan:_propTypes.default.bool,dragRotate:_propTypes.default.bool,doubleClickZoom:_propTypes.default.bool,touchZoomRotate:_propTypes.default.bool,getCursor:_propTypes.default.func,controls:_propTypes.default.shape({events:_propTypes.default.arrayOf(_propTypes.default.string),handleEvent:_propTypes.default.func})},defaultProps={onViewportChange:null,scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoomRotate:!0,getCursor:function getDefaultCursor(_ref){return _ref.isDragging?_cursors.default.GRABBING:_cursors.default.GRAB}},ViewportController=function(_Component){function ViewportController(props){var _this;return _classCallCheck(this,ViewportController),(_this=_possibleConstructorReturn(this,(ViewportController.__proto__||Object.getPrototypeOf(ViewportController)).call(this,props))).state={isDragging:!1},_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");_setPrototypeOf(subClass.prototype,superClass&&superClass.prototype),superClass&&_setPrototypeOf(subClass,superClass)}(ViewportController,_react.Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ViewportController,[{key:"componentDidMount",value:function componentDidMount(){this._eventManager=new _mjolnir.EventManager(this.eventCanvas),this._controls=this.props.controls||new _core.MapController(this.props.viewportState),this._controls.setOptions(Object.assign({},this.props,{onStateChange:this._onInteractiveStateChange.bind(this),eventManager:this._eventManager}))}},{key:"componentWillUpdate",value:function componentWillUpdate(nextProps){this._controls&&this._controls.setOptions(nextProps)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._eventManager.destroy()}},{key:"_onInteractiveStateChange",value:function _onInteractiveStateChange(_ref2){var _ref2$isDragging=_ref2.isDragging,isDragging=void 0!==_ref2$isDragging&&_ref2$isDragging;isDragging!==this.state.isDragging&&this.setState({isDragging:isDragging})}},{key:"render",value:function render(){var _this2=this,_this$props=this.props,eventCanvasStyle={width:_this$props.width,height:_this$props.height,position:"relative",cursor:(0,_this$props.getCursor)(this.state)};return(0,_react.createElement)("div",{key:"map-controls",ref:function ref(c){return _this2.eventCanvas=c},style:eventCanvasStyle},this.props.children)}}]),ViewportController}();exports.default=ViewportController,ViewportController.displayName="ViewportController",ViewportController.propTypes=propTypes,ViewportController.defaultProps=defaultProps},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={GRABBING:"".concat("-webkit-","grabbing"),GRAB:"".concat("-webkit-","grab"),POINTER:"pointer"};exports.default=_default},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function getInteractiveLayerIds(mapStyle){var interactiveLayerIds=null;Object(__WEBPACK_IMPORTED_MODULE_0__is_immutable_map__.a)(mapStyle)&&mapStyle.has("layers")?interactiveLayerIds=mapStyle.get("layers").filter(function(l){return l.get("interactive")}).map(function(l){return l.get("id")}).toJS():Array.isArray(mapStyle.layers)&&(interactiveLayerIds=mapStyle.layers.filter(function(l){return l.interactive}).map(function(l){return l.id}));return interactiveLayerIds},__webpack_exports__.b=function setDiffStyle(prevStyle,nextStyle,map){var prevKeysMap=prevStyle&&styleKeysMap(prevStyle)||{},nextKeysMap=styleKeysMap(nextStyle);function styleKeysMap(style){return style.map(function(){return!0}).delete("layers").delete("sources").toJS()}if(!prevStyle||function propsOtherThanLayersOrSourcesDiffer(){var prevKeysList=Object.keys(prevKeysMap),nextKeysList=Object.keys(nextKeysMap);if(prevKeysList.length!==nextKeysList.length)return!0;if(nextKeysList.some(function(key){return prevStyle.get(key)!==nextStyle.get(key)}))return!0;return!1}())return void map.setStyle(nextStyle.toJS());var _diffStyles=Object(__WEBPACK_IMPORTED_MODULE_1__diff_styles__.a)(prevStyle,nextStyle),sourcesDiff=_diffStyles.sourcesDiff,layersDiff=_diffStyles.layersDiff;if(layersDiff.updates.some(function(node){return node.layer.get("ref")}))return void map.setStyle(nextStyle.toJS());var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=sourcesDiff.enter[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var enter=_step.value;map.addSource(enter.id,enter.source.toJS())}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=sourcesDiff.update[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var update=_step2.value;updateStyleSource(map,update)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=sourcesDiff.exit[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var exit=_step3.value;map.removeSource(exit.id)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=layersDiff.exiting[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var _exit=_step4.value;map.style.getLayer(_exit.id)&&map.removeLayer(_exit.id)}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=layersDiff.updates[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var _update=_step5.value;_update.enter||map.removeLayer(_update.id),map.addLayer(_update.layer.toJS(),_update.before)}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{!_iteratorNormalCompletion5&&_iterator5.return&&_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}};var __WEBPACK_IMPORTED_MODULE_0__is_immutable_map__=__webpack_require__(636),__WEBPACK_IMPORTED_MODULE_1__diff_styles__=__webpack_require__(1104);function updateStyleSource(map,update){var newSource=update.source.toJS();if("geojson"===newSource.type){var oldSource=map.getSource(update.id);if("geojson"===oldSource.type){var oldOpts=oldSource.workerOptions;if(!(void 0!==newSource.maxzoom&&newSource.maxzoom!==oldOpts.geojsonVtOptions.maxZoom||void 0!==newSource.buffer&&newSource.buffer!==oldOpts.geojsonVtOptions.buffer||void 0!==newSource.tolerance&&newSource.tolerance!==oldOpts.geojsonVtOptions.tolerance||void 0!==newSource.cluster&&newSource.cluster!==oldOpts.cluster||void 0!==newSource.clusterRadius&&newSource.clusterRadius!==oldOpts.superclusterOptions.radius||void 0!==newSource.clusterMaxZoom&&newSource.clusterMaxZoom!==oldOpts.superclusterOptions.maxZoom))return void oldSource.setData(newSource.data)}}map.removeSource(update.id),map.addSource(update.id,newSource)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function diffStyle(prevStyle,nextStyle){return{sourcesDiff:function diffSources(prevStyle,nextStyle){var prevSources=prevStyle.get("sources"),nextSources=nextStyle.get("sources"),enter=[],update=[],exit=[],prevIds=prevSources.keySeq().toArray(),nextIds=nextSources.keySeq().toArray(),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=prevIds[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var id=_step.value,nextSource=nextSources.get(id);nextSource?nextSource.equals(prevSources.get(id))||update.push({id:id,source:nextSources.get(id)}):exit.push({id:id,source:prevSources.get(id)})}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=nextIds[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _id=_step2.value,prevSource=prevSources.get(_id);prevSource||enter.push({id:_id,source:nextSources.get(_id)})}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return{enter:enter,update:update,exit:exit}}(prevStyle,nextStyle),layersDiff:function diffLayers(prevStyle,nextStyle){var prevLayers=prevStyle.get("layers"),nextLayers=nextStyle.get("layers"),updates=[],exiting=[],prevMap={},nextMap={};nextLayers.forEach(function(layer,index){var id=layer.get("id"),layerImBehind=nextLayers.get(index+1);nextMap[id]={layer:layer,id:id,before:layerImBehind?layerImBehind.get("id"):null,enter:!0}}),prevLayers.forEach(function(layer,index){var id=layer.get("id"),layerImBehind=prevLayers.get(index+1);prevMap[id]={layer:layer,id:id,before:layerImBehind?layerImBehind.get("id"):null},nextMap[id]?nextMap[id].enter=!1:exiting.push(prevMap[id])});var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=nextLayers.reverse()[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var layer=_step3.value,id=layer.get("id");prevMap[id]&&prevMap[id].layer.equals(nextMap[id].layer)&&prevMap[id].before===nextMap[id].before||updates.push(nextMap[id])}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}return{updates:updates,exiting:exiting}}(prevStyle,nextStyle)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(process){var __WEBPACK_IMPORTED_MODULE_0_prop_types__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0_prop_types___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_prop_types__),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var mapboxgl=!("object"===(void 0===process?"undefined":_typeof(process))&&"[object process]"===String(process)&&!process.browser)?__webpack_require__(1106):null;function noop(){}var propTypes={container:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.object,mapboxApiAccessToken:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.string,attributionControl:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.bool,preserveDrawingBuffer:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.bool,onLoad:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.func,onError:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.func,reuseMaps:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.bool,transformRequest:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.func,mapStyle:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.string,visible:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.bool,width:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.number.isRequired,height:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.number.isRequired,longitude:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.number.isRequired,latitude:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.number.isRequired,zoom:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.number.isRequired,bearing:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.number,pitch:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.number,altitude:__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.number},defaultProps={mapboxApiAccessToken:function getAccessToken(){var accessToken=null;if("undefined"!=typeof window&&window.location){var match=window.location.search.match(/access_token=([^&\/]*)/);accessToken=match&&match[1]}accessToken||void 0===process||(accessToken=accessToken||"pk.eyJ1IjoiaWx5YWJvLXRlcmFseXRpY3MiLCJhIjoiY2ppaW9wYzJ1MW8weTN2bnJkOHdsbTQ3dSJ9.VP2-bMLHPnmvqxkia-rM3g");return accessToken||null}(),preserveDrawingBuffer:!1,attributionControl:!0,preventStyleDiffing:!1,onLoad:noop,onError:noop,reuseMaps:!1,transformRequest:null,mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,bearing:0,pitch:0,altitude:1.5};function checkPropTypes(props){var component=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";props.debug&&__WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.checkPropTypes(propTypes,props,"prop",component)}var Mapbox=function(){function Mapbox(props){if(function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Mapbox),!mapboxgl)throw new Error("Mapbox not supported");!Mapbox.initialized&&console.debug&&(Mapbox.initialized=!0,console.debug("react-map-gl: using mapbox-gl v"+mapboxgl.version)),this.props={},this._initialize(props)}return _createClass(Mapbox,null,[{key:"supported",value:function supported(){return mapboxgl&&mapboxgl.supported()}}]),_createClass(Mapbox,[{key:"finalize",value:function finalize(){return mapboxgl&&this._map?(this._destroy(),this):this}},{key:"setProps",value:function setProps(props){return mapboxgl&&this._map?(this._update(this.props,props),this):this}},{key:"resize",value:function resize(){return mapboxgl&&this._map?(this._map.resize(),this):this}},{key:"getMap",value:function getMap(){return this._map}},{key:"_create",value:function _create(props){if(props.reuseMaps&&Mapbox.savedMap){this._map=this.map=Mapbox.savedMap;var oldContainer=this._map.getContainer(),newContainer=props.container;for(newContainer.classList.add("mapboxgl-map");oldContainer.childNodes.length>0;)newContainer.appendChild(oldContainer.childNodes[0]);this._map._container=newContainer,Mapbox.savedMap=null,props.onLoad()}else{var mapOptions={container:props.container||document.body,center:[props.longitude,props.latitude],zoom:props.zoom,pitch:props.pitch,bearing:props.bearing,style:props.mapStyle,interactive:!1,attributionControl:props.attributionControl,preserveDrawingBuffer:props.preserveDrawingBuffer};props.transformRequest&&(mapOptions.transformRequest=props.transformRequest),this._map=this.map=new mapboxgl.Map(mapOptions),this.map.once("load",props.onLoad),this.map.on("error",props.onError)}return this}},{key:"_destroy",value:function _destroy(){Mapbox.savedMap?this._map.remove():Mapbox.savedMap=this._map}},{key:"_initialize",value:function _initialize(props){checkPropTypes(props=Object.assign({},defaultProps,props),"Mapbox"),this.accessToken=props.mapboxApiAccessToken||defaultProps.mapboxApiAccessToken,mapboxgl&&(this.accessToken?mapboxgl.accessToken=this.accessToken:mapboxgl.accessToken="no-token"),this._create(props);var canvas=this.map.getCanvas();canvas&&(canvas.style.outline="none"),this._updateMapViewport({},props),this._updateMapSize({},props),this.props=props}},{key:"_update",value:function _update(oldProps,newProps){checkPropTypes(newProps=Object.assign({},this.props,newProps),"Mapbox"),this._updateMapViewport(oldProps,newProps),this._updateMapSize(oldProps,newProps),this.props=newProps}},{key:"_updateMapViewport",value:function _updateMapViewport(oldProps,newProps){(newProps.latitude!==oldProps.latitude||newProps.longitude!==oldProps.longitude||newProps.zoom!==oldProps.zoom||newProps.pitch!==oldProps.pitch||newProps.bearing!==oldProps.bearing||newProps.altitude!==oldProps.altitude)&&(this._map.jumpTo({center:[newProps.longitude,newProps.latitude],zoom:newProps.zoom,bearing:newProps.bearing,pitch:newProps.pitch}),newProps.altitude!==oldProps.altitude&&(this._map.transform.altitude=newProps.altitude))}},{key:"_updateMapSize",value:function _updateMapSize(oldProps,newProps){(oldProps.width!==newProps.width||oldProps.height!==newProps.height)&&this._map.resize()}}]),Mapbox}();__webpack_exports__.a=Mapbox,Mapbox.propTypes=propTypes,Mapbox.defaultProps=defaultProps}).call(__webpack_exports__,__webpack_require__(61))},function(module,exports,__webpack_require__){var require,f;f=function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){if(!u&&("function"==typeof require&&require))return require(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){function polygonArea(e){var r=0;if(e&&e.length>0){r+=Math.abs(ringArea(e[0]));for(var t=1;t<e.length;t++)r-=Math.abs(ringArea(e[t]))}return r}function ringArea(e){var r,t,o,a,i,g,s=0,l=e.length;if(l>2){for(g=0;g<l;g++)g===l-2?(o=l-2,a=l-1,i=0):g===l-1?(o=l-1,a=0,i=1):(o=g,a=g+1,i=g+2),r=e[o],t=e[a],s+=(rad(e[i][0])-rad(r[0]))*Math.sin(rad(t[1]));s=s*wgs84.RADIUS*wgs84.RADIUS/2}return s}function rad(e){return e*Math.PI/180}var wgs84=_dereq_("wgs84");module.exports.geometry=function geometry(e){var r,t=0;switch(e.type){case"Polygon":return polygonArea(e.coordinates);case"MultiPolygon":for(r=0;r<e.coordinates.length;r++)t+=polygonArea(e.coordinates[r]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<e.geometries.length;r++)t+=geometry(e.geometries[r]);return t}},module.exports.ring=ringArea},{wgs84:37}],2:[function(_dereq_,module,exports){var t,n;t=this,n=function(){"use strict";return function(){var t=new Float32Array(3);t[0]=0,t[1]=0,t[2]=0}(),function(){var t=new Float32Array(4);t[0]=0,t[1]=0,t[2]=0,t[3]=0}(),{vec3:{transformMat3:function t(t,n,r){var e=n[0],a=n[1],o=n[2];return t[0]=e*r[0]+a*r[3]+o*r[6],t[1]=e*r[1]+a*r[4]+o*r[7],t[2]=e*r[2]+a*r[5]+o*r[8],t}},vec4:{transformMat4:function n(t,n,r){var e=n[0],a=n[1],o=n[2],u=n[3];return t[0]=r[0]*e+r[4]*a+r[8]*o+r[12]*u,t[1]=r[1]*e+r[5]*a+r[9]*o+r[13]*u,t[2]=r[2]*e+r[6]*a+r[10]*o+r[14]*u,t[3]=r[3]*e+r[7]*a+r[11]*o+r[15]*u,t}},mat2:{create:function r(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},rotate:function e(t,n,r){var e=n[0],a=n[1],o=n[2],u=n[3],i=Math.sin(r),c=Math.cos(r);return t[0]=e*c+o*i,t[1]=a*c+u*i,t[2]=e*-i+o*c,t[3]=a*-i+u*c,t},scale:function a(t,n,r){var e=n[0],a=n[1],o=n[2],u=n[3],i=r[0],c=r[1];return t[0]=e*i,t[1]=a*i,t[2]=o*c,t[3]=u*c,t}},mat3:{create:function o(){var t=new Float32Array(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromRotation:function u(t,n){var r=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=r,t[2]=0,t[3]=-r,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}},mat4:{create:function i(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},identity:function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},translate:function s(t,n,r){var e,a,o,u,i,c,f,v,s,l,M,h,m=r[0],y=r[1],d=r[2];return n===t?(t[12]=n[0]*m+n[4]*y+n[8]*d+n[12],t[13]=n[1]*m+n[5]*y+n[9]*d+n[13],t[14]=n[2]*m+n[6]*y+n[10]*d+n[14],t[15]=n[3]*m+n[7]*y+n[11]*d+n[15]):(e=n[0],a=n[1],o=n[2],u=n[3],i=n[4],c=n[5],f=n[6],v=n[7],s=n[8],l=n[9],M=n[10],h=n[11],t[0]=e,t[1]=a,t[2]=o,t[3]=u,t[4]=i,t[5]=c,t[6]=f,t[7]=v,t[8]=s,t[9]=l,t[10]=M,t[11]=h,t[12]=e*m+i*y+s*d+n[12],t[13]=a*m+c*y+l*d+n[13],t[14]=o*m+f*y+M*d+n[14],t[15]=u*m+v*y+h*d+n[15]),t},scale:function l(t,n,r){var e=r[0],a=r[1],o=r[2];return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=n[7]*a,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=n[11]*o,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},multiply:function v(t,n,r){var e=n[0],a=n[1],o=n[2],u=n[3],i=n[4],c=n[5],f=n[6],v=n[7],s=n[8],l=n[9],M=n[10],h=n[11],m=n[12],y=n[13],d=n[14],p=n[15],w=r[0],A=r[1],F=r[2],x=r[3];return t[0]=w*e+A*i+F*s+x*m,t[1]=w*a+A*c+F*l+x*y,t[2]=w*o+A*f+F*M+x*d,t[3]=w*u+A*v+F*h+x*p,w=r[4],A=r[5],F=r[6],x=r[7],t[4]=w*e+A*i+F*s+x*m,t[5]=w*a+A*c+F*l+x*y,t[6]=w*o+A*f+F*M+x*d,t[7]=w*u+A*v+F*h+x*p,w=r[8],A=r[9],F=r[10],x=r[11],t[8]=w*e+A*i+F*s+x*m,t[9]=w*a+A*c+F*l+x*y,t[10]=w*o+A*f+F*M+x*d,t[11]=w*u+A*v+F*h+x*p,w=r[12],A=r[13],F=r[14],x=r[15],t[12]=w*e+A*i+F*s+x*m,t[13]=w*a+A*c+F*l+x*y,t[14]=w*o+A*f+F*M+x*d,t[15]=w*u+A*v+F*h+x*p,t},perspective:function m(t,n,r,e,a){var o=1/Math.tan(n/2),u=1/(e-a);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+e)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*e*u,t[15]=0,t},rotateX:function M(t,n,r){var e=Math.sin(r),a=Math.cos(r),o=n[4],u=n[5],i=n[6],c=n[7],f=n[8],v=n[9],s=n[10],l=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=o*a+f*e,t[5]=u*a+v*e,t[6]=i*a+s*e,t[7]=c*a+l*e,t[8]=f*a-o*e,t[9]=v*a-u*e,t[10]=s*a-i*e,t[11]=l*a-c*e,t},rotateZ:function h(t,n,r){var e=Math.sin(r),a=Math.cos(r),o=n[0],u=n[1],i=n[2],c=n[3],f=n[4],v=n[5],s=n[6],l=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*a+f*e,t[1]=u*a+v*e,t[2]=i*a+s*e,t[3]=c*a+l*e,t[4]=f*a-o*e,t[5]=v*a-u*e,t[6]=s*a-i*e,t[7]=l*a-c*e,t},invert:function f(t,n){var r=n[0],e=n[1],a=n[2],o=n[3],u=n[4],i=n[5],c=n[6],f=n[7],v=n[8],s=n[9],l=n[10],M=n[11],h=n[12],m=n[13],y=n[14],d=n[15],p=r*i-e*u,w=r*c-a*u,A=r*f-o*u,F=e*c-a*i,x=e*f-o*i,b=a*f-o*c,g=v*m-s*h,j=v*y-l*h,R=v*d-M*h,X=s*y-l*m,Z=s*d-M*m,k=l*d-M*y,q=p*k-w*Z+A*X+F*R-x*j+b*g;return q?(q=1/q,t[0]=(i*k-c*Z+f*X)*q,t[1]=(a*Z-e*k-o*X)*q,t[2]=(m*b-y*x+d*F)*q,t[3]=(l*x-s*b-M*F)*q,t[4]=(c*R-u*k-f*j)*q,t[5]=(r*k-a*R+o*j)*q,t[6]=(y*A-h*b-d*w)*q,t[7]=(v*b-l*A+M*w)*q,t[8]=(u*Z-i*R+f*g)*q,t[9]=(e*R-r*Z-o*g)*q,t[10]=(h*x-m*A+d*p)*q,t[11]=(s*A-v*x-M*p)*q,t[12]=(i*j-u*X-c*g)*q,t[13]=(r*X-e*j+a*g)*q,t[14]=(m*w-h*F-y*p)*q,t[15]=(v*F-s*w+l*p)*q,t):null},ortho:function y(t,n,r,e,a,o,u){var i=1/(n-r),c=1/(e-a),f=1/(o-u);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(n+r)*i,t[13]=(a+e)*c,t[14]=(u+o)*f,t[15]=1,t}}}},"object"==typeof exports&&void 0!==module?module.exports=n():t.glMatrix=n()},{}],3:[function(_dereq_,module,exports){"use strict";function isSupported(e){return!!(function isBrowser(){return"undefined"!=typeof window&&"undefined"!=typeof document}()&&function isArraySupported(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}()&&function isFunctionSupported(){return Function.prototype&&Function.prototype.bind}()&&function isObjectSupported(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}()&&function isJSONSupported(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}()&&function isWorkerSupported(){if(!("Worker"in window&&"Blob"in window))return!1;var e,t,r=new Blob([""],{type:"text/javascript"}),o=URL.createObjectURL(r);try{t=new Worker(o),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(o),e}()&&function isUint8ClampedArraySupported(){return"Uint8ClampedArray"in window}()&&function isWebGLSupportedCached(e){return void 0===isWebGLSupportedCache[e]&&(isWebGLSupportedCache[e]=function isWebGLSupported(e){var t=document.createElement("canvas"),r=Object.create(isSupported.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,t.probablySupportsContext?t.probablySupportsContext("webgl",r)||t.probablySupportsContext("experimental-webgl",r):t.supportsContext?t.supportsContext("webgl",r)||t.supportsContext("experimental-webgl",r):t.getContext("webgl",r)||t.getContext("experimental-webgl",r)}(e)),isWebGLSupportedCache[e]}(e&&e.failIfMajorPerformanceCaveat))}void 0!==module&&module.exports?module.exports=isSupported:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=isSupported);var isWebGLSupportedCache={};isSupported.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],4:[function(_dereq_,module,exports){"use strict";function Point(t,n){this.x=t,this.y=n}module.exports=Point,Point.prototype={clone:function(){return new Point(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,n){return this.clone()._rotateAround(t,n)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var n=t.x-this.x,i=t.y-this.y;return n*n+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,n){return Math.atan2(this.x*n-this.y*t,this.x*t+this.y*n)},_matMult:function(t){var n=t[0]*this.x+t[1]*this.y,i=t[2]*this.x+t[3]*this.y;return this.x=n,this.y=i,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var n=Math.cos(t),i=Math.sin(t),s=n*this.x-i*this.y,r=i*this.x+n*this.y;return this.x=s,this.y=r,this},_rotateAround:function(t,n){var i=Math.cos(t),s=Math.sin(t),r=n.x+i*(this.x-n.x)-s*(this.y-n.y),h=n.y+s*(this.x-n.x)+i*(this.y-n.y);return this.x=r,this.y=h,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Point.convert=function(t){return t instanceof Point?t:Array.isArray(t)?new Point(t[0],t[1]):t}},{}],5:[function(_dereq_,module,exports){var t,e;t=this,e=function(){function t(t,e,i){i=i||{},this.w=t||64,this.h=e||64,this.autoResize=!!i.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function e(t,e,i){this.x=0,this.y=t,this.w=this.free=e,this.h=i}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var i,s,h,n,r=[],f=0;f<t.length;f++)if(i=t[f].w||t[f].width,s=t[f].h||t[f].height,h=t[f].id,i&&s){if(!(n=this.packOne(i,s,h)))continue;e.inPlace&&(t[f].x=n.x,t[f].y=n.y,t[f].id=n.id),r.push(n)}return this.shrink(),r},t.prototype.packOne=function(t,i,s){var h,n,r,f,u,l,c,p,o={freebin:-1,shelf:-1,waste:1/0},a=0;if("string"==typeof s||"number"==typeof s){if(h=this.getBin(s))return this.ref(h),h;"number"==typeof s&&(this.maxId=Math.max(s,this.maxId))}else s=++this.maxId;for(f=0;f<this.freebins.length;f++){if(i===(h=this.freebins[f]).maxh&&t===h.maxw)return this.allocFreebin(f,t,i,s);i>h.maxh||t>h.maxw||i<=h.maxh&&t<=h.maxw&&(r=h.maxw*h.maxh-t*i)<o.waste&&(o.waste=r,o.freebin=f)}for(f=0;f<this.shelves.length;f++)if(a+=(n=this.shelves[f]).h,!(t>n.free)){if(i===n.h)return this.allocShelf(f,t,i,s);i>n.h||i<n.h&&(r=(n.h-i)*t)<o.waste&&(o.freebin=-1,o.waste=r,o.shelf=f)}return-1!==o.freebin?this.allocFreebin(o.freebin,t,i,s):-1!==o.shelf?this.allocShelf(o.shelf,t,i,s):i<=this.h-a&&t<=this.w?(n=new e(a,this.w,i),this.allocShelf(this.shelves.push(n)-1,t,i,s)):this.autoResize?(u=l=this.h,((c=p=this.w)<=u||t>c)&&(p=2*Math.max(t,c)),(u<c||i>u)&&(l=2*Math.max(i,u)),this.resize(p,l),this.packOne(t,i,s)):null},t.prototype.allocFreebin=function(t,e,i,s){var h=this.freebins.splice(t,1)[0];return h.id=s,h.w=e,h.h=i,h.refcount=0,this.bins[s]=h,this.ref(h),h},t.prototype.allocShelf=function(t,e,i,s){var n=this.shelves[t].alloc(e,i,s);return this.bins[s]=n,this.ref(n),n},t.prototype.shrink=function(){if(this.shelves.length>0){for(var t=0,e=0,i=0;i<this.shelves.length;i++){var s=this.shelves[i];e+=s.h,t=Math.max(s.w-s.free,t)}this.resize(t,e)}},t.prototype.getBin=function(t){return this.bins[t]},t.prototype.ref=function(t){if(1==++t.refcount){var e=t.h;this.stats[e]=1+(0|this.stats[e])}return t.refcount},t.prototype.unref=function(t){return 0===t.refcount?0:(0==--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},t.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var i=0;i<this.shelves.length;i++)this.shelves[i].resize(t);return!0},e.prototype.alloc=function(t,e,s){if(t>this.free||e>this.h)return null;var h=this.x;return this.x+=t,this.free-=t,new function i(t,e,i,s,h,n,r){this.id=t,this.x=e,this.y=i,this.w=s,this.h=h,this.maxw=n||s,this.maxh=r||h,this.refcount=0}(s,h,this.y,t,e,t,this.h)},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t},"object"==typeof exports&&void 0!==module?module.exports=e():t.ShelfPack=e()},{}],6:[function(_dereq_,module,exports){"use strict";function TinySDF(t,i,s,e,h,r){this.fontSize=t||24,this.buffer=void 0===i?3:i,this.cutoff=e||.25,this.fontFamily=h||"sans-serif",this.fontWeight=r||"normal",this.radius=s||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function edt(t,i,s,e,h,r,a){for(var n=0;n<i;n++){for(var o=0;o<s;o++)e[o]=t[o*i+n];for(edt1d(e,h,r,a,s),o=0;o<s;o++)t[o*i+n]=h[o]}for(o=0;o<s;o++){for(n=0;n<i;n++)e[n]=t[o*i+n];for(edt1d(e,h,r,a,i),n=0;n<i;n++)t[o*i+n]=Math.sqrt(h[n])}}function edt1d(t,i,s,e,h){s[0]=0,e[0]=-INF,e[1]=+INF;for(var r=1,a=0;r<h;r++){for(var n=(t[r]+r*r-(t[s[a]]+s[a]*s[a]))/(2*r-2*s[a]);n<=e[a];)a--,n=(t[r]+r*r-(t[s[a]]+s[a]*s[a]))/(2*r-2*s[a]);s[++a]=r,e[a]=n,e[a+1]=+INF}for(r=0,a=0;r<h;r++){for(;e[a+1]<r;)a++;i[r]=(r-s[a])*(r-s[a])+t[s[a]]}}module.exports=TinySDF;var INF=1e20;TinySDF.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var i=this.ctx.getImageData(0,0,this.size,this.size),s=new Uint8ClampedArray(this.size*this.size),e=0;e<this.size*this.size;e++){var h=i.data[4*e+3]/255;this.gridOuter[e]=1===h?0:0===h?INF:Math.pow(Math.max(0,.5-h),2),this.gridInner[e]=1===h?INF:0===h?0:Math.pow(Math.max(0,h-.5),2)}for(edt(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),edt(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),e=0;e<this.size*this.size;e++){var r=this.gridOuter[e]-this.gridInner[e];s[e]=Math.max(0,Math.min(255,Math.round(255-255*(r/this.radius+this.cutoff))))}return s}},{}],7:[function(_dereq_,module,exports){function UnitBezier(t,i,e,r){this.cx=3*t,this.bx=3*(e-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(r-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=e,this.p2y=r}module.exports=UnitBezier,UnitBezier.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},UnitBezier.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},UnitBezier.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},UnitBezier.prototype.solveCurveX=function(t,i){var e,r,s,h,n;for(void 0===i&&(i=1e-6),s=t,n=0;n<8;n++){if(h=this.sampleCurveX(s)-t,Math.abs(h)<i)return s;var u=this.sampleCurveDerivativeX(s);if(Math.abs(u)<1e-6)break;s-=h/u}if(r=1,(s=t)<(e=0))return e;if(s>r)return r;for(;e<r;){if(h=this.sampleCurveX(s),Math.abs(h-t)<i)return s;t>h?e=s:r=s,s=.5*(r-e)+e}return s},UnitBezier.prototype.solve=function(t,i){return this.sampleCurveY(this.solveCurveX(t,i))}},{}],8:[function(_dereq_,module,exports){module.exports.VectorTile=_dereq_("./lib/vectortile.js"),module.exports.VectorTileFeature=_dereq_("./lib/vectortilefeature.js"),module.exports.VectorTileLayer=_dereq_("./lib/vectortilelayer.js")},{"./lib/vectortile.js":9,"./lib/vectortilefeature.js":10,"./lib/vectortilelayer.js":11}],9:[function(_dereq_,module,exports){"use strict";function readTile(e,r,i){if(3===e){var t=new VectorTileLayer(i,i.readVarint()+i.pos);t.length&&(r[t.name]=t)}}var VectorTileLayer=_dereq_("./vectortilelayer");module.exports=function VectorTile(e,r){this.layers=e.readFields(readTile,{},r)}},{"./vectortilelayer":11}],10:[function(_dereq_,module,exports){"use strict";function VectorTileFeature(e,t,r,a,i){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=a,this._values=i,e.readFields(readFeature,this,t)}function readFeature(e,t,r){1==e?t.id=r.readVarint():2==e?function readTag(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var a=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[a]=i}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function signedArea(e){for(var t,r,a=0,i=0,o=e.length,n=o-1;i<o;n=i++)t=e[i],a+=((r=e[n]).x-t.x)*(t.y+r.y);return a}var Point=_dereq_("@mapbox/point-geometry");module.exports=VectorTileFeature,VectorTileFeature.types=["Unknown","Point","LineString","Polygon"],VectorTileFeature.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,a=1,i=0,o=0,n=0,s=[];e.pos<r;){if(!i){var p=e.readVarint();a=7&p,i=p>>3}if(i--,1===a||2===a)o+=e.readSVarint(),n+=e.readSVarint(),1===a&&(t&&s.push(t),t=[]),t.push(new Point(o,n));else{if(7!==a)throw new Error("unknown command "+a);t&&t.push(t[0].clone())}}return t&&s.push(t),s},VectorTileFeature.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,a=0,i=0,o=0,n=1/0,s=-1/0,p=1/0,h=-1/0;e.pos<t;){if(!a){var u=e.readVarint();r=7&u,a=u>>3}if(a--,1===r||2===r)i+=e.readSVarint(),o+=e.readSVarint(),i<n&&(n=i),i>s&&(s=i),o<p&&(p=o),o>h&&(h=o);else if(7!==r)throw new Error("unknown command "+r)}return[n,p,s,h]},VectorTileFeature.prototype.toGeoJSON=function(e,t,r){function a(e){for(var t=0;t<e.length;t++){var r=e[t],a=180-360*(r.y+p)/n;e[t]=[360*(r.x+s)/n-180,360/Math.PI*Math.atan(Math.exp(a*Math.PI/180))-90]}}var i,o,n=this.extent*Math.pow(2,r),s=this.extent*e,p=this.extent*t,h=this.loadGeometry(),u=VectorTileFeature.types[this.type];switch(this.type){case 1:var d=[];for(i=0;i<h.length;i++)d[i]=h[i][0];a(h=d);break;case 2:for(i=0;i<h.length;i++)a(h[i]);break;case 3:for(h=function classifyRings(e){var t=e.length;if(t<=1)return[e];for(var r,a,i=[],o=0;o<t;o++){var n=signedArea(e[o]);0!==n&&(void 0===a&&(a=n<0),a===n<0?(r&&i.push(r),r=[e[o]]):r.push(e[o]))}return r&&i.push(r),i}(h),i=0;i<h.length;i++)for(o=0;o<h[i].length;o++)a(h[i][o])}1===h.length?h=h[0]:u="Multi"+u;var f={type:"Feature",geometry:{type:u,coordinates:h},properties:this.properties};return"id"in this&&(f.id=this.id),f}},{"@mapbox/point-geometry":4}],11:[function(_dereq_,module,exports){"use strict";function VectorTileLayer(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(readLayer,this,t),this.length=this._features.length}function readLayer(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function readValueMessage(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var a=e.readVarint()>>3;t=1===a?e.readString():2===a?e.readFloat():3===a?e.readDouble():4===a?e.readVarint64():5===a?e.readVarint():6===a?e.readSVarint():7===a?e.readBoolean():null}return t}(r))}var VectorTileFeature=_dereq_("./vectortilefeature.js");module.exports=VectorTileLayer,VectorTileLayer.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new VectorTileFeature(this._pbf,t,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":10}],12:[function(_dereq_,module,exports){var e;e=this,function(e){function o(e,t,o){var n=r(256*e,256*(t=Math.pow(2,o)-t-1),o),i=r(256*(e+1),256*(t+1),o);return n[0]+","+n[1]+","+i[0]+","+i[1]}function r(e,t,o){var r=2*Math.PI*6378137/256/Math.pow(2,o);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}e.getURL=function t(e,t,r,n,i,s){return s=s||{},e+"?"+["bbox="+o(r,n,i),"format="+(s.format||"image/png"),"service="+(s.service||"WMS"),"version="+(s.version||"1.1.1"),"request="+(s.request||"GetMap"),"srs="+(s.srs||"EPSG:3857"),"width="+(s.width||256),"height="+(s.height||256),"layers="+t].join("&")},e.getTileBBox=o,e.getMercCoords=r,Object.defineProperty(e,"__esModule",{value:!0})}("object"==typeof exports&&void 0!==module?exports:e.WhooTS=e.WhooTS||{})},{}],13:[function(_dereq_,module,exports){function clamp_css_byte(e){return(e=Math.round(e))<0?0:e>255?255:e}function parse_css_int(e){return clamp_css_byte("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function parse_css_float(e){return function clamp_css_float(e){return e<0?0:e>1?1:e}("%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))}function css_hue_to_rgb(e,r,l){return l<0?l+=1:l>1&&(l-=1),6*l<1?e+(r-e)*l*6:2*l<1?r:3*l<2?e+(r-e)*(2/3-l)*6:e}var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{exports.parseCSSColor=function parseCSSColor(e){var l,r=e.replace(/ /g,"").toLowerCase();if(r in kCSSColorTable)return kCSSColorTable[r].slice();if("#"===r[0])return 4===r.length?(l=parseInt(r.substr(1),16))>=0&&l<=4095?[(3840&l)>>4|(3840&l)>>8,240&l|(240&l)>>4,15&l|(15&l)<<4,1]:null:7===r.length&&(l=parseInt(r.substr(1),16))>=0&&l<=16777215?[(16711680&l)>>16,(65280&l)>>8,255&l,1]:null;var a=r.indexOf("("),t=r.indexOf(")");if(-1!==a&&t+1===r.length){var n=r.substr(0,a),s=r.substr(a+1,t-(a+1)).split(","),o=1;switch(n){case"rgba":if(4!==s.length)return null;o=parse_css_float(s.pop());case"rgb":return 3!==s.length?null:[parse_css_int(s[0]),parse_css_int(s[1]),parse_css_int(s[2]),o];case"hsla":if(4!==s.length)return null;o=parse_css_float(s.pop());case"hsl":if(3!==s.length)return null;var i=(parseFloat(s[0])%360+360)%360/360,u=parse_css_float(s[1]),g=parse_css_float(s[2]),d=g<=.5?g*(u+1):g+u-g*u,c=2*g-d;return[clamp_css_byte(255*css_hue_to_rgb(c,d,i+1/3)),clamp_css_byte(255*css_hue_to_rgb(c,d,i)),clamp_css_byte(255*css_hue_to_rgb(c,d,i-1/3)),o];default:return null}}return null}}catch(e){}},{}],14:[function(_dereq_,module,exports){"use strict";function earcut(e,n,r){r=r||2;var o,l,u,s,v,f,y,t=n&&n.length,i=t?n[0]*r:e.length,x=linkedList(e,0,i,r,!0),a=[];if(!x)return a;if(t&&(x=function eliminateHoles(e,n,r,t){var i,x,a,o,l,u=[];for(i=0,x=n.length;i<x;i++)a=n[i]*t,o=i<x-1?n[i+1]*t:e.length,(l=linkedList(e,a,o,t,!1))===l.next&&(l.steiner=!0),u.push(getLeftmost(l));for(u.sort(compareX),i=0;i<u.length;i++)eliminateHole(u[i],r),r=filterPoints(r,r.next);return r}(e,n,x,r)),e.length>80*r){o=u=e[0],l=s=e[1];for(var p=r;p<i;p+=r)v=e[p],f=e[p+1],v<o&&(o=v),f<l&&(l=f),v>u&&(u=v),f>s&&(s=f);y=0!==(y=Math.max(u-o,s-l))?1/y:0}return earcutLinked(x,a,r,o,l,y),a}function linkedList(e,n,r,t,i){var x,a;if(i===signedArea(e,n,r,t)>0)for(x=n;x<r;x+=t)a=insertNode(x,e[x],e[x+1],a);else for(x=r-t;x>=n;x-=t)a=insertNode(x,e[x],e[x+1],a);return a&&equals(a,a.next)&&(removeNode(a),a=a.next),a}function filterPoints(e,n){if(!e)return e;n||(n=e);var r,t=e;do{if(r=!1,t.steiner||!equals(t,t.next)&&0!==area(t.prev,t,t.next))t=t.next;else{if(removeNode(t),(t=n=t.prev)===t.next)break;r=!0}}while(r||t!==n);return n}function earcutLinked(e,n,r,t,i,x,a){if(e){!a&&x&&function indexCurve(e,n,r,t){var i=e;do{null===i.z&&(i.z=zOrder(i.x,i.y,n,r,t)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function sortLinked(e){var n,r,t,i,x,a,o,l,u=1;do{for(r=e,e=null,x=null,a=0;r;){for(a++,t=r,o=0,n=0;n<u&&(o++,t=t.nextZ);n++);for(l=u;o>0||l>0&&t;)0!==o&&(0===l||!t||r.z<=t.z)?(i=r,r=r.nextZ,o--):(i=t,t=t.nextZ,l--),x?x.nextZ=i:e=i,i.prevZ=x,x=i;r=t}x.nextZ=null,u*=2}while(a>1);return e}(i)}(e,t,i,x);for(var o,l,u=e;e.prev!==e.next;)if(o=e.prev,l=e.next,x?isEarHashed(e,t,i,x):isEar(e))n.push(o.i/r),n.push(e.i/r),n.push(l.i/r),removeNode(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?earcutLinked(e=cureLocalIntersections(e,n,r),n,r,t,i,x,2):2===a&&splitEarcut(e,n,r,t,i,x):earcutLinked(filterPoints(e),n,r,t,i,x,1);break}}}function isEar(e){var n=e.prev,r=e,t=e.next;if(area(n,r,t)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(pointInTriangle(n.x,n.y,r.x,r.y,t.x,t.y,i.x,i.y)&&area(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function isEarHashed(e,n,r,t){var i=e.prev,x=e,a=e.next;if(area(i,x,a)>=0)return!1;for(var o=i.x<x.x?i.x<a.x?i.x:a.x:x.x<a.x?x.x:a.x,l=i.y<x.y?i.y<a.y?i.y:a.y:x.y<a.y?x.y:a.y,u=i.x>x.x?i.x>a.x?i.x:a.x:x.x>a.x?x.x:a.x,s=i.y>x.y?i.y>a.y?i.y:a.y:x.y>a.y?x.y:a.y,v=zOrder(o,l,n,r,t),f=zOrder(u,s,n,r,t),y=e.prevZ,p=e.nextZ;y&&y.z>=v&&p&&p.z<=f;){if(y!==e.prev&&y!==e.next&&pointInTriangle(i.x,i.y,x.x,x.y,a.x,a.y,y.x,y.y)&&area(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,p!==e.prev&&p!==e.next&&pointInTriangle(i.x,i.y,x.x,x.y,a.x,a.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;y&&y.z>=v;){if(y!==e.prev&&y!==e.next&&pointInTriangle(i.x,i.y,x.x,x.y,a.x,a.y,y.x,y.y)&&area(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;p&&p.z<=f;){if(p!==e.prev&&p!==e.next&&pointInTriangle(i.x,i.y,x.x,x.y,a.x,a.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function cureLocalIntersections(e,n,r){var t=e;do{var i=t.prev,x=t.next.next;!equals(i,x)&&intersects(i,t,t.next,x)&&locallyInside(i,x)&&locallyInside(x,i)&&(n.push(i.i/r),n.push(t.i/r),n.push(x.i/r),removeNode(t),removeNode(t.next),t=e=x),t=t.next}while(t!==e);return t}function splitEarcut(e,n,r,t,i,x){var a=e;do{for(var o=a.next.next;o!==a.prev;){if(a.i!==o.i&&isValidDiagonal(a,o)){var l=splitPolygon(a,o);return a=filterPoints(a,a.next),l=filterPoints(l,l.next),earcutLinked(a,n,r,t,i,x),void earcutLinked(l,n,r,t,i,x)}o=o.next}a=a.next}while(a!==e)}function compareX(e,n){return e.x-n.x}function eliminateHole(e,n){if(n=function findHoleBridge(e,n){var r,t=n,i=e.x,x=e.y,a=-1/0;do{if(x<=t.y&&x>=t.next.y&&t.next.y!==t.y){var o=t.x+(x-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(o<=i&&o>a){if(a=o,o===i){if(x===t.y)return t;if(x===t.next.y)return t.next}r=t.x<t.next.x?t:t.next}}t=t.next}while(t!==n);if(!r)return null;if(i===a)return r.prev;var l,u=r,s=r.x,v=r.y,f=1/0;for(t=r.next;t!==u;)i>=t.x&&t.x>=s&&i!==t.x&&pointInTriangle(x<v?i:a,x,s,v,x<v?a:i,x,t.x,t.y)&&((l=Math.abs(x-t.y)/(i-t.x))<f||l===f&&t.x>r.x)&&locallyInside(t,e)&&(r=t,f=l),t=t.next;return r}(e,n)){var r=splitPolygon(n,e);filterPoints(r,r.next)}}function zOrder(e,n,r,t,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-t)*i)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function getLeftmost(e){var n=e,r=e;do{n.x<r.x&&(r=n),n=n.next}while(n!==e);return r}function pointInTriangle(e,n,r,t,i,x,a,o){return(i-a)*(n-o)-(e-a)*(x-o)>=0&&(e-a)*(t-o)-(r-a)*(n-o)>=0&&(r-a)*(x-o)-(i-a)*(t-o)>=0}function isValidDiagonal(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!function intersectsPolygon(e,n){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==n.i&&r.next.i!==n.i&&intersects(r,r.next,e,n))return!0;r=r.next}while(r!==e);return!1}(e,n)&&locallyInside(e,n)&&locallyInside(n,e)&&function middleInside(e,n){var r=e,t=!1,i=(e.x+n.x)/2,x=(e.y+n.y)/2;do{r.y>x!=r.next.y>x&&r.next.y!==r.y&&i<(r.next.x-r.x)*(x-r.y)/(r.next.y-r.y)+r.x&&(t=!t),r=r.next}while(r!==e);return t}(e,n)}function area(e,n,r){return(n.y-e.y)*(r.x-n.x)-(n.x-e.x)*(r.y-n.y)}function equals(e,n){return e.x===n.x&&e.y===n.y}function intersects(e,n,r,t){return!!(equals(e,n)&&equals(r,t)||equals(e,t)&&equals(r,n))||area(e,n,r)>0!=area(e,n,t)>0&&area(r,t,e)>0!=area(r,t,n)>0}function locallyInside(e,n){return area(e.prev,e,e.next)<0?area(e,n,e.next)>=0&&area(e,e.prev,n)>=0:area(e,n,e.prev)<0||area(e,e.next,n)<0}function splitPolygon(e,n){var r=new Node(e.i,e.x,e.y),t=new Node(n.i,n.x,n.y),i=e.next,x=n.prev;return e.next=n,n.prev=e,r.next=i,i.prev=r,t.next=r,r.prev=t,x.next=t,t.prev=x,t}function insertNode(e,n,r,t){var i=new Node(e,n,r);return t?(i.next=t.next,i.prev=t,t.next.prev=i,t.next=i):(i.prev=i,i.next=i),i}function removeNode(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Node(e,n,r){this.i=e,this.x=n,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(e,n,r,t){for(var i=0,x=n,a=r-t;x<r;x+=t)i+=(e[a]-e[x])*(e[x+1]+e[a+1]),a=x;return i}module.exports=earcut,module.exports.default=earcut,earcut.deviation=function(e,n,r,t){var i=n&&n.length,x=i?n[0]*r:e.length,a=Math.abs(signedArea(e,0,x,r));if(i)for(var o=0,l=n.length;o<l;o++){var u=n[o]*r,s=o<l-1?n[o+1]*r:e.length;a-=Math.abs(signedArea(e,u,s,r))}var v=0;for(o=0;o<t.length;o+=3){var f=t[o]*r,y=t[o+1]*r,p=t[o+2]*r;v+=Math.abs((e[f]-e[p])*(e[y+1]-e[f+1])-(e[f]-e[y])*(e[p+1]-e[f+1]))}return 0===a&&0===v?0:Math.abs((v-a)/a)},earcut.flatten=function(e){for(var n=e[0][0].length,r={vertices:[],holes:[],dimensions:n},t=0,i=0;i<e.length;i++){for(var x=0;x<e[i].length;x++)for(var a=0;a<n;a++)r.vertices.push(e[i][x][a]);i>0&&(t+=e[i-1].length,r.holes.push(t))}return r}},{}],15:[function(_dereq_,module,exports){function curryOuter(r,e){return function(n){return r(n,e)}}function correctRings(r,e){e=!!e,r[0]=wind(r[0],e);for(var n=1;n<r.length;n++)r[n]=wind(r[n],!e);return r}function wind(r,e){return function cw(r){return geojsonArea.ring(r)>=0}(r)===e?r:r.reverse()}var geojsonArea=_dereq_("@mapbox/geojson-area");module.exports=function rewind(r,e){switch(r&&r.type||null){case"FeatureCollection":return r.features=r.features.map(curryOuter(rewind,e)),r;case"Feature":return r.geometry=rewind(r.geometry,e),r;case"Polygon":case"MultiPolygon":return function correct(r,e){return"Polygon"===r.type?r.coordinates=correctRings(r.coordinates,e):"MultiPolygon"===r.type&&(r.coordinates=r.coordinates.map(curryOuter(correctRings,e))),r}(r,e);default:return r}}},{"@mapbox/geojson-area":1}],16:[function(_dereq_,module,exports){"use strict";function clipPoints(i,n,e,t,l){for(var r=0;r<i.length;r+=3){var u=i[r+l];u>=e&&u<=t&&(n.push(i[r]),n.push(i[r+1]),n.push(i[r+2]))}}function clipLine(i,n,e,t,l,r){for(var u=[],s=0===l?intersectX:intersectY,o=0;o<i.length-3;o+=3){var h=i[o],p=i[o+1],c=i[o+2],a=i[o+3],g=i[o+4],f=0===l?h:p,P=0===l?a:g,L=!1;f<e?P>=e&&s(u,h,p,a,g,e):f>t?P<=t&&s(u,h,p,a,g,t):addPoint(u,h,p,c),P<e&&f>=e&&(s(u,h,p,a,g,e),L=!0),P>t&&f<=t&&(s(u,h,p,a,g,t),L=!0),!r&&L&&(u.size=i.size,n.push(u),u=[])}var v=i.length-3;h=i[v],p=i[v+1],c=i[v+2],(f=0===l?h:p)>=e&&f<=t&&addPoint(u,h,p,c),v=u.length-3,r&&v>=3&&(u[v]!==u[0]||u[v+1]!==u[1])&&addPoint(u,u[0],u[1],u[2]),u.length&&(u.size=i.size,n.push(u))}function clipLines(i,n,e,t,l,r){for(var u=0;u<i.length;u++)clipLine(i[u],n,e,t,l,r)}function addPoint(i,n,e,t){i.push(n),i.push(e),i.push(t)}function intersectX(i,n,e,t,l,r){i.push(r),i.push(e+(r-n)*(l-e)/(t-n)),i.push(1)}function intersectY(i,n,e,t,l,r){i.push(n+(r-e)*(t-n)/(l-e)),i.push(r),i.push(1)}module.exports=function clip(i,n,e,t,l,r,u){if(t/=n,r>=(e/=n)&&u<=t)return i;if(r>t||u<e)return null;for(var s=[],o=0;o<i.length;o++){var h=i[o],p=h.geometry,c=h.type,a=0===l?h.minX:h.minY,g=0===l?h.maxX:h.maxY;if(a>=e&&g<=t)s.push(h);else if(!(a>t||g<e)){var f=[];if("Point"===c||"MultiPoint"===c)clipPoints(p,f,e,t,l);else if("LineString"===c)clipLine(p,f,e,t,l,!1);else if("MultiLineString"===c)clipLines(p,f,e,t,l,!1);else if("Polygon"===c)clipLines(p,f,e,t,l,!0);else if("MultiPolygon"===c)for(var P=0;P<p.length;P++){var L=[];clipLines(p[P],L,e,t,l,!0),L.length&&f.push(L)}f.length&&("LineString"!==c&&"MultiLineString"!==c||(1===f.length?(c="LineString",f=f[0]):c="MultiLineString"),"Point"!==c&&"MultiPoint"!==c||(c=3===f.length?"Point":"MultiPoint"),s.push(createFeature(h.id,c,f,h.tags)))}}return s.length?s:null};var createFeature=_dereq_("./feature")},{"./feature":18}],17:[function(_dereq_,module,exports){"use strict";function convertFeature(e,t,r){if(t.geometry){var o=t.geometry.coordinates,n=t.geometry.type,i=r*r,a=[];if("Point"===n)convertPoint(o,a);else if("MultiPoint"===n)for(var u=0;u<o.length;u++)convertPoint(o[u],a);else if("LineString"===n)convertLine(o,a,i,!1);else if("MultiLineString"===n)convertLines(o,a,i,!1);else if("Polygon"===n)convertLines(o,a,i,!0);else{if("MultiPolygon"!==n){if("GeometryCollection"===n){for(u=0;u<t.geometry.geometries.length;u++)convertFeature(e,{geometry:t.geometry.geometries[u],properties:t.properties},r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<o.length;u++){var s=[];convertLines(o[u],s,i,!0),a.push(s)}}e.push(createFeature(t.id,n,a,t.properties))}}function convertPoint(e,t){t.push(projectX(e[0])),t.push(projectY(e[1])),t.push(0)}function convertLine(e,t,r,o){for(var n,i,a=0,u=0;u<e.length;u++){var s=projectX(e[u][0]),c=projectY(e[u][1]);t.push(s),t.push(c),t.push(0),u>0&&(a+=o?(n*c-s*i)/2:Math.sqrt(Math.pow(s-n,2)+Math.pow(c-i,2))),n=s,i=c}var p=t.length-3;t[2]=1,simplify(t,0,p,r),t[p+2]=1,t.size=Math.abs(a)}function convertLines(e,t,r,o){for(var n=0;n<e.length;n++){var i=[];convertLine(e[n],i,r,o),t.push(i)}}function projectX(e){return e/360+.5}function projectY(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}module.exports=function convert(e,t){var r=[];if("FeatureCollection"===e.type)for(var o=0;o<e.features.length;o++)convertFeature(r,e.features[o],t);else"Feature"===e.type?convertFeature(r,e,t):convertFeature(r,{geometry:e},t);return r};var simplify=_dereq_("./simplify"),createFeature=_dereq_("./feature")},{"./feature":18,"./simplify":20}],18:[function(_dereq_,module,exports){"use strict";function calcLineBBox(e,n){for(var t=0;t<n.length;t+=3)e.minX=Math.min(e.minX,n[t]),e.minY=Math.min(e.minY,n[t+1]),e.maxX=Math.max(e.maxX,n[t]),e.maxY=Math.max(e.maxY,n[t+1])}module.exports=function createFeature(e,n,t,i){var a={id:e||null,type:n,geometry:t,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function calcBBox(e){var n=e.geometry,t=e.type;if("Point"===t||"MultiPoint"===t||"LineString"===t)calcLineBBox(e,n);else if("Polygon"===t||"MultiLineString"===t)for(var i=0;i<n.length;i++)calcLineBBox(e,n[i]);else if("MultiPolygon"===t)for(i=0;i<n.length;i++)for(var a=0;a<n[i].length;a++)calcLineBBox(e,n[i][a])}(a),a}},{}],19:[function(_dereq_,module,exports){"use strict";function GeoJSONVT(e,t){var o=(t=this.options=function extend(e,t){for(var o in t)e[o]=t[o];return e}(Object.create(this.options),t)).debug;if(o&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");var i=1<<t.maxZoom,n=convert(e,t.tolerance/(i*t.extent));this.tiles={},this.tileCoords=[],o&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=wrap(n,t.buffer/t.extent)).length&&this.splitTile(n,0,0,0),o&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function toID(e,t,o){return 32*((1<<e)*o+t)+e}module.exports=function geojsonvt(e,t){return new GeoJSONVT(e,t)};var convert=_dereq_("./convert"),transform=_dereq_("./transform"),clip=_dereq_("./clip"),wrap=_dereq_("./wrap"),createTile=_dereq_("./tile");GeoJSONVT.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,debug:0},GeoJSONVT.prototype.splitTile=function(e,t,o,i,n,s,l){for(var r=[e,t,o,i],a=this.options,u=a.debug;r.length;){i=r.pop(),o=r.pop(),t=r.pop(),e=r.pop();var m=1<<t,c=toID(t,o,i),p=this.tiles[c],d=t===a.maxZoom?0:a.tolerance/(m*a.extent);if(!p&&(u>1&&console.time("creation"),p=this.tiles[c]=createTile(e,m,o,i,d,t===a.maxZoom),this.tileCoords.push({z:t,x:o,y:i}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,o,i,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var h="z"+t;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(p.source=e,n){if(t===a.maxZoom||t===n)continue;var x=1<<n-t;if(o!==Math.floor(s/x)||i!==Math.floor(l/x))continue}else if(t===a.indexMaxZoom||p.numPoints<=a.indexMaxPoints)continue;if(p.source=null,0!==e.length){u>1&&console.time("clipping");var f,g,v,Z,T,M,b=.5*a.buffer/a.extent,w=.5-b,Y=.5+b,O=1+b;f=g=v=Z=null,T=clip(e,m,o-b,o+Y,0,p.minX,p.maxX),M=clip(e,m,o+w,o+O,0,p.minX,p.maxX),e=null,T&&(f=clip(T,m,i-b,i+Y,1,p.minY,p.maxY),g=clip(T,m,i+w,i+O,1,p.minY,p.maxY),T=null),M&&(v=clip(M,m,i-b,i+Y,1,p.minY,p.maxY),Z=clip(M,m,i+w,i+O,1,p.minY,p.maxY),M=null),u>1&&console.timeEnd("clipping"),r.push(f||[],t+1,2*o,2*i),r.push(g||[],t+1,2*o,2*i+1),r.push(v||[],t+1,2*o+1,2*i),r.push(Z||[],t+1,2*o+1,2*i+1)}}},GeoJSONVT.prototype.getTile=function(e,t,o){var i=this.options,n=i.extent,s=i.debug;if(e<0||e>24)return null;var l=1<<e,r=toID(e,t=(t%l+l)%l,o);if(this.tiles[r])return transform.tile(this.tiles[r],n);s>1&&console.log("drilling down to z%d-%d-%d",e,t,o);for(var a,u=e,m=t,c=o;!a&&u>0;)u--,m=Math.floor(m/2),c=Math.floor(c/2),a=this.tiles[toID(u,m,c)];return a&&a.source?(s>1&&console.log("found parent tile z%d-%d-%d",u,m,c),s>1&&console.time("drilling down"),this.splitTile(a.source,u,m,c,e,t,o),s>1&&console.timeEnd("drilling down"),this.tiles[r]?transform.tile(this.tiles[r],n):null):null}},{"./clip":16,"./convert":17,"./tile":21,"./transform":22,"./wrap":23}],20:[function(_dereq_,module,exports){"use strict";function getSqSegDist(i,t,r,s,e,f){var l=e-r,m=f-s;if(0!==l||0!==m){var n=((i-r)*l+(t-s)*m)/(l*l+m*m);n>1?(r=e,s=f):n>0&&(r+=l*n,s+=m*n)}return(l=i-r)*l+(m=t-s)*m}module.exports=function simplify(i,t,r,s){for(var e,f=s,l=i[t],m=i[t+1],n=i[r],o=i[r+1],p=t+3;p<r;p+=3){var u=getSqSegDist(i[p],i[p+1],l,m,n,o);u>f&&(e=p,f=u)}f>s&&(e-t>3&&simplify(i,t,e,s),i[e+2]=f,r-e>3&&simplify(i,e,r,s))}},{}],21:[function(_dereq_,module,exports){"use strict";function addFeature(n,e,i,t){var r=e.geometry,u=e.type,a=[];if("Point"===u||"MultiPoint"===u)for(var l=0;l<r.length;l+=3)a.push(r[l]),a.push(r[l+1]),n.numPoints++,n.numSimplified++;else if("LineString"===u)addLine(a,r,n,i,t,!1,!1);else if("MultiLineString"===u||"Polygon"===u)for(l=0;l<r.length;l++)addLine(a,r[l],n,i,t,"Polygon"===u,0===l);else if("MultiPolygon"===u)for(var o=0;o<r.length;o++){var m=r[o];for(l=0;l<m.length;l++)addLine(a,m[l],n,i,t,!0,0===l)}if(a.length){var f={geometry:a,type:"Polygon"===u||"MultiPolygon"===u?3:"LineString"===u||"MultiLineString"===u?2:1,tags:e.tags||null};null!==e.id&&(f.id=e.id),n.features.push(f)}}function addLine(n,e,i,t,r,u,a){var l=t*t;if(!r&&e.size<(u?l:t))i.numPoints+=e.length/3;else{for(var o=[],m=0;m<e.length;m+=3)(r||e[m+2]>l)&&(i.numSimplified++,o.push(e[m]),o.push(e[m+1])),i.numPoints++;u&&function rewind(n,e){for(var i=0,t=0,r=n.length,u=r-2;t<r;u=t,t+=2)i+=(n[t]-n[u])*(n[t+1]+n[u+1]);if(i>0===e)for(t=0,r=n.length;t<r/2;t+=2){var a=n[t],l=n[t+1];n[t]=n[r-2-t],n[t+1]=n[r-1-t],n[r-2-t]=a,n[r-1-t]=l}}(o,a),n.push(o)}}module.exports=function createTile(n,e,i,t,r,u){for(var a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:i,y:t,z2:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},l=0;l<n.length;l++){a.numFeatures++,addFeature(a,n[l],r,u);var o=n[l].minX,m=n[l].minY,f=n[l].maxX,s=n[l].maxY;o<a.minX&&(a.minX=o),m<a.minY&&(a.minY=m),f>a.maxX&&(a.maxX=f),s>a.maxY&&(a.maxY=s)}return a}},{}],22:[function(_dereq_,module,exports){"use strict";function transformPoint(r,t,e,o,n,f){return[Math.round(e*(r*o-n)),Math.round(e*(t*o-f))]}exports.tile=function transformTile(r,t){if(r.transformed)return r;var e,o,n,f=r.z2,s=r.x,a=r.y;for(e=0;e<r.features.length;e++){var i=r.features[e],u=i.geometry,m=i.type;if(i.geometry=[],1===m)for(o=0;o<u.length;o+=2)i.geometry.push(transformPoint(u[o],u[o+1],t,f,s,a));else for(o=0;o<u.length;o++){var h=[];for(n=0;n<u[o].length;n+=2)h.push(transformPoint(u[o][n],u[o][n+1],t,f,s,a));i.geometry.push(h)}}return r.transformed=!0,r},exports.point=transformPoint},{}],23:[function(_dereq_,module,exports){"use strict";function shiftFeatureCoords(e,r){for(var t=[],o=0;o<e.length;o++){var i,s=e[o],n=s.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)i=shiftCoords(s.geometry,r);else if("MultiLineString"===n||"Polygon"===n){i=[];for(var u=0;u<s.geometry.length;u++)i.push(shiftCoords(s.geometry[u],r))}else if("MultiPolygon"===n)for(i=[],u=0;u<s.geometry.length;u++){for(var a=[],f=0;f<s.geometry[u].length;f++)a.push(shiftCoords(s.geometry[u][f],r));i.push(a)}t.push(createFeature(s.id,n,i,s.tags))}return t}function shiftCoords(e,r){var t=[];t.size=e.size;for(var o=0;o<e.length;o+=3)t.push(e[o]+r,e[o+1],e[o+2]);return t}var clip=_dereq_("./clip"),createFeature=_dereq_("./feature");module.exports=function wrap(e,r){var t=e,o=clip(e,1,-1-r,r,0,-1,2),i=clip(e,1,1-r,2+r,0,-1,2);return(o||i)&&(t=clip(e,1,-r,1+r,0,-1,2)||[],o&&(t=shiftFeatureCoords(o,1).concat(t)),i&&(t=t.concat(shiftFeatureCoords(i,-1)))),t}},{"./clip":16,"./feature":18}],24:[function(_dereq_,module,exports){"use strict";function GridIndex(t,r,e){var s=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],r=i[1],e=i[2],this.d=r+2*e;for(var h=0;h<this.d*this.d;h++){var n=i[NUM_PARAMS+h],o=i[NUM_PARAMS+h+1];s.push(n===o?null:i.subarray(n,o))}var l=i[NUM_PARAMS+s.length],a=i[NUM_PARAMS+s.length+1];this.keys=i.subarray(l,a),this.bboxes=i.subarray(a),this.insert=this._insertReadonly}else{this.d=r+2*e;for(var d=0;d<this.d*this.d;d++)s.push([]);this.keys=[],this.bboxes=[]}this.n=r,this.extent=t,this.padding=e,this.scale=r/t,this.uid=0;var f=e/r*t;this.min=-f,this.max=t+f}module.exports=GridIndex;var NUM_PARAMS=3;GridIndex.prototype.insert=function(t,r,e,s,i){this._forEachCell(r,e,s,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(r),this.bboxes.push(e),this.bboxes.push(s),this.bboxes.push(i)},GridIndex.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},GridIndex.prototype._insertCell=function(t,r,e,s,i,h){this.cells[i].push(h)},GridIndex.prototype.query=function(t,r,e,s){var i=this.min,h=this.max;if(t<=i&&r<=i&&h<=e&&h<=s)return Array.prototype.slice.call(this.keys);var n=[];return this._forEachCell(t,r,e,s,this._queryCell,n,{}),n},GridIndex.prototype._queryCell=function(t,r,e,s,i,h,n){var o=this.cells[i];if(null!==o)for(var l=this.keys,a=this.bboxes,d=0;d<o.length;d++){var f=o[d];if(void 0===n[f]){var u=4*f;t<=a[u+2]&&r<=a[u+3]&&e>=a[u+0]&&s>=a[u+1]?(n[f]=!0,h.push(l[f])):n[f]=!1}}},GridIndex.prototype._forEachCell=function(t,r,e,s,i,h,n){for(var o=this._convertToCellCoord(t),l=this._convertToCellCoord(r),a=this._convertToCellCoord(e),d=this._convertToCellCoord(s),f=o;f<=a;f++)for(var u=l;u<=d;u++){var y=this.d*u+f;if(i.call(this,t,r,e,s,y,h,n))return}},GridIndex.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},GridIndex.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,r=NUM_PARAMS+this.cells.length+1+1,e=0,s=0;s<this.cells.length;s++)e+=this.cells[s].length;var i=new Int32Array(r+e+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var h=r,n=0;n<t.length;n++){var o=t[n];i[NUM_PARAMS+n]=h,i.set(o,h),h+=o.length}return i[NUM_PARAMS+t.length]=h,i.set(this.keys,h),h+=this.keys.length,i[NUM_PARAMS+t.length+1]=h,i.set(this.bboxes,h),h+=this.bboxes.length,i.buffer}},{}],25:[function(_dereq_,module,exports){exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l}},{}],26:[function(_dereq_,module,exports){"use strict";function KDBush(t,i,e,s,n){i=i||defaultGetX,e=e||defaultGetY,n=n||Array,this.nodeSize=s||64,this.points=t,this.ids=new n(t.length),this.coords=new n(2*t.length);for(var r=0;r<t.length;r++)this.ids[r]=r,this.coords[2*r]=i(t[r]),this.coords[2*r+1]=e(t[r]);sort(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function defaultGetX(t){return t[0]}function defaultGetY(t){return t[1]}var sort=_dereq_("./sort"),range=_dereq_("./range"),within=_dereq_("./within");module.exports=function kdbush(t,i,e,s,n){return new KDBush(t,i,e,s,n)},KDBush.prototype={range:function(t,i,e,s){return range(this.ids,this.coords,t,i,e,s,this.nodeSize)},within:function(t,i,e){return within(this.ids,this.coords,t,i,e,this.nodeSize)}}},{"./range":27,"./sort":28,"./within":29}],27:[function(_dereq_,module,exports){"use strict";module.exports=function range(p,r,s,u,h,e,o){for(var a,t,n=[0,p.length-1,0],f=[];n.length;){var l=n.pop(),v=n.pop(),g=n.pop();if(v-g<=o)for(var i=g;i<=v;i++)a=r[2*i],t=r[2*i+1],a>=s&&a<=h&&t>=u&&t<=e&&f.push(p[i]);else{var c=Math.floor((g+v)/2);a=r[2*c],t=r[2*c+1],a>=s&&a<=h&&t>=u&&t<=e&&f.push(p[c]);var d=(l+1)%2;(0===l?s<=a:u<=t)&&(n.push(g),n.push(c-1),n.push(d)),(0===l?h>=a:e>=t)&&(n.push(c+1),n.push(v),n.push(d))}}return f}},{}],28:[function(_dereq_,module,exports){"use strict";function swapItem(t,a,o,s){swap(t,o,s),swap(a,2*o,2*s),swap(a,2*o+1,2*s+1)}function swap(t,a,o){var s=t[a];t[a]=t[o],t[o]=s}module.exports=function sortKD(t,a,o,s,r,e){if(!(r-s<=o)){var f=Math.floor((s+r)/2);(function select(t,a,o,s,r,e){for(;r>s;){if(r-s>600){var f=r-s+1,p=o-s+1,w=Math.log(f),m=.5*Math.exp(2*w/3),n=.5*Math.sqrt(w*m*(f-m)/f)*(p-f/2<0?-1:1);select(t,a,o,Math.max(s,Math.floor(o-p*m/f+n)),Math.min(r,Math.floor(o+(f-p)*m/f+n)),e)}var c=a[2*o+e],h=s,i=r;for(swapItem(t,a,s,o),a[2*r+e]>c&&swapItem(t,a,s,r);h<i;){for(swapItem(t,a,h,i),h++,i--;a[2*h+e]<c;)h++;for(;a[2*i+e]>c;)i--}a[2*s+e]===c?swapItem(t,a,s,i):swapItem(t,a,++i,r),i<=o&&(s=i+1),o<=i&&(r=i-1)}})(t,a,f,s,r,e%2),sortKD(t,a,o,s,f-1,e+1),sortKD(t,a,o,f+1,r,e+1)}}},{}],29:[function(_dereq_,module,exports){"use strict";function sqDist(s,p,r,t){var u=s-r,h=p-t;return u*u+h*h}module.exports=function within(s,p,r,t,u,h){for(var i=[0,s.length-1,0],o=[],n=u*u;i.length;){var e=i.pop(),a=i.pop(),f=i.pop();if(a-f<=h)for(var v=f;v<=a;v++)sqDist(p[2*v],p[2*v+1],r,t)<=n&&o.push(s[v]);else{var l=Math.floor((f+a)/2),c=p[2*l],q=p[2*l+1];sqDist(c,q,r,t)<=n&&o.push(s[l]);var D=(e+1)%2;(0===e?r-u<=c:t-u<=q)&&(i.push(f),i.push(l-1),i.push(D)),(0===e?r+u>=c:t+u>=q)&&(i.push(l+1),i.push(a),i.push(D))}}return o}},{}],30:[function(_dereq_,module,exports){"use strict";function Pbf(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function readPackedEnd(t){return t.type===Pbf.Bytes?t.readVarint()+t.pos:t.pos+1}function toNum(t,i,e){return e?4294967296*i+(t>>>0):4294967296*(i>>>0)+(t>>>0)}function makeRoomForExtraLength(t,i,e){var r=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.ceil(Math.log(i)/(7*Math.LN2));e.realloc(r);for(var s=e.pos-1;s>=t;s--)e.buf[s+r]=e.buf[s]}function writePackedVarint(t,i){for(var e=0;e<t.length;e++)i.writeVarint(t[e])}function writePackedSVarint(t,i){for(var e=0;e<t.length;e++)i.writeSVarint(t[e])}function writePackedFloat(t,i){for(var e=0;e<t.length;e++)i.writeFloat(t[e])}function writePackedDouble(t,i){for(var e=0;e<t.length;e++)i.writeDouble(t[e])}function writePackedBoolean(t,i){for(var e=0;e<t.length;e++)i.writeBoolean(t[e])}function writePackedFixed32(t,i){for(var e=0;e<t.length;e++)i.writeFixed32(t[e])}function writePackedSFixed32(t,i){for(var e=0;e<t.length;e++)i.writeSFixed32(t[e])}function writePackedFixed64(t,i){for(var e=0;e<t.length;e++)i.writeFixed64(t[e])}function writePackedSFixed64(t,i){for(var e=0;e<t.length;e++)i.writeSFixed64(t[e])}function readUInt32(t,i){return(t[i]|t[i+1]<<8|t[i+2]<<16)+16777216*t[i+3]}function writeInt32(t,i,e){t[e]=i,t[e+1]=i>>>8,t[e+2]=i>>>16,t[e+3]=i>>>24}function readInt32(t,i){return(t[i]|t[i+1]<<8|t[i+2]<<16)+(t[i+3]<<24)}module.exports=Pbf;var ieee754=_dereq_("ieee754");Pbf.Varint=0,Pbf.Fixed64=1,Pbf.Bytes=2,Pbf.Fixed32=5;Pbf.prototype={destroy:function(){this.buf=null},readFields:function(t,i,e){for(e=e||this.length;this.pos<e;){var r=this.readVarint(),s=r>>3,n=this.pos;this.type=7&r,t(s,i,this),this.pos===n&&this.skip(r)}return i},readMessage:function(t,i){return this.readFields(t,i,this.readVarint()+this.pos)},readFixed32:function(){var t=readUInt32(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=readInt32(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=readUInt32(this.buf,this.pos)+4294967296*readUInt32(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=readUInt32(this.buf,this.pos)+4294967296*readInt32(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=ieee754.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=ieee754.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var i,e,r=this.buf;return i=127&(e=r[this.pos++]),e<128?i:(i|=(127&(e=r[this.pos++]))<<7,e<128?i:(i|=(127&(e=r[this.pos++]))<<14,e<128?i:(i|=(127&(e=r[this.pos++]))<<21,e<128?i:function readVarintRemainder(t,i,e){var r,s,n=e.buf;if(r=(112&(s=n[e.pos++]))>>4,s<128)return toNum(t,r,i);if(r|=(127&(s=n[e.pos++]))<<3,s<128)return toNum(t,r,i);if(r|=(127&(s=n[e.pos++]))<<10,s<128)return toNum(t,r,i);if(r|=(127&(s=n[e.pos++]))<<17,s<128)return toNum(t,r,i);if(r|=(127&(s=n[e.pos++]))<<24,s<128)return toNum(t,r,i);if(r|=(1&(s=n[e.pos++]))<<31,s<128)return toNum(t,r,i);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(e=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,i=function readUtf8(t,i,e){for(var r="",s=i;s<e;){var h,u,f,n=t[s],o=null,a=n>239?4:n>223?3:n>191?2:1;if(s+a>e)break;1===a?n<128&&(o=n):2===a?128==(192&(h=t[s+1]))&&(o=(31&n)<<6|63&h)<=127&&(o=null):3===a?(h=t[s+1],u=t[s+2],128==(192&h)&&128==(192&u)&&((o=(15&n)<<12|(63&h)<<6|63&u)<=2047||o>=55296&&o<=57343)&&(o=null)):4===a&&(h=t[s+1],u=t[s+2],f=t[s+3],128==(192&h)&&128==(192&u)&&128==(192&f)&&((o=(15&n)<<18|(63&h)<<12|(63&u)<<6|63&f)<=65535||o>=1114112)&&(o=null)),null===o?(o=65533,a=1):o>65535&&(o-=65536,r+=String.fromCharCode(o>>>10&1023|55296),o=56320|1023&o),r+=String.fromCharCode(o),s+=a}return r}(this.buf,this.pos,t);return this.pos=t,i},readBytes:function(){var t=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,t);return this.pos=t,i},readPackedVarint:function(t,i){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.readVarint(i));return t},readPackedSVarint:function(t){var i=readPackedEnd(this);for(t=t||[];this.pos<i;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var i=readPackedEnd(this);for(t=t||[];this.pos<i;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var i=readPackedEnd(this);for(t=t||[];this.pos<i;)t.push(this.readFloat());return t},readPackedDouble:function(t){var i=readPackedEnd(this);for(t=t||[];this.pos<i;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var i=readPackedEnd(this);for(t=t||[];this.pos<i;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var i=readPackedEnd(this);for(t=t||[];this.pos<i;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var i=readPackedEnd(this);for(t=t||[];this.pos<i;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var i=readPackedEnd(this);for(t=t||[];this.pos<i;)t.push(this.readSFixed64());return t},skip:function(t){var i=7&t;if(i===Pbf.Varint)for(;this.buf[this.pos++]>127;);else if(i===Pbf.Bytes)this.pos=this.readVarint()+this.pos;else if(i===Pbf.Fixed32)this.pos+=4;else{if(i!==Pbf.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(t,i){this.writeVarint(t<<3|i)},realloc:function(t){for(var i=this.length||16;i<this.pos+t;)i*=2;if(i!==this.length){var e=new Uint8Array(i);e.set(this.buf),this.buf=e,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),writeInt32(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),writeInt32(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),writeInt32(this.buf,-1&t,this.pos),writeInt32(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),writeInt32(this.buf,-1&t,this.pos),writeInt32(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function writeBigVarint(t,i){var e,r;if(t>=0?(e=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(e=~(-t%4294967296))?e=e+1|0:(e=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");i.realloc(10),function writeBigVarintLow(t,i,e){e.buf[e.pos++]=127&t|128,t>>>=7,e.buf[e.pos++]=127&t|128,t>>>=7,e.buf[e.pos++]=127&t|128,t>>>=7,e.buf[e.pos++]=127&t|128,t>>>=7,e.buf[e.pos]=127&t}(e,0,i),function writeBigVarintHigh(t,i){var e=(7&t)<<4;i.buf[i.pos++]|=e|((t>>>=3)?128:0),t&&(i.buf[i.pos++]=127&t|((t>>>=7)?128:0),t&&(i.buf[i.pos++]=127&t|((t>>>=7)?128:0),t&&(i.buf[i.pos++]=127&t|((t>>>=7)?128:0),t&&(i.buf[i.pos++]=127&t|((t>>>=7)?128:0),t&&(i.buf[i.pos++]=127&t)))))}(r,i)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var i=this.pos;this.pos=function writeUtf8(t,i,e){for(var r,s,n=0;n<i.length;n++){if((r=i.charCodeAt(n))>55295&&r<57344){if(!s){r>56319||n+1===i.length?(t[e++]=239,t[e++]=191,t[e++]=189):s=r;continue}if(r<56320){t[e++]=239,t[e++]=191,t[e++]=189,s=r;continue}r=s-55296<<10|r-56320|65536,s=null}else s&&(t[e++]=239,t[e++]=191,t[e++]=189,s=null);r<128?t[e++]=r:(r<2048?t[e++]=r>>6|192:(r<65536?t[e++]=r>>12|224:(t[e++]=r>>18|240,t[e++]=r>>12&63|128),t[e++]=r>>6&63|128),t[e++]=63&r|128)}return e}(this.buf,t,this.pos);var e=this.pos-i;e>=128&&makeRoomForExtraLength(i,e,this),this.pos=i-1,this.writeVarint(e),this.pos+=e},writeFloat:function(t){this.realloc(4),ieee754.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),ieee754.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var i=t.length;this.writeVarint(i),this.realloc(i);for(var e=0;e<i;e++)this.buf[this.pos++]=t[e]},writeRawMessage:function(t,i){this.pos++;var e=this.pos;t(i,this);var r=this.pos-e;r>=128&&makeRoomForExtraLength(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,i,e){this.writeTag(t,Pbf.Bytes),this.writeRawMessage(i,e)},writePackedVarint:function(t,i){this.writeMessage(t,writePackedVarint,i)},writePackedSVarint:function(t,i){this.writeMessage(t,writePackedSVarint,i)},writePackedBoolean:function(t,i){this.writeMessage(t,writePackedBoolean,i)},writePackedFloat:function(t,i){this.writeMessage(t,writePackedFloat,i)},writePackedDouble:function(t,i){this.writeMessage(t,writePackedDouble,i)},writePackedFixed32:function(t,i){this.writeMessage(t,writePackedFixed32,i)},writePackedSFixed32:function(t,i){this.writeMessage(t,writePackedSFixed32,i)},writePackedFixed64:function(t,i){this.writeMessage(t,writePackedFixed64,i)},writePackedSFixed64:function(t,i){this.writeMessage(t,writePackedSFixed64,i)},writeBytesField:function(t,i){this.writeTag(t,Pbf.Bytes),this.writeBytes(i)},writeFixed32Field:function(t,i){this.writeTag(t,Pbf.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(t,i){this.writeTag(t,Pbf.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(t,i){this.writeTag(t,Pbf.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(t,i){this.writeTag(t,Pbf.Fixed64),this.writeSFixed64(i)},writeVarintField:function(t,i){this.writeTag(t,Pbf.Varint),this.writeVarint(i)},writeSVarintField:function(t,i){this.writeTag(t,Pbf.Varint),this.writeSVarint(i)},writeStringField:function(t,i){this.writeTag(t,Pbf.Bytes),this.writeString(i)},writeFloatField:function(t,i){this.writeTag(t,Pbf.Fixed32),this.writeFloat(i)},writeDoubleField:function(t,i){this.writeTag(t,Pbf.Fixed64),this.writeDouble(i)},writeBooleanField:function(t,i){this.writeVarintField(t,Boolean(i))}}},{ieee754:25}],31:[function(_dereq_,module,exports){"use strict";function swap(a,t,r){var o=a[t];a[t]=a[r],a[r]=o}function defaultCompare(a,t){return a<t?-1:a>t?1:0}module.exports=function partialSort(a,t,r,o,p){for(r=r||0,o=o||a.length-1,p=p||defaultCompare;o>r;){if(o-r>600){var f=o-r+1,e=t-r+1,l=Math.log(f),s=.5*Math.exp(2*l/3),i=.5*Math.sqrt(l*s*(f-s)/f)*(e-f/2<0?-1:1);partialSort(a,t,Math.max(r,Math.floor(t-e*s/f+i)),Math.min(o,Math.floor(t+(f-e)*s/f+i)),p)}var n=a[t],h=r,u=o;for(swap(a,r,t),p(a[o],n)>0&&swap(a,r,o);h<u;){for(swap(a,h,u),h++,u--;p(a[h],n)<0;)h++;for(;p(a[u],n)>0;)u--}0===p(a[r],n)?swap(a,r,u):swap(a,++u,o),u<=t&&(r=u+1),t<=u&&(o=u-1)}}},{}],32:[function(_dereq_,module,exports){"use strict";function SuperCluster(t){this.options=extend(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function createCluster(t,e,n,o,i){return{x:t,y:e,zoom:1/0,id:o,properties:i,parentId:-1,numPoints:n}}function createPointCluster(t,e){var n=t.geometry.coordinates;return{x:lngX(n[0]),y:latY(n[1]),zoom:1/0,id:e,parentId:-1}}function getClusterJSON(t){return{type:"Feature",properties:getClusterProperties(t),geometry:{type:"Point",coordinates:[function xLng(t){return 360*(t-.5)}(t.x),function yLat(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}(t.y)]}}}function getClusterProperties(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return extend(extend({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function lngX(t){return t/360+.5}function latY(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function extend(t,e){for(var n in e)t[n]=e[n];return t}function getX(t){return t.x}function getY(t){return t.y}var kdbush=_dereq_("kdbush");module.exports=function supercluster(t){return new SuperCluster(t)},SuperCluster.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(t){return t}},load:function(t){var e=this.options.log;e&&console.time("total time");var n="prepare "+t.length+" points";e&&console.time(n),this.points=t;var o=t.map(createPointCluster);e&&console.timeEnd(n);for(var i=this.options.maxZoom;i>=this.options.minZoom;i--){var r=+Date.now();this.trees[i+1]=kdbush(o,getX,getY,this.options.nodeSize,Float32Array),o=this._cluster(o,i),e&&console.log("z%d: %d clusters in %dms",i,o.length,+Date.now()-r)}return this.trees[this.options.minZoom]=kdbush(o,getX,getY,this.options.nodeSize,Float32Array),e&&console.timeEnd("total time"),this},getClusters:function(t,e){for(var n=this.trees[this._limitZoom(e)],o=n.range(lngX(t[0]),latY(t[3]),lngX(t[2]),latY(t[1])),i=[],r=0;r<o.length;r++){var s=n.points[o[r]];i.push(s.numPoints?getClusterJSON(s):this.points[s.id])}return i},getChildren:function(t,e){for(var n=this.trees[e+1].points[t],o=this.options.radius/(this.options.extent*Math.pow(2,e)),i=this.trees[e+1].within(n.x,n.y,o),r=[],s=0;s<i.length;s++){var u=this.trees[e+1].points[i[s]];u.parentId===t&&r.push(u.numPoints?getClusterJSON(u):this.points[u.id])}return r},getLeaves:function(t,e,n,o){n=n||10,o=o||0;var i=[];return this._appendLeaves(i,t,e,n,o,0),i},getTile:function(t,e,n){var o=this.trees[this._limitZoom(t)],i=Math.pow(2,t),r=this.options.extent,u=this.options.radius/r,a=(n-u)/i,p=(n+1+u)/i,h={features:[]};return this._addTileFeatures(o.range((e-u)/i,a,(e+1+u)/i,p),o.points,e,n,i,h),0===e&&this._addTileFeatures(o.range(1-u/i,a,1,p),o.points,i,n,i,h),e===i-1&&this._addTileFeatures(o.range(0,a,u/i,p),o.points,-1,n,i,h),h.features.length?h:null},getClusterExpansionZoom:function(t,e){for(;e<this.options.maxZoom;){var n=this.getChildren(t,e);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},_appendLeaves:function(t,e,n,o,i,r){for(var s=this.getChildren(e,n),u=0;u<s.length;u++){var a=s[u].properties;if(a.cluster?r+a.point_count<=i?r+=a.point_count:r=this._appendLeaves(t,a.cluster_id,n+1,o,i,r):r<i?r++:t.push(s[u]),t.length===o)break}return r},_addTileFeatures:function(t,e,n,o,i,r){for(var s=0;s<t.length;s++){var u=e[t[s]];r.features.push({type:1,geometry:[[Math.round(this.options.extent*(u.x*i-n)),Math.round(this.options.extent*(u.y*i-o))]],tags:u.numPoints?getClusterProperties(u):this.points[u.id].properties})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var n=[],o=this.options.radius/(this.options.extent*Math.pow(2,e)),i=0;i<t.length;i++){var r=t[i];if(!(r.zoom<=e)){r.zoom=e;var s=this.trees[e+1],u=s.within(r.x,r.y,o),a=r.numPoints||1,p=r.x*a,h=r.y*a,l=null;this.options.reduce&&(l=this.options.initial(),this._accumulate(l,r));for(var c=0;c<u.length;c++){var d=s.points[u[c]];if(e<d.zoom){var m=d.numPoints||1;d.zoom=e,p+=d.x*m,h+=d.y*m,a+=m,d.parentId=i,this.options.reduce&&this._accumulate(l,d)}}1===a?n.push(r):(r.parentId=i,n.push(createCluster(p/a,h/a,a,i,l)))}}return n},_accumulate:function(t,e){var n=e.numPoints?e.properties:this.options.map(this.points[e.id].properties);this.options.reduce(t,n)}}},{kdbush:26}],33:[function(_dereq_,module,exports){"use strict";function TinyQueue(t,i){if(!(this instanceof TinyQueue))return new TinyQueue(t,i);if(this.data=t||[],this.length=this.data.length,this.compare=i||defaultCompare,this.length>0)for(var e=this.length>>1;e>=0;e--)this._down(e)}function defaultCompare(t,i){return t<i?-1:t>i?1:0}module.exports=TinyQueue,TinyQueue.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var i=this.data,e=this.compare,h=i[t];t>0;){var n=t-1>>1,a=i[n];if(e(h,a)>=0)break;i[t]=a,t=n}i[t]=h},_down:function(t){for(var i=this.data,e=this.compare,h=this.length,n=h>>1,a=i[t];t<n;){var s=1+(t<<1),u=s+1,r=i[s];if(u<h&&e(i[u],r)<0&&(s=u,r=i[u]),e(r,a)>=0)break;i[t]=r,t=s}i[t]=a}}},{}],34:[function(_dereq_,module,exports){function fromVectorTileJs(e){var r=new Pbf;return function writeTile(e,r){for(var t in e.layers)r.writeMessage(3,writeLayer,e.layers[t])}(e,r),r.finish()}function writeLayer(e,r){r.writeVarintField(15,e.version||1),r.writeStringField(1,e.name||""),r.writeVarintField(5,e.extent||4096);var t,i={keys:[],values:[],keycache:{},valuecache:{}};for(t=0;t<e.length;t++)i.feature=e.feature(t),r.writeMessage(2,writeFeature,i);var a=i.keys;for(t=0;t<a.length;t++)r.writeStringField(3,a[t]);var o=i.values;for(t=0;t<o.length;t++)r.writeMessage(4,writeValue,o[t])}function writeFeature(e,r){var t=e.feature;void 0!==t.id&&r.writeVarintField(1,t.id),r.writeMessage(2,writeProperties,e),r.writeVarintField(3,t.type),r.writeMessage(4,writeGeometry,t)}function writeProperties(e,r){var t=e.feature,i=e.keys,a=e.values,o=e.keycache,n=e.valuecache;for(var l in t.properties){var s=o[l];void 0===s&&(i.push(l),s=i.length-1,o[l]=s),r.writeVarint(s);var u=t.properties[l],f=typeof u;"string"!==f&&"boolean"!==f&&"number"!==f&&(u=JSON.stringify(u));var w=f+":"+u,v=n[w];void 0===v&&(a.push(u),v=a.length-1,n[w]=v),r.writeVarint(v)}}function command(e,r){return(r<<3)+(7&e)}function zigzag(e){return e<<1^e>>31}function writeGeometry(e,r){for(var t=e.loadGeometry(),i=e.type,a=0,o=0,n=t.length,l=0;l<n;l++){var s=t[l],u=1;1===i&&(u=s.length),r.writeVarint(command(1,u));for(var f=0;f<s.length;f++){1===f&&1!==i&&r.writeVarint(command(2,s.length-1));var w=s[f].x-a,v=s[f].y-o;r.writeVarint(zigzag(w)),r.writeVarint(zigzag(v)),a+=w,o+=v}}}function writeValue(e,r){var t=typeof e;"string"===t?r.writeStringField(1,e):"boolean"===t?r.writeBooleanField(7,e):"number"===t&&(e%1!=0?r.writeDoubleField(3,e):e<0?r.writeSVarintField(6,e):r.writeVarintField(5,e))}var Pbf=_dereq_("pbf"),GeoJSONWrapper=_dereq_("./lib/geojson_wrapper");module.exports=fromVectorTileJs,module.exports.fromVectorTileJs=fromVectorTileJs,module.exports.fromGeojsonVt=function fromGeojsonVt(e){var r={};for(var t in e)r[t]=new GeoJSONWrapper(e[t].features),r[t].name=t;return fromVectorTileJs({layers:r})},module.exports.GeoJSONWrapper=GeoJSONWrapper},{"./lib/geojson_wrapper":35,pbf:30}],35:[function(_dereq_,module,exports){"use strict";function GeoJSONWrapper(e){this.features=e,this.length=e.length}function FeatureWrapper(e){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=4096}var Point=_dereq_("@mapbox/point-geometry"),VectorTileFeature=_dereq_("@mapbox/vector-tile").VectorTileFeature;module.exports=GeoJSONWrapper,GeoJSONWrapper.prototype.feature=function(e){return new FeatureWrapper(this.features[e])},FeatureWrapper.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var r=e[t],o=[],a=0;a<r.length;a++)o.push(new Point(r[a][0],r[a][1]));this.geometry.push(o)}return this.geometry},FeatureWrapper.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,o=1/0,a=-1/0,p=0;p<e.length;p++)for(var i=e[p],n=0;n<i.length;n++){var h=i[n];t=Math.min(t,h.x),r=Math.max(r,h.x),o=Math.min(o,h.y),a=Math.max(a,h.y)}return[t,o,r,a]},FeatureWrapper.prototype.toGeoJSON=VectorTileFeature.prototype.toGeoJSON},{"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],36:[function(_dereq_,module,exports){var bundleFn=arguments[3],sources=arguments[4],cache=arguments[5],stringify=JSON.stringify;module.exports=function(r,e){for(var o,n=Object.keys(cache),a=0,i=n.length;a<i;a++){var s=n[a],u=cache[s].exports;if(u===r||u&&u.default===r){o=s;break}}if(!o){o=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var f={};for(a=0,i=n.length;a<i;a++){f[s=n[a]]=s}sources[o]=["function(require,module,exports){"+r+"(self); }",f]}var c=Math.floor(Math.pow(16,8)*Math.random()).toString(16),l={};l[o]=o,sources[c]=["function(require,module,exports){var f = require("+stringify(o)+");(f.default ? f.default : f)(self);}",l];var d={};!function t(r){for(var e in d[r]=!0,sources[r][1]){var o=sources[r][1][e];d[o]||t(o)}}(c);var g="("+bundleFn+")({"+Object.keys(d).map(function(r){return stringify(r)+":["+sources[r][0]+","+stringify(sources[r][1])+"]"}).join(",")+"},{},["+stringify(c)+"])",v=window.URL||window.webkitURL||window.mozURL||window.msURL,w=new Blob([g],{type:"text/javascript"});if(e&&e.bare)return w;var h=v.createObjectURL(w),m=new Worker(h);return m.objectURL=h,m}},{}],37:[function(_dereq_,module,exports){module.exports.RADIUS=6378137,module.exports.FLATTENING=1/298.257223563,module.exports.POLAR_RADIUS=6356752.3142},{}],38:[function(_dereq_,module,exports){module.exports={version:"0.44.2"}},{}],39:[function(_dereq_,module,exports){"use strict";var StructArray=_dereq_("../util/struct_array").StructArray,Struct=_dereq_("../util/struct_array").Struct,register=_dereq_("../util/web_worker_transfer").register,Point=_dereq_("@mapbox/point-geometry"),StructArrayLayout2i4=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t,r){var i=this.length;this.resize(i+1);var e=2*i;return this.int16[e+0]=t,this.int16[e+1]=r,i},r}(StructArray);StructArrayLayout2i4.prototype.bytesPerElement=4,register("StructArrayLayout2i4",StructArrayLayout2i4);var StructArrayLayout4i8=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t,r,i,e){var o=this.length;this.resize(o+1);var u=4*o;return this.int16[u+0]=t,this.int16[u+1]=r,this.int16[u+2]=i,this.int16[u+3]=e,o},r}(StructArray);StructArrayLayout4i8.prototype.bytesPerElement=8,register("StructArrayLayout4i8",StructArrayLayout4i8);var StructArrayLayout2i4i12=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t,r,i,e,o,u){var n=this.length;this.resize(n+1);var a=6*n;return this.int16[a+0]=t,this.int16[a+1]=r,this.int16[a+2]=i,this.int16[a+3]=e,this.int16[a+4]=o,this.int16[a+5]=u,n},r}(StructArray);StructArrayLayout2i4i12.prototype.bytesPerElement=12,register("StructArrayLayout2i4i12",StructArrayLayout2i4i12);var StructArrayLayout4i4ub12=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t,r,i,e,o,u,n,a){var y=this.length;this.resize(y+1);var s=6*y,c=12*y;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=i,this.int16[s+3]=e,this.uint8[c+8]=o,this.uint8[c+9]=u,this.uint8[c+10]=n,this.uint8[c+11]=a,y},r}(StructArray);StructArrayLayout4i4ub12.prototype.bytesPerElement=12,register("StructArrayLayout4i4ub12",StructArrayLayout4i4ub12);var StructArrayLayout4i4ui16=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t,r,i,e,o,u,n,a){var y=this.length;this.resize(y+1);var s=8*y;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=i,this.int16[s+3]=e,this.uint16[s+4]=o,this.uint16[s+5]=u,this.uint16[s+6]=n,this.uint16[s+7]=a,y},r}(StructArray);StructArrayLayout4i4ui16.prototype.bytesPerElement=16,register("StructArrayLayout4i4ui16",StructArrayLayout4i4ui16);var StructArrayLayout3f12=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t,r,i){var e=this.length;this.resize(e+1);var o=3*e;return this.float32[o+0]=t,this.float32[o+1]=r,this.float32[o+2]=i,e},r}(StructArray);StructArrayLayout3f12.prototype.bytesPerElement=12,register("StructArrayLayout3f12",StructArrayLayout3f12);var StructArrayLayout1ul4=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t){var r=this.length;this.resize(r+1);var i=1*r;return this.uint32[i+0]=t,r},r}(StructArray);StructArrayLayout1ul4.prototype.bytesPerElement=4,register("StructArrayLayout1ul4",StructArrayLayout1ul4);var StructArrayLayout6i1ul2ui2i24=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t,r,i,e,o,u,n,a,y,s,c){var p=this.length;this.resize(p+1);var h=12*p,f=6*p;return this.int16[h+0]=t,this.int16[h+1]=r,this.int16[h+2]=i,this.int16[h+3]=e,this.int16[h+4]=o,this.int16[h+5]=u,this.uint32[f+3]=n,this.uint16[h+8]=a,this.uint16[h+9]=y,this.int16[h+10]=s,this.int16[h+11]=c,p},r}(StructArray);StructArrayLayout6i1ul2ui2i24.prototype.bytesPerElement=24,register("StructArrayLayout6i1ul2ui2i24",StructArrayLayout6i1ul2ui2i24);var StructArrayLayout2i2i2i12=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t,r,i,e,o,u){var n=this.length;this.resize(n+1);var a=6*n;return this.int16[a+0]=t,this.int16[a+1]=r,this.int16[a+2]=i,this.int16[a+3]=e,this.int16[a+4]=o,this.int16[a+5]=u,n},r}(StructArray);StructArrayLayout2i2i2i12.prototype.bytesPerElement=12,register("StructArrayLayout2i2i2i12",StructArrayLayout2i2i2i12);var StructArrayLayout2ub4=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t,r){var i=this.length;this.resize(i+1);var e=4*i;return this.uint8[e+0]=t,this.uint8[e+1]=r,i},r}(StructArray);StructArrayLayout2ub4.prototype.bytesPerElement=4,register("StructArrayLayout2ub4",StructArrayLayout2ub4);var StructArrayLayout2i2ui3ul3ui2f2ub40=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t,r,i,e,o,u,n,a,y,s,c,p,h,f){var A=this.length;this.resize(A+1);var _=20*A,l=10*A,S=40*A;return this.int16[_+0]=t,this.int16[_+1]=r,this.uint16[_+2]=i,this.uint16[_+3]=e,this.uint32[l+2]=o,this.uint32[l+3]=u,this.uint32[l+4]=n,this.uint16[_+10]=a,this.uint16[_+11]=y,this.uint16[_+12]=s,this.float32[l+7]=c,this.float32[l+8]=p,this.uint8[S+36]=h,this.uint8[S+37]=f,A},r}(StructArray);StructArrayLayout2i2ui3ul3ui2f2ub40.prototype.bytesPerElement=40,register("StructArrayLayout2i2ui3ul3ui2f2ub40",StructArrayLayout2i2ui3ul3ui2f2ub40);var StructArrayLayout1f4=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t){var r=this.length;this.resize(r+1);var i=1*r;return this.float32[i+0]=t,r},r}(StructArray);StructArrayLayout1f4.prototype.bytesPerElement=4,register("StructArrayLayout1f4",StructArrayLayout1f4);var StructArrayLayout3i6=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t,r,i){var e=this.length;this.resize(e+1);var o=3*e;return this.int16[o+0]=t,this.int16[o+1]=r,this.int16[o+2]=i,e},r}(StructArray);StructArrayLayout3i6.prototype.bytesPerElement=6,register("StructArrayLayout3i6",StructArrayLayout3i6);var StructArrayLayout1ul2ui8=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t,r,i){var e=this.length;this.resize(e+1);var o=2*e,u=4*e;return this.uint32[o+0]=t,this.uint16[u+2]=r,this.uint16[u+3]=i,e},r}(StructArray);StructArrayLayout1ul2ui8.prototype.bytesPerElement=8,register("StructArrayLayout1ul2ui8",StructArrayLayout1ul2ui8);var StructArrayLayout3ui6=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t,r,i){var e=this.length;this.resize(e+1);var o=3*e;return this.uint16[o+0]=t,this.uint16[o+1]=r,this.uint16[o+2]=i,e},r}(StructArray);StructArrayLayout3ui6.prototype.bytesPerElement=6,register("StructArrayLayout3ui6",StructArrayLayout3ui6);var StructArrayLayout2ui4=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t,r){var i=this.length;this.resize(i+1);var e=2*i;return this.uint16[e+0]=t,this.uint16[e+1]=r,i},r}(StructArray);StructArrayLayout2ui4.prototype.bytesPerElement=4,register("StructArrayLayout2ui4",StructArrayLayout2ui4);var StructArrayLayout2f8=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t,r){var i=this.length;this.resize(i+1);var e=2*i;return this.float32[e+0]=t,this.float32[e+1]=r,i},r}(StructArray);StructArrayLayout2f8.prototype.bytesPerElement=8,register("StructArrayLayout2f8",StructArrayLayout2f8);var StructArrayLayout4f16=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},r.prototype.emplaceBack=function(t,r,i,e){var o=this.length;this.resize(o+1);var u=4*o;return this.float32[u+0]=t,this.float32[u+1]=r,this.float32[u+2]=i,this.float32[u+3]=e,o},r}(StructArray);StructArrayLayout4f16.prototype.bytesPerElement=16,register("StructArrayLayout4f16",StructArrayLayout4f16);var CollisionBoxStruct=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var i={anchorPointX:{},anchorPointY:{},x1:{},y1:{},x2:{},y2:{},featureIndex:{},sourceLayerIndex:{},bucketIndex:{},radius:{},signedDistanceFromAnchor:{},anchorPoint:{}};return i.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},i.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},i.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},i.x1.get=function(){return this._structArray.int16[this._pos2+2]},i.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},i.y1.get=function(){return this._structArray.int16[this._pos2+3]},i.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},i.x2.get=function(){return this._structArray.int16[this._pos2+4]},i.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},i.y2.get=function(){return this._structArray.int16[this._pos2+5]},i.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},i.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},i.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},i.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},i.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},i.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},i.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},i.radius.get=function(){return this._structArray.int16[this._pos2+10]},i.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},i.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},i.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},i.anchorPoint.get=function(){return new Point(this.anchorPointX,this.anchorPointY)},Object.defineProperties(r.prototype,i),r}(Struct);CollisionBoxStruct.prototype.size=24;var CollisionBoxArray=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.get=function(t){return new CollisionBoxStruct(this,t)},r}(StructArrayLayout6i1ul2ui2i24);register("CollisionBoxArray",CollisionBoxArray);var PlacedSymbolStruct=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var i={anchorX:{},anchorY:{},glyphStartIndex:{},numGlyphs:{},vertexStartIndex:{},lineStartIndex:{},lineLength:{},segment:{},lowerSize:{},upperSize:{},lineOffsetX:{},lineOffsetY:{},writingMode:{},hidden:{}};return i.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},i.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},i.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},i.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},i.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},i.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},i.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},i.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},i.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},i.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},i.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},i.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},i.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},i.segment.get=function(){return this._structArray.uint16[this._pos2+10]},i.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},i.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},i.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},i.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},i.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},i.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},i.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},i.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},i.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},i.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},i.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},i.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},i.hidden.set=function(t){this._structArray.uint8[this._pos1+37]=t},Object.defineProperties(r.prototype,i),r}(Struct);PlacedSymbolStruct.prototype.size=40;var PlacedSymbolArray=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.get=function(t){return new PlacedSymbolStruct(this,t)},r}(StructArrayLayout2i2ui3ul3ui2f2ub40);register("PlacedSymbolArray",PlacedSymbolArray);var GlyphOffsetStruct=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var i={offsetX:{}};return i.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},i.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(r.prototype,i),r}(Struct);GlyphOffsetStruct.prototype.size=4;var GlyphOffsetArray=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getoffsetX=function(t){return this.float32[1*t+0]},r.prototype.get=function(t){return new GlyphOffsetStruct(this,t)},r}(StructArrayLayout1f4);register("GlyphOffsetArray",GlyphOffsetArray);var SymbolLineVertexStruct=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var i={x:{},y:{},tileUnitDistanceFromAnchor:{}};return i.x.get=function(){return this._structArray.int16[this._pos2+0]},i.x.set=function(t){this._structArray.int16[this._pos2+0]=t},i.y.get=function(){return this._structArray.int16[this._pos2+1]},i.y.set=function(t){this._structArray.int16[this._pos2+1]=t},i.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},i.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(r.prototype,i),r}(Struct);SymbolLineVertexStruct.prototype.size=6;var SymbolLineVertexArray=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getx=function(t){return this.int16[3*t+0]},r.prototype.gety=function(t){return this.int16[3*t+1]},r.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},r.prototype.get=function(t){return new SymbolLineVertexStruct(this,t)},r}(StructArrayLayout3i6);register("SymbolLineVertexArray",SymbolLineVertexArray);var FeatureIndexStruct=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var i={featureIndex:{},sourceLayerIndex:{},bucketIndex:{}};return i.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},i.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},i.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},i.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},i.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},i.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(r.prototype,i),r}(Struct);FeatureIndexStruct.prototype.size=8;var FeatureIndexArray=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.get=function(t){return new FeatureIndexStruct(this,t)},r}(StructArrayLayout1ul2ui8);register("FeatureIndexArray",FeatureIndexArray),module.exports={StructArrayLayout2i4:StructArrayLayout2i4,StructArrayLayout4i8:StructArrayLayout4i8,StructArrayLayout2i4i12:StructArrayLayout2i4i12,StructArrayLayout4i4ub12:StructArrayLayout4i4ub12,StructArrayLayout4i4ui16:StructArrayLayout4i4ui16,StructArrayLayout3f12:StructArrayLayout3f12,StructArrayLayout1ul4:StructArrayLayout1ul4,StructArrayLayout6i1ul2ui2i24:StructArrayLayout6i1ul2ui2i24,StructArrayLayout2i2i2i12:StructArrayLayout2i2i2i12,StructArrayLayout2ub4:StructArrayLayout2ub4,StructArrayLayout2i2ui3ul3ui2f2ub40:StructArrayLayout2i2ui3ul3ui2f2ub40,StructArrayLayout1f4:StructArrayLayout1f4,StructArrayLayout3i6:StructArrayLayout3i6,StructArrayLayout1ul2ui8:StructArrayLayout1ul2ui8,StructArrayLayout3ui6:StructArrayLayout3ui6,StructArrayLayout2ui4:StructArrayLayout2ui4,StructArrayLayout2f8:StructArrayLayout2f8,StructArrayLayout4f16:StructArrayLayout4f16,PosArray:StructArrayLayout2i4,RasterBoundsArray:StructArrayLayout4i8,CircleLayoutArray:StructArrayLayout2i4,FillLayoutArray:StructArrayLayout2i4,FillExtrusionLayoutArray:StructArrayLayout2i4i12,HeatmapLayoutArray:StructArrayLayout2i4,LineLayoutArray:StructArrayLayout4i4ub12,SymbolLayoutArray:StructArrayLayout4i4ui16,SymbolDynamicLayoutArray:StructArrayLayout3f12,SymbolOpacityArray:StructArrayLayout1ul4,CollisionBoxLayoutArray:StructArrayLayout2i2i2i12,CollisionCircleLayoutArray:StructArrayLayout2i2i2i12,CollisionVertexArray:StructArrayLayout2ub4,TriangleIndexArray:StructArrayLayout3ui6,LineIndexArray:StructArrayLayout2ui4,CollisionBoxArray:CollisionBoxArray,PlacedSymbolArray:PlacedSymbolArray,GlyphOffsetArray:GlyphOffsetArray,SymbolLineVertexArray:SymbolLineVertexArray,FeatureIndexArray:FeatureIndexArray}},{"../util/struct_array":271,"../util/web_worker_transfer":278,"@mapbox/point-geometry":4}],40:[function(_dereq_,module,exports){"use strict";module.exports={deserialize:function(r,e){var t={};if(!e)return t;for(var n=0,a=r;n<a.length;n+=1){var i=a[n],l=i.layerIds.map(function(r){return e.getLayer(r)}).filter(Boolean);if(0!==l.length){i.layers=l;for(var o=0,f=l;o<f.length;o+=1)t[f[o].id]=i}}return t}}},{}],41:[function(_dereq_,module,exports){"use strict";var createLayout=_dereq_("../../util/struct_array").createLayout;module.exports=createLayout([{name:"a_pos",components:2,type:"Int16"}],4)},{"../../util/struct_array":271}],42:[function(_dereq_,module,exports){"use strict";function addCircleVertex(e,r,t,a,i){e.emplaceBack(2*r+(a+1)/2,2*t+(i+1)/2)}var CircleLayoutArray=_dereq_("../array_types").CircleLayoutArray,layoutAttributes=_dereq_("./circle_attributes").members,SegmentVector=_dereq_("../segment").SegmentVector,ProgramConfigurationSet=_dereq_("../program_configuration").ProgramConfigurationSet,TriangleIndexArray=_dereq_("../index_array_type").TriangleIndexArray,loadGeometry=_dereq_("../load_geometry"),EXTENT=_dereq_("../extent"),register=_dereq_("../../util/web_worker_transfer").register,CircleBucket=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.layoutVertexArray=new CircleLayoutArray,this.indexArray=new TriangleIndexArray,this.segments=new SegmentVector,this.programConfigurations=new ProgramConfigurationSet(layoutAttributes,e.layers,e.zoom)};CircleBucket.prototype.populate=function(e,r){for(var t=this,a=0,i=e;a<i.length;a+=1){var o=i[a],n=o.feature,u=o.index,s=o.sourceLayerIndex;if(t.layers[0]._featureFilter({zoom:t.zoom},n)){var y=loadGeometry(n);t.addFeature(n,y),r.featureIndex.insert(n,y,u,s,t.index)}}},CircleBucket.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},CircleBucket.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.programConfigurations.upload(e)},CircleBucket.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},CircleBucket.prototype.addFeature=function(e,r){for(var t=this,a=0,i=r;a<i.length;a+=1)for(var n=0,u=i[a];n<u.length;n+=1){var s=u[n],y=s.x,l=s.y;if(!(y<0||y>=EXTENT||l<0||l>=EXTENT)){var c=t.segments.prepareSegment(4,t.layoutVertexArray,t.indexArray),f=c.vertexLength;addCircleVertex(t.layoutVertexArray,y,l,-1,-1),addCircleVertex(t.layoutVertexArray,y,l,1,-1),addCircleVertex(t.layoutVertexArray,y,l,1,1),addCircleVertex(t.layoutVertexArray,y,l,-1,1),t.indexArray.emplaceBack(f,f+1,f+2),t.indexArray.emplaceBack(f,f+3,f+2),c.vertexLength+=4,c.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)},register("CircleBucket",CircleBucket,{omit:["layers"]}),module.exports=CircleBucket},{"../../util/web_worker_transfer":278,"../array_types":39,"../extent":53,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./circle_attributes":41}],43:[function(_dereq_,module,exports){arguments[4][41][0].apply(exports,arguments)},{"../../util/struct_array":271,dup:41}],44:[function(_dereq_,module,exports){"use strict";var FillLayoutArray=_dereq_("../array_types").FillLayoutArray,layoutAttributes=_dereq_("./fill_attributes").members,SegmentVector=_dereq_("../segment").SegmentVector,ProgramConfigurationSet=_dereq_("../program_configuration").ProgramConfigurationSet,ref$3=_dereq_("../index_array_type"),LineIndexArray=ref$3.LineIndexArray,TriangleIndexArray=ref$3.TriangleIndexArray,loadGeometry=_dereq_("../load_geometry"),earcut=_dereq_("earcut"),classifyRings=_dereq_("../../util/classify_rings"),register=_dereq_("../../util/web_worker_transfer").register,FillBucket=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.layoutVertexArray=new FillLayoutArray,this.indexArray=new TriangleIndexArray,this.indexArray2=new LineIndexArray,this.programConfigurations=new ProgramConfigurationSet(layoutAttributes,e.layers,e.zoom),this.segments=new SegmentVector,this.segments2=new SegmentVector};FillBucket.prototype.populate=function(e,r){for(var t=this,i=0,a=e;i<a.length;i+=1){var n=a[i],o=n.feature,s=n.index,u=n.sourceLayerIndex;if(t.layers[0]._featureFilter({zoom:t.zoom},o)){var l=loadGeometry(o);t.addFeature(o,l),r.featureIndex.insert(o,l,s,u,t.index)}}},FillBucket.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},FillBucket.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2),this.programConfigurations.upload(e)},FillBucket.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},FillBucket.prototype.addFeature=function(e,r){for(var t=this,i=0,a=classifyRings(r,500);i<a.length;i+=1){for(var n=a[i],o=0,s=0,u=n;s<u.length;s+=1)o+=u[s].length;for(var l=t.segments.prepareSegment(o,t.layoutVertexArray,t.indexArray),y=l.vertexLength,g=[],f=[],h=0,x=n;h<x.length;h+=1){var d=x[h];if(0!==d.length){d!==n[0]&&f.push(g.length/2);var c=t.segments2.prepareSegment(d.length,t.layoutVertexArray,t.indexArray2),m=c.vertexLength;t.layoutVertexArray.emplaceBack(d[0].x,d[0].y),t.indexArray2.emplaceBack(m+d.length-1,m),g.push(d[0].x),g.push(d[0].y);for(var p=1;p<d.length;p++)t.layoutVertexArray.emplaceBack(d[p].x,d[p].y),t.indexArray2.emplaceBack(m+p-1,m+p),g.push(d[p].x),g.push(d[p].y);c.vertexLength+=d.length,c.primitiveLength+=d.length}}for(var A=earcut(g,f),B=0;B<A.length;B+=3)t.indexArray.emplaceBack(y+A[B],y+A[B+1],y+A[B+2]);l.vertexLength+=o,l.primitiveLength+=A.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)},register("FillBucket",FillBucket,{omit:["layers"]}),module.exports=FillBucket},{"../../util/classify_rings":255,"../../util/web_worker_transfer":278,"../array_types":39,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./fill_attributes":43,earcut:14}],45:[function(_dereq_,module,exports){"use strict";var createLayout=_dereq_("../../util/struct_array").createLayout;module.exports=createLayout([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4)},{"../../util/struct_array":271}],46:[function(_dereq_,module,exports){"use strict";function addVertex(e,r,t,i,a,n,o,u){e.emplaceBack(r,t,2*Math.floor(i*FACTOR)+o,a*FACTOR*2,n*FACTOR*2,Math.round(u))}function isBoundaryEdge(e,r){return e.x===r.x&&(e.x<0||e.x>EXTENT)||e.y===r.y&&(e.y<0||e.y>EXTENT)}function isEntirelyOutside(e){return e.every(function(e){return e.x<0})||e.every(function(e){return e.x>EXTENT})||e.every(function(e){return e.y<0})||e.every(function(e){return e.y>EXTENT})}var FillExtrusionLayoutArray=_dereq_("../array_types").FillExtrusionLayoutArray,layoutAttributes=_dereq_("./fill_extrusion_attributes").members,ref$1=_dereq_("../segment"),SegmentVector=ref$1.SegmentVector,MAX_VERTEX_ARRAY_LENGTH=ref$1.MAX_VERTEX_ARRAY_LENGTH,ProgramConfigurationSet=_dereq_("../program_configuration").ProgramConfigurationSet,TriangleIndexArray=_dereq_("../index_array_type").TriangleIndexArray,loadGeometry=_dereq_("../load_geometry"),EXTENT=_dereq_("../extent"),earcut=_dereq_("earcut"),classifyRings=_dereq_("../../util/classify_rings"),register=_dereq_("../../util/web_worker_transfer").register,FACTOR=Math.pow(2,13),FillExtrusionBucket=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.layoutVertexArray=new FillExtrusionLayoutArray,this.indexArray=new TriangleIndexArray,this.programConfigurations=new ProgramConfigurationSet(layoutAttributes,e.layers,e.zoom),this.segments=new SegmentVector};FillExtrusionBucket.prototype.populate=function(e,r){for(var t=this,i=0,a=e;i<a.length;i+=1){var n=a[i],o=n.feature,u=n.index,s=n.sourceLayerIndex;if(t.layers[0]._featureFilter({zoom:t.zoom},o)){var y=loadGeometry(o);t.addFeature(o,y),r.featureIndex.insert(o,y,u,s,t.index)}}},FillExtrusionBucket.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},FillExtrusionBucket.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.programConfigurations.upload(e)},FillExtrusionBucket.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},FillExtrusionBucket.prototype.addFeature=function(e,r){for(var t=this,i=0,a=classifyRings(r,500);i<a.length;i+=1){for(var n=a[i],o=0,u=0,s=n;u<s.length;u+=1)o+=s[u].length;for(var y=t.segments.prepareSegment(4,t.layoutVertexArray,t.indexArray),l=0,x=n;l<x.length;l+=1){var f=x[l];if(0!==f.length&&!isEntirelyOutside(f))for(var g=0,d=0;d<f.length;d++){var h=f[d];if(d>=1){var A=f[d-1];if(!isBoundaryEdge(h,A)){y.vertexLength+4>MAX_VERTEX_ARRAY_LENGTH&&(y=t.segments.prepareSegment(4,t.layoutVertexArray,t.indexArray));var c=h.sub(A)._perp()._unit(),p=A.dist(h);g+p>32768&&(g=0),addVertex(t.layoutVertexArray,h.x,h.y,c.x,c.y,0,0,g),addVertex(t.layoutVertexArray,h.x,h.y,c.x,c.y,0,1,g),g+=p,addVertex(t.layoutVertexArray,A.x,A.y,c.x,c.y,0,0,g),addVertex(t.layoutVertexArray,A.x,A.y,c.x,c.y,0,1,g);var E=y.vertexLength;t.indexArray.emplaceBack(E,E+1,E+2),t.indexArray.emplaceBack(E+1,E+2,E+3),y.vertexLength+=4,y.primitiveLength+=2}}}}y.vertexLength+o>MAX_VERTEX_ARRAY_LENGTH&&(y=t.segments.prepareSegment(o,t.layoutVertexArray,t.indexArray));for(var m=[],v=[],V=y.vertexLength,_=0,T=n;_<T.length;_+=1){var B=T[_];if(0!==B.length){B!==n[0]&&v.push(m.length/2);for(var R=0;R<B.length;R++){var F=B[R];addVertex(t.layoutVertexArray,F.x,F.y,0,0,1,1,0),m.push(F.x),m.push(F.y)}}}for(var L=earcut(m,v),X=0;X<L.length;X+=3)t.indexArray.emplaceBack(V+L[X],V+L[X+1],V+L[X+2]);y.primitiveLength+=L.length/3,y.vertexLength+=o}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)},register("FillExtrusionBucket",FillExtrusionBucket,{omit:["layers"]}),module.exports=FillExtrusionBucket},{"../../util/classify_rings":255,"../../util/web_worker_transfer":278,"../array_types":39,"../extent":53,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./fill_extrusion_attributes":45,earcut:14}],47:[function(_dereq_,module,exports){"use strict";var CircleBucket=_dereq_("./circle_bucket"),register=_dereq_("../../util/web_worker_transfer").register,HeatmapBucket=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(CircleBucket);register("HeatmapBucket",HeatmapBucket,{omit:["layers"]}),module.exports=HeatmapBucket},{"../../util/web_worker_transfer":278,"./circle_bucket":42}],48:[function(_dereq_,module,exports){"use strict";var createLayout=_dereq_("../../util/struct_array").createLayout;module.exports=createLayout([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4)},{"../../util/struct_array":271}],49:[function(_dereq_,module,exports){"use strict";function addLineVertex(e,t,r,i,a,n,s){e.emplaceBack(t.x,t.y,i?1:0,a?1:-1,Math.round(EXTRUDE_SCALE*r.x)+128,Math.round(EXTRUDE_SCALE*r.y)+128,1+(0===n?0:n<0?-1:1)|(s*LINE_DISTANCE_SCALE&63)<<2,s*LINE_DISTANCE_SCALE>>6)}var LineLayoutArray=_dereq_("../array_types").LineLayoutArray,layoutAttributes=_dereq_("./line_attributes").members,SegmentVector=_dereq_("../segment").SegmentVector,ProgramConfigurationSet=_dereq_("../program_configuration").ProgramConfigurationSet,TriangleIndexArray=_dereq_("../index_array_type").TriangleIndexArray,loadGeometry=_dereq_("../load_geometry"),EXTENT=_dereq_("../extent"),vectorTileFeatureTypes=_dereq_("@mapbox/vector-tile").VectorTileFeature.types,register=_dereq_("../../util/web_worker_transfer").register,EXTRUDE_SCALE=63,COS_HALF_SHARP_CORNER=Math.cos(Math.PI/180*37.5),LINE_DISTANCE_SCALE=.5,MAX_LINE_DISTANCE=Math.pow(2,14)/LINE_DISTANCE_SCALE,LineBucket=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.layoutVertexArray=new LineLayoutArray,this.indexArray=new TriangleIndexArray,this.programConfigurations=new ProgramConfigurationSet(layoutAttributes,e.layers,e.zoom),this.segments=new SegmentVector};LineBucket.prototype.populate=function(e,t){for(var r=this,i=0,a=e;i<a.length;i+=1){var n=a[i],s=n.feature,u=n.index,d=n.sourceLayerIndex;if(r.layers[0]._featureFilter({zoom:r.zoom},s)){var o=loadGeometry(s);r.addFeature(s,o),t.featureIndex.insert(s,o,u,d,r.index)}}},LineBucket.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},LineBucket.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.programConfigurations.upload(e)},LineBucket.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},LineBucket.prototype.addFeature=function(e,t){for(var i=this.layers[0].layout,a=i.get("line-join").evaluate(e),n=i.get("line-cap"),s=i.get("line-miter-limit"),u=i.get("line-round-limit"),d=0,o=t;d<o.length;d+=1){var l=o[d];this.addLine(l,e,a,n,s,u)}},LineBucket.prototype.addLine=function(e,t,r,i,a,n){for(var s=this,u="Polygon"===vectorTileFeatureTypes[t.type],d=e.length;d>=2&&e[d-1].equals(e[d-2]);)d--;for(var o=0;o<d-1&&e[o].equals(e[o+1]);)o++;if(!(d<(u?3:2))){"bevel"===r&&(a=1.05);var l=EXTENT/(512*this.overscaling)*15,h=e[o],y=this.segments.prepareSegment(10*d,this.layoutVertexArray,this.indexArray);this.distance=0;var c,f,x,m=i,p=u?"butt":i,_=!0,g=void 0,v=void 0,L=void 0,A=void 0;this.e1=this.e2=this.e3=-1,u&&(c=e[d-2],A=h.sub(c)._unit()._perp());for(var C=o;C<d;C++)if(!(v=u&&C===d-1?e[o+1]:e[C+1])||!e[C].equals(v)){A&&(L=A),c&&(g=c),c=e[C],A=v?v.sub(c)._unit()._perp():L;var E=(L=L||A).add(A);0===E.x&&0===E.y||E._unit();var V=E.x*A.x+E.y*A.y,S=0!==V?1/V:1/0,B=V<COS_HALF_SHARP_CORNER&&g&&v;if(B&&C>o){var T=c.dist(g);if(T>2*l){var I=c.sub(c.sub(g)._mult(l/T)._round());s.distance+=I.dist(g),s.addCurrentVertex(I,s.distance,L.mult(1),0,0,!1,y),g=I}}var b=g&&v,N=b?r:v?m:p;if(b&&"round"===N&&(S<n?N="miter":S<=2&&(N="fakeround")),"miter"===N&&S>a&&(N="bevel"),"bevel"===N&&(S>2&&(N="flipbevel"),S<a&&(N="miter")),g&&(s.distance+=c.dist(g)),"miter"===N)E._mult(S),s.addCurrentVertex(c,s.distance,E,0,0,!1,y);else if("flipbevel"===N){if(S>100)E=A.clone().mult(-1);else{var k=L.x*A.y-L.y*A.x>0?-1:1,R=S*L.add(A).mag()/L.sub(A).mag();E._perp()._mult(R*k)}s.addCurrentVertex(c,s.distance,E,0,0,!1,y),s.addCurrentVertex(c,s.distance,E.mult(-1),0,0,!1,y)}else if("bevel"===N||"fakeround"===N){var F=L.x*A.y-L.y*A.x>0,q=-Math.sqrt(S*S-1);if(F?(x=0,f=q):(f=0,x=q),_||s.addCurrentVertex(c,s.distance,L,f,x,!1,y),"fakeround"===N){for(var P=Math.floor(8*(.5-(V-.5))),D=void 0,M=0;M<P;M++)D=A.mult((M+1)/(P+1))._add(L)._unit(),s.addPieSliceVertex(c,s.distance,D,F,y);s.addPieSliceVertex(c,s.distance,E,F,y);for(var O=P-1;O>=0;O--)D=L.mult((O+1)/(P+1))._add(A)._unit(),s.addPieSliceVertex(c,s.distance,D,F,y)}v&&s.addCurrentVertex(c,s.distance,A,-f,-x,!1,y)}else"butt"===N?(_||s.addCurrentVertex(c,s.distance,L,0,0,!1,y),v&&s.addCurrentVertex(c,s.distance,A,0,0,!1,y)):"square"===N?(_||(s.addCurrentVertex(c,s.distance,L,1,1,!1,y),s.e1=s.e2=-1),v&&s.addCurrentVertex(c,s.distance,A,-1,-1,!1,y)):"round"===N&&(_||(s.addCurrentVertex(c,s.distance,L,0,0,!1,y),s.addCurrentVertex(c,s.distance,L,1,1,!0,y),s.e1=s.e2=-1),v&&(s.addCurrentVertex(c,s.distance,A,-1,-1,!0,y),s.addCurrentVertex(c,s.distance,A,0,0,!1,y)));if(B&&C<d-1){var $=c.dist(v);if($>2*l){var w=c.add(v.sub(c)._mult(l/$)._round());s.distance+=w.dist(c),s.addCurrentVertex(w,s.distance,A.mult(1),0,0,!1,y),c=w}}_=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)}},LineBucket.prototype.addCurrentVertex=function(e,t,r,i,a,n,s){var u,d=this.layoutVertexArray,o=this.indexArray;u=r.clone(),i&&u._sub(r.perp()._mult(i)),addLineVertex(d,e,u,n,!1,i,t),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(o.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,u=r.mult(-1),a&&u._sub(r.perp()._mult(a)),addLineVertex(d,e,u,n,!0,-a,t),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(o.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,t>MAX_LINE_DISTANCE/2&&(this.distance=0,this.addCurrentVertex(e,this.distance,r,i,a,n,s))},LineBucket.prototype.addPieSliceVertex=function(e,t,r,i,a){r=r.mult(i?-1:1);var n=this.layoutVertexArray,s=this.indexArray;addLineVertex(n,e,r,!1,i,0,t),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),i?this.e2=this.e3:this.e1=this.e3},register("LineBucket",LineBucket,{omit:["layers"]}),module.exports=LineBucket},{"../../util/web_worker_transfer":278,"../array_types":39,"../extent":53,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./line_attributes":48,"@mapbox/vector-tile":8}],50:[function(_dereq_,module,exports){"use strict";var createLayout=_dereq_("../../util/struct_array").createLayout,symbolAttributes={symbolLayoutAttributes:createLayout([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),dynamicLayoutAttributes:createLayout([{name:"a_projected_pos",components:3,type:"Float32"}],4),placementOpacityAttributes:createLayout([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),collisionVertexAttributes:createLayout([{name:"a_placed",components:2,type:"Uint8"}],4),collisionBox:createLayout([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),collisionBoxLayout:createLayout([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),collisionCircleLayout:createLayout([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),placement:createLayout([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),glyphOffset:createLayout([{type:"Float32",name:"offsetX"}]),lineVertex:createLayout([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}])};module.exports=symbolAttributes},{"../../util/struct_array":271}],51:[function(_dereq_,module,exports){"use strict";function addVertex(e,t,r,o,i,a,n,s){e.emplaceBack(t,r,Math.round(64*o),Math.round(64*i),a,n,s?s[0]:0,s?s[1]:0)}function addDynamicAttributes(e,t,r){e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r)}var ref=_dereq_("./symbol_attributes"),symbolLayoutAttributes=ref.symbolLayoutAttributes,collisionVertexAttributes=ref.collisionVertexAttributes,collisionBoxLayout=ref.collisionBoxLayout,collisionCircleLayout=ref.collisionCircleLayout,dynamicLayoutAttributes=ref.dynamicLayoutAttributes,ref$1=_dereq_("../array_types"),SymbolLayoutArray=ref$1.SymbolLayoutArray,SymbolDynamicLayoutArray=ref$1.SymbolDynamicLayoutArray,SymbolOpacityArray=ref$1.SymbolOpacityArray,CollisionBoxLayoutArray=ref$1.CollisionBoxLayoutArray,CollisionCircleLayoutArray=ref$1.CollisionCircleLayoutArray,CollisionVertexArray=ref$1.CollisionVertexArray,PlacedSymbolArray=ref$1.PlacedSymbolArray,GlyphOffsetArray=ref$1.GlyphOffsetArray,SymbolLineVertexArray=ref$1.SymbolLineVertexArray,Point=_dereq_("@mapbox/point-geometry"),SegmentVector=_dereq_("../segment").SegmentVector,ProgramConfigurationSet=_dereq_("../program_configuration").ProgramConfigurationSet,ref$4=_dereq_("../index_array_type"),TriangleIndexArray=ref$4.TriangleIndexArray,LineIndexArray=ref$4.LineIndexArray,transformText=_dereq_("../../symbol/transform_text"),mergeLines=_dereq_("../../symbol/mergelines"),scriptDetection=_dereq_("../../util/script_detection"),loadGeometry=_dereq_("../load_geometry"),vectorTileFeatureTypes=_dereq_("@mapbox/vector-tile").VectorTileFeature.types,verticalizePunctuation=_dereq_("../../util/verticalize_punctuation"),getSizeData=(_dereq_("../../symbol/anchor"),_dereq_("../../symbol/symbol_size").getSizeData),register=_dereq_("../../util/web_worker_transfer").register,shaderOpacityAttributes=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}],SymbolBuffers=function(e){this.layoutVertexArray=new SymbolLayoutArray,this.indexArray=new TriangleIndexArray,this.programConfigurations=e,this.segments=new SegmentVector,this.dynamicLayoutVertexArray=new SymbolDynamicLayoutArray,this.opacityVertexArray=new SymbolOpacityArray,this.placedSymbolArray=new PlacedSymbolArray};SymbolBuffers.prototype.upload=function(e,t){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,symbolLayoutAttributes.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.programConfigurations.upload(e),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,dynamicLayoutAttributes.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,shaderOpacityAttributes,!0),this.opacityVertexBuffer.itemSize=1},SymbolBuffers.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},register("SymbolBuffers",SymbolBuffers);var CollisionBuffers=function(e,t,r){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new r,this.segments=new SegmentVector,this.collisionVertexArray=new CollisionVertexArray};CollisionBuffers.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,collisionVertexAttributes.members,!0)},CollisionBuffers.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},register("CollisionBuffers",CollisionBuffers);var SymbolBucket=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.pixelRatio=e.pixelRatio;var r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=getSizeData(this.zoom,r["text-size"]),this.iconSizeData=getSizeData(this.zoom,r["icon-size"]);var o=this.layers[0].layout;this.sortFeaturesByY=o.get("text-allow-overlap")||o.get("icon-allow-overlap")||o.get("text-ignore-placement")||o.get("icon-ignore-placement")};SymbolBucket.prototype.createArrays=function(){this.text=new SymbolBuffers(new ProgramConfigurationSet(symbolLayoutAttributes.members,this.layers,this.zoom,function(e){return/^text/.test(e)})),this.icon=new SymbolBuffers(new ProgramConfigurationSet(symbolLayoutAttributes.members,this.layers,this.zoom,function(e){return/^icon/.test(e)})),this.collisionBox=new CollisionBuffers(CollisionBoxLayoutArray,collisionBoxLayout.members,LineIndexArray),this.collisionCircle=new CollisionBuffers(CollisionCircleLayoutArray,collisionCircleLayout.members,TriangleIndexArray),this.glyphOffsetArray=new GlyphOffsetArray,this.lineVertexArray=new SymbolLineVertexArray},SymbolBucket.prototype.populate=function(e,t){var o=this.layers[0],i=o.layout,a=i.get("text-font"),n=i.get("text-field"),s=i.get("icon-image"),l=("constant"!==n.value.kind||n.value.value.length>0)&&("constant"!==a.value.kind||a.value.value.length>0),y="constant"!==s.value.kind||s.value.value&&s.value.value.length>0;if(this.features=[],l||y){for(var c=t.iconDependencies,u=t.glyphDependencies,x={zoom:this.zoom},f=0,h=e;f<h.length;f+=1){var m=h[f],d=m.feature,p=m.index,g=m.sourceLayerIndex;if(o._featureFilter(x,d)){var A=void 0;l&&(A=o.getValueAndResolveTokens("text-field",d),A=transformText(A,o,d));var b=void 0;if(y&&(b=o.getValueAndResolveTokens("icon-image",d)),A||b){var B={text:A,icon:b,index:p,sourceLayerIndex:g,geometry:loadGeometry(d),properties:d.properties,type:vectorTileFeatureTypes[d.type]};if(void 0!==d.id&&(B.id=d.id),this.features.push(B),b&&(c[b]=!0),A)for(var v=a.evaluate(d).join(","),S=u[v]=u[v]||{},V="map"===i.get("text-rotation-alignment")&&"line"===i.get("symbol-placement"),C=scriptDetection.allowsVerticalWritingMode(A),k=0;k<A.length;k++)if(S[A.charCodeAt(k)]=!0,V&&C){var L=verticalizePunctuation.lookup[A.charAt(k)];L&&(S[L.charCodeAt(0)]=!0)}}}}"line"===i.get("symbol-placement")&&(this.features=mergeLines(this.features))}},SymbolBucket.prototype.isEmpty=function(){return 0===this.symbolInstances.length},SymbolBucket.prototype.upload=function(e){this.text.upload(e,this.sortFeaturesByY),this.icon.upload(e,this.sortFeaturesByY),this.collisionBox.upload(e),this.collisionCircle.upload(e)},SymbolBucket.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},SymbolBucket.prototype.addToLineVertexArray=function(e,t){var o=this.lineVertexArray.length;if(void 0!==e.segment){for(var i=e.dist(t[e.segment+1]),a=e.dist(t[e.segment]),n={},s=e.segment+1;s<t.length;s++)n[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s<t.length-1&&(i+=t[s+1].dist(t[s]));for(var l=e.segment||0;l>=0;l--)n[l]={x:t[l].x,y:t[l].y,tileUnitDistanceFromAnchor:a},l>0&&(a+=t[l-1].dist(t[l]));for(var y=0;y<t.length;y++){var c=n[y];this.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:o,lineLength:this.lineVertexArray.length-o}},SymbolBucket.prototype.addSymbols=function(e,t,r,o,i,a,n,s,l,y){for(var u=e.indexArray,x=e.layoutVertexArray,f=e.dynamicLayoutVertexArray,h=e.segments.prepareSegment(4*t.length,e.layoutVertexArray,e.indexArray),m=this.glyphOffsetArray.length,d=h.vertexLength,p=0,g=t;p<g.length;p+=1){var A=g[p],b=A.tl,B=A.tr,v=A.bl,S=A.br,V=A.tex,C=h.vertexLength,k=A.glyphOffset[1];addVertex(x,s.x,s.y,b.x,k+b.y,V.x,V.y,r),addVertex(x,s.x,s.y,B.x,k+B.y,V.x+V.w,V.y,r),addVertex(x,s.x,s.y,v.x,k+v.y,V.x,V.y+V.h,r),addVertex(x,s.x,s.y,S.x,k+S.y,V.x+V.w,V.y+V.h,r),addDynamicAttributes(f,s,0),u.emplaceBack(C,C+1,C+2),u.emplaceBack(C+1,C+2,C+3),h.vertexLength+=4,h.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(A.glyphOffset[0])}e.placedSymbolArray.emplaceBack(s.x,s.y,m,this.glyphOffsetArray.length-m,d,l,y,s.segment,r?r[0]:0,r?r[1]:0,o[0],o[1],n,!1),e.programConfigurations.populatePaintArrays(e.layoutVertexArray.length,a)},SymbolBucket.prototype._addCollisionDebugVertex=function(e,t,r,o,i){return t.emplaceBack(0,0),e.emplaceBack(r.x,r.y,o.x,o.y,Math.round(i.x),Math.round(i.y))},SymbolBucket.prototype.addCollisionDebugVertices=function(e,t,r,o,i,a,n,s){var l=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),y=l.vertexLength,c=i.layoutVertexArray,u=i.collisionVertexArray;if(this._addCollisionDebugVertex(c,u,a,n.anchor,new Point(e,t)),this._addCollisionDebugVertex(c,u,a,n.anchor,new Point(r,t)),this._addCollisionDebugVertex(c,u,a,n.anchor,new Point(r,o)),this._addCollisionDebugVertex(c,u,a,n.anchor,new Point(e,o)),l.vertexLength+=4,s){var x=i.indexArray;x.emplaceBack(y,y+1,y+2),x.emplaceBack(y,y+2,y+3),l.primitiveLength+=2}else{var f=i.indexArray;f.emplaceBack(y,y+1),f.emplaceBack(y+1,y+2),f.emplaceBack(y+2,y+3),f.emplaceBack(y+3,y),l.primitiveLength+=4}},SymbolBucket.prototype.generateCollisionDebugBuffers=function(){for(var e=this,t=0,r=e.symbolInstances;t<r.length;t+=1){var o=r[t];o.textCollisionFeature={boxStartIndex:o.textBoxStartIndex,boxEndIndex:o.textBoxEndIndex},o.iconCollisionFeature={boxStartIndex:o.iconBoxStartIndex,boxEndIndex:o.iconBoxEndIndex};for(var i=0;i<2;i++){var a=o[0===i?"textCollisionFeature":"iconCollisionFeature"];if(a)for(var n=a.boxStartIndex;n<a.boxEndIndex;n++){var s=e.collisionBoxArray.get(n),l=s.x1,y=s.y1,c=s.x2,u=s.y2,x=s.radius>0;e.addCollisionDebugVertices(l,y,c,u,x?e.collisionCircle:e.collisionBox,s.anchorPoint,o,x)}}}},SymbolBucket.prototype.deserializeCollisionBoxes=function(e,t,r,o,i){for(var a={},n=t;n<r;n++){var s=e.get(n);if(0===s.radius){a.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY};break}a.textCircles||(a.textCircles=[]),a.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var l=o;l<i;l++){var y=e.get(l);if(0===y.radius){a.iconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,anchorPointX:y.anchorPointX,anchorPointY:y.anchorPointY};break}}return a},SymbolBucket.prototype.hasTextData=function(){return this.text.segments.get().length>0},SymbolBucket.prototype.hasIconData=function(){return this.icon.segments.get().length>0},SymbolBucket.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},SymbolBucket.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},SymbolBucket.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&(this.sortedAngle=e,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var r=[],o=0;o<this.symbolInstances.length;o++)r.push(o);var i=Math.sin(e),a=Math.cos(e);r.sort(function(e,r){var o=t.symbolInstances[e],n=t.symbolInstances[r];return(i*o.anchor.x+a*o.anchor.y|0)-(i*n.anchor.x+a*n.anchor.y|0)||n.featureIndex-o.featureIndex}),this.text.indexArray.clear(),this.icon.indexArray.clear();for(var n=0,s=r;n<s.length;n+=1){for(var l=s[n],c=0,u=t.symbolInstances[l].placedTextSymbolIndices;c<u.length;c+=1)for(var x=u[c],f=t.text.placedSymbolArray.get(x),h=f.vertexStartIndex+4*f.numGlyphs,m=f.vertexStartIndex;m<h;m+=4)t.text.indexArray.emplaceBack(m,m+1,m+2),t.text.indexArray.emplaceBack(m+1,m+2,m+3);var d=t.icon.placedSymbolArray.get(l);if(d.numGlyphs){var p=d.vertexStartIndex;t.icon.indexArray.emplaceBack(p,p+1,p+2),t.icon.indexArray.emplaceBack(p+1,p+2,p+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},register("SymbolBucket",SymbolBucket,{omit:["layers","collisionBoxArray","features","compareText"],shallow:["symbolInstances"]}),SymbolBucket.MAX_GLYPHS=65535,SymbolBucket.addDynamicAttributes=addDynamicAttributes,module.exports=SymbolBucket},{"../../symbol/anchor":213,"../../symbol/mergelines":221,"../../symbol/symbol_size":228,"../../symbol/transform_text":229,"../../util/script_detection":269,"../../util/verticalize_punctuation":277,"../../util/web_worker_transfer":278,"../array_types":39,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./symbol_attributes":50,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],52:[function(_dereq_,module,exports){"use strict";var RGBAImage=_dereq_("../util/image").RGBAImage,util=_dereq_("../util/util"),register=_dereq_("../util/web_worker_transfer").register,Level=function(e,t,i){if(e<=0)throw new RangeError("Level must have positive dimension");this.dim=e,this.border=t,this.stride=this.dim+2*this.border,this.data=i||new Int32Array((this.dim+2*this.border)*(this.dim+2*this.border))};Level.prototype.set=function(e,t,i){this.data[this._idx(e,t)]=i+65536},Level.prototype.get=function(e,t){return this.data[this._idx(e,t)]-65536},Level.prototype._idx=function(e,t){if(e<-this.border||e>=this.dim+this.border||t<-this.border||t>=this.dim+this.border)throw new RangeError("out of range source coordinates for DEM data");return(t+this.border)*this.stride+(e+this.border)},register("Level",Level);var DEMData=function(e,t,i){this.uid=e,this.scale=t||1,this.level=i||new Level(256,512),this.loaded=!!i};DEMData.prototype.loadFromImage=function(e){if(e.height!==e.width)throw new RangeError("DEM tiles must be square");for(var i=this.level=new Level(e.width,e.width/2),r=e.data,d=0;d<i.dim;d++)for(var s=0;s<i.dim;s++){var o=4*(d*i.dim+s);i.set(s,d,this.scale*((256*r[o]*256+256*r[o+1]+r[o+2])/10-1e4))}for(var m=0;m<i.dim;m++)i.set(-1,m,i.get(0,m)),i.set(i.dim,m,i.get(i.dim-1,m)),i.set(m,-1,i.get(m,0)),i.set(m,i.dim,i.get(m,i.dim-1));i.set(-1,-1,i.get(0,0)),i.set(i.dim,-1,i.get(i.dim-1,0)),i.set(-1,i.dim,i.get(0,i.dim-1)),i.set(i.dim,i.dim,i.get(i.dim-1,i.dim-1)),this.loaded=!0},DEMData.prototype.getPixels=function(){return new RGBAImage({width:this.level.dim+2*this.level.border,height:this.level.dim+2*this.level.border},new Uint8Array(this.level.data.buffer))},DEMData.prototype.backfillBorder=function(e,t,i){var r=this.level,d=e.level;if(r.dim!==d.dim)throw new Error("level mismatch (dem dimension)");var s=t*r.dim,a=t*r.dim+r.dim,o=i*r.dim,m=i*r.dim+r.dim;switch(t){case-1:s=a-1;break;case 1:a=s+1}switch(i){case-1:o=m-1;break;case 1:m=o+1}for(var l=util.clamp(s,-r.border,r.dim+r.border),h=util.clamp(a,-r.border,r.dim+r.border),n=util.clamp(o,-r.border,r.dim+r.border),v=util.clamp(m,-r.border,r.dim+r.border),u=-t*r.dim,f=-i*r.dim,b=n;b<v;b++)for(var g=l;g<h;g++)r.set(g,b,d.get(g+u,b+f))},register("DEMData",DEMData),module.exports={DEMData:DEMData,Level:Level}},{"../util/image":263,"../util/util":275,"../util/web_worker_transfer":278}],53:[function(_dereq_,module,exports){"use strict";module.exports=8192},{}],54:[function(_dereq_,module,exports){"use strict";function topDownFeatureComparator(e,r){return r-e}_dereq_("@mapbox/point-geometry");var loadGeometry=_dereq_("./load_geometry"),EXTENT=_dereq_("./extent"),featureFilter=_dereq_("../style-spec/feature_filter"),Grid=_dereq_("grid-index"),DictionaryCoder=_dereq_("../util/dictionary_coder"),vt=_dereq_("@mapbox/vector-tile"),Protobuf=_dereq_("pbf"),GeoJSONFeature=_dereq_("../util/vectortile_to_geojson"),arraysIntersect=_dereq_("../util/util").arraysIntersect,register=(_dereq_("../source/tile_id").OverscaledTileID,_dereq_("../util/web_worker_transfer").register),FeatureIndexArray=_dereq_("./array_types").FeatureIndexArray,FeatureIndex=function(e,r,t,a){this.tileID=e,this.overscaling=r,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=t||new Grid(EXTENT,16,0),this.featureIndexArray=a||new FeatureIndexArray};FeatureIndex.prototype.insert=function(e,r,t,a,i){var n=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(t,a,i);for(var s=0;s<r.length;s++){for(var u=r[s],l=[1/0,1/0,-1/0,-1/0],y=0;y<u.length;y++){var d=u[y];l[0]=Math.min(l[0],d.x),l[1]=Math.min(l[1],d.y),l[2]=Math.max(l[2],d.x),l[3]=Math.max(l[3],d.y)}this.grid.insert(n,l[0],l[1],l[2],l[3])}},FeatureIndex.prototype.query=function(e,r){this.vtLayers||(this.vtLayers=new vt.VectorTile(new Protobuf(this.rawTileData)).layers,this.sourceLayerCoder=new DictionaryCoder(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));for(var t={},a=e.params||{},i=EXTENT/e.tileSize/e.scale,o=featureFilter(a.filter),n=e.queryGeometry,s=e.additionalRadius*i,u=1/0,l=1/0,y=-1/0,d=-1/0,c=0;c<n.length;c++)for(var f=n[c],h=0;h<f.length;h++){var x=f[h];u=Math.min(u,x.x),l=Math.min(l,x.y),y=Math.max(y,x.x),d=Math.max(d,x.y)}var v=this.grid.query(u-s,l-s,y+s,d+s);v.sort(topDownFeatureComparator),this.filterMatching(t,v,this.featureIndexArray,n,o,a.layers,r,e.bearing,i);var I=e.collisionIndex?e.collisionIndex.queryRenderedSymbols(n,this.tileID,EXTENT/e.tileSize,e.collisionBoxArray,e.sourceID,e.bucketInstanceIds):[];return I.sort(),this.filterMatching(t,I,e.collisionBoxArray,n,o,a.layers,r,e.bearing,i),t},FeatureIndex.prototype.filterMatching=function(e,r,t,a,i,o,n,s,u){for(var l,y=this,d=0;d<r.length;d++){var c=r[d];if(c!==l){l=c;var f=t.get(c),h=y.bucketLayerIDs[f.bucketIndex];if(!o||arraysIntersect(o,h)){var x=y.sourceLayerCoder.decode(f.sourceLayerIndex),I=y.vtLayers[x].feature(f.featureIndex);if(i({zoom:y.tileID.overscaledZ},I))for(var g=null,m=0;m<h.length;m++){var p=h[m];if(!(o&&o.indexOf(p)<0)){var q=n[p];if(q&&("symbol"===q.type||(g||(g=loadGeometry(I)),q.queryIntersectsFeature(a,I,g,y.z,s,u)))){var F=new GeoJSONFeature(I,y.z,y.x,y.y);F.layer=q.serialize();var b=e[p];void 0===b&&(b=e[p]=[]),b.push({featureIndex:c,feature:F})}}}}}}},FeatureIndex.prototype.hasLayer=function(e){for(var t=0,a=this.bucketLayerIDs;t<a.length;t+=1)for(var o=0,n=a[t];o<n.length;o+=1){if(e===n[o])return!0}return!1},register("FeatureIndex",FeatureIndex,{omit:["rawTileData","sourceLayerCoder"]}),module.exports=FeatureIndex},{"../source/tile_id":114,"../style-spec/feature_filter":148,"../util/dictionary_coder":257,"../util/util":275,"../util/vectortile_to_geojson":276,"../util/web_worker_transfer":278,"./array_types":39,"./extent":53,"./load_geometry":56,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8,"grid-index":24,pbf:30}],55:[function(_dereq_,module,exports){"use strict";module.exports={LineIndexArray:_dereq_("./array_types").LineIndexArray,TriangleIndexArray:_dereq_("./array_types").TriangleIndexArray}},{"./array_types":39}],56:[function(_dereq_,module,exports){"use strict";var util=_dereq_("../util/util"),EXTENT=_dereq_("./extent"),bounds=function createBounds(e){return{min:-1*Math.pow(2,e-1),max:Math.pow(2,e-1)-1}}(16);module.exports=function(e){for(var t=EXTENT/e.extent,r=e.loadGeometry(),n=0;n<r.length;n++)for(var u=r[n],o=0;o<u.length;o++){var a=u[o];a.x=Math.round(a.x*t),a.y=Math.round(a.y*t),(a.x<bounds.min||a.x>bounds.max||a.y<bounds.min||a.y>bounds.max)&&util.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return r}},{"../util/util":275,"./extent":53}],57:[function(_dereq_,module,exports){"use strict";var createLayout=_dereq_("../util/struct_array").createLayout;module.exports=createLayout([{name:"a_pos",type:"Int16",components:2}])},{"../util/struct_array":271}],58:[function(_dereq_,module,exports){"use strict";function packColor(r){return[packUint8ToFloat(255*r.r,255*r.g),packUint8ToFloat(255*r.b,255*r.a)]}function paintAttributeName(r,t){return{"text-opacity":"opacity","icon-opacity":"opacity","text-color":"fill_color","icon-color":"fill_color","text-halo-color":"halo_color","icon-halo-color":"halo_color","text-halo-blur":"halo_blur","icon-halo-blur":"halo_blur","text-halo-width":"halo_width","icon-halo-width":"halo_width","line-gap-width":"gapwidth"}[r]||r.replace(t+"-","").replace(/-/g,"_")}var packUint8ToFloat=_dereq_("../shaders/encode_attribute").packUint8ToFloat,register=(_dereq_("../style-spec/util/color"),_dereq_("../util/web_worker_transfer").register),PossiblyEvaluatedPropertyValue=_dereq_("../style/properties").PossiblyEvaluatedPropertyValue,ref$2=_dereq_("./array_types"),StructArrayLayout1f4=ref$2.StructArrayLayout1f4,StructArrayLayout2f8=ref$2.StructArrayLayout2f8,StructArrayLayout4f16=ref$2.StructArrayLayout4f16,ConstantBinder=function(r,t,o){this.value=r,this.name=t,this.type=o,this.statistics={max:-1/0}};ConstantBinder.prototype.defines=function(){return["#define HAS_UNIFORM_u_"+this.name]},ConstantBinder.prototype.populatePaintArray=function(){},ConstantBinder.prototype.upload=function(){},ConstantBinder.prototype.destroy=function(){},ConstantBinder.prototype.setUniforms=function(r,t,o,e){var i=e.constantOr(this.value),n=r.gl;"color"===this.type?n.uniform4f(t.uniforms["u_"+this.name],i.r,i.g,i.b,i.a):n.uniform1f(t.uniforms["u_"+this.name],i)};var SourceExpressionBinder=function(r,t,o){this.expression=r,this.name=t,this.type=o,this.statistics={max:-1/0};var e="color"===o?StructArrayLayout2f8:StructArrayLayout1f4;this.paintVertexAttributes=[{name:"a_"+t,type:"Float32",components:"color"===o?2:1,offset:0}],this.paintVertexArray=new e};SourceExpressionBinder.prototype.defines=function(){return[]},SourceExpressionBinder.prototype.populatePaintArray=function(r,t){var o=this.paintVertexArray,e=o.length;o.reserve(r);var i=this.expression.evaluate({zoom:0},t);if("color"===this.type)for(var n=packColor(i),a=e;a<r;a++)o.emplaceBack(n[0],n[1]);else{for(var s=e;s<r;s++)o.emplaceBack(i);this.statistics.max=Math.max(this.statistics.max,i)}},SourceExpressionBinder.prototype.upload=function(r){this.paintVertexArray&&(this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))},SourceExpressionBinder.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},SourceExpressionBinder.prototype.setUniforms=function(r,t){r.gl.uniform1f(t.uniforms["a_"+this.name+"_t"],0)};var CompositeExpressionBinder=function(r,t,o,e,i){this.expression=r,this.name=t,this.type=o,this.useIntegerZoom=e,this.zoom=i,this.statistics={max:-1/0};var n="color"===o?StructArrayLayout4f16:StructArrayLayout2f8;this.paintVertexAttributes=[{name:"a_"+t,type:"Float32",components:"color"===o?4:2,offset:0}],this.paintVertexArray=new n};CompositeExpressionBinder.prototype.defines=function(){return[]},CompositeExpressionBinder.prototype.populatePaintArray=function(r,t){var o=this.paintVertexArray,e=o.length;o.reserve(r);var i=this.expression.evaluate({zoom:this.zoom},t),n=this.expression.evaluate({zoom:this.zoom+1},t);if("color"===this.type)for(var a=packColor(i),s=packColor(n),p=e;p<r;p++)o.emplaceBack(a[0],a[1],s[0],s[1]);else{for(var u=e;u<r;u++)o.emplaceBack(i,n);this.statistics.max=Math.max(this.statistics.max,i,n)}},CompositeExpressionBinder.prototype.upload=function(r){this.paintVertexArray&&(this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))},CompositeExpressionBinder.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},CompositeExpressionBinder.prototype.interpolationFactor=function(r){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(r),this.zoom,this.zoom+1):this.expression.interpolationFactor(r,this.zoom,this.zoom+1)},CompositeExpressionBinder.prototype.setUniforms=function(r,t,o){r.gl.uniform1f(t.uniforms["a_"+this.name+"_t"],this.interpolationFactor(o.zoom))};var ProgramConfiguration=function(){this.binders={},this.cacheKey="",this._buffers=[]};ProgramConfiguration.createDynamic=function(r,t,o){var e=new ProgramConfiguration,i=[];for(var n in r.paint._values)if(o(n)){var a=r.paint.get(n);if(a instanceof PossiblyEvaluatedPropertyValue&&a.property.specification["property-function"]){var s=paintAttributeName(n,r.type),p=a.property.specification.type,u=a.property.useIntegerZoom;"constant"===a.value.kind?(e.binders[n]=new ConstantBinder(a.value,s,p),i.push("/u_"+s)):"source"===a.value.kind?(e.binders[n]=new SourceExpressionBinder(a.value,s,p),i.push("/a_"+s)):(e.binders[n]=new CompositeExpressionBinder(a.value,s,p,u,t),i.push("/z_"+s))}}return e.cacheKey=i.sort().join(""),e},ProgramConfiguration.prototype.populatePaintArrays=function(r,t){for(var e in this.binders)this.binders[e].populatePaintArray(r,t)},ProgramConfiguration.prototype.defines=function(){var t=[];for(var o in this.binders)t.push.apply(t,this.binders[o].defines());return t},ProgramConfiguration.prototype.setUniforms=function(r,t,o,e){for(var n in this.binders)this.binders[n].setUniforms(r,t,e,o.get(n))},ProgramConfiguration.prototype.getPaintVertexBuffers=function(){return this._buffers},ProgramConfiguration.prototype.upload=function(r){var t=this;for(var o in t.binders)t.binders[o].upload(r);var e=[];for(var i in t.binders){var n=t.binders[i];(n instanceof SourceExpressionBinder||n instanceof CompositeExpressionBinder)&&n.paintVertexBuffer&&e.push(n.paintVertexBuffer)}this._buffers=e},ProgramConfiguration.prototype.destroy=function(){for(var t in this.binders)this.binders[t].destroy()};var ProgramConfigurationSet=function(r,t,o,e){void 0===e&&(e=function(){return!0}),this.programConfigurations={};for(var n=0,a=t;n<a.length;n+=1){var s=a[n];this.programConfigurations[s.id]=ProgramConfiguration.createDynamic(s,o,e),this.programConfigurations[s.id].layoutAttributes=r}};ProgramConfigurationSet.prototype.populatePaintArrays=function(r,t){for(var e in this.programConfigurations)this.programConfigurations[e].populatePaintArrays(r,t)},ProgramConfigurationSet.prototype.get=function(r){return this.programConfigurations[r]},ProgramConfigurationSet.prototype.upload=function(r){for(var o in this.programConfigurations)this.programConfigurations[o].upload(r)},ProgramConfigurationSet.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},register("ConstantBinder",ConstantBinder),register("SourceExpressionBinder",SourceExpressionBinder),register("CompositeExpressionBinder",CompositeExpressionBinder),register("ProgramConfiguration",ProgramConfiguration,{omit:["_buffers"]}),register("ProgramConfigurationSet",ProgramConfigurationSet),module.exports={ProgramConfiguration:ProgramConfiguration,ProgramConfigurationSet:ProgramConfigurationSet}},{"../shaders/encode_attribute":96,"../style-spec/util/color":153,"../style/properties":188,"../util/web_worker_transfer":278,"./array_types":39}],59:[function(_dereq_,module,exports){"use strict";var createLayout=_dereq_("../util/struct_array").createLayout;module.exports=createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}])},{"../util/struct_array":271}],60:[function(_dereq_,module,exports){"use strict";var warnOnce=_dereq_("../util/util").warnOnce,register=_dereq_("../util/web_worker_transfer").register,MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,SegmentVector=function(e){void 0===e&&(e=[]),this.segments=e};SegmentVector.prototype.prepareSegment=function(e,t,r){var n=this.segments[this.segments.length-1];return e>MAX_VERTEX_ARRAY_LENGTH&&warnOnce("Max vertices per segment is "+MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!n||n.vertexLength+e>module.exports.MAX_VERTEX_ARRAY_LENGTH)&&(n={vertexOffset:t.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},this.segments.push(n)),n},SegmentVector.prototype.get=function(){return this.segments},SegmentVector.prototype.destroy=function(){for(var t=0,r=this.segments;t<r.length;t+=1){var n=r[t];for(var s in n.vaos)n.vaos[s].destroy()}},register("SegmentVector",SegmentVector),module.exports={SegmentVector:SegmentVector,MAX_VERTEX_ARRAY_LENGTH:MAX_VERTEX_ARRAY_LENGTH}},{"../util/util":275,"../util/web_worker_transfer":278}],61:[function(_dereq_,module,exports){"use strict";var Coordinate=function(o,t,n){this.column=o,this.row=t,this.zoom=n};Coordinate.prototype.clone=function(){return new Coordinate(this.column,this.row,this.zoom)},Coordinate.prototype.zoomTo=function(o){return this.clone()._zoomTo(o)},Coordinate.prototype.sub=function(o){return this.clone()._sub(o)},Coordinate.prototype._zoomTo=function(o){var t=Math.pow(2,o-this.zoom);return this.column*=t,this.row*=t,this.zoom=o,this},Coordinate.prototype._sub=function(o){return o=o.zoomTo(this.zoom),this.column-=o.column,this.row-=o.row,this},module.exports=Coordinate},{}],62:[function(_dereq_,module,exports){"use strict";var wrap=_dereq_("../util/util").wrap,LngLat=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid LngLat object: ("+t+", "+n+")");if(this.lng=+t,this.lat=+n,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};LngLat.prototype.wrap=function(){return new LngLat(wrap(this.lng,-180,180),this.lat)},LngLat.prototype.toArray=function(){return[this.lng,this.lat]},LngLat.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},LngLat.prototype.toBounds=function(t){var n=360*t/40075017,r=n/Math.cos(Math.PI/180*this.lat);return new(_dereq_("./lng_lat_bounds"))(new LngLat(this.lng-r,this.lat-n),new LngLat(this.lng+r,this.lat+n))},LngLat.convert=function(t){if(t instanceof LngLat)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new LngLat(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new LngLat(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},module.exports=LngLat},{"../util/util":275,"./lng_lat_bounds":63}],63:[function(_dereq_,module,exports){"use strict";var LngLat=_dereq_("./lng_lat"),LngLatBounds=function(t,n){t&&(n?this.setSouthWest(t).setNorthEast(n):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};LngLatBounds.prototype.setNorthEast=function(t){return this._ne=t instanceof LngLat?new LngLat(t.lng,t.lat):LngLat.convert(t),this},LngLatBounds.prototype.setSouthWest=function(t){return this._sw=t instanceof LngLat?new LngLat(t.lng,t.lat):LngLat.convert(t),this},LngLatBounds.prototype.extend=function(t){var n,e,s=this._sw,o=this._ne;if(t instanceof LngLat)n=t,e=t;else{if(!(t instanceof LngLatBounds))return Array.isArray(t)?t.every(Array.isArray)?this.extend(LngLatBounds.convert(t)):this.extend(LngLat.convert(t)):this;if(n=t._sw,e=t._ne,!n||!e)return this}return s||o?(s.lng=Math.min(n.lng,s.lng),s.lat=Math.min(n.lat,s.lat),o.lng=Math.max(e.lng,o.lng),o.lat=Math.max(e.lat,o.lat)):(this._sw=new LngLat(n.lng,n.lat),this._ne=new LngLat(e.lng,e.lat)),this},LngLatBounds.prototype.getCenter=function(){return new LngLat((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},LngLatBounds.prototype.getSouthWest=function(){return this._sw},LngLatBounds.prototype.getNorthEast=function(){return this._ne},LngLatBounds.prototype.getNorthWest=function(){return new LngLat(this.getWest(),this.getNorth())},LngLatBounds.prototype.getSouthEast=function(){return new LngLat(this.getEast(),this.getSouth())},LngLatBounds.prototype.getWest=function(){return this._sw.lng},LngLatBounds.prototype.getSouth=function(){return this._sw.lat},LngLatBounds.prototype.getEast=function(){return this._ne.lng},LngLatBounds.prototype.getNorth=function(){return this._ne.lat},LngLatBounds.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},LngLatBounds.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},LngLatBounds.prototype.isEmpty=function(){return!(this._sw&&this._ne)},LngLatBounds.convert=function(t){return!t||t instanceof LngLatBounds?t:new LngLatBounds(t)},module.exports=LngLatBounds},{"./lng_lat":62}],64:[function(_dereq_,module,exports){"use strict";var LngLat=_dereq_("./lng_lat"),Point=_dereq_("@mapbox/point-geometry"),Coordinate=_dereq_("./coordinate"),util=_dereq_("../util/util"),interp=_dereq_("../style-spec/util/interpolate").number,tileCover=_dereq_("../util/tile_cover"),ref=_dereq_("../source/tile_id"),UnwrappedTileID=(ref.CanonicalTileID,ref.UnwrappedTileID),EXTENT=_dereq_("../data/extent"),glmatrix=_dereq_("@mapbox/gl-matrix"),vec4=glmatrix.vec4,mat4=glmatrix.mat4,mat2=glmatrix.mat2,Transform=function(t,i,o){this.tileSize=512,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=i||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},prototypeAccessors={minZoom:{},maxZoom:{},renderWorldCopies:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},fov:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};Transform.prototype.clone=function(){var t=new Transform(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},prototypeAccessors.minZoom.get=function(){return this._minZoom},prototypeAccessors.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},prototypeAccessors.maxZoom.get=function(){return this._maxZoom},prototypeAccessors.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},prototypeAccessors.renderWorldCopies.get=function(){return this._renderWorldCopies},prototypeAccessors.worldSize.get=function(){return this.tileSize*this.scale},prototypeAccessors.centerPoint.get=function(){return this.size._div(2)},prototypeAccessors.size.get=function(){return new Point(this.width,this.height)},prototypeAccessors.bearing.get=function(){return-this.angle/Math.PI*180},prototypeAccessors.bearing.set=function(t){var i=-util.wrap(t,-180,180)*Math.PI/180;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=mat2.create(),mat2.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},prototypeAccessors.pitch.get=function(){return this._pitch/Math.PI*180},prototypeAccessors.pitch.set=function(t){var i=util.clamp(t,0,60)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())},prototypeAccessors.fov.get=function(){return this._fov/Math.PI*180},prototypeAccessors.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},prototypeAccessors.zoom.get=function(){return this._zoom},prototypeAccessors.zoom.set=function(t){var i=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==i&&(this._unmodified=!1,this._zoom=i,this.scale=this.zoomScale(i),this.tileZoom=Math.floor(i),this.zoomFraction=i-this.tileZoom,this._constrain(),this._calcMatrices())},prototypeAccessors.center.get=function(){return this._center},prototypeAccessors.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},Transform.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},Transform.prototype.getVisibleUnwrappedCoordinates=function(t){var i=this.pointCoordinate(new Point(0,0),0),o=this.pointCoordinate(new Point(this.width,0),0),e=Math.floor(i.column),r=Math.floor(o.column),n=[new UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var s=e;s<=r;s++)0!==s&&n.push(new UnwrappedTileID(s,t));return n},Transform.prototype.coveringTiles=function(t){var i=this.coveringZoomLevel(t),o=i;if(void 0!==t.minzoom&&i<t.minzoom)return[];void 0!==t.maxzoom&&i>t.maxzoom&&(i=t.maxzoom);var e=this.pointCoordinate(this.centerPoint,i),r=new Point(e.column-.5,e.row-.5),n=[this.pointCoordinate(new Point(0,0),i),this.pointCoordinate(new Point(this.width,0),i),this.pointCoordinate(new Point(this.width,this.height),i),this.pointCoordinate(new Point(0,this.height),i)];return tileCover(i,n,t.reparseOverscaled?o:i,this._renderWorldCopies).sort(function(t,i){return r.dist(t.canonical)-r.dist(i.canonical)})},Transform.prototype.resize=function(t,i){this.width=t,this.height=i,this.pixelsToGLUnits=[2/t,-2/i],this._constrain(),this._calcMatrices()},prototypeAccessors.unmodified.get=function(){return this._unmodified},Transform.prototype.zoomScale=function(t){return Math.pow(2,t)},Transform.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},Transform.prototype.project=function(t){return new Point(this.lngX(t.lng),this.latY(t.lat))},Transform.prototype.unproject=function(t){return new LngLat(this.xLng(t.x),this.yLat(t.y))},prototypeAccessors.x.get=function(){return this.lngX(this.center.lng)},prototypeAccessors.y.get=function(){return this.latY(this.center.lat)},prototypeAccessors.point.get=function(){return new Point(this.x,this.y)},Transform.prototype.lngX=function(t){return(180+t)*this.worldSize/360},Transform.prototype.latY=function(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*this.worldSize/360},Transform.prototype.xLng=function(t){return 360*t/this.worldSize-180},Transform.prototype.yLat=function(t){var i=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(i*Math.PI/180))-90},Transform.prototype.setLocationAtPoint=function(t,i){var o=this.pointCoordinate(i)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(o)),this._renderWorldCopies&&(this.center=this.center.wrap())},Transform.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},Transform.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},Transform.prototype.locationCoordinate=function(t){return new Coordinate(this.lngX(t.lng)/this.tileSize,this.latY(t.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},Transform.prototype.coordinateLocation=function(t){var i=t.zoomTo(this.zoom);return new LngLat(this.xLng(i.column*this.tileSize),this.yLat(i.row*this.tileSize))},Transform.prototype.pointCoordinate=function(t,i){void 0===i&&(i=this.tileZoom);var o=[t.x,t.y,0,1],e=[t.x,t.y,1,1];vec4.transformMat4(o,o,this.pixelMatrixInverse),vec4.transformMat4(e,e,this.pixelMatrixInverse);var r=o[3],n=e[3],h=o[1]/r,c=e[1]/n,l=o[2]/r,m=e[2]/n,p=l===m?0:(0-l)/(m-l);return new Coordinate(interp(o[0]/r,e[0]/n,p)/this.tileSize,interp(h,c,p)/this.tileSize,this.zoom)._zoomTo(i)},Transform.prototype.coordinatePoint=function(t){var i=t.zoomTo(this.zoom),o=[i.column*this.tileSize,i.row*this.tileSize,0,1];return vec4.transformMat4(o,o,this.pixelMatrix),new Point(o[0]/o[3],o[1]/o[3])},Transform.prototype.calculatePosMatrix=function(t,i){void 0===i&&(i=!1);var o=t.key,e=i?this._alignedPosMatrixCache:this._posMatrixCache;if(e[o])return e[o];var r=t.canonical,n=this.worldSize/this.zoomScale(r.z),s=r.x+Math.pow(2,r.z)*t.wrap,a=mat4.identity(new Float64Array(16));return mat4.translate(a,a,[s*n,r.y*n,0]),mat4.scale(a,a,[n/EXTENT,n/EXTENT,1]),mat4.multiply(a,i?this.alignedProjMatrix:this.projMatrix,a),e[o]=new Float32Array(a),e[o]},Transform.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,i,o,e,r=-90,n=90,s=-180,a=180,h=this.size,c=this._unmodified;if(this.latRange){var l=this.latRange;r=this.latY(l[1]),t=(n=this.latY(l[0]))-r<h.y?h.y/(n-r):0}if(this.lngRange){var m=this.lngRange;s=this.lngX(m[0]),i=(a=this.lngX(m[1]))-s<h.x?h.x/(a-s):0}var p=Math.max(i||0,t||0);if(p)return this.center=this.unproject(new Point(i?(a+s)/2:this.x,t?(n+r)/2:this.y)),this.zoom+=this.scaleZoom(p),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var u=this.y,f=h.y/2;u-f<r&&(e=r+f),u+f>n&&(e=n-f)}if(this.lngRange){var d=this.x,g=h.x/2;d-g<s&&(o=s+g),d+g>a&&(o=a-g)}void 0===o&&void 0===e||(this.center=this.unproject(new Point(void 0!==o?o:this.x,void 0!==e?e:this.y))),this._unmodified=c,this._constraining=!1}},Transform.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,i=Math.PI/2+this._pitch,o=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-i-t),e=this.x,r=this.y,s=1.01*(Math.cos(Math.PI/2-this._pitch)*o+this.cameraToCenterDistance),a=new Float64Array(16);mat4.perspective(a,this._fov,this.width/this.height,1,s),mat4.scale(a,a,[1,-1,1]),mat4.translate(a,a,[0,0,-this.cameraToCenterDistance]),mat4.rotateX(a,a,this._pitch),mat4.rotateZ(a,a,this.angle),mat4.translate(a,a,[-e,-r,0]);var h=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));mat4.scale(a,a,[1,1,h,1]),this.projMatrix=a;var c=this.width%2/2,l=this.height%2/2,m=Math.cos(this.angle),p=Math.sin(this.angle),u=e-Math.round(e)+m*c+p*l,f=r-Math.round(r)+m*l+p*c,d=new Float64Array(a);if(mat4.translate(d,d,[u>.5?u-1:u,f>.5?f-1:f,0]),this.alignedProjMatrix=d,a=mat4.create(),mat4.scale(a,a,[this.width/2,-this.height/2,1]),mat4.translate(a,a,[1,-1,0]),this.pixelMatrix=mat4.multiply(new Float64Array(16),a,this.projMatrix),!(a=mat4.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=a,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Object.defineProperties(Transform.prototype,prototypeAccessors),module.exports=Transform},{"../data/extent":53,"../source/tile_id":114,"../style-spec/util/interpolate":158,"../util/tile_cover":273,"../util/util":275,"./coordinate":61,"./lng_lat":62,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],65:[function(_dereq_,module,exports){"use strict";var Color=_dereq_("../style-spec/util/color"),ColorMode=function(o,e,l){this.blendFunction=o,this.blendColor=e,this.mask=l};ColorMode.disabled=new ColorMode(ColorMode.Replace=[1,0],Color.transparent,[!1,!1,!1,!1]),ColorMode.unblended=new ColorMode(ColorMode.Replace,Color.transparent,[!0,!0,!0,!0]),ColorMode.alphaBlended=new ColorMode([1,771],Color.transparent,[!0,!0,!0,!0]),module.exports=ColorMode},{"../style-spec/util/color":153}],66:[function(_dereq_,module,exports){"use strict";var IndexBuffer=_dereq_("./index_buffer"),VertexBuffer=_dereq_("./vertex_buffer"),Framebuffer=_dereq_("./framebuffer"),ColorMode=(_dereq_("./depth_mode"),_dereq_("./stencil_mode"),_dereq_("./color_mode")),util=_dereq_("../util/util"),ref=_dereq_("./value"),ClearColor=ref.ClearColor,ClearDepth=ref.ClearDepth,ClearStencil=ref.ClearStencil,ColorMask=ref.ColorMask,DepthMask=ref.DepthMask,StencilMask=ref.StencilMask,StencilFunc=ref.StencilFunc,StencilOp=ref.StencilOp,StencilTest=ref.StencilTest,DepthRange=ref.DepthRange,DepthTest=ref.DepthTest,DepthFunc=ref.DepthFunc,Blend=ref.Blend,BlendFunc=ref.BlendFunc,BlendColor=ref.BlendColor,Program=ref.Program,LineWidth=ref.LineWidth,ActiveTextureUnit=ref.ActiveTextureUnit,Viewport=ref.Viewport,BindFramebuffer=ref.BindFramebuffer,BindRenderbuffer=ref.BindRenderbuffer,BindTexture=ref.BindTexture,BindVertexBuffer=ref.BindVertexBuffer,BindElementBuffer=ref.BindElementBuffer,BindVertexArrayOES=ref.BindVertexArrayOES,PixelStoreUnpack=ref.PixelStoreUnpack,PixelStoreUnpackPremultiplyAlpha=ref.PixelStoreUnpackPremultiplyAlpha,Context=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.lineWidthRange=e.getParameter(e.ALIASED_LINE_WIDTH_RANGE),this.clearColor=new ClearColor(this),this.clearDepth=new ClearDepth(this),this.clearStencil=new ClearStencil(this),this.colorMask=new ColorMask(this),this.depthMask=new DepthMask(this),this.stencilMask=new StencilMask(this),this.stencilFunc=new StencilFunc(this),this.stencilOp=new StencilOp(this),this.stencilTest=new StencilTest(this),this.depthRange=new DepthRange(this),this.depthTest=new DepthTest(this),this.depthFunc=new DepthFunc(this),this.blend=new Blend(this),this.blendFunc=new BlendFunc(this),this.blendColor=new BlendColor(this),this.program=new Program(this),this.lineWidth=new LineWidth(this),this.activeTexture=new ActiveTextureUnit(this),this.viewport=new Viewport(this),this.bindFramebuffer=new BindFramebuffer(this),this.bindRenderbuffer=new BindRenderbuffer(this),this.bindTexture=new BindTexture(this),this.bindVertexBuffer=new BindVertexBuffer(this),this.bindElementBuffer=new BindElementBuffer(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new BindVertexArrayOES(this),this.pixelStoreUnpack=new PixelStoreUnpack(this),this.pixelStoreUnpackPremultiplyAlpha=new PixelStoreUnpackPremultiplyAlpha(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&e.getExtension("OES_texture_half_float_linear")};Context.prototype.createIndexBuffer=function(e,t){return new IndexBuffer(this,e,t)},Context.prototype.createVertexBuffer=function(e,t,r){return new VertexBuffer(this,e,t,r)},Context.prototype.createRenderbuffer=function(e,t,r){var i=this.gl,n=i.createRenderbuffer();return this.bindRenderbuffer.set(n),i.renderbufferStorage(i.RENDERBUFFER,e,t,r),this.bindRenderbuffer.set(null),n},Context.prototype.createFramebuffer=function(e,t){return new Framebuffer(this,e,t)},Context.prototype.clear=function(e){var t=e.color,r=e.depth,i=this.gl,n=0;t&&(n|=i.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==r&&(n|=i.DEPTH_BUFFER_BIT,this.clearDepth.set(r),this.depthMask.set(!0)),i.clear(n)},Context.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Context.prototype.setStencilMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Context.prototype.setColorMode=function(e){util.deepEqual(e.blendFunction,ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},module.exports=Context},{"../util/util":275,"./color_mode":65,"./depth_mode":67,"./framebuffer":68,"./index_buffer":69,"./stencil_mode":70,"./value":71,"./vertex_buffer":72}],67:[function(_dereq_,module,exports){"use strict";var DepthMode=function(e,t,d){this.func=e,this.mask=t,this.range=d};DepthMode.ReadOnly=!1,DepthMode.ReadWrite=!0,DepthMode.disabled=new DepthMode(519,DepthMode.ReadOnly,[0,1]),module.exports=DepthMode},{}],68:[function(_dereq_,module,exports){"use strict";var ref=_dereq_("./value"),ColorAttachment=ref.ColorAttachment,DepthAttachment=ref.DepthAttachment,Framebuffer=function(t,e,r){this.context=t,this.width=e,this.height=r;var h=t.gl,a=this.framebuffer=h.createFramebuffer();this.colorAttachment=new ColorAttachment(t,a),this.depthAttachment=new DepthAttachment(t,a)};Framebuffer.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var r=this.depthAttachment.get();r&&t.deleteRenderbuffer(r),t.deleteFramebuffer(this.framebuffer)},module.exports=Framebuffer},{"./value":71}],69:[function(_dereq_,module,exports){"use strict";var IndexBuffer=function(e,t,r){this.context=e;var f=e.gl;this.buffer=f.createBuffer(),this.dynamicDraw=Boolean(r),this.unbindVAO(),e.bindElementBuffer.set(this.buffer),f.bufferData(f.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?f.DYNAMIC_DRAW:f.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};IndexBuffer.prototype.unbindVAO=function(){this.context.extVertexArrayObject&&this.context.bindVertexArrayOES.set(null)},IndexBuffer.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},IndexBuffer.prototype.updateData=function(e){var t=this.context.gl;this.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},IndexBuffer.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)},module.exports=IndexBuffer},{}],70:[function(_dereq_,module,exports){"use strict";var StencilMode=function(t,e,i,s,d,l){this.test=t,this.ref=e,this.mask=i,this.fail=s,this.depthFail=d,this.pass=l};StencilMode.disabled=new StencilMode({func:519,mask:0},0,0,7680,7680,7680),module.exports=StencilMode},{}],71:[function(_dereq_,module,exports){"use strict";var Color=_dereq_("../style-spec/util/color"),util=_dereq_("../util/util"),ClearColor=function(t){this.context=t,this.current=Color.transparent};ClearColor.prototype.get=function(){return this.current},ClearColor.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t)};var ClearDepth=function(t){this.context=t,this.current=1};ClearDepth.prototype.get=function(){return this.current},ClearDepth.prototype.set=function(t){this.current!==t&&(this.context.gl.clearDepth(t),this.current=t)};var ClearStencil=function(t){this.context=t,this.current=0};ClearStencil.prototype.get=function(){return this.current},ClearStencil.prototype.set=function(t){this.current!==t&&(this.context.gl.clearStencil(t),this.current=t)};var ColorMask=function(t){this.context=t,this.current=[!0,!0,!0,!0]};ColorMask.prototype.get=function(){return this.current},ColorMask.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t)};var DepthMask=function(t){this.context=t,this.current=!0};DepthMask.prototype.get=function(){return this.current},DepthMask.prototype.set=function(t){this.current!==t&&(this.context.gl.depthMask(t),this.current=t)};var StencilMask=function(t){this.context=t,this.current=255};StencilMask.prototype.get=function(){return this.current},StencilMask.prototype.set=function(t){this.current!==t&&(this.context.gl.stencilMask(t),this.current=t)};var StencilFunc=function(t){this.context=t,this.current={func:t.gl.ALWAYS,ref:0,mask:255}};StencilFunc.prototype.get=function(){return this.current},StencilFunc.prototype.set=function(t){var e=this.current;t.func===e.func&&t.ref===e.ref&&t.mask===e.mask||(this.context.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t)};var StencilOp=function(t){this.context=t;var e=this.context.gl;this.current=[e.KEEP,e.KEEP,e.KEEP]};StencilOp.prototype.get=function(){return this.current},StencilOp.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this.context.gl.stencilOp(t[0],t[1],t[2]),this.current=t)};var StencilTest=function(t){this.context=t,this.current=!1};StencilTest.prototype.get=function(){return this.current},StencilTest.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t}};var DepthRange=function(t){this.context=t,this.current=[0,1]};DepthRange.prototype.get=function(){return this.current},DepthRange.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.depthRange(t[0],t[1]),this.current=t)};var DepthTest=function(t){this.context=t,this.current=!1};DepthTest.prototype.get=function(){return this.current},DepthTest.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t}};var DepthFunc=function(t){this.context=t,this.current=t.gl.LESS};DepthFunc.prototype.get=function(){return this.current},DepthFunc.prototype.set=function(t){this.current!==t&&(this.context.gl.depthFunc(t),this.current=t)};var Blend=function(t){this.context=t,this.current=!1};Blend.prototype.get=function(){return this.current},Blend.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t}};var BlendFunc=function(t){this.context=t;var e=this.context.gl;this.current=[e.ONE,e.ZERO]};BlendFunc.prototype.get=function(){return this.current},BlendFunc.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.blendFunc(t[0],t[1]),this.current=t)};var BlendColor=function(t){this.context=t,this.current=Color.transparent};BlendColor.prototype.get=function(){return this.current},BlendColor.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t)};var Program=function(t){this.context=t,this.current=null};Program.prototype.get=function(){return this.current},Program.prototype.set=function(t){this.current!==t&&(this.context.gl.useProgram(t),this.current=t)};var LineWidth=function(t){this.context=t,this.current=1};LineWidth.prototype.get=function(){return this.current},LineWidth.prototype.set=function(t){var e=this.context.lineWidthRange,r=util.clamp(t,e[0],e[1]);this.current!==r&&(this.context.gl.lineWidth(r),this.current=t)};var ActiveTextureUnit=function(t){this.context=t,this.current=t.gl.TEXTURE0};ActiveTextureUnit.prototype.get=function(){return this.current},ActiveTextureUnit.prototype.set=function(t){this.current!==t&&(this.context.gl.activeTexture(t),this.current=t)};var Viewport=function(t){this.context=t;var e=this.context.gl;this.current=[0,0,e.drawingBufferWidth,e.drawingBufferHeight]};Viewport.prototype.get=function(){return this.current},Viewport.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t)};var BindFramebuffer=function(t){this.context=t,this.current=null};BindFramebuffer.prototype.get=function(){return this.current},BindFramebuffer.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t}};var BindRenderbuffer=function(t){this.context=t,this.current=null};BindRenderbuffer.prototype.get=function(){return this.current},BindRenderbuffer.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t}};var BindTexture=function(t){this.context=t,this.current=null};BindTexture.prototype.get=function(){return this.current},BindTexture.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t}};var BindVertexBuffer=function(t){this.context=t,this.current=null};BindVertexBuffer.prototype.get=function(){return this.current},BindVertexBuffer.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t}};var BindElementBuffer=function(t){this.context=t,this.current=null};BindElementBuffer.prototype.get=function(){return this.current},BindElementBuffer.prototype.set=function(t){var e=this.context.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t};var BindVertexArrayOES=function(t){this.context=t,this.current=null};BindVertexArrayOES.prototype.get=function(){return this.current},BindVertexArrayOES.prototype.set=function(t){this.current!==t&&this.context.extVertexArrayObject&&(this.context.extVertexArrayObject.bindVertexArrayOES(t),this.current=t)};var PixelStoreUnpack=function(t){this.context=t,this.current=4};PixelStoreUnpack.prototype.get=function(){return this.current},PixelStoreUnpack.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t}};var PixelStoreUnpackPremultiplyAlpha=function(t){this.context=t,this.current=!1};PixelStoreUnpackPremultiplyAlpha.prototype.get=function(){return this.current},PixelStoreUnpackPremultiplyAlpha.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t}};var FramebufferValue=function(t,e){this.context=t,this.current=null,this.parent=e};FramebufferValue.prototype.get=function(){return this.current};var ColorAttachment=function(t){function e(e,r){t.call(this,e,r),this.dirty=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.dirty||this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e.prototype.setDirty=function(){this.dirty=!0},e}(FramebufferValue),DepthAttachment=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t}},e}(FramebufferValue);module.exports={ClearColor:ClearColor,ClearDepth:ClearDepth,ClearStencil:ClearStencil,ColorMask:ColorMask,DepthMask:DepthMask,StencilMask:StencilMask,StencilFunc:StencilFunc,StencilOp:StencilOp,StencilTest:StencilTest,DepthRange:DepthRange,DepthTest:DepthTest,DepthFunc:DepthFunc,Blend:Blend,BlendFunc:BlendFunc,BlendColor:BlendColor,Program:Program,LineWidth:LineWidth,ActiveTextureUnit:ActiveTextureUnit,Viewport:Viewport,BindFramebuffer:BindFramebuffer,BindRenderbuffer:BindRenderbuffer,BindTexture:BindTexture,BindVertexBuffer:BindVertexBuffer,BindElementBuffer:BindElementBuffer,BindVertexArrayOES:BindVertexArrayOES,PixelStoreUnpack:PixelStoreUnpack,PixelStoreUnpackPremultiplyAlpha:PixelStoreUnpackPremultiplyAlpha,ColorAttachment:ColorAttachment,DepthAttachment:DepthAttachment}},{"../style-spec/util/color":153,"../util/util":275}],72:[function(_dereq_,module,exports){"use strict";var AttributeType={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},VertexBuffer=function(t,e,r,i){this.length=e.length,this.attributes=r,this.itemSize=e.bytesPerElement,this.dynamicDraw=i,this.context=t;var f=t.gl;this.buffer=f.createBuffer(),t.bindVertexBuffer.set(this.buffer),f.bufferData(f.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?f.DYNAMIC_DRAW:f.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};VertexBuffer.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},VertexBuffer.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},VertexBuffer.prototype.enableAttributes=function(t,e){for(var i=0;i<this.attributes.length;i++){var f=this.attributes[i],n=e.attributes[f.name];void 0!==n&&t.enableVertexAttribArray(n)}},VertexBuffer.prototype.setVertexAttribPointers=function(t,e,r){for(var i=this,f=0;f<this.attributes.length;f++){var n=i.attributes[f],u=e.attributes[n.name];void 0!==u&&t.vertexAttribPointer(u,n.components,t[AttributeType[n.type]],!1,i.itemSize,n.offset+i.itemSize*(r||0))}},VertexBuffer.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)},module.exports=VertexBuffer},{}],73:[function(_dereq_,module,exports){"use strict";var supported=_dereq_("@mapbox/mapbox-gl-supported"),browser=_dereq_("./util/browser"),version=_dereq_("../package.json").version,Map=_dereq_("./ui/map"),NavigationControl=_dereq_("./ui/control/navigation_control"),GeolocateControl=_dereq_("./ui/control/geolocate_control"),AttributionControl=_dereq_("./ui/control/attribution_control"),ScaleControl=_dereq_("./ui/control/scale_control"),FullscreenControl=_dereq_("./ui/control/fullscreen_control"),Popup=_dereq_("./ui/popup"),Marker=_dereq_("./ui/marker"),Style=_dereq_("./style/style"),LngLat=_dereq_("./geo/lng_lat"),LngLatBounds=_dereq_("./geo/lng_lat_bounds"),Point=_dereq_("@mapbox/point-geometry"),Evented=_dereq_("./util/evented"),config=_dereq_("./util/config"),rtlTextPlugin=_dereq_("./source/rtl_text_plugin");module.exports={version:version,supported:supported,workerCount:Math.max(Math.floor(browser.hardwareConcurrency/2),1),setRTLTextPlugin:rtlTextPlugin.setRTLTextPlugin,Map:Map,NavigationControl:NavigationControl,GeolocateControl:GeolocateControl,AttributionControl:AttributionControl,ScaleControl:ScaleControl,FullscreenControl:FullscreenControl,Popup:Popup,Marker:Marker,Style:Style,LngLat:LngLat,LngLatBounds:LngLatBounds,Point:Point,Evented:Evented,config:config,get accessToken(){return config.ACCESS_TOKEN},set accessToken(o){config.ACCESS_TOKEN=o}}},{"../package.json":38,"./geo/lng_lat":62,"./geo/lng_lat_bounds":63,"./source/rtl_text_plugin":109,"./style/style":190,"./ui/control/attribution_control":232,"./ui/control/fullscreen_control":233,"./ui/control/geolocate_control":234,"./ui/control/navigation_control":236,"./ui/control/scale_control":237,"./ui/map":247,"./ui/marker":248,"./ui/popup":249,"./util/browser":252,"./util/config":256,"./util/evented":260,"@mapbox/mapbox-gl-supported":3,"@mapbox/point-geometry":4}],74:[function(_dereq_,module,exports){"use strict";var pattern=_dereq_("./pattern"),StencilMode=_dereq_("../gl/stencil_mode"),DepthMode=_dereq_("../gl/depth_mode");module.exports=function drawBackground(e,t,r){var a=r.paint.get("background-color"),n=r.paint.get("background-opacity");if(0!==n){var o=e.context,i=o.gl,d=e.transform,u=d.tileSize,l=r.paint.get("background-pattern"),s=l||1!==a.a||1!==n?"translucent":"opaque";if(e.renderPass===s){var p;if(o.setStencilMode(StencilMode.disabled),o.setDepthMode(e.depthModeForSublayer(0,"opaque"===s?DepthMode.ReadWrite:DepthMode.ReadOnly)),o.setColorMode(e.colorModeForRenderPass()),l){if(pattern.isPatternMissing(l,e))return;p=e.useProgram("backgroundPattern"),pattern.prepare(l,e,p),e.tileExtentPatternVAO.bind(o,p,e.tileExtentBuffer,[])}else p=e.useProgram("background"),i.uniform4fv(p.uniforms.u_color,[a.r,a.g,a.b,a.a]),e.tileExtentVAO.bind(o,p,e.tileExtentBuffer,[]);i.uniform1f(p.uniforms.u_opacity,n);for(var f=0,g=d.coveringTiles({tileSize:u});f<g.length;f+=1){var m=g[f];l&&pattern.setTile({tileID:m,tileSize:u},e,p),i.uniformMatrix4fv(p.uniforms.u_matrix,!1,e.transform.calculatePosMatrix(m.toUnwrapped())),i.drawArrays(i.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}}}}},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"./pattern":91}],75:[function(_dereq_,module,exports){"use strict";var pixelsToTileUnits=_dereq_("../source/pixels_to_tile_units"),StencilMode=_dereq_("../gl/stencil_mode"),DepthMode=_dereq_("../gl/depth_mode");module.exports=function drawCircles(e,t,r,i){if("translucent"===e.renderPass){var o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),n=r.paint.get("circle-stroke-opacity");if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==n.constantOr(1)){var s=e.context,c=s.gl;s.setDepthMode(e.depthModeForSublayer(0,DepthMode.ReadOnly)),s.setStencilMode(StencilMode.disabled),s.setColorMode(e.colorModeForRenderPass());for(var l=!0,m=0;m<i.length;m++){var u=i[m],f=t.getTile(u),p=f.getBucket(r);if(p){var d=e.context.program.get(),_=p.programConfigurations.get(r.id),g=e.useProgram("circle",_);if((l||g.program!==d)&&(_.setUniforms(s,g,r.paint,{zoom:e.transform.zoom}),l=!1),c.uniform1f(g.uniforms.u_camera_to_center_distance,e.transform.cameraToCenterDistance),c.uniform1i(g.uniforms.u_scale_with_map,"map"===r.paint.get("circle-pitch-scale")?1:0),"map"===r.paint.get("circle-pitch-alignment")){c.uniform1i(g.uniforms.u_pitch_with_map,1);var h=pixelsToTileUnits(f,1,e.transform.zoom);c.uniform2f(g.uniforms.u_extrude_scale,h,h)}else c.uniform1i(g.uniforms.u_pitch_with_map,0),c.uniform2fv(g.uniforms.u_extrude_scale,e.transform.pixelsToGLUnits);c.uniformMatrix4fv(g.uniforms.u_matrix,!1,e.translatePosMatrix(u.posMatrix,f,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor"))),g.draw(s,c.TRIANGLES,r.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,_)}}}}}},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104}],76:[function(_dereq_,module,exports){"use strict";function drawCollisionDebugGeometry(e,o,i,r,t){var l=e.context,s=l.gl,n=t?e.useProgram("collisionCircle"):e.useProgram("collisionBox");l.setDepthMode(DepthMode.disabled),l.setStencilMode(StencilMode.disabled),l.setColorMode(e.colorModeForRenderPass());for(var u=0;u<r.length;u++){var a=r[u],d=o.getTile(a),f=d.getBucket(i);if(f){var m=t?f.collisionCircle:f.collisionBox;if(m){s.uniformMatrix4fv(n.uniforms.u_matrix,!1,a.posMatrix),t||l.lineWidth.set(1),s.uniform1f(n.uniforms.u_camera_to_center_distance,e.transform.cameraToCenterDistance);var c=pixelsToTileUnits(d,1,e.transform.zoom),x=Math.pow(2,e.transform.zoom-d.tileID.overscaledZ);s.uniform1f(n.uniforms.u_pixels_to_tile_units,c),s.uniform2f(n.uniforms.u_extrude_scale,e.transform.pixelsToGLUnits[0]/(c*x),e.transform.pixelsToGLUnits[1]/(c*x)),n.draw(l,t?s.TRIANGLES:s.LINES,i.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,null,m.collisionVertexBuffer,null)}}}}var pixelsToTileUnits=_dereq_("../source/pixels_to_tile_units"),DepthMode=_dereq_("../gl/depth_mode"),StencilMode=_dereq_("../gl/stencil_mode");module.exports=function drawCollisionDebug(e,o,i,r){drawCollisionDebugGeometry(e,o,i,r,!1),drawCollisionDebugGeometry(e,o,i,r,!0)}},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104}],77:[function(_dereq_,module,exports){"use strict";function drawDebugTile(e,r,t){var o=e.context,a=o.gl;o.lineWidth.set(1*browser.devicePixelRatio);var i=t.posMatrix,u=e.useProgram("debug");o.setDepthMode(DepthMode.disabled),o.setStencilMode(StencilMode.disabled),o.setColorMode(e.colorModeForRenderPass()),a.uniformMatrix4fv(u.uniforms.u_matrix,!1,i),a.uniform4f(u.uniforms.u_color,1,0,0,1),e.debugVAO.bind(o,u,e.debugBuffer,[]),a.drawArrays(a.LINE_STRIP,0,e.debugBuffer.length);for(var n=function createTextVerticies(e,r,t,o){o=o||1;var a,i,u,n,s,l,d,f,m=[];for(a=0,i=e.length;a<i;a++)if(s=simplexFont[e[a]]){for(f=null,u=0,n=s[1].length;u<n;u+=2)-1===s[1][u]&&-1===s[1][u+1]?f=null:(l=r+s[1][u]*o,d=t-s[1][u+1]*o,f&&m.push(f.x,f.y,l,d),f={x:l,y:d});r+=s[0]*o}return m}(t.toString(),50,200,5),s=new PosArray,l=0;l<n.length;l+=2)s.emplaceBack(n[l],n[l+1]);var d=o.createVertexBuffer(s,posAttributes.members);(new VertexArrayObject).bind(o,u,d,[]),a.uniform4f(u.uniforms.u_color,1,1,1,1);for(var f=r.getTile(t).tileSize,m=EXTENT/(Math.pow(2,e.transform.zoom-t.overscaledZ)*f),c=[[-1,-1],[-1,1],[1,-1],[1,1]],b=0;b<c.length;b++){var g=c[b];a.uniformMatrix4fv(u.uniforms.u_matrix,!1,mat4.translate([],i,[m*g[0],m*g[1],0])),a.drawArrays(a.LINES,0,d.length)}a.uniform4f(u.uniforms.u_color,0,0,0,1),a.uniformMatrix4fv(u.uniforms.u_matrix,!1,i),a.drawArrays(a.LINES,0,d.length)}var browser=_dereq_("../util/browser"),mat4=_dereq_("@mapbox/gl-matrix").mat4,EXTENT=_dereq_("../data/extent"),VertexArrayObject=_dereq_("./vertex_array_object"),PosArray=_dereq_("../data/array_types").PosArray,posAttributes=_dereq_("../data/pos_attributes"),DepthMode=_dereq_("../gl/depth_mode"),StencilMode=_dereq_("../gl/stencil_mode");module.exports=function drawDebug(e,r,t){for(var o=0;o<t.length;o++)drawDebugTile(e,r,t[o])};var simplexFont={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]}},{"../data/array_types":39,"../data/extent":53,"../data/pos_attributes":57,"../gl/depth_mode":67,"../gl/stencil_mode":70,"../util/browser":252,"./vertex_array_object":95,"@mapbox/gl-matrix":2}],78:[function(_dereq_,module,exports){"use strict";function drawFillTiles(t,e,r,o,a){if(!pattern.isPatternMissing(r.paint.get("fill-pattern"),t))for(var i=!0,n=0,l=o;n<l.length;n+=1){var s=l[n],p=e.getTile(s),d=p.getBucket(r);d&&(t.context.setStencilMode(t.stencilModeForClipping(s)),a(t,e,r,p,s,d,i),i=!1)}}function drawFillTile(t,e,r,o,a,i,n){var l=t.context.gl,s=i.programConfigurations.get(r.id);setFillProgram("fill",r.paint.get("fill-pattern"),t,s,r,o,a,n).draw(t.context,l.TRIANGLES,r.id,i.layoutVertexBuffer,i.indexBuffer,i.segments,s)}function drawStrokeTile(t,e,r,o,a,i,n){var l=t.context.gl,s=i.programConfigurations.get(r.id),d=setFillProgram("fillOutline",r.getPaintProperty("fill-outline-color")?null:r.paint.get("fill-pattern"),t,s,r,o,a,n);l.uniform2f(d.uniforms.u_world,l.drawingBufferWidth,l.drawingBufferHeight),d.draw(t.context,l.LINES,r.id,i.layoutVertexBuffer,i.indexBuffer2,i.segments2,s)}function setFillProgram(t,e,r,o,a,i,n,l){var s,p=r.context.program.get();return e?(s=r.useProgram(t+"Pattern",o),(l||s.program!==p)&&(o.setUniforms(r.context,s,a.paint,{zoom:r.transform.zoom}),pattern.prepare(e,r,s)),pattern.setTile(i,r,s)):(s=r.useProgram(t,o),(l||s.program!==p)&&o.setUniforms(r.context,s,a.paint,{zoom:r.transform.zoom})),r.context.gl.uniformMatrix4fv(s.uniforms.u_matrix,!1,r.translatePosMatrix(n.posMatrix,i,a.paint.get("fill-translate"),a.paint.get("fill-translate-anchor"))),s}var pattern=_dereq_("./pattern"),Color=_dereq_("../style-spec/util/color"),DepthMode=_dereq_("../gl/depth_mode");module.exports=function drawFill(t,e,r,o){var a=r.paint.get("fill-color"),i=r.paint.get("fill-opacity");if(0!==i.constantOr(1)){var n=t.context;n.setColorMode(t.colorModeForRenderPass());var l=r.paint.get("fill-pattern")||1!==a.constantOr(Color.transparent).a||1!==i.constantOr(0)?"translucent":"opaque";t.renderPass===l&&(n.setDepthMode(t.depthModeForSublayer(1,"opaque"===t.renderPass?DepthMode.ReadWrite:DepthMode.ReadOnly)),drawFillTiles(t,e,r,o,drawFillTile)),"translucent"===t.renderPass&&r.paint.get("fill-antialias")&&(n.lineWidth.set(2),n.setDepthMode(t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,DepthMode.ReadOnly)),drawFillTiles(t,e,r,o,drawStrokeTile))}}},{"../gl/depth_mode":67,"../style-spec/util/color":153,"./pattern":91}],79:[function(_dereq_,module,exports){"use strict";function drawExtrusion(e,t,r,i,o,a,n){var s=e.context,u=s.gl,f=r.paint.get("fill-extrusion-pattern"),l=e.context.program.get(),d=a.programConfigurations.get(r.id),m=e.useProgram(f?"fillExtrusionPattern":"fillExtrusion",d);if((n||m.program!==l)&&d.setUniforms(s,m,r.paint,{zoom:e.transform.zoom}),f){if(pattern.isPatternMissing(f,e))return;pattern.prepare(f,e,m),pattern.setTile(i,e,m),u.uniform1f(m.uniforms.u_height_factor,-Math.pow(2,o.overscaledZ)/i.tileSize/8)}e.context.gl.uniformMatrix4fv(m.uniforms.u_matrix,!1,e.translatePosMatrix(o.posMatrix,i,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor"))),function setLight(e,t){var r=t.context.gl,i=t.style.light,o=i.properties.get("position"),a=[o.x,o.y,o.z],n=mat3.create();"viewport"===i.properties.get("anchor")&&mat3.fromRotation(n,-t.transform.angle),vec3.transformMat3(a,a,n);var s=i.properties.get("color");r.uniform3fv(e.uniforms.u_lightpos,a),r.uniform1f(e.uniforms.u_lightintensity,i.properties.get("intensity")),r.uniform3f(e.uniforms.u_lightcolor,s.r,s.g,s.b)}(m,e),m.draw(s,u.TRIANGLES,r.id,a.layoutVertexBuffer,a.indexBuffer,a.segments,d)}var glMatrix=_dereq_("@mapbox/gl-matrix"),pattern=_dereq_("./pattern"),Texture=_dereq_("./texture"),Color=_dereq_("../style-spec/util/color"),DepthMode=_dereq_("../gl/depth_mode"),mat3=glMatrix.mat3,mat4=glMatrix.mat4,vec3=glMatrix.vec3,StencilMode=_dereq_("../gl/stencil_mode");module.exports=function draw(e,t,r,i){if(0!==r.paint.get("fill-extrusion-opacity"))if("offscreen"===e.renderPass){!function drawToExtrusionFramebuffer(e,t){var r=e.context,i=r.gl,o=t.viewportFrame;if(e.depthRboNeedsClear&&e.setupOffscreenDepthRenderbuffer(),!o){var a=new Texture(r,{width:e.width,height:e.height,data:null},i.RGBA);a.bind(i.LINEAR,i.CLAMP_TO_EDGE),(o=t.viewportFrame=r.createFramebuffer(e.width,e.height)).colorAttachment.set(a.texture)}r.bindFramebuffer.set(o.framebuffer),o.depthAttachment.set(e.depthRbo),e.depthRboNeedsClear&&(r.clear({depth:1}),e.depthRboNeedsClear=!1),r.clear({color:Color.transparent}),r.setStencilMode(StencilMode.disabled),r.setDepthMode(new DepthMode(i.LEQUAL,DepthMode.ReadWrite,[0,1])),r.setColorMode(e.colorModeForRenderPass())}(e,r);for(var o=!0,a=0,n=i;a<n.length;a+=1){var s=n[a],u=t.getTile(s),f=u.getBucket(r);f&&(drawExtrusion(e,0,r,u,s,f,o),o=!1)}}else"translucent"===e.renderPass&&function drawExtrusionTexture(e,t){var r=t.viewportFrame;if(r){var i=e.context,o=i.gl,a=e.useProgram("extrusionTexture");i.setStencilMode(StencilMode.disabled),i.setDepthMode(DepthMode.disabled),i.setColorMode(e.colorModeForRenderPass()),i.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.colorAttachment.get()),o.uniform1f(a.uniforms.u_opacity,t.paint.get("fill-extrusion-opacity")),o.uniform1i(a.uniforms.u_image,0);var n=mat4.create();mat4.ortho(n,0,e.width,e.height,0,0,1),o.uniformMatrix4fv(a.uniforms.u_matrix,!1,n),o.uniform2f(a.uniforms.u_world,o.drawingBufferWidth,o.drawingBufferHeight),e.viewportVAO.bind(i,a,e.viewportBuffer,[]),o.drawArrays(o.TRIANGLE_STRIP,0,4)}}(e,r)}},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../style-spec/util/color":153,"./pattern":91,"./texture":93,"@mapbox/gl-matrix":2}],80:[function(_dereq_,module,exports){"use strict";var mat4=_dereq_("@mapbox/gl-matrix").mat4,Texture=_dereq_("./texture"),pixelsToTileUnits=_dereq_("../source/pixels_to_tile_units"),Color=_dereq_("../style-spec/util/color"),DepthMode=_dereq_("../gl/depth_mode"),StencilMode=_dereq_("../gl/stencil_mode"),ColorMode=_dereq_("../gl/color_mode");module.exports=function drawHeatmap(e,t,r,o){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var a=e.context,i=a.gl;a.setDepthMode(e.depthModeForSublayer(0,DepthMode.ReadOnly)),a.setStencilMode(StencilMode.disabled),function bindFramebuffer(e,t,r){var o=e.gl;e.activeTexture.set(o.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var a=r.heatmapFbo;if(a)o.bindTexture(o.TEXTURE_2D,a.colorAttachment.get()),e.bindFramebuffer.set(a.framebuffer);else{var i=o.createTexture();o.bindTexture(o.TEXTURE_2D,i),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),a=r.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4),function bindTextureToFramebuffer(e,t,r,o){var a=e.gl;a.texImage2D(a.TEXTURE_2D,0,a.RGBA,t.width/4,t.height/4,0,a.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:a.UNSIGNED_BYTE,null),o.colorAttachment.set(r),e.extTextureHalfFloat&&a.checkFramebufferStatus(a.FRAMEBUFFER)!==a.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,o.colorAttachment.setDirty(),bindTextureToFramebuffer(e,t,r,o))}(e,t,i,a)}}(a,e,r),a.clear({color:Color.transparent}),a.setColorMode(new ColorMode([i.ONE,i.ONE],Color.transparent,[!0,!0,!0,!0]));for(var n=!0,u=0;u<o.length;u++){var T=o[u];if(!t.hasRenderableParent(T)){var f=t.getTile(T),m=f.getBucket(r);if(m){var l=e.context.program.get(),s=m.programConfigurations.get(r.id),d=e.useProgram("heatmap",s),x=e.transform.zoom;(n||d.program!==l)&&(s.setUniforms(e.context,d,r.paint,{zoom:x}),n=!1),i.uniform1f(d.uniforms.u_extrude_scale,pixelsToTileUnits(f,1,x)),i.uniform1f(d.uniforms.u_intensity,r.paint.get("heatmap-intensity")),i.uniformMatrix4fv(d.uniforms.u_matrix,!1,T.posMatrix),d.draw(a,i.TRIANGLES,r.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,s)}}}a.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function renderTextureToMap(e,t){var r=e.context,o=r.gl,a=t.heatmapFbo;if(a){r.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,a.colorAttachment.get()),r.activeTexture.set(o.TEXTURE1);var i=t.colorRampTexture;i||(i=t.colorRampTexture=new Texture(r,t.colorRamp,o.RGBA)),i.bind(o.LINEAR,o.CLAMP_TO_EDGE),r.setDepthMode(DepthMode.disabled);var n=e.useProgram("heatmapTexture"),u=t.paint.get("heatmap-opacity");o.uniform1f(n.uniforms.u_opacity,u),o.uniform1i(n.uniforms.u_image,0),o.uniform1i(n.uniforms.u_color_ramp,1);var T=mat4.create();mat4.ortho(T,0,e.width,e.height,0,0,1),o.uniformMatrix4fv(n.uniforms.u_matrix,!1,T),o.uniform2f(n.uniforms.u_world,o.drawingBufferWidth,o.drawingBufferHeight),e.viewportVAO.bind(e.context,n,e.viewportBuffer,[]),o.drawArrays(o.TRIANGLE_STRIP,0,4)}}(e,r))}},{"../gl/color_mode":65,"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104,"../style-spec/util/color":153,"./texture":93,"@mapbox/gl-matrix":2}],81:[function(_dereq_,module,exports){"use strict";function renderHillshade(e,r,t){var a=e.context,i=a.gl,n=r.fbo;if(n){var o=e.useProgram("hillshade"),s=e.transform.calculatePosMatrix(r.tileID.toUnwrapped());!function setLight(e,r,t){var a=t.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===t.paint.get("hillshade-illumination-anchor")&&(a-=r.transform.angle),r.context.gl.uniform2f(e.uniforms.u_light,t.paint.get("hillshade-exaggeration"),a)}(o,e,t);var d=function getTileLatRange(e,r){var t=r.toCoordinate(),a=new Coordinate(t.column,t.row+1,t.zoom);return[e.transform.coordinateLocation(t).lat,e.transform.coordinateLocation(a).lat]}(e,r.tileID);a.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,n.colorAttachment.get()),i.uniformMatrix4fv(o.uniforms.u_matrix,!1,s),i.uniform2fv(o.uniforms.u_latrange,d),i.uniform1i(o.uniforms.u_image,0);var l=t.paint.get("hillshade-shadow-color");i.uniform4f(o.uniforms.u_shadow,l.r,l.g,l.b,l.a);var u=t.paint.get("hillshade-highlight-color");i.uniform4f(o.uniforms.u_highlight,u.r,u.g,u.b,u.a);var f=t.paint.get("hillshade-accent-color");if(i.uniform4f(o.uniforms.u_accent,f.r,f.g,f.b,f.a),r.maskedBoundsBuffer&&r.maskedIndexBuffer&&r.segments)o.draw(a,i.TRIANGLES,t.id,r.maskedBoundsBuffer,r.maskedIndexBuffer,r.segments);else{var m=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(a,o,m,[]),i.drawArrays(i.TRIANGLE_STRIP,0,m.length)}}}function prepareHillshade(e,r){var t=e.context,a=t.gl;if(r.dem&&r.dem.level){var i=r.dem.level.dim,n=r.dem.getPixels();if(t.activeTexture.set(a.TEXTURE1),t.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||e.getTileTexture(r.tileSize),r.demTexture){var o=r.demTexture;o.update(n,!1),o.bind(a.NEAREST,a.CLAMP_TO_EDGE)}else r.demTexture=new Texture(t,n,a.RGBA,!1),r.demTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE);t.activeTexture.set(a.TEXTURE0);var s=r.fbo;if(!s){var d=new Texture(t,{width:i,height:i,data:null},a.RGBA);d.bind(a.LINEAR,a.CLAMP_TO_EDGE),(s=r.fbo=t.createFramebuffer(i,i)).colorAttachment.set(d.texture)}t.bindFramebuffer.set(s.framebuffer),t.viewport.set([0,0,i,i]);var l=mat4.create();mat4.ortho(l,0,EXTENT,-EXTENT,0,0,1),mat4.translate(l,l,[0,-EXTENT,0]);var u=e.useProgram("hillshadePrepare");a.uniformMatrix4fv(u.uniforms.u_matrix,!1,l),a.uniform1f(u.uniforms.u_zoom,r.tileID.overscaledZ),a.uniform2fv(u.uniforms.u_dimension,[2*i,2*i]),a.uniform1i(u.uniforms.u_image,1);var f=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(t,u,f,[]),a.drawArrays(a.TRIANGLE_STRIP,0,f.length),r.needsHillshadePrepare=!1}}var Coordinate=_dereq_("../geo/coordinate"),Texture=_dereq_("./texture"),EXTENT=_dereq_("../data/extent"),mat4=_dereq_("@mapbox/gl-matrix").mat4,StencilMode=_dereq_("../gl/stencil_mode"),DepthMode=_dereq_("../gl/depth_mode");module.exports=function drawHillshade(e,r,t,a){if("offscreen"===e.renderPass||"translucent"===e.renderPass){var i=e.context;i.setDepthMode(e.depthModeForSublayer(0,DepthMode.ReadOnly)),i.setStencilMode(StencilMode.disabled),i.setColorMode(e.colorModeForRenderPass());for(var n=0,o=a;n<o.length;n+=1){var s=o[n],d=r.getTile(s);d.needsHillshadePrepare&&"offscreen"===e.renderPass?prepareHillshade(e,d):"translucent"===e.renderPass&&renderHillshade(e,d,t)}i.viewport.set([0,0,e.width,e.height])}}},{"../data/extent":53,"../geo/coordinate":61,"../gl/depth_mode":67,"../gl/stencil_mode":70,"./texture":93,"@mapbox/gl-matrix":2}],82:[function(_dereq_,module,exports){"use strict";function drawLineTile(e,i,t,r,n,a,o,s,u){var f,l,m,p,_=i.context,g=_.gl,d=n.paint.get("line-dasharray"),c=n.paint.get("line-pattern");if(s||u){var x=1/pixelsToTileUnits(t,1,i.transform.tileZoom);if(d){f=i.lineAtlas.getDash(d.from,"round"===n.layout.get("line-cap")),l=i.lineAtlas.getDash(d.to,"round"===n.layout.get("line-cap"));var h=f.width*d.fromScale,v=l.width*d.toScale;g.uniform2f(e.uniforms.u_patternscale_a,x/h,-f.height/2),g.uniform2f(e.uniforms.u_patternscale_b,x/v,-l.height/2),g.uniform1f(e.uniforms.u_sdfgamma,i.lineAtlas.width/(256*Math.min(h,v)*browser.devicePixelRatio)/2)}else if(c){if(m=i.imageManager.getPattern(c.from),p=i.imageManager.getPattern(c.to),!m||!p)return;g.uniform2f(e.uniforms.u_pattern_size_a,m.displaySize[0]*c.fromScale/x,p.displaySize[1]),g.uniform2f(e.uniforms.u_pattern_size_b,p.displaySize[0]*c.toScale/x,p.displaySize[1]);var T=i.imageManager.getPixelSize(),y=T.width,M=T.height;g.uniform2fv(e.uniforms.u_texsize,[y,M])}g.uniform2f(e.uniforms.u_gl_units_to_pixels,1/i.transform.pixelsToGLUnits[0],1/i.transform.pixelsToGLUnits[1])}s&&(d?(g.uniform1i(e.uniforms.u_image,0),_.activeTexture.set(g.TEXTURE0),i.lineAtlas.bind(_),g.uniform1f(e.uniforms.u_tex_y_a,f.y),g.uniform1f(e.uniforms.u_tex_y_b,l.y),g.uniform1f(e.uniforms.u_mix,d.t)):c&&(g.uniform1i(e.uniforms.u_image,0),_.activeTexture.set(g.TEXTURE0),i.imageManager.bind(_),g.uniform2fv(e.uniforms.u_pattern_tl_a,m.tl),g.uniform2fv(e.uniforms.u_pattern_br_a,m.br),g.uniform2fv(e.uniforms.u_pattern_tl_b,p.tl),g.uniform2fv(e.uniforms.u_pattern_br_b,p.br),g.uniform1f(e.uniforms.u_fade,c.t))),_.setStencilMode(i.stencilModeForClipping(a));var b=i.translatePosMatrix(a.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"));g.uniformMatrix4fv(e.uniforms.u_matrix,!1,b),g.uniform1f(e.uniforms.u_ratio,1/pixelsToTileUnits(t,1,i.transform.zoom)),e.draw(_,g.TRIANGLES,n.id,r.layoutVertexBuffer,r.indexBuffer,r.segments,o)}var browser=_dereq_("../util/browser"),pixelsToTileUnits=_dereq_("../source/pixels_to_tile_units"),DepthMode=_dereq_("../gl/depth_mode");module.exports=function(e,i,t,r){if("translucent"===e.renderPass&&0!==t.paint.get("line-opacity").constantOr(1)){var n=e.context;n.setDepthMode(e.depthModeForSublayer(0,DepthMode.ReadOnly)),n.setColorMode(e.colorModeForRenderPass());for(var a,o=t.paint.get("line-dasharray")?"lineSDF":t.paint.get("line-pattern")?"linePattern":"line",s=!0,u=0,f=r;u<f.length;u+=1){var l=f[u],m=i.getTile(l),p=m.getBucket(t);if(p){var _=p.programConfigurations.get(t.id),g=e.context.program.get(),d=e.useProgram(o,_),c=s||d.program!==g,x=a!==m.tileID.overscaledZ;c&&_.setUniforms(e.context,d,t.paint,{zoom:e.transform.zoom}),drawLineTile(d,e,m,p,t,l,_,c,x),a=m.tileID.overscaledZ,s=!1}}}}},{"../gl/depth_mode":67,"../source/pixels_to_tile_units":104,"../util/browser":252}],83:[function(_dereq_,module,exports){"use strict";function getFadeValues(e,r,t,a,i){var o=a.paint.get("raster-fade-duration");if(o>0){var n=browser.now(),s=(n-e.timeAdded)/o,u=r?(n-r.timeAdded)/o:-1,d=t.getSource(),f=i.coveringZoomLevel({tileSize:d.tileSize,roundZoom:d.roundZoom}),c=!r||Math.abs(r.tileID.overscaledZ-f)>Math.abs(e.tileID.overscaledZ-f),m=c&&e.refreshedUponExpiration?1:util.clamp(c?s:1-u,0,1);return e.refreshedUponExpiration&&s>=1&&(e.refreshedUponExpiration=!1),r?{opacity:1,mix:1-m}:{opacity:m,mix:0}}return{opacity:1,mix:0}}var util=_dereq_("../util/util"),ImageSource=_dereq_("../source/image_source"),browser=_dereq_("../util/browser"),StencilMode=_dereq_("../gl/stencil_mode"),DepthMode=_dereq_("../gl/depth_mode");module.exports=function drawRaster(e,r,t,a){if("translucent"===e.renderPass&&0!==t.paint.get("raster-opacity")){var i=e.context,o=i.gl,n=r.getSource(),s=e.useProgram("raster");i.setStencilMode(StencilMode.disabled),i.setColorMode(e.colorModeForRenderPass()),o.uniform1f(s.uniforms.u_brightness_low,t.paint.get("raster-brightness-min")),o.uniform1f(s.uniforms.u_brightness_high,t.paint.get("raster-brightness-max")),o.uniform1f(s.uniforms.u_saturation_factor,function saturationFactor(e){return e>0?1-1/(1.001-e):-e}(t.paint.get("raster-saturation"))),o.uniform1f(s.uniforms.u_contrast_factor,function contrastFactor(e){return e>0?1/(1-e):1+e}(t.paint.get("raster-contrast"))),o.uniform3fv(s.uniforms.u_spin_weights,function spinWeights(e){e*=Math.PI/180;var r=Math.sin(e),t=Math.cos(e);return[(2*t+1)/3,(-Math.sqrt(3)*r-t+1)/3,(Math.sqrt(3)*r-t+1)/3]}(t.paint.get("raster-hue-rotate"))),o.uniform1f(s.uniforms.u_buffer_scale,1),o.uniform1i(s.uniforms.u_image0,0),o.uniform1i(s.uniforms.u_image1,1);for(var u=a.length&&a[0].overscaledZ,d=0,f=a;d<f.length;d+=1){var c=f[d];i.setDepthMode(e.depthModeForSublayer(c.overscaledZ-u,1===t.paint.get("raster-opacity")?DepthMode.ReadWrite:DepthMode.ReadOnly,o.LESS));var m=r.getTile(c),l=e.transform.calculatePosMatrix(c.toUnwrapped(),!0);m.registerFadeDuration(t.paint.get("raster-fade-duration")),o.uniformMatrix4fv(s.uniforms.u_matrix,!1,l);var g=r.findLoadedParent(c,0,{}),p=getFadeValues(m,g,r,t,e.transform),_=void 0,h=void 0;if(i.activeTexture.set(o.TEXTURE0),m.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),g?(g.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),_=Math.pow(2,g.tileID.overscaledZ-m.tileID.overscaledZ),h=[m.tileID.canonical.x*_%1,m.tileID.canonical.y*_%1]):m.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),o.uniform2fv(s.uniforms.u_tl_parent,h||[0,0]),o.uniform1f(s.uniforms.u_scale_parent,_||1),o.uniform1f(s.uniforms.u_fade_t,p.mix),o.uniform1f(s.uniforms.u_opacity,p.opacity*t.paint.get("raster-opacity")),n instanceof ImageSource){var E=n.boundsBuffer;n.boundsVAO.bind(i,s,E,[]),o.drawArrays(o.TRIANGLE_STRIP,0,E.length)}else if(m.maskedBoundsBuffer&&m.maskedIndexBuffer&&m.segments)s.draw(i,o.TRIANGLES,t.id,m.maskedBoundsBuffer,m.maskedIndexBuffer,m.segments);else{var M=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(i,s,M,[]),o.drawArrays(o.TRIANGLE_STRIP,0,M.length)}}}}},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/image_source":102,"../util/browser":252,"../util/util":275}],84:[function(_dereq_,module,exports){"use strict";function drawLayerSymbols(t,e,o,i,r,n,a,s,u,l){var m=t.context,f=m.gl,c=t.transform,y="map"===s,p="map"===u,_=y&&"line"===o.layout.get("symbol-placement"),d=y&&!p&&!_,g=p;m.setDepthMode(g?t.depthModeForSublayer(0,DepthMode.ReadOnly):DepthMode.disabled);for(var x,b=0,h=i;b<h.length;b+=1){var S=h[b],M=e.getTile(S),z=M.getBucket(o);if(z){var T=r?z.text:z.icon;if(T&&T.segments.get().length){var v=T.programConfigurations.get(o.id),w=r||z.sdfIcons,D=r?z.textSizeData:z.iconSizeData;if(x||(x=t.useProgram(w?"symbolSDF":"symbolIcon",v),v.setUniforms(t.context,x,o.paint,{zoom:t.transform.zoom}),setSymbolDrawState(x,t,o,r,d,p,D)),m.activeTexture.set(f.TEXTURE0),f.uniform1i(x.uniforms.u_texture,0),r)M.glyphAtlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.uniform2fv(x.uniforms.u_texsize,M.glyphAtlasTexture.size);else{var L=1!==o.layout.get("icon-size").constantOr(0)||z.iconsNeedLinear,P=p||0!==c.pitch;M.iconAtlasTexture.bind(w||t.options.rotating||t.options.zooming||L||P?f.LINEAR:f.NEAREST,f.CLAMP_TO_EDGE),f.uniform2fv(x.uniforms.u_texsize,M.iconAtlasTexture.size)}f.uniformMatrix4fv(x.uniforms.u_matrix,!1,t.translatePosMatrix(S.posMatrix,M,n,a));var E=pixelsToTileUnits(M,1,t.transform.zoom),C=symbolProjection.getLabelPlaneMatrix(S.posMatrix,p,y,t.transform,E),A=symbolProjection.getGlCoordMatrix(S.posMatrix,p,y,t.transform,E);f.uniformMatrix4fv(x.uniforms.u_gl_coord_matrix,!1,t.translatePosMatrix(A,M,n,a,!0)),_?(f.uniformMatrix4fv(x.uniforms.u_label_plane_matrix,!1,identityMat4),symbolProjection.updateLineLabels(z,S.posMatrix,t,r,C,A,p,l)):f.uniformMatrix4fv(x.uniforms.u_label_plane_matrix,!1,C),f.uniform1f(x.uniforms.u_fade_change,t.options.fadeDuration?t.symbolFadeChange:1),drawTileSymbols(x,v,t,o,M,T,r,w,p)}}}}function setSymbolDrawState(t,e,o,i,r,n,a){var s=e.context.gl,u=e.transform;s.uniform1i(t.uniforms.u_pitch_with_map,n?1:0),s.uniform1f(t.uniforms.u_is_text,i?1:0),s.uniform1f(t.uniforms.u_pitch,u.pitch/360*2*Math.PI);var l="constant"===a.functionType||"source"===a.functionType,m="constant"===a.functionType||"camera"===a.functionType;s.uniform1i(t.uniforms.u_is_size_zoom_constant,l?1:0),s.uniform1i(t.uniforms.u_is_size_feature_constant,m?1:0),s.uniform1f(t.uniforms.u_camera_to_center_distance,u.cameraToCenterDistance);var f=symbolSize.evaluateSizeForZoom(a,u.zoom,symbolLayoutProperties.properties[i?"text-size":"icon-size"]);void 0!==f.uSizeT&&s.uniform1f(t.uniforms.u_size_t,f.uSizeT),void 0!==f.uSize&&s.uniform1f(t.uniforms.u_size,f.uSize),s.uniform1f(t.uniforms.u_aspect_ratio,u.width/u.height),s.uniform1i(t.uniforms.u_rotate_symbol,r?1:0)}function drawTileSymbols(t,e,o,i,r,n,a,s,u){var l=o.context,m=l.gl,f=o.transform;if(s){var c=0!==i.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),y=u?Math.cos(f._pitch)*f.cameraToCenterDistance:1;m.uniform1f(t.uniforms.u_gamma_scale,y),c&&(m.uniform1f(t.uniforms.u_is_halo,1),drawSymbolElements(n,i,l,t)),m.uniform1f(t.uniforms.u_is_halo,0)}drawSymbolElements(n,i,l,t)}function drawSymbolElements(t,e,o,i){i.draw(o,o.gl.TRIANGLES,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}var drawCollisionDebug=_dereq_("./draw_collision_debug"),pixelsToTileUnits=_dereq_("../source/pixels_to_tile_units"),symbolProjection=_dereq_("../symbol/projection"),symbolSize=_dereq_("../symbol/symbol_size"),identityMat4=_dereq_("@mapbox/gl-matrix").mat4.identity(new Float32Array(16)),symbolLayoutProperties=_dereq_("../style/style_layer/symbol_style_layer_properties").layout,StencilMode=_dereq_("../gl/stencil_mode"),DepthMode=_dereq_("../gl/depth_mode");module.exports=function drawSymbols(t,e,o,i){if("translucent"===t.renderPass){var r=t.context;r.setStencilMode(StencilMode.disabled),r.setColorMode(t.colorModeForRenderPass()),0!==o.paint.get("icon-opacity").constantOr(1)&&drawLayerSymbols(t,e,o,i,!1,o.paint.get("icon-translate"),o.paint.get("icon-translate-anchor"),o.layout.get("icon-rotation-alignment"),o.layout.get("icon-pitch-alignment"),o.layout.get("icon-keep-upright")),0!==o.paint.get("text-opacity").constantOr(1)&&drawLayerSymbols(t,e,o,i,!0,o.paint.get("text-translate"),o.paint.get("text-translate-anchor"),o.layout.get("text-rotation-alignment"),o.layout.get("text-pitch-alignment"),o.layout.get("text-keep-upright")),e.map.showCollisionBoxes&&drawCollisionDebug(t,e,o,i)}}},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104,"../style/style_layer/symbol_style_layer_properties":209,"../symbol/projection":224,"../symbol/symbol_size":228,"./draw_collision_debug":76,"@mapbox/gl-matrix":2}],85:[function(_dereq_,module,exports){"use strict";var ShelfPack=_dereq_("@mapbox/shelf-pack"),AlphaImage=_dereq_("../util/image").AlphaImage,padding=1;module.exports={makeGlyphAtlas:function makeGlyphAtlas(a){var e=new AlphaImage({width:0,height:0}),i={},t=new ShelfPack(0,0,{autoResize:!0});for(var h in a){var r=a[h],p=i[h]={};for(var m in r){var d=r[+m];if(d&&0!==d.bitmap.width&&0!==d.bitmap.height){var g=t.packOne(d.bitmap.width+2*padding,d.bitmap.height+2*padding);e.resize({width:t.w,height:t.h}),AlphaImage.copy(d.bitmap,e,{x:0,y:0},{x:g.x+padding,y:g.y+padding},d.bitmap),p[m]={rect:g,metrics:d.metrics}}}}return t.shrink(),e.resize({width:t.w,height:t.h}),{image:e,positions:i}}}},{"../util/image":263,"@mapbox/shelf-pack":5}],86:[function(_dereq_,module,exports){"use strict";var loadGlyphRange=_dereq_("../style/load_glyph_range"),TinySDF=_dereq_("@mapbox/tiny-sdf"),isChar=_dereq_("../util/is_char_in_unicode_block"),asyncAll=_dereq_("../util/util").asyncAll,AlphaImage=_dereq_("../util/image").AlphaImage,GlyphManager=function(e,r){this.requestTransform=e,this.localIdeographFontFamily=r,this.entries={}};GlyphManager.prototype.setURL=function(e){this.url=e},GlyphManager.prototype.getGlyphs=function(e,r){var i=this,t=[];for(var a in e)for(var l=0,n=e[a];l<n.length;l+=1){var s=n[l];t.push({stack:a,id:s})}asyncAll(t,function(e,r){var t=e.stack,a=e.id,l=i.entries[t];l||(l=i.entries[t]={glyphs:{},requests:{}});var n=l.glyphs[a];if(void 0===n)if(n=i._tinySDF(l,t,a))r(null,{stack:t,id:a,glyph:n});else{var s=Math.floor(a/256);if(256*s>65535)r(new Error("glyphs > 65535 not supported"));else{var o=l.requests[s];o||(o=l.requests[s]=[],loadGlyphRange(t,s,i.url,i.requestTransform,function(e,r){if(r)for(var i in r)l.glyphs[+i]=r[+i];for(var t=0,a=o;t<a.length;t+=1)(0,a[t])(e,r);delete l.requests[s]})),o.push(function(e,i){e?r(e):i&&r(null,{stack:t,id:a,glyph:i[a]||null})})}}else r(null,{stack:t,id:a,glyph:n})},function(e,i){if(e)r(e);else if(i){for(var t={},a=0,l=i;a<l.length;a+=1){var n=l[a],s=n.stack,o=n.id,h=n.glyph;(t[s]||(t[s]={}))[o]=h&&{id:h.id,bitmap:h.bitmap.clone(),metrics:h.metrics}}r(null,t)}})},GlyphManager.prototype._tinySDF=function(e,r,i){var t=this.localIdeographFontFamily;if(t&&(isChar["CJK Unified Ideographs"](i)||isChar["Hangul Syllables"](i))){var a=e.tinySDF;if(!a){var l="400";/bold/i.test(r)?l="900":/medium/i.test(r)?l="500":/light/i.test(r)&&(l="200"),a=e.tinySDF=new TinySDF(24,3,8,.25,t,l)}return{id:i,bitmap:new AlphaImage({width:30,height:30},a.draw(String.fromCharCode(i))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},module.exports=GlyphManager},{"../style/load_glyph_range":184,"../util/image":263,"../util/is_char_in_unicode_block":265,"../util/util":275,"@mapbox/tiny-sdf":6}],87:[function(_dereq_,module,exports){"use strict";function imagePosition(a,i){var e=i.pixelRatio,t={x:a.x+padding,y:a.y+padding,w:a.w-2*padding,h:a.h-2*padding};return{pixelRatio:e,textureRect:t,tl:[t.x,t.y],br:[t.x+t.w,t.y+t.h],displaySize:[t.w/e,t.h/e]}}var ShelfPack=_dereq_("@mapbox/shelf-pack"),RGBAImage=_dereq_("../util/image").RGBAImage,padding=1;module.exports={imagePosition:imagePosition,makeImageAtlas:function makeImageAtlas(a){var i=new RGBAImage({width:0,height:0}),e={},t=new ShelfPack(0,0,{autoResize:!0});for(var d in a){var g=a[d],n=t.packOne(g.data.width+2*padding,g.data.height+2*padding);i.resize({width:t.w,height:t.h}),RGBAImage.copy(g.data,i,{x:0,y:0},{x:n.x+padding,y:n.y+padding},g.data),e[d]=imagePosition(n,g)}return t.shrink(),i.resize({width:t.w,height:t.h}),{image:i,positions:e}}}},{"../util/image":263,"@mapbox/shelf-pack":5}],88:[function(_dereq_,module,exports){"use strict";var ShelfPack=_dereq_("@mapbox/shelf-pack"),RGBAImage=_dereq_("../util/image").RGBAImage,imagePosition=_dereq_("./image_atlas").imagePosition,Texture=_dereq_("./texture"),ImageManager=function(){this.images={},this.loaded=!1,this.requestors=[],this.shelfPack=new ShelfPack(64,64,{autoResize:!0}),this.patterns={},this.atlasImage=new RGBAImage({width:64,height:64}),this.dirty=!0};ImageManager.prototype.isLoaded=function(){return this.loaded},ImageManager.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var a=0,i=this.requestors;a<i.length;a+=1){var r=i[a],s=r.ids,h=r.callback;this._notify(s,h)}this.requestors=[]}},ImageManager.prototype.getImage=function(e){return this.images[e]},ImageManager.prototype.addImage=function(e,t){this.images[e]=t},ImageManager.prototype.removeImage=function(e){delete this.images[e];var t=this.patterns[e];t&&(this.shelfPack.unref(t.bin),delete this.patterns[e])},ImageManager.prototype.getImages=function(e,t){var i=!0;if(!this.isLoaded())for(var r=0,s=e;r<s.length;r+=1){var h=s[r];this.images[h]||(i=!1)}this.isLoaded()||i?this._notify(e,t):this.requestors.push({ids:e,callback:t})},ImageManager.prototype._notify=function(e,t){for(var i={},r=0,s=e;r<s.length;r+=1){var h=s[r],g=this.images[h];g&&(i[h]={data:g.data.clone(),pixelRatio:g.pixelRatio,sdf:g.sdf})}t(null,i)},ImageManager.prototype.getPixelSize=function(){return{width:this.shelfPack.w,height:this.shelfPack.h}},ImageManager.prototype.getPattern=function(e){var t=this.patterns[e];if(t)return t.position;var a=this.getImage(e);if(!a)return null;var i=a.data.width+2,r=a.data.height+2,s=this.shelfPack.packOne(i,r);if(!s)return null;this.atlasImage.resize(this.getPixelSize());var h=a.data,g=this.atlasImage,n=s.x+1,o=s.y+1,d=h.width,l=h.height;RGBAImage.copy(h,g,{x:0,y:0},{x:n,y:o},{width:d,height:l}),RGBAImage.copy(h,g,{x:0,y:l-1},{x:n,y:o-1},{width:d,height:1}),RGBAImage.copy(h,g,{x:0,y:0},{x:n,y:o+l},{width:d,height:1}),RGBAImage.copy(h,g,{x:d-1,y:0},{x:n-1,y:o},{width:1,height:l}),RGBAImage.copy(h,g,{x:0,y:0},{x:n+d,y:o},{width:1,height:l}),this.dirty=!0;var p=imagePosition(s,a);return this.patterns[e]={bin:s,position:p},p},ImageManager.prototype.bind=function(e){var t=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Texture(e,this.atlasImage,t.RGBA),this.atlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE)},module.exports=ImageManager},{"../util/image":263,"./image_atlas":87,"./texture":93,"@mapbox/shelf-pack":5}],89:[function(_dereq_,module,exports){"use strict";var util=_dereq_("../util/util"),LineAtlas=function(t,i){this.width=t,this.height=i,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};LineAtlas.prototype.getDash=function(t,i){var e=t.join(",")+String(i);return this.positions[e]||(this.positions[e]=this.addDash(t,i)),this.positions[e]},LineAtlas.prototype.addDash=function(t,i){var e=this,h=i?7:0,s=2*h+1;if(this.nextRow+s>this.height)return util.warnOnce("LineAtlas out of space"),null;for(var a=0,r=0;r<t.length;r++)a+=t[r];for(var n=this.width/a,E=n/2,T=t.length%2==1,o=-h;o<=h;o++)for(var R=e.nextRow+h+o,d=e.width*R,u=T?-t[t.length-1]:0,l=t[0],x=1,_=0;_<this.width;_++){for(;l<_/n;)u=l,l+=t[x],T&&x===t.length-1&&(l+=t[0]),x++;var g=Math.abs(_-u*n),A=Math.abs(_-l*n),w=Math.min(g,A),D=x%2==1,U=void 0;if(i){var f=h?o/h*(E+1):0;if(D){var p=E-Math.abs(f);U=Math.sqrt(w*w+p*p)}else U=E-Math.sqrt(w*w+f*f)}else U=(D?1:-1)*w;e.data[3+4*(d+_)]=Math.max(0,Math.min(255,U+128))}var v={y:(this.nextRow+h+.5)/this.height,height:2*h/this.height,width:a};return this.nextRow+=s,this.dirty=!0,v},LineAtlas.prototype.bind=function(t){var i=t.gl;this.texture?(i.bindTexture(i.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,i.texSubImage2D(i.TEXTURE_2D,0,0,0,this.width,this.height,i.RGBA,i.UNSIGNED_BYTE,this.data))):(this.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.REPEAT),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.REPEAT),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,this.width,this.height,0,i.RGBA,i.UNSIGNED_BYTE,this.data))},module.exports=LineAtlas},{"../util/util":275}],90:[function(_dereq_,module,exports){"use strict";var browser=_dereq_("../util/browser"),mat4=_dereq_("@mapbox/gl-matrix").mat4,SourceCache=_dereq_("../source/source_cache"),EXTENT=_dereq_("../data/extent"),pixelsToTileUnits=_dereq_("../source/pixels_to_tile_units"),util=_dereq_("../util/util"),VertexArrayObject=_dereq_("./vertex_array_object"),ref=_dereq_("../data/array_types"),RasterBoundsArray=ref.RasterBoundsArray,PosArray=ref.PosArray,rasterBoundsAttributes=_dereq_("../data/raster_bounds_attributes"),posAttributes=_dereq_("../data/pos_attributes"),ProgramConfiguration=_dereq_("../data/program_configuration").ProgramConfiguration,CrossTileSymbolIndex=_dereq_("../symbol/cross_tile_symbol_index"),shaders=_dereq_("../shaders"),Program=_dereq_("./program"),Context=_dereq_("../gl/context"),DepthMode=_dereq_("../gl/depth_mode"),StencilMode=_dereq_("../gl/stencil_mode"),ColorMode=_dereq_("../gl/color_mode"),updateTileMasks=(_dereq_("./texture"),_dereq_("./tile_mask")),Color=_dereq_("../style-spec/util/color"),draw={symbol:_dereq_("./draw_symbol"),circle:_dereq_("./draw_circle"),heatmap:_dereq_("./draw_heatmap"),line:_dereq_("./draw_line"),fill:_dereq_("./draw_fill"),"fill-extrusion":_dereq_("./draw_fill_extrusion"),hillshade:_dereq_("./draw_hillshade"),raster:_dereq_("./draw_raster"),background:_dereq_("./draw_background"),debug:_dereq_("./draw_debug")},Painter=function(e,r){this.context=new Context(e),this.transform=r,this._tileTextures={},this.setup(),this.numSublayers=SourceCache.maxUnderzooming+SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new ProgramConfiguration,this.crossTileSymbolIndex=new CrossTileSymbolIndex};Painter.prototype.resize=function(e,r){var i=this.context.gl;if(this.width=e*browser.devicePixelRatio,this.height=r*browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var s=0,a=this.style._order;s<a.length;s+=1){var o=a[s];this.style._layers[o].resize()}this.depthRbo&&(i.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},Painter.prototype.setup=function(){var e=this.context,r=new PosArray;r.emplaceBack(0,0),r.emplaceBack(EXTENT,0),r.emplaceBack(0,EXTENT),r.emplaceBack(EXTENT,EXTENT),this.tileExtentBuffer=e.createVertexBuffer(r,posAttributes.members),this.tileExtentVAO=new VertexArrayObject,this.tileExtentPatternVAO=new VertexArrayObject;var t=new PosArray;t.emplaceBack(0,0),t.emplaceBack(EXTENT,0),t.emplaceBack(EXTENT,EXTENT),t.emplaceBack(0,EXTENT),t.emplaceBack(0,0),this.debugBuffer=e.createVertexBuffer(t,posAttributes.members),this.debugVAO=new VertexArrayObject;var i=new RasterBoundsArray;i.emplaceBack(0,0,0,0),i.emplaceBack(EXTENT,0,EXTENT,0),i.emplaceBack(0,EXTENT,0,EXTENT),i.emplaceBack(EXTENT,EXTENT,EXTENT,EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(i,rasterBoundsAttributes.members),this.rasterBoundsVAO=new VertexArrayObject;var s=new PosArray;s.emplaceBack(0,0),s.emplaceBack(1,0),s.emplaceBack(0,1),s.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(s,posAttributes.members),this.viewportVAO=new VertexArrayObject},Painter.prototype.clearStencil=function(){var e=this.context,r=e.gl;e.setColorMode(ColorMode.disabled),e.setDepthMode(DepthMode.disabled),e.setStencilMode(new StencilMode({func:r.ALWAYS,mask:0},0,255,r.ZERO,r.ZERO,r.ZERO));var t=mat4.create();mat4.ortho(t,0,this.width,this.height,0,0,1),mat4.scale(t,t,[r.drawingBufferWidth,r.drawingBufferHeight,0]);var i=this.useProgram("clippingMask");r.uniformMatrix4fv(i.uniforms.u_matrix,!1,t),this.viewportVAO.bind(e,i,this.viewportBuffer,[]),r.drawArrays(r.TRIANGLE_STRIP,0,4)},Painter.prototype._renderTileClippingMasks=function(e){var r=this,t=this.context,i=t.gl;t.setColorMode(ColorMode.disabled),t.setDepthMode(DepthMode.disabled);var s=1;this._tileClippingMaskIDs={};for(var a=0,o=e;a<o.length;a+=1){var n=o[a],l=r._tileClippingMaskIDs[n.key]=s++;t.setStencilMode(new StencilMode({func:i.ALWAYS,mask:0},l,255,i.KEEP,i.KEEP,i.REPLACE));var c=r.useProgram("clippingMask");i.uniformMatrix4fv(c.uniforms.u_matrix,!1,n.posMatrix),r.tileExtentVAO.bind(r.context,c,r.tileExtentBuffer,[]),i.drawArrays(i.TRIANGLE_STRIP,0,r.tileExtentBuffer.length)}},Painter.prototype.stencilModeForClipping=function(e){var r=this.context.gl;return new StencilMode({func:r.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,r.KEEP,r.KEEP,r.REPLACE)},Painter.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new ColorMode([e.CONSTANT_COLOR,e.ONE],new Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?ColorMode.unblended:ColorMode.alphaBlended},Painter.prototype.depthModeForSublayer=function(e,r,t){var i=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon,s=i-1+this.depthRange;return new DepthMode(t||this.context.gl.LEQUAL,r,[s,i])},Painter.prototype.render=function(e,r){var t=this;for(var i in this.style=e,this.options=r,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(browser.now()),e.sourceCaches){var s=t.style.sourceCaches[i];s.used&&s.prepare(t.context)}var a=this.style._order,o=util.filterObject(this.style.sourceCaches,function(e){return"raster"===e.getSource().type||"raster-dem"===e.getSource().type});for(var n in o)!function(e){var r=o[n],s=r.getVisibleCoordinates().map(function(e){return r.getTile(e)});updateTileMasks(s,t.context)}();this.renderPass="offscreen";var l,c=[];this.depthRboNeedsClear=!0;for(var h=0;h<a.length;h++){var u=t.style._layers[a[h]];u.hasOffscreenPass()&&!u.isHidden(t.transform.zoom)&&(u.source!==(l&&l.id)&&(c=[],(l=t.style.sourceCaches[u.source])&&(c=l.getVisibleCoordinates()).reverse()),c.length&&t.renderLayer(t,l,u,c))}this.context.bindFramebuffer.set(null),this.context.clear({color:r.showOverdrawInspector?Color.black:Color.transparent,depth:1}),this._showOverdrawInspector=r.showOverdrawInspector,this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque";var d,p=[];for(this.currentLayer=a.length-1,this.currentLayer;this.currentLayer>=0;this.currentLayer--){var f=t.style._layers[a[t.currentLayer]];f.source!==(d&&d.id)&&(p=[],(d=t.style.sourceCaches[f.source])&&(t.clearStencil(),p=d.getVisibleCoordinates(),d.getSource().isTileClipped&&t._renderTileClippingMasks(p))),t.renderLayer(t,d,f,p)}this.renderPass="translucent";var m,g=[];for(this.currentLayer=0,this.currentLayer;this.currentLayer<a.length;this.currentLayer++){var y=t.style._layers[a[t.currentLayer]];y.source!==(m&&m.id)&&(g=[],(m=t.style.sourceCaches[y.source])&&(t.clearStencil(),g=m.getVisibleCoordinates(),m.getSource().isTileClipped&&t._renderTileClippingMasks(g)),g.reverse()),t.renderLayer(t,m,y,g)}if(this.options.showTileBoundaries){var b=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];b&&draw.debug(this,b,b.getVisibleCoordinates())}},Painter.prototype.setupOffscreenDepthRenderbuffer=function(){var e=this.context;this.depthRbo||(this.depthRbo=e.createRenderbuffer(e.gl.DEPTH_COMPONENT16,this.width,this.height))},Painter.prototype.renderLayer=function(e,r,t,i){t.isHidden(this.transform.zoom)||("background"===t.type||i.length)&&(this.id=t.id,draw[t.type](e,r,t,i))},Painter.prototype.translatePosMatrix=function(e,r,t,i,s){if(!t[0]&&!t[1])return e;var a=s?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var o=Math.sin(a),n=Math.cos(a);t=[t[0]*n-t[1]*o,t[0]*o+t[1]*n]}var l=[s?t[0]:pixelsToTileUnits(r,t[0],this.transform.zoom),s?t[1]:pixelsToTileUnits(r,t[1],this.transform.zoom),0],c=new Float32Array(16);return mat4.translate(c,e,l),c},Painter.prototype.saveTileTexture=function(e){var r=this._tileTextures[e.size[0]];r?r.push(e):this._tileTextures[e.size[0]]=[e]},Painter.prototype.getTileTexture=function(e){var r=this._tileTextures[e];return r&&r.length>0?r.pop():null},Painter.prototype._createProgramCached=function(e,r){this.cache=this.cache||{};var t=""+e+(r.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[t]||(this.cache[t]=new Program(this.context,shaders[e],r,this._showOverdrawInspector)),this.cache[t]},Painter.prototype.useProgram=function(e,r){var t=this._createProgramCached(e,r||this.emptyProgramConfiguration);return this.context.program.set(t.program),t},module.exports=Painter},{"../data/array_types":39,"../data/extent":53,"../data/pos_attributes":57,"../data/program_configuration":58,"../data/raster_bounds_attributes":59,"../gl/color_mode":65,"../gl/context":66,"../gl/depth_mode":67,"../gl/stencil_mode":70,"../shaders":97,"../source/pixels_to_tile_units":104,"../source/source_cache":111,"../style-spec/util/color":153,"../symbol/cross_tile_symbol_index":218,"../util/browser":252,"../util/util":275,"./draw_background":74,"./draw_circle":75,"./draw_debug":77,"./draw_fill":78,"./draw_fill_extrusion":79,"./draw_heatmap":80,"./draw_hillshade":81,"./draw_line":82,"./draw_raster":83,"./draw_symbol":84,"./program":92,"./texture":93,"./tile_mask":94,"./vertex_array_object":95,"@mapbox/gl-matrix":2}],91:[function(_dereq_,module,exports){"use strict";var pixelsToTileUnits=_dereq_("../source/pixels_to_tile_units");exports.isPatternMissing=function(e,i){if(!e)return!1;var r=i.imageManager.getPattern(e.from),t=i.imageManager.getPattern(e.to);return!r||!t},exports.prepare=function(e,i,r){var t=i.context,n=t.gl,o=i.imageManager.getPattern(e.from),a=i.imageManager.getPattern(e.to);n.uniform1i(r.uniforms.u_image,0),n.uniform2fv(r.uniforms.u_pattern_tl_a,o.tl),n.uniform2fv(r.uniforms.u_pattern_br_a,o.br),n.uniform2fv(r.uniforms.u_pattern_tl_b,a.tl),n.uniform2fv(r.uniforms.u_pattern_br_b,a.br);var u=i.imageManager.getPixelSize(),f=u.width,m=u.height;n.uniform2fv(r.uniforms.u_texsize,[f,m]),n.uniform1f(r.uniforms.u_mix,e.t),n.uniform2fv(r.uniforms.u_pattern_size_a,o.displaySize),n.uniform2fv(r.uniforms.u_pattern_size_b,a.displaySize),n.uniform1f(r.uniforms.u_scale_a,e.fromScale),n.uniform1f(r.uniforms.u_scale_b,e.toScale),t.activeTexture.set(n.TEXTURE0),i.imageManager.bind(i.context)},exports.setTile=function(e,i,r){var t=i.context.gl;t.uniform1f(r.uniforms.u_tile_units_to_pixels,1/pixelsToTileUnits(e,1,i.transform.tileZoom));var n=Math.pow(2,e.tileID.overscaledZ),o=e.tileSize*Math.pow(2,i.transform.tileZoom)/n,a=o*(e.tileID.canonical.x+e.tileID.wrap*n),u=o*e.tileID.canonical.y;t.uniform2f(r.uniforms.u_pixel_coord_upper,a>>16,u>>16),t.uniform2f(r.uniforms.u_pixel_coord_lower,65535&a,65535&u)}},{"../source/pixels_to_tile_units":104}],92:[function(_dereq_,module,exports){"use strict";var browser=_dereq_("../util/browser"),shaders=_dereq_("../shaders"),VertexArrayObject=(_dereq_("../data/program_configuration").ProgramConfiguration,_dereq_("./vertex_array_object")),Program=(_dereq_("../gl/context"),function(r,e,t,a){var o=this,i=r.gl;this.program=i.createProgram();var n=t.defines().concat("#define DEVICE_PIXEL_RATIO "+browser.devicePixelRatio.toFixed(1));a&&n.push("#define OVERDRAW_INSPECTOR;");var s=n.concat(shaders.prelude.fragmentSource,e.fragmentSource).join("\n"),m=n.concat(shaders.prelude.vertexSource,e.vertexSource).join("\n"),g=i.createShader(i.FRAGMENT_SHADER);i.shaderSource(g,s),i.compileShader(g),i.attachShader(this.program,g);var c=i.createShader(i.VERTEX_SHADER);i.shaderSource(c,m),i.compileShader(c),i.attachShader(this.program,c);for(var u=t.layoutAttributes||[],h=0;h<u.length;h++)i.bindAttribLocation(o.program,h,u[h].name);i.linkProgram(this.program),this.numAttributes=i.getProgramParameter(this.program,i.ACTIVE_ATTRIBUTES),this.attributes={},this.uniforms={};for(var f=0;f<this.numAttributes;f++){var d=i.getActiveAttrib(o.program,f);d&&(o.attributes[d.name]=i.getAttribLocation(o.program,d.name))}for(var v=i.getProgramParameter(this.program,i.ACTIVE_UNIFORMS),p=0;p<v;p++){var S=i.getActiveUniform(o.program,p);S&&(o.uniforms[S.name]=i.getUniformLocation(o.program,S.name))}});Program.prototype.draw=function(r,e,t,a,o,i,n,s,m){for(var g,u=r.gl,h=(g={},g[u.LINES]=2,g[u.TRIANGLES]=3,g)[e],f=0,d=i.get();f<d.length;f+=1){var v=d[f],p=v.vaos||(v.vaos={});(p[t]||(p[t]=new VertexArrayObject)).bind(r,this,a,n?n.getPaintVertexBuffers():[],o,v.vertexOffset,s,m),u.drawElements(e,v.primitiveLength*h,u.UNSIGNED_SHORT,v.primitiveOffset*h*2)}},module.exports=Program},{"../data/program_configuration":58,"../gl/context":66,"../shaders":97,"../util/browser":252,"./vertex_array_object":95}],93:[function(_dereq_,module,exports){"use strict";var ref=_dereq_("../util/window"),HTMLImageElement=ref.HTMLImageElement,HTMLCanvasElement=ref.HTMLCanvasElement,HTMLVideoElement=ref.HTMLVideoElement,ImageData=ref.ImageData,Texture=function(e,t,i,r){this.context=e;var a=t.width,T=t.height;this.size=[a,T],this.format=i,this.texture=e.gl.createTexture(),this.update(t,r)};Texture.prototype.update=function(e,t){var i=e.width,r=e.height;this.size=[i,r];var T=this.context,n=T.gl;n.bindTexture(n.TEXTURE_2D,this.texture),T.pixelStoreUnpack.set(1),this.format===n.RGBA&&!1!==t&&T.pixelStoreUnpackPremultiplyAlpha.set(!0),e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData?n.texImage2D(n.TEXTURE_2D,0,this.format,this.format,n.UNSIGNED_BYTE,e):n.texImage2D(n.TEXTURE_2D,0,this.format,i,r,0,this.format,n.UNSIGNED_BYTE,e.data)},Texture.prototype.bind=function(e,t,i){var T=this.context.gl;T.bindTexture(T.TEXTURE_2D,this.texture),e!==this.filter&&(T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,e),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,i||e),this.filter=e),t!==this.wrap&&(T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_S,t),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_T,t),this.wrap=t)},Texture.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null},module.exports=Texture},{"../util/window":254}],94:[function(_dereq_,module,exports){"use strict";function computeTileMasks(e,i,l,a,r){for(var n=0;n<l.length;n++){var s=l[n];if(a.isLessThan(s.tileID))break;if(i.key===s.tileID.key)return;if(s.tileID.isChildOf(i)){for(var t=i.children(1/0),c=0;c<t.length;c++)computeTileMasks(e,t[c],l.slice(n),a,r);return}}var o=i.overscaledZ-e.overscaledZ,D=new CanonicalTileID(o,i.canonical.x-(e.canonical.x<<o),i.canonical.y-(e.canonical.y<<o));r[D.key]=r[D.key]||D}var ref=_dereq_("../source/tile_id"),OverscaledTileID=ref.OverscaledTileID,CanonicalTileID=ref.CanonicalTileID;module.exports=function(e,i){for(var l=e.sort(function(e,i){return e.tileID.isLessThan(i.tileID)?-1:i.tileID.isLessThan(e.tileID)?1:0}),a=0;a<l.length;a++){var r={},n=l[a],s=l.slice(a+1);computeTileMasks(n.tileID.wrapped(),n.tileID,s,new OverscaledTileID(0,n.tileID.wrap+1,0,0,0),r),n.setMask(r,i)}}},{"../source/tile_id":114}],95:[function(_dereq_,module,exports){"use strict";var VertexArrayObject=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};VertexArrayObject.prototype.bind=function(t,e,r,i,n,s,u,o){this.context=t;for(var a=this.boundPaintVertexBuffers.length!==i.length,f=0;!a&&f<i.length;f++)this.boundPaintVertexBuffers[f]!==i[f]&&(a=!0);var x=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==r||a||this.boundIndexBuffer!==n||this.boundVertexOffset!==s||this.boundDynamicVertexBuffer!==u||this.boundDynamicVertexBuffer2!==o;!t.extVertexArrayObject||x?this.freshBind(e,r,i,n,s,u,o):(t.bindVertexArrayOES.set(this.vao),u&&u.bind(),n&&n.dynamicDraw&&n.bind(),o&&o.bind())},VertexArrayObject.prototype.freshBind=function(t,e,r,i,n,s,u){var o,b=t.numAttributes,a=this.context,f=a.gl;if(a.extVertexArrayObject)this.vao&&this.destroy(),this.vao=a.extVertexArrayObject.createVertexArrayOES(),a.bindVertexArrayOES.set(this.vao),o=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=i,this.boundVertexOffset=n,this.boundDynamicVertexBuffer=s,this.boundDynamicVertexBuffer2=u;else{o=a.currentNumAttributes||0;for(var x=b;x<o;x++)f.disableVertexAttribArray(x)}e.enableAttributes(f,t);for(var d=0,h=r;d<h.length;d+=1)h[d].enableAttributes(f,t);s&&s.enableAttributes(f,t),u&&u.enableAttributes(f,t),e.bind(),e.setVertexAttribPointers(f,t,n);for(var V=0,l=r;V<l.length;V+=1){var y=l[V];y.bind(),y.setVertexAttribPointers(f,t,n)}s&&(s.bind(),s.setVertexAttribPointers(f,t,n)),i&&i.bind(),u&&(u.bind(),u.setVertexAttribPointers(f,t,n)),a.currentNumAttributes=b},VertexArrayObject.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},module.exports=VertexArrayObject},{}],96:[function(_dereq_,module,exports){"use strict";var util=_dereq_("../util/util");exports.packUint8ToFloat=function(t,l){return 256*(t=util.clamp(Math.floor(t),0,255))+(l=util.clamp(Math.floor(l),0,255))}},{"../util/util":275}],97:[function(_dereq_,module,exports){"use strict";var shaders={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},background:{fragmentSource:"uniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main() {\n    gl_FragColor = u_color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},backgroundPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},clippingMask:{fragmentSource:"void main() {\n    gl_FragColor = vec4(1.0);\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 15.0 * extrude_scale_length;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - 14) * a) where a is an arbitrary value and 14 is the\n    // maxzoom of the tile source. here we use a=0.3 which works out to the\n    // expression below. see nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - 14.0) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},re=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,loop=function(e){var n=shaders[e],a={};n.fragmentSource=n.fragmentSource.replace(re,function(e,n,t,o,i){return a[i]=!0,"define"===n?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+t+" "+o+" "+i+";\n#else\nuniform "+t+" "+o+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+t+" "+o+" "+i+" = u_"+i+";\n#endif\n"}),n.vertexSource=n.vertexSource.replace(re,function(e,n,t,o,i){var r="float"===o?"vec2":"vec4";return a[i]?"define"===n?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+t+" "+r+" a_"+i+";\nvarying "+t+" "+o+" "+i+";\n#else\nuniform "+t+" "+o+" u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+r+"(a_"+i+", a_"+i+"_t);\n#else\n    "+t+" "+o+" "+i+" = u_"+i+";\n#endif\n":"define"===n?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+t+" "+r+" a_"+i+";\n#else\nuniform "+t+" "+o+" u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+t+" "+o+" "+i+" = unpack_mix_"+r+"(a_"+i+", a_"+i+"_t);\n#else\n    "+t+" "+o+" "+i+" = u_"+i+";\n#endif\n"})};for(var programName in shaders)loop(programName);module.exports=shaders},{}],98:[function(_dereq_,module,exports){"use strict";var ImageSource=_dereq_("./image_source"),window=_dereq_("../util/window"),rasterBoundsAttributes=_dereq_("../data/raster_bounds_attributes"),VertexArrayObject=_dereq_("../render/vertex_array_object"),Texture=_dereq_("../render/texture"),CanvasSource=function(t){function e(e,i,s,a){t.call(this,e,i,s,a),this.options=i,this.animate=void 0===i.animate||i.animate}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){this.canvas=this.canvas||window.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire("error",new Error("Canvas dimensions cannot be less than or equal to zero.")):(this.play=function(){this._playing=!0,this.map._rerender()},this.pause=function(){this._playing=!1},this._finishLoading())},e.prototype.getCanvas=function(){return this.canvas},e.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},e.prototype.onRemove=function(){this.pause()},e.prototype.prepare=function(){var t=this,e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var i=this.map.painter.context,s=i.gl;for(var a in this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,rasterBoundsAttributes.members)),this.boundsVAO||(this.boundsVAO=new VertexArrayObject),this.texture?e?this.texture.update(this.canvas):this._playing&&(this.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE),s.texSubImage2D(s.TEXTURE_2D,0,0,0,s.RGBA,s.UNSIGNED_BYTE,this.canvas)):(this.texture=new Texture(i,this.canvas,s.RGBA),this.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE)),t.tiles){var r=t.tiles[a];"loaded"!==r.state&&(r.state="loaded",r.texture=t.texture)}}},e.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},e.prototype.hasTransition=function(){return this._playing},e.prototype._hasInvalidDimensions=function(){for(var e=0,i=[this.canvas.width,this.canvas.height];e<i.length;e+=1){var s=i[e];if(isNaN(s)||s<=0)return!0}return!1},e}(ImageSource);module.exports=CanvasSource},{"../data/raster_bounds_attributes":59,"../render/texture":93,"../render/vertex_array_object":95,"../util/window":254,"./image_source":102}],99:[function(_dereq_,module,exports){"use strict";var Evented=_dereq_("../util/evented"),util=_dereq_("../util/util"),window=_dereq_("../util/window"),EXTENT=_dereq_("../data/extent"),ResourceType=_dereq_("../util/ajax").ResourceType,browser=_dereq_("../util/browser"),GeoJSONSource=function(e){function t(t,i,o,r){e.call(this),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=o,this.setEventedParent(r),this._data=i.data,this._options=util.extend({},i),this._collectResourceTiming=i.collectResourceTiming,this._resourceTiming=[],void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type);var s=EXTENT/this.tileSize;this.workerOptions=util.extend({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*s,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*s,extent:EXTENT,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?Math.min(i.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:EXTENT,radius:(i.clusterRadius||50)*s,log:!1}},i.workerOptions)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(t){if(t)e.fire("error",{error:t});else{var i={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(i.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire("data",i)}})},t.prototype.onAdd=function(e){this.map=e,this.load()},t.prototype.setData=function(e){var t=this;return this._data=e,this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(e){if(e)return t.fire("error",{error:e});var i={dataType:"source",sourceDataType:"content"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(i.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire("data",i)}),this},t.prototype._updateWorkerData=function(e){var t=this,i=util.extend({},this.workerOptions),o=this._data;"string"==typeof o?(i.request=this.map._transformRequest(function resolveURL(e){var t=window.document.createElement("a");return t.href=e,t.href}(o),ResourceType.Source),i.request.collectResourceTiming=this._collectResourceTiming):i.data=JSON.stringify(o),this.workerID=this.dispatcher.send(this.type+".loadData",i,function(i,o){t._loaded=!0,o&&o.resourceTiming&&o.resourceTiming[t.id]&&(t._resourceTiming=o.resourceTiming[t.id].slice(0)),e(i)},this.workerID)},t.prototype.loadTile=function(e,t){var i=this,o=void 0===e.workerID||"expired"===e.state?"loadTile":"reloadTile",r={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:browser.devicePixelRatio,overscaling:e.tileID.overscaleFactor(),showCollisionBoxes:this.map.showCollisionBoxes};e.workerID=this.dispatcher.send(o,r,function(r,s){return e.unloadVectorData(),e.aborted?t(null):r?t(r):(e.loadVectorData(s,i.map.painter,"reloadTile"===o),t(null))},this.workerID)},t.prototype.abortTile=function(e){e.aborted=!0},t.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},null,e.workerID)},t.prototype.onRemove=function(){this.dispatcher.broadcast("removeSource",{type:this.type,source:this.id})},t.prototype.serialize=function(){return util.extend({},this._options,{type:this.type,data:this._data})},t.prototype.hasTransition=function(){return!1},t}(Evented);module.exports=GeoJSONSource},{"../data/extent":53,"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/util":275,"../util/window":254}],100:[function(_dereq_,module,exports){"use strict";function loadGeoJSONTile(e,r){var t=e.source,o=e.tileID.canonical;if(!this._geoJSONIndexes[t])return r(null,null);var u=this._geoJSONIndexes[t].getTile(o.z,o.x,o.y);if(!u)return r(null,null);var n=new GeoJSONWrapper(u.features),i=vtpbf(n);0===i.byteOffset&&i.byteLength===i.buffer.byteLength||(i=new Uint8Array(i)),r(null,{vectorTile:n,rawData:i.buffer})}var ajax=_dereq_("../util/ajax"),perf=_dereq_("../util/performance"),rewind=_dereq_("geojson-rewind"),GeoJSONWrapper=_dereq_("./geojson_wrapper"),vtpbf=_dereq_("vt-pbf"),supercluster=_dereq_("supercluster"),geojsonvt=_dereq_("geojson-vt"),GeoJSONWorkerSource=function(e){function r(r,t,o){e.call(this,r,t,loadGeoJSONTile),o&&(this.loadGeoJSON=o),this._geoJSONIndexes={}}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.loadData=function(e,r){var t=this;this.loadGeoJSON(e,function(o,u){if(o||!u)return r(o);if("object"!=typeof u)return r(new Error("Input data is not a valid GeoJSON object."));rewind(u,!0);try{t._geoJSONIndexes[e.source]=e.cluster?supercluster(e.superclusterOptions).load(u.features):geojsonvt(u,e.geojsonVtOptions)}catch(o){return r(o)}t.loaded[e.source]={};var n={};if(e.request&&e.request.collectResourceTiming){var i=perf.getEntriesByName(e.request.url);i&&(n.resourceTiming={},n.resourceTiming[e.source]=JSON.parse(JSON.stringify(i)))}r(null,n)})},r.prototype.reloadTile=function(r,t){var o=this.loaded[r.source],u=r.uid;return o&&o[u]?e.prototype.reloadTile.call(this,r,t):this.loadTile(r,t)},r.prototype.loadGeoJSON=function(e,r){if(e.request)ajax.getJSON(e.request,r);else{if("string"!=typeof e.data)return r(new Error("Input data is not a valid GeoJSON object."));try{return r(null,JSON.parse(e.data))}catch(e){return r(new Error("Input data is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(e,r){this._geoJSONIndexes[e.source]&&delete this._geoJSONIndexes[e.source],r()},r}(_dereq_("./vector_tile_worker_source"));module.exports=GeoJSONWorkerSource},{"../util/ajax":251,"../util/performance":268,"./geojson_wrapper":101,"./vector_tile_worker_source":116,"geojson-rewind":15,"geojson-vt":19,supercluster:32,"vt-pbf":34}],101:[function(_dereq_,module,exports){"use strict";var Point=_dereq_("@mapbox/point-geometry"),toGeoJSON=_dereq_("@mapbox/vector-tile").VectorTileFeature.prototype.toGeoJSON,EXTENT=_dereq_("../data/extent"),FeatureWrapper=function(e){this._feature=e,this.extent=EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};FeatureWrapper.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],r=0,o=this._feature.geometry;r<o.length;r+=1){var a=o[r];t.push([new Point(a[0],a[1])])}return t}for(var i=[],p=0,n=this._feature.geometry;p<n.length;p+=1){for(var u=[],h=0,f=n[p];h<f.length;h+=1){var l=f[h];u.push(new Point(l[0],l[1]))}i.push(u)}return i},FeatureWrapper.prototype.toGeoJSON=function(e,t,r){return toGeoJSON.call(this,e,t,r)};var GeoJSONWrapper=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=EXTENT,this.length=e.length,this._features=e};GeoJSONWrapper.prototype.feature=function(e){return new FeatureWrapper(this._features[e])},module.exports=GeoJSONWrapper},{"../data/extent":53,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],102:[function(_dereq_,module,exports){"use strict";var util=_dereq_("../util/util"),CanonicalTileID=_dereq_("./tile_id").CanonicalTileID,LngLat=_dereq_("../geo/lng_lat"),Point=_dereq_("@mapbox/point-geometry"),Evented=_dereq_("../util/evented"),ajax=_dereq_("../util/ajax"),browser=_dereq_("../util/browser"),EXTENT=_dereq_("../data/extent"),RasterBoundsArray=_dereq_("../data/array_types").RasterBoundsArray,rasterBoundsAttributes=_dereq_("../data/raster_bounds_attributes"),VertexArrayObject=_dereq_("../render/vertex_array_object"),Texture=_dereq_("../render/texture"),ImageSource=function(t){function e(e,r,o,i){t.call(this),this.id=e,this.dispatcher=o,this.coordinates=r.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(i),this.options=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this.url=this.options.url,ajax.getImage(this.map._transformRequest(this.url,ajax.ResourceType.Image),function(e,r){e?t.fire("error",{error:e}):r&&(t.image=browser.getImageData(r),t._finishLoading())})},e.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire("data",{dataType:"source",sourceDataType:"metadata"}))},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.setCoordinates=function(t){this.coordinates=t;var e=this.map,r=t.map(function(t){return e.transform.locationCoordinate(LngLat.convert(t)).zoomTo(0)}),o=this.centerCoord=util.getCoordinatesCenter(r);o.column=Math.floor(o.column),o.row=Math.floor(o.row),this.tileID=new CanonicalTileID(o.zoom,o.column,o.row),this.minzoom=this.maxzoom=o.zoom;var i=r.map(function(t){var e=t.zoomTo(o.zoom);return new Point(Math.round((e.column-o.column)*EXTENT),Math.round((e.row-o.row)*EXTENT))});return this._boundsArray=new RasterBoundsArray,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,EXTENT,EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire("data",{dataType:"source",sourceDataType:"content"}),this},e.prototype.prepare=function(){var t=this;if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,r=e.gl;for(var o in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,rasterBoundsAttributes.members)),this.boundsVAO||(this.boundsVAO=new VertexArrayObject),this.texture||(this.texture=new Texture(e,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),t.tiles){var i=t.tiles[o];"loaded"!==i.state&&(i.state="loaded",i.texture=t.texture)}}},e.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},e.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},e.prototype.hasTransition=function(){return!1},e}(Evented);module.exports=ImageSource},{"../data/array_types":39,"../data/extent":53,"../data/raster_bounds_attributes":59,"../geo/lng_lat":62,"../render/texture":93,"../render/vertex_array_object":95,"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/util":275,"./tile_id":114,"@mapbox/point-geometry":4}],103:[function(_dereq_,module,exports){"use strict";var util=_dereq_("../util/util"),ajax=_dereq_("../util/ajax"),browser=_dereq_("../util/browser"),normalizeURL=_dereq_("../util/mapbox").normalizeSourceURL;module.exports=function(r,e,o){var u=function(r,e){if(r)return o(r);if(e){var u=util.pick(e,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);e.vector_layers&&(u.vectorLayers=e.vector_layers,u.vectorLayerIds=u.vectorLayers.map(function(r){return r.id})),o(null,u)}};r.url?ajax.getJSON(e(normalizeURL(r.url),ajax.ResourceType.Source),u):browser.frame(function(){return u(null,r)})}},{"../util/ajax":251,"../util/browser":252,"../util/mapbox":267,"../util/util":275}],104:[function(_dereq_,module,exports){"use strict";var EXTENT=_dereq_("../data/extent");module.exports=function(e,t,r){return t*(EXTENT/(e.tileSize*Math.pow(2,r-e.tileID.overscaledZ)))}},{"../data/extent":53}],105:[function(_dereq_,module,exports){"use strict";function sortTilesIn(e,r){var a=e.tileID,n=r.tileID;return a.overscaledZ-n.overscaledZ||a.canonical.y-n.canonical.y||a.wrap-n.wrap||a.canonical.x-n.canonical.x}exports.rendered=function(e,r,a,n,t,u,l){var o=e.tilesIn(a);o.sort(sortTilesIn);for(var s=[],i=0,c=o;i<c.length;i+=1){var d=c[i];s.push({wrappedTileID:d.tileID.wrapped().key,queryResults:d.tile.queryRenderedFeatures(r,d.queryGeometry,d.scale,n,u,e.id,l)})}return function mergeRenderedFeatureLayers(e){for(var r={},a={},n=0,t=e;n<t.length;n+=1){var u=t[n],l=u.queryResults,o=u.wrappedTileID,s=a[o]=a[o]||{};for(var i in l)for(var c=l[i],d=s[i]=s[i]||{},f=r[i]=r[i]||[],p=0,v=c;p<v.length;p+=1){var y=v[p];d[y.featureIndex]||(d[y.featureIndex]=!0,f.push(y.feature))}}return r}(s)},exports.source=function(e,r){for(var a=e.getRenderableIds().map(function(r){return e.getTileByID(r)}),n=[],t={},u=0;u<a.length;u++){var l=a[u],o=l.tileID.canonical.key;t[o]||(t[o]=!0,l.querySourceFeatures(n,r))}return n}},{}],106:[function(_dereq_,module,exports){"use strict";var ajax=_dereq_("../util/ajax"),util=_dereq_("../util/util"),normalizeURL=(_dereq_("../util/evented"),_dereq_("../util/mapbox").normalizeTileURL),browser=_dereq_("../util/browser"),OverscaledTileID=_dereq_("./tile_id").OverscaledTileID,RasterDEMTileSource=function(e){function r(r,i,t,l){e.call(this,r,i,t,l),this.type="raster-dem",this.maxzoom=22,this._options=util.extend({},i)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds}},r.prototype.loadTile=function(e,r){var l=normalizeURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=ajax.getImage(this.map._transformRequest(l,ajax.ResourceType.Tile),function i(i,l){if(delete e.request,e.aborted)e.state="unloaded",r(null);else if(i)e.state="errored",r(i);else if(l){this.map._refreshExpiredTiles&&e.setExpiryData(l),delete l.cacheControl,delete l.expires;var a=browser.getImageData(l),s={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:a};e.workerID&&"expired"!==e.state||(e.workerID=this.dispatcher.send("loadDEMTile",s,function t(i,t){i&&(e.state="errored",r(i)),t&&(e.dem=t,e.needsHillshadePrepare=!0,e.state="loaded",r(null))}.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},r.prototype._getNeighboringTiles=function(e){var r=e.canonical,i=Math.pow(2,r.z),t=(r.x-1+i)%i,l=0===r.x?e.wrap-1:e.wrap,a=(r.x+1+i)%i,s=r.x+1===i?e.wrap+1:e.wrap,o={};return o[new OverscaledTileID(e.overscaledZ,l,r.z,t,r.y).key]={backfilled:!1},o[new OverscaledTileID(e.overscaledZ,s,r.z,a,r.y).key]={backfilled:!1},r.y>0&&(o[new OverscaledTileID(e.overscaledZ,l,r.z,t,r.y-1).key]={backfilled:!1},o[new OverscaledTileID(e.overscaledZ,e.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},o[new OverscaledTileID(e.overscaledZ,s,r.z,a,r.y-1).key]={backfilled:!1}),r.y+1<i&&(o[new OverscaledTileID(e.overscaledZ,l,r.z,t,r.y+1).key]={backfilled:!1},o[new OverscaledTileID(e.overscaledZ,e.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},o[new OverscaledTileID(e.overscaledZ,s,r.z,a,r.y+1).key]={backfilled:!1}),o},r.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:e.uid,source:this.id},void 0,e.workerID)},r}(_dereq_("./raster_tile_source"));module.exports=RasterDEMTileSource},{"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/mapbox":267,"../util/util":275,"./raster_tile_source":108,"./tile_id":114}],107:[function(_dereq_,module,exports){"use strict";var DEMData=_dereq_("../data/dem_data").DEMData,RasterDEMTileWorkerSource=function(){this.loading={},this.loaded={}};RasterDEMTileWorkerSource.prototype.loadTile=function(e,a){var o=e.source,r=e.uid;this.loading[o]||(this.loading[o]={});var t=new DEMData(r);this.loading[o][r]=t,t.loadFromImage(e.rawImageData),delete this.loading[o][r],this.loaded[o]=this.loaded[o]||{},this.loaded[o][r]=t,a(null,t)},RasterDEMTileWorkerSource.prototype.removeTile=function(e){var a=this.loaded[e.source],o=e.uid;a&&a[o]&&delete a[o]},module.exports=RasterDEMTileWorkerSource},{"../data/dem_data":52}],108:[function(_dereq_,module,exports){"use strict";var util=_dereq_("../util/util"),ajax=_dereq_("../util/ajax"),Evented=_dereq_("../util/evented"),loadTileJSON=_dereq_("./load_tilejson"),normalizeURL=_dereq_("../util/mapbox").normalizeTileURL,TileBounds=_dereq_("./tile_bounds"),Texture=_dereq_("../render/texture"),RasterTileSource=function(e){function t(t,i,r,o){e.call(this),this.id=t,this.dispatcher=r,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=util.extend({},i),util.extend(this,util.pick(i,["url","scheme","tileSize"]))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),loadTileJSON(this._options,this.map._transformRequest,function(t,i){t?e.fire("error",t):i&&(util.extend(e,i),i.bounds&&(e.tileBounds=new TileBounds(i.bounds,e.minzoom,e.maxzoom)),e.fire("data",{dataType:"source",sourceDataType:"metadata"}),e.fire("data",{dataType:"source",sourceDataType:"content"}))})},t.prototype.onAdd=function(e){this.map=e,this.load()},t.prototype.serialize=function(){return util.extend({},this._options)},t.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},t.prototype.loadTile=function(e,t){var i=this,r=normalizeURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=ajax.getImage(this.map._transformRequest(r,ajax.ResourceType.Tile),function(r,o){if(delete e.request,e.aborted)e.state="unloaded",t(null);else if(r)e.state="errored",t(r);else if(o){i.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=i.map.painter.context,n=a.gl;e.texture=i.map.painter.getTileTexture(o.width),e.texture?(e.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE,n.LINEAR_MIPMAP_NEAREST),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,o)):(e.texture=new Texture(a,o,n.RGBA),e.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE,n.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&n.texParameterf(n.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),n.generateMipmap(n.TEXTURE_2D),e.state="loaded",t(null)}})},t.prototype.abortTile=function(e,t){e.request&&(e.request.abort(),delete e.request),t()},t.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},t.prototype.hasTransition=function(){return!1},t}(Evented);module.exports=RasterTileSource},{"../render/texture":93,"../util/ajax":251,"../util/evented":260,"../util/mapbox":267,"../util/util":275,"./load_tilejson":103,"./tile_bounds":113}],109:[function(_dereq_,module,exports){"use strict";var ajax=_dereq_("../util/ajax"),Evented=_dereq_("../util/evented"),window=_dereq_("../util/window"),pluginRequested=!1,pluginBlobURL=null;module.exports.evented=new Evented,module.exports.registerForPluginAvailability=function(e){return pluginBlobURL?e({pluginBlobURL:pluginBlobURL,errorCallback:module.exports.errorCallback}):module.exports.evented.once("pluginAvailable",e),e},module.exports.createBlobURL=function(e){return window.URL.createObjectURL(new window.Blob([e.data],{type:"text/javascript"}))},module.exports.clearRTLTextPlugin=function(){pluginRequested=!1,pluginBlobURL=null},module.exports.setRTLTextPlugin=function(e,l){if(pluginRequested)throw new Error("setRTLTextPlugin cannot be called multiple times.");pluginRequested=!0,module.exports.errorCallback=l,ajax.getArrayBuffer({url:e},function(e,t){e?l(e):t&&(pluginBlobURL=module.exports.createBlobURL(t),module.exports.evented.fire("pluginAvailable",{pluginBlobURL:pluginBlobURL,errorCallback:l}))})},module.exports.applyArabicShaping=null,module.exports.processBidirectionalText=null},{"../util/ajax":251,"../util/evented":260,"../util/window":254}],110:[function(_dereq_,module,exports){"use strict";var util=_dereq_("../util/util"),sourceTypes={vector:_dereq_("../source/vector_tile_source"),raster:_dereq_("../source/raster_tile_source"),"raster-dem":_dereq_("../source/raster_dem_tile_source"),geojson:_dereq_("../source/geojson_source"),video:_dereq_("../source/video_source"),image:_dereq_("../source/image_source"),canvas:_dereq_("../source/canvas_source")};exports.create=function(e,r,o,s){var u=new sourceTypes[r.type](e,r,o,s);if(u.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+u.id);return util.bindAll(["load","abort","unload","serialize","prepare"],u),u},exports.getType=function(e){return sourceTypes[e]},exports.setType=function(e,r){sourceTypes[e]=r}},{"../source/canvas_source":98,"../source/geojson_source":99,"../source/image_source":102,"../source/raster_dem_tile_source":106,"../source/raster_tile_source":108,"../source/vector_tile_source":115,"../source/video_source":117,"../util/util":275}],111:[function(_dereq_,module,exports){"use strict";function coordinateToTilePoint(e,t){var i=t.zoomTo(e.canonical.z);return new Point((i.column-(e.canonical.x+e.wrap*Math.pow(2,e.canonical.z)))*EXTENT,(i.row-e.canonical.y)*EXTENT)}function isRasterType(e){return"raster"===e||"image"===e||"video"===e}var createSource=_dereq_("./source").create,Tile=_dereq_("./tile"),Evented=_dereq_("../util/evented"),Cache=_dereq_("../util/lru_cache"),Coordinate=_dereq_("../geo/coordinate"),util=_dereq_("../util/util"),EXTENT=_dereq_("../data/extent"),Point=(_dereq_("../gl/context"),_dereq_("@mapbox/point-geometry")),browser=_dereq_("../util/browser"),OverscaledTileID=_dereq_("./tile_id").OverscaledTileID,SourceCache=function(e){function t(t,i,r){var o=this;e.call(this),this.id=t,this.dispatcher=r,this.on("data",function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))}),this.on("error",function(){o._sourceErrored=!0}),this._source=createSource(t,i,r,this),this._tiles={},this._cache=new Cache(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this),this._coveredTiles={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},t.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},t.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var i=this._tiles[t];if("loaded"!==i.state&&"errored"!==i.state)return!1}return!0},t.prototype.getSource=function(){return this._source},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},t.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},t.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,function(){})},t.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,function(){})},t.prototype.serialize=function(){return this._source.serialize()},t.prototype.prepare=function(e){for(var i in this._source.prepare&&this._source.prepare(),this._tiles)this._tiles[i].upload(e)},t.prototype.getIds=function(){var e=this;return Object.keys(this._tiles).map(Number).sort(function(t,i){var r=e._tiles[t].tileID,o=e._tiles[i].tileID,a=new Point(r.canonical.x,r.canonical.y).rotate(e.transform.angle),s=new Point(o.canonical.x,o.canonical.y).rotate(e.transform.angle);return r.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x})},t.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},t.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0,{});return!!t&&this._isIdRenderable(t.tileID.key)},t.prototype._isIdRenderable=function(e){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]},t.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._resetCache(),this._tiles)this._reloadTile(t,"reloading")},t.prototype._reloadTile=function(e,t){var i=this._tiles[e];i&&("loading"!==i.state&&(i.state=t),this._loadTile(i,this._tileLoaded.bind(this,i,e,t)))},t.prototype._tileLoaded=function(e,t,i,r){if(r)return e.state="errored",void(404!==r.status?this._source.fire("error",{tile:e,error:r}):this.update(this.transform));e.timeAdded=browser.now(),"expired"===i&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._source.fire("data",{dataType:"source",tile:e,coord:e.tileID}),this.map&&(this.map.painter.tileExtentVAO.vao=null)},t.prototype._backfillDEM=function(e){function t(e,t){e.needsHillshadePrepare=!0;var i=t.tileID.canonical.x-e.tileID.canonical.x,r=t.tileID.canonical.y-e.tileID.canonical.y,o=Math.pow(2,e.tileID.canonical.z),a=t.tileID.key;0===i&&0===r||Math.abs(r)>1||(Math.abs(i)>1&&(1===Math.abs(i+o)?i+=o:1===Math.abs(i-o)&&(i-=o)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,i,r),e.neighboringTiles&&e.neighboringTiles[a]&&(e.neighboringTiles[a].backfilled=!0)))}for(var r=this.getRenderableIds(),o=0;o<r.length;o++){var a=r[o];if(e.neighboringTiles&&e.neighboringTiles[a]){var s=this.getTileByID(a);t(e,s),t(s,e)}}},t.prototype.getTile=function(e){return this.getTileByID(e.key)},t.prototype.getTileByID=function(e){return this._tiles[e]},t.prototype.getZoom=function(e){return e.zoom+e.scaleZoom(e.tileSize/this._source.tileSize)},t.prototype._findLoadedChildren=function(e,t,i){var r=this,o=!1;for(var a in r._tiles){var s=r._tiles[a];if(!(i[a]||!s.hasData()||s.tileID.overscaledZ<=e.overscaledZ||s.tileID.overscaledZ>t)){var n=Math.pow(2,s.tileID.canonical.z-e.canonical.z);if(Math.floor(s.tileID.canonical.x/n)===e.canonical.x&&Math.floor(s.tileID.canonical.y/n)===e.canonical.y)for(i[a]=s.tileID,o=!0;s&&s.tileID.overscaledZ-1>e.overscaledZ;){var l=s.tileID.scaledTo(s.tileID.overscaledZ-1);if(!l)break;(s=r._tiles[l.key])&&s.hasData()&&(delete i[a],i[l.key]=l)}}}return o},t.prototype.findLoadedParent=function(e,t,i){for(var r=this,o=e.overscaledZ-1;o>=t;o--){var a=e.scaledTo(o);if(!a)return;var s=String(a.key),n=r._tiles[s];if(n&&n.hasData())return i[s]=a,n;if(r._cache.has(s))return i[s]=a,r._cache.get(s)}},t.prototype.updateCacheSize=function(e){var r=(Math.ceil(e.width/this._source.tileSize)+1)*(Math.ceil(e.height/this._source.tileSize)+1),o=Math.floor(5*r),a="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,o):o;this._cache.setMaxSize(a)},t.prototype.update=function(e){var i=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var r;this.updateCacheSize(e),this._coveredTiles={},this.used?this._source.tileID?r=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(e){return new OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)}):(r=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(r=r.filter(function(e){return i._source.hasTile(e)}))):r=[];var m,o=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),a=Math.max(o-t.maxOverzooming,this._source.minzoom),s=Math.max(o+t.maxUnderzooming,this._source.minzoom),n=this._updateRetainedTiles(r,o),l={};if(isRasterType(this._source.type))for(var c=Object.keys(n),h=0;h<c.length;h++){var d=c[h],u=n[d],_=i._tiles[d];if(_&&(void 0===_.fadeEndTime||_.fadeEndTime>=browser.now())){i._findLoadedChildren(u,s,n)&&(n[d]=u);var p=i.findLoadedParent(u,a,l);p&&i._addTile(p.tileID)}}for(m in l)n[m]||(i._coveredTiles[m]=!0);for(m in l)n[m]=l[m];for(var f=util.keysDifference(this._tiles,n),T=0;T<f.length;T++)i._removeTile(f[T])}},t.prototype._updateRetainedTiles=function(e,i){for(var r=this,o={},a={},s=Math.max(i-t.maxOverzooming,this._source.minzoom),n=Math.max(i+t.maxUnderzooming,this._source.minzoom),l=0;l<e.length;l++){var c=e[l],h=r._addTile(c),d=!1;if(h.hasData())o[c.key]=c;else{d=h.wasRequested(),o[c.key]=c;var u=!0;if(i+1>r._source.maxzoom){var _=c.children(r._source.maxzoom)[0],p=r.getTile(_);p&&p.hasData()?o[_.key]=_:u=!1}else{r._findLoadedChildren(c,n,o);for(var m=c.children(r._source.maxzoom),f=0;f<m.length;f++)if(!o[m[f].key]){u=!1;break}}if(!u)for(var T=c.overscaledZ-1;T>=s;--T){var v=c.scaledTo(T);if(a[v.key])break;if(a[v.key]=!0,!(h=r.getTile(v))&&d&&(h=r._addTile(v)),h&&(o[v.key]=v,d=h.wasRequested(),h.hasData()))break}}}return o},t.prototype._addTile=function(e){var t=this._tiles[e.key];if(t)return t;(t=this._cache.getAndRemove(e.key))&&this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t));var i=Boolean(t);return i||(t=new Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))),t?(t.uses++,this._tiles[e.key]=t,i||this._source.fire("dataloading",{tile:t,coord:t.tileID,dataType:"source"}),t):null},t.prototype._setTileReloadTimer=function(e,t){var i=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout(function(){i._reloadTile(e,"expired"),delete i._timers[e]},r))},t.prototype._setCacheInvalidationTimer=function(e,t){var i=this;e in this._cacheTimers&&(clearTimeout(this._cacheTimers[e]),delete this._cacheTimers[e]);var r=t.getExpiryTimeout();r&&(this._cacheTimers[e]=setTimeout(function(){i._cache.remove(e),delete i._cacheTimers[e]},r))},t.prototype._removeTile=function(e){var t=this._tiles[e];if(t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),!(t.uses>0)))if(t.hasData()){t.tileID=t.tileID.wrapped();var i=t.tileID.key;this._cache.add(i,t),this._setCacheInvalidationTimer(i,t)}else t.aborted=!0,this._abortTile(t),this._unloadTile(t)},t.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._resetCache()},t.prototype._resetCache=function(){for(var t in this._cacheTimers)clearTimeout(this._cacheTimers[t]);this._cacheTimers={},this._cache.reset()},t.prototype.tilesIn=function(e){for(var i=[],r=this.getIds(),o=1/0,a=1/0,s=-1/0,n=-1/0,l=e[0].zoom,c=0;c<e.length;c++){var h=e[c];o=Math.min(o,h.column),a=Math.min(a,h.row),s=Math.max(s,h.column),n=Math.max(n,h.row)}for(var d=0;d<r.length;d++){var u=this._tiles[r[d]],_=u.tileID,p=[coordinateToTilePoint(_,new Coordinate(o,a,l)),coordinateToTilePoint(_,new Coordinate(s,n,l))];if(p[0].x<EXTENT&&p[0].y<EXTENT&&p[1].x>=0&&p[1].y>=0){for(var m=[],f=0;f<e.length;f++)m.push(coordinateToTilePoint(_,e[f]));i.push({tile:u,tileID:_,queryGeometry:[m],scale:Math.pow(2,this.transform.zoom-u.tileID.overscaledZ)})}}return i},t.prototype.getVisibleCoordinates=function(){for(var e=this,t=this.getRenderableIds().map(function(t){return e._tiles[t].tileID}),i=0,r=t;i<r.length;i+=1){var o=r[i];o.posMatrix=e.transform.calculatePosMatrix(o.toUnwrapped())}return t},t.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(isRasterType(this._source.type))for(var t in this._tiles){var i=this._tiles[t];if(void 0!==i.fadeEndTime&&i.fadeEndTime>=browser.now())return!0}return!1},t}(Evented);SourceCache.maxOverzooming=10,SourceCache.maxUnderzooming=3,module.exports=SourceCache},{"../data/extent":53,"../geo/coordinate":61,"../gl/context":66,"../util/browser":252,"../util/evented":260,"../util/lru_cache":266,"../util/util":275,"./source":110,"./tile":112,"./tile_id":114,"@mapbox/point-geometry":4}],112:[function(_dereq_,module,exports){"use strict";var util=_dereq_("../util/util"),deserializeBucket=_dereq_("../data/bucket").deserialize,vt=(_dereq_("../data/feature_index"),_dereq_("@mapbox/vector-tile")),Protobuf=_dereq_("pbf"),GeoJSONFeature=_dereq_("../util/vectortile_to_geojson"),featureFilter=_dereq_("../style-spec/feature_filter"),SymbolBucket=(_dereq_("../symbol/collision_index"),_dereq_("../data/bucket/symbol_bucket")),ref=_dereq_("../data/array_types"),RasterBoundsArray=ref.RasterBoundsArray,CollisionBoxArray=ref.CollisionBoxArray,rasterBoundsAttributes=_dereq_("../data/raster_bounds_attributes"),EXTENT=_dereq_("../data/extent"),Point=_dereq_("@mapbox/point-geometry"),Texture=_dereq_("../render/texture"),SegmentVector=_dereq_("../data/segment").SegmentVector,TriangleIndexArray=_dereq_("../data/index_array_type").TriangleIndexArray,browser=_dereq_("../util/browser"),Tile=function(e,t){this.tileID=e,this.uid=util.uniqueId(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.expiredRequestCount=0,this.state="loading"};Tile.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<browser.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},Tile.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Tile.prototype.loadVectorData=function(e,t,i){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){if(e.rawTileData&&(this.rawTileData=e.rawTileData),this.collisionBoxArray=e.collisionBoxArray,this.featureIndex=e.featureIndex,this.featureIndex.rawTileData=this.rawTileData,this.buckets=deserializeBucket(e.buckets,t.style),i)for(var a in this.buckets){var s=this.buckets[a];s instanceof SymbolBucket&&(s.justReloaded=!0)}e.iconAtlasImage&&(this.iconAtlasImage=e.iconAtlasImage),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new CollisionBoxArray},Tile.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.iconAtlasTexture&&this.iconAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.collisionBoxArray=null,this.featureIndex=null,this.state="unloaded"},Tile.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},Tile.prototype.getBucket=function(e){return this.buckets[e.id]},Tile.prototype.upload=function(e){for(var i in this.buckets){var r=this.buckets[i];r.uploaded||(r.upload(e),r.uploaded=!0)}var a=e.gl;this.iconAtlasImage&&(this.iconAtlasTexture=new Texture(e,this.iconAtlasImage,a.RGBA),this.iconAtlasImage=null),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Texture(e,this.glyphAtlasImage,a.ALPHA),this.glyphAtlasImage=null)},Tile.prototype.queryRenderedFeatures=function(e,t,i,r,a,s,o){if(!this.featureIndex||!this.collisionBoxArray)return{};var l=0,u={};for(var h in e){var d=this.getBucket(e[h]);d&&(l=Math.max(l,e[h].queryRadius(d)),d instanceof SymbolBucket&&void 0!==d.bucketInstanceId&&(u[d.bucketInstanceId]=!0))}return this.featureIndex.query({queryGeometry:t,scale:i,tileSize:this.tileSize,bearing:a,params:r,additionalRadius:l,collisionBoxArray:this.collisionBoxArray,sourceID:s,collisionIndex:o,bucketInstanceIds:u},e)},Tile.prototype.querySourceFeatures=function(e,t){if(this.rawTileData){this.vtLayers||(this.vtLayers=new vt.VectorTile(new Protobuf(this.rawTileData)).layers);var r=t?t.sourceLayer:"",a=this.vtLayers._geojsonTileLayer||this.vtLayers[r];if(a)for(var s=featureFilter(t&&t.filter),o={z:this.tileID.overscaledZ,x:this.tileID.canonical.x,y:this.tileID.canonical.y},n=0;n<a.length;n++){var l=a.feature(n);if(s({zoom:this.tileID.overscaledZ},l)){var u=new GeoJSONFeature(l,o.z,o.x,o.y);u.tile=o,e.push(u)}}}},Tile.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},Tile.prototype.setMask=function(e,t){if(!util.deepEqual(this.mask,e)&&(this.mask=e,this.clearMask(),!util.deepEqual(e,{0:!0}))){var r=new RasterBoundsArray,a=new TriangleIndexArray;this.segments=new SegmentVector,this.segments.prepareSegment(0,r,a);for(var s=Object.keys(e),o=0;o<s.length;o++){var n=e[s[o]],l=EXTENT>>n.z,u=new Point(n.x*l,n.y*l),h=new Point(u.x+l,u.y+l),d=this.segments.prepareSegment(4,r,a);r.emplaceBack(u.x,u.y,u.x,u.y),r.emplaceBack(h.x,u.y,h.x,u.y),r.emplaceBack(u.x,h.y,u.x,h.y),r.emplaceBack(h.x,h.y,h.x,h.y);var c=d.vertexLength;a.emplaceBack(c,c+1,c+2),a.emplaceBack(c+1,c+2,c+3),d.vertexLength+=4,d.primitiveLength+=2}this.maskedBoundsBuffer=t.createVertexBuffer(r,rasterBoundsAttributes.members),this.maskedIndexBuffer=t.createIndexBuffer(a)}},Tile.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Tile.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var i=util.parseCacheControl(e.cacheControl);i["max-age"]&&(this.expirationTime=Date.now()+1e3*i["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var r=Date.now(),a=!1;if(this.expirationTime>r)a=!1;else if(t)if(this.expirationTime<t)a=!0;else{var s=this.expirationTime-t;s?this.expirationTime=r+Math.max(s,3e4):a=!0}else a=!0;a?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Tile.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},module.exports=Tile},{"../data/array_types":39,"../data/bucket":40,"../data/bucket/symbol_bucket":51,"../data/extent":53,"../data/feature_index":54,"../data/index_array_type":55,"../data/raster_bounds_attributes":59,"../data/segment":60,"../render/texture":93,"../style-spec/feature_filter":148,"../symbol/collision_index":217,"../util/browser":252,"../util/util":275,"../util/vectortile_to_geojson":276,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8,pbf:30}],113:[function(_dereq_,module,exports){"use strict";var LngLatBounds=_dereq_("../geo/lng_lat_bounds"),clamp=_dereq_("../util/util").clamp,TileBounds=function(t,n,o){this.bounds=LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=o||24};TileBounds.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},TileBounds.prototype.contains=function(t){var n_minX=Math.floor(this.lngX(this.bounds.getWest(),t.z)),n_minY=Math.floor(this.latY(this.bounds.getNorth(),t.z)),n_maxX=Math.ceil(this.lngX(this.bounds.getEast(),t.z)),n_maxY=Math.ceil(this.latY(this.bounds.getSouth(),t.z));return t.x>=n_minX&&t.x<n_maxX&&t.y>=n_minY&&t.y<n_maxY},TileBounds.prototype.lngX=function(t,n){return(t+180)*(Math.pow(2,n)/360)},TileBounds.prototype.latY=function(t,n){var o=clamp(Math.sin(Math.PI/180*t),-.9999,.9999),a=Math.pow(2,n)/(2*Math.PI);return Math.pow(2,n-1)+.5*Math.log((1+o)/(1-o))*-a},module.exports=TileBounds},{"../geo/lng_lat_bounds":63,"../util/util":275}],114:[function(_dereq_,module,exports){"use strict";function calculateKey(e,i,a,t){(e*=2)<0&&(e=-1*e-1);var n=1<<i;return 32*(n*n*e+n*t+a)+i}var WhooTS=_dereq_("@mapbox/whoots-js"),register=_dereq_("../util/web_worker_transfer").register,Coordinate=_dereq_("../geo/coordinate"),CanonicalTileID=function(e,i,a){this.z=e,this.x=i,this.y=a,this.key=calculateKey(0,e,i,a)};CanonicalTileID.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},CanonicalTileID.prototype.url=function(e,i){var a=WhooTS.getTileBBox(this.x,this.y,this.z),t=function getQuadkey(e,i,a){for(var t,n="",c=e;c>0;c--)n+=(i&(t=1<<c-1)?1:0)+(a&t?2:0);return n}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===i?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",t).replace("{bbox-epsg-3857}",a)};var UnwrappedTileID=function(e,i){this.wrap=e,this.canonical=i,this.key=calculateKey(e,i.z,i.x,i.y)},OverscaledTileID=function(e,i,a,t,n){this.overscaledZ=e,this.wrap=i,this.canonical=new CanonicalTileID(a,+t,+n),this.key=calculateKey(i,e,t,n)};OverscaledTileID.prototype.scaledTo=function(e){var i=this.canonical.z-e;return e>this.canonical.z?new OverscaledTileID(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new OverscaledTileID(e,this.wrap,e,this.canonical.x>>i,this.canonical.y>>i)},OverscaledTileID.prototype.isChildOf=function(e){var i=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>i&&e.canonical.y===this.canonical.y>>i},OverscaledTileID.prototype.children=function(e){if(this.overscaledZ>=e)return[new OverscaledTileID(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var i=this.canonical.z+1,a=2*this.canonical.x,t=2*this.canonical.y;return[new OverscaledTileID(i,this.wrap,i,a,t),new OverscaledTileID(i,this.wrap,i,a+1,t),new OverscaledTileID(i,this.wrap,i,a,t+1),new OverscaledTileID(i,this.wrap,i,a+1,t+1)]},OverscaledTileID.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},OverscaledTileID.prototype.wrapped=function(){return new OverscaledTileID(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},OverscaledTileID.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},OverscaledTileID.prototype.toUnwrapped=function(){return new UnwrappedTileID(this.wrap,this.canonical)},OverscaledTileID.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},OverscaledTileID.prototype.toCoordinate=function(){return new Coordinate(this.canonical.x+Math.pow(2,this.wrap),this.canonical.y,this.canonical.z)},register("CanonicalTileID",CanonicalTileID),register("OverscaledTileID",OverscaledTileID,{omit:["posMatrix"]}),module.exports={CanonicalTileID:CanonicalTileID,OverscaledTileID:OverscaledTileID,UnwrappedTileID:UnwrappedTileID}},{"../geo/coordinate":61,"../util/web_worker_transfer":278,"@mapbox/whoots-js":12}],115:[function(_dereq_,module,exports){"use strict";var Evented=_dereq_("../util/evented"),util=_dereq_("../util/util"),loadTileJSON=_dereq_("./load_tilejson"),normalizeURL=_dereq_("../util/mapbox").normalizeTileURL,TileBounds=_dereq_("./tile_bounds"),ResourceType=_dereq_("../util/ajax").ResourceType,browser=_dereq_("../util/browser"),VectorTileSource=function(e){function t(t,i,o,r){if(e.call(this),this.id=t,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,util.extend(this,util.pick(i,["url","scheme","tileSize"])),this._options=util.extend({type:"vector"},i),this._collectResourceTiming=i.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),loadTileJSON(this._options,this.map._transformRequest,function(t,i){t?e.fire("error",t):i&&(util.extend(e,i),i.bounds&&(e.tileBounds=new TileBounds(i.bounds,e.minzoom,e.maxzoom)),e.fire("data",{dataType:"source",sourceDataType:"metadata"}),e.fire("data",{dataType:"source",sourceDataType:"content"}))})},t.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},t.prototype.onAdd=function(e){this.map=e,this.load()},t.prototype.serialize=function(){return util.extend({},this._options)},t.prototype.loadTile=function(e,t){function i(i,o){return e.aborted?t(null):i?t(i):(o&&o.resourceTiming&&(e.resourceTiming=o.resourceTiming),this.map._refreshExpiredTiles&&e.setExpiryData(o),e.loadVectorData(o,this.map.painter),t(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}var o=e.tileID.overscaleFactor(),r=normalizeURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url),s={request:this.map._transformRequest(r,ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*o,type:this.type,source:this.id,pixelRatio:browser.devicePixelRatio,overscaling:o,showCollisionBoxes:this.map.showCollisionBoxes};s.request.collectResourceTiming=this._collectResourceTiming,void 0===e.workerID||"expired"===e.state?e.workerID=this.dispatcher.send("loadTile",s,i.bind(this)):"loading"===e.state?e.reloadCallback=t:this.dispatcher.send("reloadTile",s,i.bind(this),e.workerID)},t.prototype.abortTile=function(e){this.dispatcher.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0,e.workerID)},t.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0,e.workerID)},t.prototype.hasTransition=function(){return!1},t}(Evented);module.exports=VectorTileSource},{"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/mapbox":267,"../util/util":275,"./load_tilejson":103,"./tile_bounds":113}],116:[function(_dereq_,module,exports){"use strict";function loadVectorTile(e,r){var o=ajax.getArrayBuffer(e.request,function(e,o){e?r(e):o&&r(null,{vectorTile:new vt.VectorTile(new Protobuf(o.data)),rawData:o.data,cacheControl:o.cacheControl,expires:o.expires})});return function(){o.abort(),r()}}var ajax=_dereq_("../util/ajax"),vt=_dereq_("@mapbox/vector-tile"),Protobuf=_dereq_("pbf"),WorkerTile=_dereq_("./worker_tile"),util=_dereq_("../util/util"),perf=_dereq_("../util/performance"),VectorTileWorkerSource=function(e,r,o){this.actor=e,this.layerIndex=r,this.loadVectorData=o||loadVectorTile,this.loading={},this.loaded={}};VectorTileWorkerSource.prototype.loadTile=function(e,r){var o=this,t=e.source,i=e.uid;this.loading[t]||(this.loading[t]={});var a=this.loading[t][i]=new WorkerTile(e);a.abort=this.loadVectorData(e,function(l,c){if(delete o.loading[t][i],l||!c)return r(l);var s=c.rawData,n={};c.expires&&(n.expires=c.expires),c.cacheControl&&(n.cacheControl=c.cacheControl);var u={};if(e.request&&e.request.collectResourceTiming){var d=perf.getEntriesByName(e.request.url);d&&(u.resourceTiming=JSON.parse(JSON.stringify(d)))}a.vectorTile=c.vectorTile,a.parse(c.vectorTile,o.layerIndex,o.actor,function(e,o){if(e||!o)return r(e);r(null,util.extend({rawTileData:s.slice(0)},o,n,u))}),o.loaded[t]=o.loaded[t]||{},o.loaded[t][i]=a})},VectorTileWorkerSource.prototype.reloadTile=function(e,r){var t=this.loaded[e.source],i=e.uid,a=this;if(t&&t[i]){var l=t[i];l.showCollisionBoxes=e.showCollisionBoxes,"parsing"===l.status?l.reloadCallback=r:"done"===l.status&&l.parse(l.vectorTile,this.layerIndex,this.actor,function o(e,o){if(this.reloadCallback){var t=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,a.layerIndex,a.actor,t)}r(e,o)}.bind(l))}},VectorTileWorkerSource.prototype.abortTile=function(e,r){var o=this.loading[e.source],t=e.uid;o&&o[t]&&o[t].abort&&(o[t].abort(),delete o[t]),r()},VectorTileWorkerSource.prototype.removeTile=function(e,r){var o=this.loaded[e.source],t=e.uid;o&&o[t]&&delete o[t],r()},module.exports=VectorTileWorkerSource},{"../util/ajax":251,"../util/performance":268,"../util/util":275,"./worker_tile":119,"@mapbox/vector-tile":8,pbf:30}],117:[function(_dereq_,module,exports){"use strict";var ajax=_dereq_("../util/ajax"),ImageSource=_dereq_("./image_source"),rasterBoundsAttributes=_dereq_("../data/raster_bounds_attributes"),VertexArrayObject=_dereq_("../render/vertex_array_object"),Texture=_dereq_("../render/texture"),VideoSource=function(e){function t(t,r,i,o){e.call(this,t,r,i,o),this.roundZoom=!0,this.type="video",this.options=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this,t=this.options;this.urls=t.urls,ajax.getVideo(t.urls,function(t,r){t?e.fire("error",{error:t}):r&&(e.video=r,e.video.loop=!0,e.video.addEventListener("playing",function(){e.map._rerender()}),e.map&&e.video.play(),e._finishLoading())})},t.prototype.getVideo=function(){return this.video},t.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},t.prototype.prepare=function(){var e=this;if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,r=t.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,rasterBoundsAttributes.members)),this.boundsVAO||(this.boundsVAO=new VertexArrayObject),this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new Texture(t,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),e.tiles){var o=e.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=e.texture)}}},t.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},t.prototype.hasTransition=function(){return this.video&&!this.video.paused},t}(ImageSource);module.exports=VideoSource},{"../data/raster_bounds_attributes":59,"../render/texture":93,"../render/vertex_array_object":95,"../util/ajax":251,"./image_source":102}],118:[function(_dereq_,module,exports){"use strict";var Actor=_dereq_("../util/actor"),StyleLayerIndex=_dereq_("../style/style_layer_index"),VectorTileWorkerSource=_dereq_("./vector_tile_worker_source"),RasterDEMTileWorkerSource=_dereq_("./raster_dem_tile_worker_source"),GeoJSONWorkerSource=_dereq_("./geojson_worker_source"),globalRTLTextPlugin=_dereq_("./rtl_text_plugin"),Worker=function(e){var r=this;this.self=e,this.actor=new Actor(e,this),this.layerIndexes={},this.workerSourceTypes={vector:VectorTileWorkerSource,geojson:GeoJSONWorkerSource},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,o){if(r.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');r.workerSourceTypes[e]=o},this.self.registerRTLTextPlugin=function(e){if(globalRTLTextPlugin.applyArabicShaping||globalRTLTextPlugin.processBidirectionalText)throw new Error("RTL text plugin already registered.");globalRTLTextPlugin.applyArabicShaping=e.applyArabicShaping,globalRTLTextPlugin.processBidirectionalText=e.processBidirectionalText}};Worker.prototype.setLayers=function(e,r,o){this.getLayerIndex(e).replace(r),o()},Worker.prototype.updateLayers=function(e,r,o){this.getLayerIndex(e).update(r.layers,r.removedIds),o()},Worker.prototype.loadTile=function(e,r,o){this.getWorkerSource(e,r.type).loadTile(r,o)},Worker.prototype.loadDEMTile=function(e,r,o){this.getDEMWorkerSource(e).loadTile(r,o)},Worker.prototype.reloadTile=function(e,r,o){this.getWorkerSource(e,r.type).reloadTile(r,o)},Worker.prototype.abortTile=function(e,r,o){this.getWorkerSource(e,r.type).abortTile(r,o)},Worker.prototype.removeTile=function(e,r,o){this.getWorkerSource(e,r.type).removeTile(r,o)},Worker.prototype.removeDEMTile=function(e,r){this.getDEMWorkerSource(e).removeTile(r)},Worker.prototype.removeSource=function(e,r,o){var t=this.getWorkerSource(e,r.type);void 0!==t.removeSource?t.removeSource(r,o):o()},Worker.prototype.loadWorkerSource=function(e,r,o){try{this.self.importScripts(r.url),o()}catch(e){o(e)}},Worker.prototype.loadRTLTextPlugin=function(e,r,o){try{globalRTLTextPlugin.applyArabicShaping||globalRTLTextPlugin.processBidirectionalText||(this.self.importScripts(r),globalRTLTextPlugin.applyArabicShaping&&globalRTLTextPlugin.processBidirectionalText||o(new Error("RTL Text Plugin failed to import scripts from "+r)))}catch(e){o(e)}},Worker.prototype.getLayerIndex=function(e){var r=this.layerIndexes[e];return r||(r=this.layerIndexes[e]=new StyleLayerIndex),r},Worker.prototype.getWorkerSource=function(e,r){var o=this;if(this.workerSources[e]||(this.workerSources[e]={}),!this.workerSources[e][r]){var t={send:function(r,t,i){o.actor.send(r,t,i,e)}};this.workerSources[e][r]=new this.workerSourceTypes[r](t,this.getLayerIndex(e))}return this.workerSources[e][r]},Worker.prototype.getDEMWorkerSource=function(e){return this.demWorkerSources[e]||(this.demWorkerSources[e]=new RasterDEMTileWorkerSource),this.demWorkerSources[e]},module.exports=function(e){return new Worker(e)}},{"../style/style_layer_index":210,"../util/actor":250,"./geojson_worker_source":100,"./raster_dem_tile_worker_source":107,"./rtl_text_plugin":109,"./vector_tile_worker_source":116}],119:[function(_dereq_,module,exports){"use strict";function recalculateLayers(e,r){for(var i=new EvaluationParameters(r),o=0,a=e;o<a.length;o+=1)a[o].recalculate(i)}var FeatureIndex=_dereq_("../data/feature_index"),performSymbolLayout=_dereq_("../symbol/symbol_layout").performSymbolLayout,CollisionBoxArray=_dereq_("../data/array_types").CollisionBoxArray,DictionaryCoder=_dereq_("../util/dictionary_coder"),SymbolBucket=_dereq_("../data/bucket/symbol_bucket"),util=_dereq_("../util/util"),makeImageAtlas=_dereq_("../render/image_atlas").makeImageAtlas,makeGlyphAtlas=_dereq_("../render/glyph_atlas").makeGlyphAtlas,EvaluationParameters=_dereq_("../style/evaluation_parameters"),OverscaledTileID=_dereq_("./tile_id").OverscaledTileID,WorkerTile=function(e){this.tileID=new OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=e.overscaling,this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming};WorkerTile.prototype.parse=function(e,r,i,o){function a(){if(k)return o(k);if(b&&D){var r=makeGlyphAtlas(b),i=makeImageAtlas(D);for(var a in n){var t=n[a];t instanceof SymbolBucket&&(recalculateLayers(t.layers,this.zoom),performSymbolLayout(t,b,r.positions,D,i.positions,this.showCollisionBoxes))}this.status="done",o(null,{buckets:util.values(n).filter(function(e){return!e.isEmpty()}),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:r.image,iconAtlasImage:i.image})}}var t=this;this.status="parsing",this.data=e,this.collisionBoxArray=new CollisionBoxArray;var l=new DictionaryCoder(Object.keys(e.layers).sort()),s=new FeatureIndex(this.tileID,this.overscaling);s.bucketLayerIDs=[];var n={},c={featureIndex:s,iconDependencies:{},glyphDependencies:{}},u=r.familiesBySource[this.source];for(var m in u){var y=e.layers[m];if(y){1===y.version&&util.warnOnce('Vector tile source "'+t.source+'" layer "'+m+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var h=l.encode(m),d=[],f=0;f<y.length;f++){var p=y.feature(f);d.push({feature:p,index:f,sourceLayerIndex:h})}for(var v=0,g=u[m];v<g.length;v+=1){var x=g[v],I=x[0];I.minzoom&&t.zoom<Math.floor(I.minzoom)||I.maxzoom&&t.zoom>=I.maxzoom||"none"===I.visibility||(recalculateLayers(x,t.zoom),(n[I.id]=I.createBucket({index:s.bucketLayerIDs.length,layers:x,zoom:t.zoom,pixelRatio:t.pixelRatio,overscaling:t.overscaling,collisionBoxArray:t.collisionBoxArray})).populate(d,c),s.bucketLayerIDs.push(x.map(function(e){return e.id})))}}}var k,b,D,A=util.mapObject(c.glyphDependencies,function(e){return Object.keys(e).map(Number)});Object.keys(A).length?i.send("getGlyphs",{uid:this.uid,stacks:A},function(e,r){k||(k=e,b=r,a.call(t))}):b={};var z=Object.keys(c.iconDependencies);z.length?i.send("getImages",{icons:z},function(e,r){k||(k=e,D=r,a.call(t))}):D={},a.call(this)},module.exports=WorkerTile},{"../data/array_types":39,"../data/bucket/symbol_bucket":51,"../data/feature_index":54,"../render/glyph_atlas":85,"../render/image_atlas":87,"../style/evaluation_parameters":182,"../symbol/symbol_layout":227,"../util/dictionary_coder":257,"../util/util":275,"./tile_id":114}],120:[function(_dereq_,module,exports){"use strict";function deref(r,e){var f={};for(var t in r)"ref"!==t&&(f[t]=r[t]);return refProperties.forEach(function(r){r in e&&(f[r]=e[r])}),f}var refProperties=_dereq_("./util/ref_properties");module.exports=function derefLayers(r){r=r.slice();for(var e=Object.create(null),f=0;f<r.length;f++)e[r[f].id]=r[f];for(var t=0;t<r.length;t++)"ref"in r[t]&&(r[t]=deref(r[t],e[r[t].ref]));return r}},{"./util/ref_properties":159}],121:[function(_dereq_,module,exports){"use strict";function addSource(e,r,o){o.push({command:operations.addSource,args:[e,r[e]]})}function removeSource(e,r,o){r.push({command:operations.removeSource,args:[e]}),o[e]=!0}function updateSource(e,r,o,a){removeSource(e,o,a),addSource(e,r,o)}function canUpdateGeoJSON(e,r,o){var a;for(a in e[o])if(e[o].hasOwnProperty(a)&&"data"!==a&&!isEqual(e[o][a],r[o][a]))return!1;for(a in r[o])if(r[o].hasOwnProperty(a)&&"data"!==a&&!isEqual(e[o][a],r[o][a]))return!1;return!0}function diffLayerPropertyChanges(e,r,o,a,t,s){var n;for(n in e=e||{},r=r||{},e)e.hasOwnProperty(n)&&(isEqual(e[n],r[n])||o.push({command:s,args:[a,n,r[n],t]}));for(n in r)r.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(isEqual(e[n],r[n])||o.push({command:s,args:[a,n,r[n],t]}))}function pluckId(e){return e.id}function indexById(e,r){return e[r.id]=r,e}var isEqual=_dereq_("./util/deep_equal"),operations={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};module.exports=function diffStyles(e,r){if(!e)return[{command:operations.setStyle,args:[r]}];var o=[];try{if(!isEqual(e.version,r.version))return[{command:operations.setStyle,args:[r]}];isEqual(e.center,r.center)||o.push({command:operations.setCenter,args:[r.center]}),isEqual(e.zoom,r.zoom)||o.push({command:operations.setZoom,args:[r.zoom]}),isEqual(e.bearing,r.bearing)||o.push({command:operations.setBearing,args:[r.bearing]}),isEqual(e.pitch,r.pitch)||o.push({command:operations.setPitch,args:[r.pitch]}),isEqual(e.sprite,r.sprite)||o.push({command:operations.setSprite,args:[r.sprite]}),isEqual(e.glyphs,r.glyphs)||o.push({command:operations.setGlyphs,args:[r.glyphs]}),isEqual(e.transition,r.transition)||o.push({command:operations.setTransition,args:[r.transition]}),isEqual(e.light,r.light)||o.push({command:operations.setLight,args:[r.light]});var a={},t=[];!function diffSources(e,r,o,a){var t;for(t in e=e||{},r=r||{},e)e.hasOwnProperty(t)&&(r.hasOwnProperty(t)||removeSource(t,o,a));for(t in r)r.hasOwnProperty(t)&&(e.hasOwnProperty(t)?isEqual(e[t],r[t])||("geojson"===e[t].type&&"geojson"===r[t].type&&canUpdateGeoJSON(e,r,t)?o.push({command:operations.setGeoJSONSourceData,args:[t,r[t].data]}):updateSource(t,r,o,a)):addSource(t,r,o))}(e.sources,r.sources,t,a);var s=[];e.layers&&e.layers.forEach(function(e){a[e.source]?o.push({command:operations.removeLayer,args:[e.id]}):s.push(e)}),o=o.concat(t),function diffLayers(e,r,o){e=e||[],r=r||[];var a,t,s,n,i,p,u,m=e.map(pluckId),c=r.map(pluckId),l=e.reduce(indexById,{}),d=r.reduce(indexById,{}),y=m.slice(),h=Object.create(null);for(a=0,t=0;a<m.length;a++)s=m[a],d.hasOwnProperty(s)?t++:(o.push({command:operations.removeLayer,args:[s]}),y.splice(y.indexOf(s,t),1));for(a=0,t=0;a<c.length;a++)s=c[c.length-1-a],y[y.length-1-a]!==s&&(l.hasOwnProperty(s)?(o.push({command:operations.removeLayer,args:[s]}),y.splice(y.lastIndexOf(s,y.length-t),1)):t++,p=y[y.length-a],o.push({command:operations.addLayer,args:[d[s],p]}),y.splice(y.length-a,0,s),h[s]=!0);for(a=0;a<c.length;a++)if(n=l[s=c[a]],i=d[s],!h[s]&&!isEqual(n,i))if(isEqual(n.source,i.source)&&isEqual(n["source-layer"],i["source-layer"])&&isEqual(n.type,i.type)){for(u in diffLayerPropertyChanges(n.layout,i.layout,o,s,null,operations.setLayoutProperty),diffLayerPropertyChanges(n.paint,i.paint,o,s,null,operations.setPaintProperty),isEqual(n.filter,i.filter)||o.push({command:operations.setFilter,args:[s,i.filter]}),isEqual(n.minzoom,i.minzoom)&&isEqual(n.maxzoom,i.maxzoom)||o.push({command:operations.setLayerZoomRange,args:[s,i.minzoom,i.maxzoom]}),n)n.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?diffLayerPropertyChanges(n[u],i[u],o,s,u.slice(6),operations.setPaintProperty):isEqual(n[u],i[u])||o.push({command:operations.setLayerProperty,args:[s,u,i[u]]}));for(u in i)i.hasOwnProperty(u)&&!n.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?diffLayerPropertyChanges(n[u],i[u],o,s,u.slice(6),operations.setPaintProperty):isEqual(n[u],i[u])||o.push({command:operations.setLayerProperty,args:[s,u,i[u]]}))}else o.push({command:operations.removeLayer,args:[s]}),p=y[y.lastIndexOf(s)+1],o.push({command:operations.addLayer,args:[i,p]})}(s,r.layers,o)}catch(e){console.warn("Unable to compute style diff:",e),o=[{command:operations.setStyle,args:[r]}]}return o},module.exports.operations=operations},{"./util/deep_equal":155}],122:[function(_dereq_,module,exports){"use strict";module.exports=function ValidationError(i,e,l){this.message=(i?i+": ":"")+l,null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)}},{}],123:[function(_dereq_,module,exports){"use strict";var toString=_dereq_("./types").toString,ParsingContext=_dereq_("./parsing_context"),CompoundExpression=(_dereq_("./evaluation_context"),function(r,e,n,t){this.name=r,this.type=e,this._evaluate=n,this.args=t});CompoundExpression.prototype.evaluate=function(r){return this._evaluate(r,this.args)},CompoundExpression.prototype.eachChild=function(r){this.args.forEach(r)},CompoundExpression.prototype.possibleOutputs=function(){return[void 0]},CompoundExpression.parse=function(r,e){var n=r[0],t=CompoundExpression.definitions[n];if(!t)return e.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(t)?t[0]:t.type,i=Array.isArray(t)?[[t[1],t[2]]]:t.overloads,s=i.filter(function(e){var n=e[0];return!Array.isArray(n)||n.length===r.length-1}),a=[],u=1;u<r.length;u++){var p=r[u],l=void 0;if(1===s.length){var g=s[0][0];l=Array.isArray(g)?g[u-1]:g.type}var y=e.parse(p,1+a.length,l);if(!y)return null;a.push(y)}for(var f=null,h=0,d=s;h<d.length;h+=1){var v=d[h],c=v[0],x=v[1];if(f=new ParsingContext(e.registry,e.path,null,e.scope),Array.isArray(c)&&c.length!==a.length)f.error("Expected "+c.length+" arguments, but found "+a.length+" instead.");else{for(var m=0;m<a.length;m++){var C=Array.isArray(c)?c[m]:c.type,E=a[m];f.concat(m+1).checkSubtype(C,E.type)}if(0===f.errors.length)return new CompoundExpression(n,o,x,a)}}if(1===s.length)e.errors.push.apply(e.errors,f.errors);else{var S=(s.length?s:i).map(function(r){return function stringifySignature(r){return Array.isArray(r)?"("+r.map(toString).join(", ")+")":"("+toString(r.type)+"...)"}(r[0])}).join(" | "),b=a.map(function(r){return toString(r.type)}).join(", ");e.error("Expected arguments of type "+S+", but found ("+b+") instead.")}return null},CompoundExpression.register=function(r,e){for(var n in CompoundExpression.definitions=e,e)r[n]=CompoundExpression},module.exports={CompoundExpression:CompoundExpression,varargs:function varargs(r){return{type:r}}}},{"./evaluation_context":138,"./parsing_context":141,"./types":146}],124:[function(_dereq_,module,exports){"use strict";var ref=_dereq_("../types"),toString=ref.toString,array=ref.array,ValueType=ref.ValueType,StringType=ref.StringType,NumberType=ref.NumberType,BooleanType=ref.BooleanType,checkSubtype=ref.checkSubtype,typeOf=_dereq_("../values").typeOf,RuntimeError=_dereq_("../runtime_error"),types={string:StringType,number:NumberType,boolean:BooleanType},ArrayAssertion=function(e,r){this.type=e,this.input=r};ArrayAssertion.parse=function(e,r){if(e.length<2||e.length>4)return r.error("Expected 1, 2, or 3 arguments, but found "+(e.length-1)+" instead.");var t,n;if(e.length>2){var i=e[1];if("string"!=typeof i||!(i in types))return r.error('The item type argument of "array" must be one of string, number, boolean',1);t=types[i]}else t=ValueType;if(e.length>3){if("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2]))return r.error('The length argument to "array" must be a positive integer literal',2);n=e[2]}var o=array(t,n),u=r.parse(e[e.length-1],e.length-1,ValueType);return u?new ArrayAssertion(o,u):null},ArrayAssertion.prototype.evaluate=function(e){var r=this.input.evaluate(e);if(checkSubtype(this.type,typeOf(r)))throw new RuntimeError("Expected value to be of type "+toString(this.type)+", but found "+toString(typeOf(r))+" instead.");return r},ArrayAssertion.prototype.eachChild=function(e){e(this.input)},ArrayAssertion.prototype.possibleOutputs=function(){return this.input.possibleOutputs()},module.exports=ArrayAssertion},{"../runtime_error":143,"../types":146,"../values":147}],125:[function(_dereq_,module,exports){"use strict";var ref=_dereq_("../types"),ObjectType=ref.ObjectType,ValueType=ref.ValueType,StringType=ref.StringType,NumberType=ref.NumberType,BooleanType=ref.BooleanType,RuntimeError=_dereq_("../runtime_error"),ref$1=_dereq_("../types"),checkSubtype=ref$1.checkSubtype,toString=ref$1.toString,typeOf=_dereq_("../values").typeOf,types={string:StringType,number:NumberType,boolean:BooleanType,object:ObjectType},Assertion=function(e,r){this.type=e,this.args=r};Assertion.parse=function(e,r){if(e.length<2)return r.error("Expected at least one argument.");for(var t=e[0],n=types[t],o=[],p=1;p<e.length;p++){var s=r.parse(e[p],p,ValueType);if(!s)return null;o.push(s)}return new Assertion(n,o)},Assertion.prototype.evaluate=function(e){for(var r=this,t=0;t<this.args.length;t++){var n=r.args[t].evaluate(e);if(!checkSubtype(r.type,typeOf(n)))return n;if(t===r.args.length-1)throw new RuntimeError("Expected value to be of type "+toString(r.type)+", but found "+toString(typeOf(n))+" instead.")}return null},Assertion.prototype.eachChild=function(e){this.args.forEach(e)},Assertion.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}));var e},module.exports=Assertion},{"../runtime_error":143,"../types":146,"../values":147}],126:[function(_dereq_,module,exports){"use strict";var ref=_dereq_("../types"),array=ref.array,ValueType=ref.ValueType,NumberType=ref.NumberType,RuntimeError=_dereq_("../runtime_error"),At=function(e,t,r){this.type=e,this.index=t,this.input=r};At.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,NumberType),n=t.parse(e[2],2,array(t.expectedType||ValueType));if(!r||!n)return null;var u=n.type;return new At(u.itemType,r,n)},At.prototype.evaluate=function(e){var t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0||t>=r.length)throw new RuntimeError("Array index out of bounds: "+t+" > "+r.length+".");if(t!==Math.floor(t))throw new RuntimeError("Array index must be an integer, but found "+t+" instead.");return r[t]},At.prototype.eachChild=function(e){e(this.index),e(this.input)},At.prototype.possibleOutputs=function(){return[void 0]},module.exports=At},{"../runtime_error":143,"../types":146}],127:[function(_dereq_,module,exports){"use strict";var BooleanType=_dereq_("../types").BooleanType,Case=function(e,t,r){this.type=e,this.branches=t,this.otherwise=r};Case.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var n=[],a=1;a<e.length-1;a+=2){var s=t.parse(e[a],a,BooleanType);if(!s)return null;var o=t.parse(e[a+1],a+1,r);if(!o)return null;n.push([s,o]),r=r||o.type}var u=t.parse(e[e.length-1],e.length-1,r);return u?new Case(r,n,u):null},Case.prototype.evaluate=function(e){for(var r=0,n=this.branches;r<n.length;r+=1){var a=n[r],s=a[0],o=a[1];if(s.evaluate(e))return o.evaluate(e)}return this.otherwise.evaluate(e)},Case.prototype.eachChild=function(e){for(var r=0,n=this.branches;r<n.length;r+=1){var a=n[r],s=a[0],o=a[1];e(s),e(o)}e(this.otherwise)},Case.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.branches.map(function(e){return e[0],e[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs());var e},module.exports=Case},{"../types":146}],128:[function(_dereq_,module,exports){"use strict";var ref=_dereq_("../types"),checkSubtype=ref.checkSubtype,ValueType=ref.ValueType,Coalesce=function(e,t){this.type=e,this.args=t};Coalesce.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var r=null,a=t.expectedType;a&&"value"!==a.kind&&(r=a);for(var n=[],o=0,u=e.slice(1);o<u.length;o+=1){var s=u[o],l=t.parse(s,1+n.length,r,void 0,{omitTypeAnnotations:!0});if(!l)return null;r=r||l.type,n.push(l)}return a&&n.some(function(e){return checkSubtype(a,e.type)})?new Coalesce(ValueType,n):new Coalesce(r,n)},Coalesce.prototype.evaluate=function(e){for(var r=null,a=0,n=this.args;a<n.length&&null===(r=n[a].evaluate(e));a+=1);return r},Coalesce.prototype.eachChild=function(e){this.args.forEach(e)},Coalesce.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}));var e},module.exports=Coalesce},{"../types":146}],129:[function(_dereq_,module,exports){"use strict";var ref=_dereq_("../types"),ColorType=ref.ColorType,ValueType=ref.ValueType,NumberType=ref.NumberType,ref$1=_dereq_("../values"),Color=ref$1.Color,validateRGBA=ref$1.validateRGBA,RuntimeError=_dereq_("../runtime_error"),types={"to-number":NumberType,"to-color":ColorType},Coercion=function(r,e){this.type=r,this.args=e};Coercion.parse=function(r,e){if(r.length<2)return e.error("Expected at least one argument.");for(var t=r[0],o=types[t],n=[],i=1;i<r.length;i++){var a=e.parse(r[i],i,ValueType);if(!a)return null;n.push(a)}return new Coercion(o,n)},Coercion.prototype.evaluate=function(r){if("color"===this.type.kind){for(var t,o,n=0,i=this.args;n<i.length;n+=1)if(o=null,"string"==typeof(t=i[n].evaluate(r))){var a=r.parseColor(t);if(a)return a}else if(Array.isArray(t)&&!(o=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":validateRGBA(t[0],t[1],t[2],t[3])))return new Color(t[0]/255,t[1]/255,t[2]/255,t[3]);throw new RuntimeError(o||"Could not parse color from value '"+("string"==typeof t?t:JSON.stringify(t))+"'")}for(var u=null,l=0,s=this.args;l<s.length;l+=1)if(null!==(u=s[l].evaluate(r))){var p=Number(u);if(!isNaN(p))return p}throw new RuntimeError("Could not convert "+JSON.stringify(u)+" to number.")},Coercion.prototype.eachChild=function(r){this.args.forEach(r)},Coercion.prototype.possibleOutputs=function(){return(r=[]).concat.apply(r,this.args.map(function(r){return r.possibleOutputs()}));var r},module.exports=Coercion},{"../runtime_error":143,"../types":146,"../values":147}],130:[function(_dereq_,module,exports){"use strict";function isComparableType(e){return"string"===e.kind||"number"===e.kind||"boolean"===e.kind||"null"===e.kind}function makeComparison(e){return function(){function t(e,t){this.type=BooleanType,this.lhs=e,this.rhs=t}return t.parse=function(e,r){if(3!==e.length)return r.error("Expected two arguments.");var n=r.parse(e[1],1,ValueType);if(!n)return null;var o=r.parse(e[2],2,ValueType);return o?isComparableType(n.type)||isComparableType(o.type)?n.type.kind!==o.type.kind&&"value"!==n.type.kind&&"value"!==o.type.kind?r.error("Cannot compare "+toString(n.type)+" and "+toString(o.type)+"."):new t(n,o):r.error("Expected at least one argument to be a string, number, boolean, or null, but found ("+toString(n.type)+", "+toString(o.type)+") instead."):null},t.prototype.evaluate=function(t){return e(this.lhs.evaluate(t),this.rhs.evaluate(t))},t.prototype.eachChild=function(e){e(this.lhs),e(this.rhs)},t.prototype.possibleOutputs=function(){return[!0,!1]},t}()}var ref=_dereq_("../types"),ValueType=ref.ValueType,BooleanType=ref.BooleanType,toString=_dereq_("../types").toString;module.exports={Equals:makeComparison(function(e,t){return e===t}),NotEquals:makeComparison(function(e,t){return e!==t})}},{"../types":146}],131:[function(_dereq_,module,exports){"use strict";function rgba(e,r){var t=r[0],a=r[1],n=r[2],u=r[3];t=t.evaluate(e),a=a.evaluate(e),n=n.evaluate(e);var o=u?u.evaluate(e):1,p=validateRGBA(t,a,n,o);if(p)throw new RuntimeError(p);return new Color(t/255*o,a/255*o,n/255*o,o)}function has(e,r){return e in r}function get(e,r){var t=r[e];return void 0===t?null:t}function length(e,r){return r[0].evaluate(e).length}function lt(e,r){var t=r[0],a=r[1];return t.evaluate(e)<a.evaluate(e)}function gt(e,r){var t=r[0],a=r[1];return t.evaluate(e)>a.evaluate(e)}function lteq(e,r){var t=r[0],a=r[1];return t.evaluate(e)<=a.evaluate(e)}function gteq(e,r){var t=r[0],a=r[1];return t.evaluate(e)>=a.evaluate(e)}var ref=_dereq_("../types"),NumberType=ref.NumberType,StringType=ref.StringType,BooleanType=ref.BooleanType,ColorType=ref.ColorType,ObjectType=ref.ObjectType,ValueType=ref.ValueType,ErrorType=ref.ErrorType,array=ref.array,toString=ref.toString,ref$1=_dereq_("../values"),typeOf=ref$1.typeOf,Color=ref$1.Color,validateRGBA=ref$1.validateRGBA,ref$2=_dereq_("../compound_expression"),CompoundExpression=ref$2.CompoundExpression,varargs=ref$2.varargs,RuntimeError=_dereq_("../runtime_error"),Let=_dereq_("./let"),Var=_dereq_("./var"),Literal=_dereq_("./literal"),Assertion=_dereq_("./assertion"),ArrayAssertion=_dereq_("./array"),Coercion=_dereq_("./coercion"),At=_dereq_("./at"),Match=_dereq_("./match"),Case=_dereq_("./case"),Step=_dereq_("./step"),Interpolate=_dereq_("./interpolate"),Coalesce=_dereq_("./coalesce"),ref$3=_dereq_("./equals"),expressions={"==":ref$3.Equals,"!=":ref$3.NotEquals,array:ArrayAssertion,at:At,boolean:Assertion,case:Case,coalesce:Coalesce,interpolate:Interpolate,let:Let,literal:Literal,match:Match,number:Assertion,object:Assertion,step:Step,string:Assertion,"to-color":Coercion,"to-number":Coercion,var:Var};CompoundExpression.register(expressions,{error:[ErrorType,[StringType],function(e,r){var t=r[0];throw new RuntimeError(t.evaluate(e))}],typeof:[StringType,[ValueType],function(e,r){var t=r[0];return toString(typeOf(t.evaluate(e)))}],"to-string":[StringType,[ValueType],function(e,r){var t=r[0],a=typeof(t=t.evaluate(e));return null===t||"string"===a||"number"===a||"boolean"===a?String(t):t instanceof Color?t.toString():JSON.stringify(t)}],"to-boolean":[BooleanType,[ValueType],function(e,r){var t=r[0];return Boolean(t.evaluate(e))}],"to-rgba":[array(NumberType,4),[ColorType],function(e,r){var a=r[0].evaluate(e),n=a.r,u=a.g,o=a.b,p=a.a;return[255*n/p,255*u/p,255*o/p,p]}],rgb:[ColorType,[NumberType,NumberType,NumberType],rgba],rgba:[ColorType,[NumberType,NumberType,NumberType,NumberType],rgba],length:{type:NumberType,overloads:[[[StringType],length],[[array(ValueType)],length]]},has:{type:BooleanType,overloads:[[[StringType],function(e,r){return has(r[0].evaluate(e),e.properties())}],[[StringType,ObjectType],function(e,r){var t=r[0],a=r[1];return has(t.evaluate(e),a.evaluate(e))}]]},get:{type:ValueType,overloads:[[[StringType],function(e,r){return get(r[0].evaluate(e),e.properties())}],[[StringType,ObjectType],function(e,r){var t=r[0],a=r[1];return get(t.evaluate(e),a.evaluate(e))}]]},properties:[ObjectType,[],function(e){return e.properties()}],"geometry-type":[StringType,[],function(e){return e.geometryType()}],id:[ValueType,[],function(e){return e.id()}],zoom:[NumberType,[],function(e){return e.globals.zoom}],"heatmap-density":[NumberType,[],function(e){return e.globals.heatmapDensity||0}],"+":[NumberType,varargs(NumberType),function(e,r){for(var t=0,a=0,n=r;a<n.length;a+=1)t+=n[a].evaluate(e);return t}],"*":[NumberType,varargs(NumberType),function(e,r){for(var t=1,a=0,n=r;a<n.length;a+=1)t*=n[a].evaluate(e);return t}],"-":{type:NumberType,overloads:[[[NumberType,NumberType],function(e,r){var t=r[0],a=r[1];return t.evaluate(e)-a.evaluate(e)}],[[NumberType],function(e,r){return-r[0].evaluate(e)}]]},"/":[NumberType,[NumberType,NumberType],function(e,r){var t=r[0],a=r[1];return t.evaluate(e)/a.evaluate(e)}],"%":[NumberType,[NumberType,NumberType],function(e,r){var t=r[0],a=r[1];return t.evaluate(e)%a.evaluate(e)}],ln2:[NumberType,[],function(){return Math.LN2}],pi:[NumberType,[],function(){return Math.PI}],e:[NumberType,[],function(){return Math.E}],"^":[NumberType,[NumberType,NumberType],function(e,r){var t=r[0],a=r[1];return Math.pow(t.evaluate(e),a.evaluate(e))}],sqrt:[NumberType,[NumberType],function(e,r){var t=r[0];return Math.sqrt(t.evaluate(e))}],log10:[NumberType,[NumberType],function(e,r){var t=r[0];return Math.log10(t.evaluate(e))}],ln:[NumberType,[NumberType],function(e,r){var t=r[0];return Math.log(t.evaluate(e))}],log2:[NumberType,[NumberType],function(e,r){var t=r[0];return Math.log2(t.evaluate(e))}],sin:[NumberType,[NumberType],function(e,r){var t=r[0];return Math.sin(t.evaluate(e))}],cos:[NumberType,[NumberType],function(e,r){var t=r[0];return Math.cos(t.evaluate(e))}],tan:[NumberType,[NumberType],function(e,r){var t=r[0];return Math.tan(t.evaluate(e))}],asin:[NumberType,[NumberType],function(e,r){var t=r[0];return Math.asin(t.evaluate(e))}],acos:[NumberType,[NumberType],function(e,r){var t=r[0];return Math.acos(t.evaluate(e))}],atan:[NumberType,[NumberType],function(e,r){var t=r[0];return Math.atan(t.evaluate(e))}],min:[NumberType,varargs(NumberType),function(e,r){return Math.min.apply(Math,r.map(function(r){return r.evaluate(e)}))}],max:[NumberType,varargs(NumberType),function(e,r){return Math.max.apply(Math,r.map(function(r){return r.evaluate(e)}))}],"filter-==":[BooleanType,[StringType,ValueType],function(e,r){var t=r[0],a=r[1];return e.properties()[t.value]===a.value}],"filter-id-==":[BooleanType,[ValueType],function(e,r){var t=r[0];return e.id()===t.value}],"filter-type-==":[BooleanType,[StringType],function(e,r){var t=r[0];return e.geometryType()===t.value}],"filter-<":[BooleanType,[StringType,ValueType],function(e,r){var t=r[0],a=r[1],n=e.properties()[t.value],u=a.value;return typeof n==typeof u&&n<u}],"filter-id-<":[BooleanType,[ValueType],function(e,r){var t=r[0],a=e.id(),n=t.value;return typeof a==typeof n&&a<n}],"filter->":[BooleanType,[StringType,ValueType],function(e,r){var t=r[0],a=r[1],n=e.properties()[t.value],u=a.value;return typeof n==typeof u&&n>u}],"filter-id->":[BooleanType,[ValueType],function(e,r){var t=r[0],a=e.id(),n=t.value;return typeof a==typeof n&&a>n}],"filter-<=":[BooleanType,[StringType,ValueType],function(e,r){var t=r[0],a=r[1],n=e.properties()[t.value],u=a.value;return typeof n==typeof u&&n<=u}],"filter-id-<=":[BooleanType,[ValueType],function(e,r){var t=r[0],a=e.id(),n=t.value;return typeof a==typeof n&&a<=n}],"filter->=":[BooleanType,[StringType,ValueType],function(e,r){var t=r[0],a=r[1],n=e.properties()[t.value],u=a.value;return typeof n==typeof u&&n>=u}],"filter-id->=":[BooleanType,[ValueType],function(e,r){var t=r[0],a=e.id(),n=t.value;return typeof a==typeof n&&a>=n}],"filter-has":[BooleanType,[ValueType],function(e,r){return r[0].value in e.properties()}],"filter-has-id":[BooleanType,[],function(e){return null!==e.id()}],"filter-type-in":[BooleanType,[array(StringType)],function(e,r){return r[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[BooleanType,[array(ValueType)],function(e,r){return r[0].value.indexOf(e.id())>=0}],"filter-in-small":[BooleanType,[StringType,array(ValueType)],function(e,r){var t=r[0];return r[1].value.indexOf(e.properties()[t.value])>=0}],"filter-in-large":[BooleanType,[StringType,array(ValueType)],function(e,r){var t=r[0],a=r[1];return function binarySearch(e,r,t,a){for(;t<=a;){var n=t+a>>1;if(r[n]===e)return!0;r[n]>e?a=n-1:t=n+1}return!1}(e.properties()[t.value],a.value,0,a.value.length-1)}],">":{type:BooleanType,overloads:[[[NumberType,NumberType],gt],[[StringType,StringType],gt]]},"<":{type:BooleanType,overloads:[[[NumberType,NumberType],lt],[[StringType,StringType],lt]]},">=":{type:BooleanType,overloads:[[[NumberType,NumberType],gteq],[[StringType,StringType],gteq]]},"<=":{type:BooleanType,overloads:[[[NumberType,NumberType],lteq],[[StringType,StringType],lteq]]},all:{type:BooleanType,overloads:[[[BooleanType,BooleanType],function(e,r){var t=r[0],a=r[1];return t.evaluate(e)&&a.evaluate(e)}],[varargs(BooleanType),function(e,r){for(var t=0,a=r;t<a.length;t+=1)if(!a[t].evaluate(e))return!1;return!0}]]},any:{type:BooleanType,overloads:[[[BooleanType,BooleanType],function(e,r){var t=r[0],a=r[1];return t.evaluate(e)||a.evaluate(e)}],[varargs(BooleanType),function(e,r){for(var t=0,a=r;t<a.length;t+=1)if(a[t].evaluate(e))return!0;return!1}]]},"!":[BooleanType,[BooleanType],function(e,r){return!r[0].evaluate(e)}],upcase:[StringType,[StringType],function(e,r){return r[0].evaluate(e).toUpperCase()}],downcase:[StringType,[StringType],function(e,r){return r[0].evaluate(e).toLowerCase()}],concat:[StringType,varargs(StringType),function(e,r){return r.map(function(r){return r.evaluate(e)}).join("")}]}),module.exports=expressions},{"../compound_expression":123,"../runtime_error":143,"../types":146,"../values":147,"./array":124,"./assertion":125,"./at":126,"./case":127,"./coalesce":128,"./coercion":129,"./equals":130,"./interpolate":132,"./let":133,"./literal":134,"./match":135,"./step":136,"./var":137}],132:[function(_dereq_,module,exports){"use strict";function exponentialInterpolation(e,t,r,n){var i=n-r,o=e-r;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}var UnitBezier=_dereq_("@mapbox/unitbezier"),interpolate=_dereq_("../../util/interpolate"),ref=_dereq_("../types"),toString=ref.toString,NumberType=ref.NumberType,findStopLessThanOrEqualTo=_dereq_("../stops").findStopLessThanOrEqualTo,Interpolate=function(e,t,r,n){this.type=e,this.interpolation=t,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=n;o<a.length;o+=1){var u=a[o],p=u[0],l=u[1];this.labels.push(p),this.outputs.push(l)}};Interpolate.interpolationFactor=function(e,t,r,n){var i=0;if("exponential"===e.name)i=exponentialInterpolation(t,e.base,r,n);else if("linear"===e.name)i=exponentialInterpolation(t,1,r,n);else if("cubic-bezier"===e.name){var o=e.controlPoints;i=new UnitBezier(o[0],o[1],o[2],o[3]).solve(exponentialInterpolation(t,1,r,n))}return i},Interpolate.parse=function(e,t){var r=e[1],n=e[2],i=e.slice(3);if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var o=r[1];if("number"!=typeof o)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:o}}else{if("cubic-bezier"!==r[0])return t.error("Unknown interpolation type "+String(r[0]),1,0);var a=r.slice(1);if(4!==a.length||a.some(function(e){return"number"!=typeof e||e<0||e>1}))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:a}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(n=t.parse(n,2,NumberType)))return null;var u=[],p=null;t.expectedType&&"value"!==t.expectedType.kind&&(p=t.expectedType);for(var l=0;l<i.length;l+=2){var s=i[l],f=i[l+1],c=l+3,h=l+4;if("number"!=typeof s)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(u.length&&u[u.length-1][0]>=s)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',c);var v=t.parse(f,h,p);if(!v)return null;p=p||v.type,u.push([s,v])}return"number"===p.kind||"color"===p.kind||"array"===p.kind&&"number"===p.itemType.kind&&"number"==typeof p.N?new Interpolate(p,r,n,u):t.error("Type "+toString(p)+" is not interpolatable.")},Interpolate.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var i=t.length;if(n>=t[i-1])return r[i-1].evaluate(e);var o=findStopLessThanOrEqualTo(t,n),a=t[o],u=t[o+1],p=Interpolate.interpolationFactor(this.interpolation,n,a,u),l=r[o].evaluate(e),s=r[o+1].evaluate(e);return interpolate[this.type.kind.toLowerCase()](l,s,p)},Interpolate.prototype.eachChild=function(e){e(this.input);for(var r=0,n=this.outputs;r<n.length;r+=1)e(n[r])},Interpolate.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()}));var e},module.exports=Interpolate},{"../../util/interpolate":158,"../stops":145,"../types":146,"@mapbox/unitbezier":7}],133:[function(_dereq_,module,exports){"use strict";var Let=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};Let.prototype.evaluate=function(t){t.pushScope(this.bindings);var e=this.result.evaluate(t);return t.popScope(),e},Let.prototype.eachChild=function(t){for(var r=0,n=this.bindings;r<n.length;r+=1)t(n[r][1]);t(this.result)},Let.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var r=[],n=1;n<t.length-1;n+=2){var s=t[n];if("string"!=typeof s)return e.error("Expected string, but found "+typeof s+" instead.",n);if(/[^a-zA-Z0-9_]/.test(s))return e.error("Variable names must contain only alphanumeric characters or '_'.",n);var i=e.parse(t[n+1],n+1);if(!i)return null;r.push([s,i])}var u=e.parse(t[t.length-1],t.length-1,void 0,r);return u?new Let(r,u):null},Let.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},module.exports=Let},{}],134:[function(_dereq_,module,exports){"use strict";var ref=_dereq_("../values"),isValue=ref.isValue,typeOf=ref.typeOf,Literal=function(e,r){this.type=e,this.value=r};Literal.parse=function(e,r){if(2!==e.length)return r.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!isValue(e[1]))return r.error("invalid value");var t=e[1],i=typeOf(t),a=r.expectedType;return"array"!==i.kind||0!==i.N||!a||"array"!==a.kind||"number"==typeof a.N&&0!==a.N||(i=a),new Literal(i,t)},Literal.prototype.evaluate=function(){return this.value},Literal.prototype.eachChild=function(){},Literal.prototype.possibleOutputs=function(){return[this.value]},module.exports=Literal},{"../values":147}],135:[function(_dereq_,module,exports){"use strict";var typeOf=_dereq_("../values").typeOf,Match=function(e,t,r,n,u,s){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=u,this.otherwise=s};Match.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var r,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var u={},s=[],a=2;a<e.length-1;a+=2){var i=e[a],o=e[a+1];Array.isArray(i)||(i=[i]);var p=t.concat(a);if(0===i.length)return p.error("Expected at least one branch label.");for(var h=0,l=i;h<l.length;h+=1){var c=l[h];if("number"!=typeof c&&"string"!=typeof c)return p.error("Branch labels must be numbers or strings.");if("number"==typeof c&&Math.abs(c)>Number.MAX_SAFE_INTEGER)return p.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof c&&Math.floor(c)!==c)return p.error("Numeric branch labels must be integer values.");if(r){if(p.checkSubtype(r,typeOf(c)))return null}else r=typeOf(c);if(void 0!==u[String(c)])return p.error("Branch labels must be unique.");u[String(c)]=s.length}var f=t.parse(o,a,n);if(!f)return null;n=n||f.type,s.push(f)}var b=t.parse(e[1],1,r);if(!b)return null;var y=t.parse(e[e.length-1],e.length-1,n);return y?new Match(r,n,b,u,s,y):null},Match.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},Match.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},Match.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()})).concat(this.otherwise.possibleOutputs());var e},module.exports=Match},{"../values":147}],136:[function(_dereq_,module,exports){"use strict";var NumberType=_dereq_("../types").NumberType,findStopLessThanOrEqualTo=_dereq_("../stops").findStopLessThanOrEqualTo,Step=function(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var n=0,s=r;n<s.length;n+=1){var p=s[n],a=p[0],i=p[1];this.labels.push(a),this.outputs.push(i)}};Step.parse=function(e,t){var r=e[1],u=e.slice(2);if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(r=t.parse(r,1,NumberType)))return null;var n=[],s=null;t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType),u.unshift(-1/0);for(var p=0;p<u.length;p+=2){var a=u[p],i=u[p+1],o=p+1,l=p+2;if("number"!=typeof a)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',o);if(n.length&&n[n.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',o);var f=t.parse(i,l,s);if(!f)return null;s=s||f.type,n.push([a,f])}return new Step(s,r,n)},Step.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var u=this.input.evaluate(e);if(u<=t[0])return r[0].evaluate(e);var n=t.length;return u>=t[n-1]?r[n-1].evaluate(e):r[findStopLessThanOrEqualTo(t,u)].evaluate(e)},Step.prototype.eachChild=function(e){e(this.input);for(var r=0,u=this.outputs;r<u.length;r+=1)e(u[r])},Step.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()}));var e},module.exports=Step},{"../stops":145,"../types":146}],137:[function(_dereq_,module,exports){"use strict";var Var=function(e,r){this.type=r,this.name=e};Var.parse=function(e,r){if(2!==e.length||"string"!=typeof e[1])return r.error("'var' expression requires exactly one string literal argument.");var t=e[1];return r.scope.has(t)?new Var(t,r.scope.get(t).type):r.error('Unknown variable "'+t+'". Make sure "'+t+'" has been bound in an enclosing "let" expression before using it.',1)},Var.prototype.evaluate=function(e){return e.scope.get(this.name).evaluate(e)},Var.prototype.eachChild=function(){},Var.prototype.possibleOutputs=function(){return[void 0]},module.exports=Var},{}],138:[function(_dereq_,module,exports){"use strict";var Scope=_dereq_("./scope"),Color=_dereq_("./values").Color,geometryTypes=["Unknown","Point","LineString","Polygon"],EvaluationContext=function(){this.scope=new Scope,this._parseColorCache={}};EvaluationContext.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},EvaluationContext.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?geometryTypes[this.feature.type]:this.feature.type:null},EvaluationContext.prototype.properties=function(){return this.feature&&this.feature.properties||{}},EvaluationContext.prototype.pushScope=function(t){this.scope=this.scope.concat(t)},EvaluationContext.prototype.popScope=function(){this.scope=this.scope.parent},EvaluationContext.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=Color.parse(t)),e},module.exports=EvaluationContext},{"./scope":144,"./values":147}],139:[function(_dereq_,module,exports){"use strict";function isExpression(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in definitions}function createExpression(e,r,n){void 0===n&&(n={});var t=new ParsingContext(definitions,[],function getExpectedType(e){var r={color:ColorType,string:StringType,number:NumberType,enum:StringType,boolean:BooleanType};return"array"===e.type?array(r[e.value]||ValueType,e.length):r[e.type]||null}(r)),o=t.parse(e);return o?success(!1===n.handleErrors?new StyleExpression(o):new StyleExpressionWithErrorHandling(o,r)):error(t.errors)}function createPropertyExpression(e,r,n){if(void 0===n&&(n={}),"error"===(e=createExpression(e,r,n)).result)return e;var t=e.value.expression,o=isConstant.isFeatureConstant(t);if(!o&&!r["property-function"])return error([new ParsingError("","property expressions not supported")]);var i=isConstant.isGlobalPropertyConstant(t,["zoom"]);if(!i&&!1===r["zoom-function"])return error([new ParsingError("","zoom expressions not supported")]);var s=function findZoomCurve(e){var r=null;if(e instanceof Let)r=findZoomCurve(e.result);else if(e instanceof Coalesce)for(var n=0,t=e.args;n<t.length;n+=1){var o=t[n];if(r=findZoomCurve(o))break}else(e instanceof Step||e instanceof Interpolate)&&e.input instanceof CompoundExpression&&"zoom"===e.input.name&&(r=e);return r instanceof ParsingError?r:(e.eachChild(function(e){var n=findZoomCurve(e);n instanceof ParsingError?r=n:!r&&n?r=new ParsingError("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new ParsingError("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r)}(t);return s||i?s instanceof ParsingError?error([s]):s instanceof Interpolate&&"piecewise-constant"===r.function?error([new ParsingError("",'"interpolate" expressions cannot be used with this property')]):success(s?new ZoomDependentExpression(o?"camera":"composite",e.value,s):new ZoomConstantExpression(o?"constant":"source",e.value)):error([new ParsingError("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}var extend=_dereq_("../util/extend"),ParsingError=_dereq_("./parsing_error"),ParsingContext=_dereq_("./parsing_context"),EvaluationContext=_dereq_("./evaluation_context"),CompoundExpression=_dereq_("./compound_expression").CompoundExpression,Step=_dereq_("./definitions/step"),Interpolate=_dereq_("./definitions/interpolate"),Coalesce=_dereq_("./definitions/coalesce"),Let=_dereq_("./definitions/let"),definitions=_dereq_("./definitions"),isConstant=_dereq_("./is_constant"),RuntimeError=_dereq_("./runtime_error"),ref$1=_dereq_("../util/result"),success=ref$1.success,error=ref$1.error,StyleExpression=function(e){this.expression=e};StyleExpression.prototype.evaluate=function(e,r){return this._evaluator||(this._evaluator=new EvaluationContext),this._evaluator.globals=e,this._evaluator.feature=r,this.expression.evaluate(this._evaluator)};var StyleExpressionWithErrorHandling=function(e){function r(r,n){e.call(this,r),this._warningHistory={},this._defaultValue=function getDefaultValue(e){return"color"===e.type&&isFunction(e.default)?new Color(0,0,0,0):"color"===e.type?Color.parse(e.default)||null:void 0===e.default?null:e.default}(n),"enum"===n.type&&(this._enumValues=n.values)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.evaluate=function(e,r){this._evaluator||(this._evaluator=new EvaluationContext),this._evaluator.globals=e,this._evaluator.feature=r;try{var n=this.expression.evaluate(this._evaluator);if(null===n||void 0===n)return this._defaultValue;if(this._enumValues&&!(n in this._enumValues))throw new RuntimeError("Expected value to be one of "+Object.keys(this._enumValues).map(function(e){return JSON.stringify(e)}).join(", ")+", but found "+JSON.stringify(n)+" instead.");return n}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}},r}(StyleExpression),ZoomConstantExpression=function(e,r){this.kind=e,this._styleExpression=r};ZoomConstantExpression.prototype.evaluate=function(e,r){return this._styleExpression.evaluate(e,r)};var ZoomDependentExpression=function(e,r,n){this.kind=e,this.zoomStops=n.labels,this._styleExpression=r,n instanceof Interpolate&&(this._interpolationType=n.interpolation)};ZoomDependentExpression.prototype.evaluate=function(e,r){return this._styleExpression.evaluate(e,r)},ZoomDependentExpression.prototype.interpolationFactor=function(e,r,n){return this._interpolationType?Interpolate.interpolationFactor(this._interpolationType,e,r,n):0};var ref$2=_dereq_("../function"),isFunction=ref$2.isFunction,createFunction=ref$2.createFunction,Color=_dereq_("./values").Color,StylePropertyFunction=function(e,r){this._parameters=e,this._specification=r,extend(this,createFunction(this._parameters,this._specification))};StylePropertyFunction.deserialize=function(e){return new StylePropertyFunction(e._parameters,e._specification)},StylePropertyFunction.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}},module.exports={StyleExpression:StyleExpression,StyleExpressionWithErrorHandling:StyleExpressionWithErrorHandling,isExpression:isExpression,createExpression:createExpression,createPropertyExpression:createPropertyExpression,normalizePropertyExpression:function normalizePropertyExpression(e,r){if(isFunction(e))return new StylePropertyFunction(e,r);if(isExpression(e)){var n=createPropertyExpression(e,r);if("error"===n.result)throw new Error(n.value.map(function(e){return e.key+": "+e.message}).join(", "));return n.value}var t=e;return"string"==typeof e&&"color"===r.type&&(t=Color.parse(e)),{kind:"constant",evaluate:function(){return t}}},ZoomConstantExpression:ZoomConstantExpression,ZoomDependentExpression:ZoomDependentExpression,StylePropertyFunction:StylePropertyFunction};var ref$4=_dereq_("./types"),ColorType=ref$4.ColorType,StringType=ref$4.StringType,NumberType=ref$4.NumberType,BooleanType=ref$4.BooleanType,ValueType=ref$4.ValueType,array=ref$4.array},{"../function":149,"../util/extend":156,"../util/result":160,"./compound_expression":123,"./definitions":131,"./definitions/coalesce":128,"./definitions/interpolate":132,"./definitions/let":133,"./definitions/step":136,"./evaluation_context":138,"./is_constant":140,"./parsing_context":141,"./parsing_error":142,"./runtime_error":143,"./types":146,"./values":147}],140:[function(_dereq_,module,exports){"use strict";var CompoundExpression=_dereq_("./compound_expression").CompoundExpression;module.exports={isFeatureConstant:function isFeatureConstant(n){if(n instanceof CompoundExpression){if("get"===n.name&&1===n.args.length)return!1;if("has"===n.name&&1===n.args.length)return!1;if("properties"===n.name||"geometry-type"===n.name||"id"===n.name)return!1;if(/^filter-/.test(n.name))return!1}var e=!0;return n.eachChild(function(n){e&&!isFeatureConstant(n)&&(e=!1)}),e},isGlobalPropertyConstant:function isGlobalPropertyConstant(n,e){if(n instanceof CompoundExpression&&e.indexOf(n.name)>=0)return!1;var t=!0;return n.eachChild(function(n){t&&!isGlobalPropertyConstant(n,e)&&(t=!1)}),t}}},{"./compound_expression":123}],141:[function(_dereq_,module,exports){"use strict";var Scope=_dereq_("./scope"),checkSubtype=_dereq_("./types").checkSubtype,ParsingError=_dereq_("./parsing_error"),Literal=_dereq_("./definitions/literal"),Assertion=_dereq_("./definitions/assertion"),ArrayAssertion=_dereq_("./definitions/array"),Coercion=_dereq_("./definitions/coercion"),ParsingContext=function(e,r,t,n,i){void 0===r&&(r=[]),void 0===n&&(n=new Scope),void 0===i&&(i=[]),this.registry=e,this.path=r,this.key=r.map(function(e){return"["+e+"]"}).join(""),this.scope=n,this.errors=i,this.expectedType=t};ParsingContext.prototype.parse=function(e,r,t,n,i){void 0===i&&(i={});var o=this;if(r&&(o=o.concat(r,t,n)),null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return o.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var a=e[0];if("string"!=typeof a)return o.error("Expression name must be a string, but found "+typeof a+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var s=o.registry[a];if(s){var u=s.parse(e,o);if(!u)return null;if(o.expectedType){var p=o.expectedType,l=u.type;if("string"!==p.kind&&"number"!==p.kind&&"boolean"!==p.kind||"value"!==l.kind)if("array"===p.kind&&"value"===l.kind)i.omitTypeAnnotations||(u=new ArrayAssertion(p,u));else if("color"!==p.kind||"value"!==l.kind&&"string"!==l.kind){if(o.checkSubtype(o.expectedType,u.type))return null}else i.omitTypeAnnotations||(u=new Coercion(p,[u]));else i.omitTypeAnnotations||(u=new Assertion(p,[u]))}if(!(u instanceof Literal)&&function isConstant(e){var t=_dereq_("./compound_expression").CompoundExpression,n=_dereq_("./is_constant"),i=n.isGlobalPropertyConstant,o=n.isFeatureConstant;if(e instanceof _dereq_("./definitions/var"))return!1;if(e instanceof t&&"error"===e.name)return!1;var a=!0;return e.eachChild(function(e){e instanceof Literal||(a=!1)}),!!a&&o(e)&&i(e,["zoom","heatmap-density"])}(u)){var c=new(_dereq_("./evaluation_context"));try{u=new Literal(u.type,u.evaluate(c))}catch(e){return o.error(e.message),null}}return u}return o.error('Unknown expression "'+a+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===e?o.error("'undefined' value invalid. Use null instead."):"object"==typeof e?o.error('Bare objects invalid. Use ["literal", {...}] instead.'):o.error("Expected an array, but found "+typeof e+" instead.")},ParsingContext.prototype.concat=function(e,r,t){var n="number"==typeof e?this.path.concat(e):this.path,i=t?this.scope.concat(t):this.scope;return new ParsingContext(this.registry,n,r||null,i,this.errors)},ParsingContext.prototype.error=function(e){for(var r=[],t=arguments.length-1;t-- >0;)r[t]=arguments[t+1];var n=""+this.key+r.map(function(e){return"["+e+"]"}).join("");this.errors.push(new ParsingError(n,e))},ParsingContext.prototype.checkSubtype=function(e,r){var t=checkSubtype(e,r);return t&&this.error(t),t},module.exports=ParsingContext},{"./compound_expression":123,"./definitions/array":124,"./definitions/assertion":125,"./definitions/coercion":129,"./definitions/literal":134,"./definitions/var":137,"./evaluation_context":138,"./is_constant":140,"./parsing_error":142,"./scope":144,"./types":146}],142:[function(_dereq_,module,exports){"use strict";var ParsingError=function(r){function t(t,o){r.call(this,o),this.message=o,this.key=t}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t}(Error);module.exports=ParsingError},{}],143:[function(_dereq_,module,exports){"use strict";var RuntimeError=function(r){this.name="ExpressionEvaluationError",this.message=r};RuntimeError.prototype.toJSON=function(){return this.message},module.exports=RuntimeError},{}],144:[function(_dereq_,module,exports){"use strict";var Scope=function(t,n){void 0===n&&(n=[]),this.parent=t,this.bindings={};for(var e=0,r=n;e<r.length;e+=1){var o=r[e],s=o[0],p=o[1];this.bindings[s]=p}};Scope.prototype.concat=function(t){return new Scope(this,t)},Scope.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Scope.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)},module.exports=Scope},{}],145:[function(_dereq_,module,exports){"use strict";var RuntimeError=_dereq_("./runtime_error");module.exports={findStopLessThanOrEqualTo:function findStopLessThanOrEqualTo(r,e){for(var n,t,u=0,i=r.length-1,a=0;u<=i;){if(n=r[a=Math.floor((u+i)/2)],t=r[a+1],e===n||e>n&&e<t)return a;if(n<e)u=a+1;else{if(!(n>e))throw new RuntimeError("Input is not a number.");i=a-1}}return Math.max(a-1,0)}}},{"./runtime_error":143}],146:[function(_dereq_,module,exports){"use strict";function array(e,r){return{kind:"array",itemType:e,N:r}}function toString(e){if("array"===e.kind){var r=toString(e.itemType);return"number"==typeof e.N?"array<"+r+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+r+">"}return e.kind}var NullType={kind:"null"},NumberType={kind:"number"},StringType={kind:"string"},BooleanType={kind:"boolean"},ColorType={kind:"color"},ObjectType={kind:"object"},ValueType={kind:"value"},valueMemberTypes=[NullType,NumberType,StringType,BooleanType,ColorType,ObjectType,array(ValueType)];module.exports={NullType:NullType,NumberType:NumberType,StringType:StringType,BooleanType:BooleanType,ColorType:ColorType,ObjectType:ObjectType,ValueType:ValueType,array:array,ErrorType:{kind:"error"},toString:toString,checkSubtype:function checkSubtype(e,r){if("error"===r.kind)return null;if("array"===e.kind){if("array"===r.kind&&!checkSubtype(e.itemType,r.itemType)&&("number"!=typeof e.N||e.N===r.N))return null}else{if(e.kind===r.kind)return null;if("value"===e.kind)for(var n=0,y=valueMemberTypes;n<y.length;n+=1)if(!checkSubtype(y[n],r))return null}return"Expected "+toString(e)+" but found "+toString(r)+" instead."}}},{}],147:[function(_dereq_,module,exports){"use strict";var Color=_dereq_("../util/color"),ref=_dereq_("./types"),NullType=ref.NullType,NumberType=ref.NumberType,StringType=ref.StringType,BooleanType=ref.BooleanType,ColorType=ref.ColorType,ObjectType=ref.ObjectType,ValueType=ref.ValueType,array=ref.array;module.exports={Color:Color,validateRGBA:function validateRGBA(e,r,t,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof r&&r>=0&&r<=255&&"number"==typeof t&&t>=0&&t<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value ["+[e,r,t,n].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof n?[e,r,t,n]:[e,r,t]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."},isValue:function isValue(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Color)return!0;if(Array.isArray(e)){for(var r=0,t=e;r<t.length;r+=1)if(!isValue(t[r]))return!1;return!0}if("object"==typeof e){for(var n in e)if(!isValue(e[n]))return!1;return!0}return!1},typeOf:function typeOf(e){if(null===e)return NullType;if("string"==typeof e)return StringType;if("boolean"==typeof e)return BooleanType;if("number"==typeof e)return NumberType;if(e instanceof Color)return ColorType;if(Array.isArray(e)){for(var r,t=e.length,n=0,u=e;n<u.length;n+=1){var f=typeOf(u[n]);if(r){if(r===f)continue;r=ValueType;break}r=f}return array(r||ValueType,t)}return ObjectType}}},{"../util/color":153,"./types":146}],148:[function(_dereq_,module,exports){"use strict";function isExpressionFilter(e){if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3===e.length&&(Array.isArray(e[1])||Array.isArray(e[2]));case"any":case"all":for(var r=0,t=e.slice(1);r<t.length;r+=1){var n=t[r];if(!isExpressionFilter(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}function compare(e,r){return e<r?-1:e>r?1:0}function convertFilter(e){if(!e)return!0;var r=e[0];return e.length<=1?"any"!==r:"=="===r?convertComparisonOp(e[1],e[2],"=="):"!="===r?convertNegation(convertComparisonOp(e[1],e[2],"==")):"<"===r||">"===r||"<="===r||">="===r?convertComparisonOp(e[1],e[2],r):"any"===r?function convertDisjunctionOp(e){return["any"].concat(e.map(convertFilter))}(e.slice(1)):"all"===r?["all"].concat(e.slice(1).map(convertFilter)):"none"===r?["all"].concat(e.slice(1).map(convertFilter).map(convertNegation)):"in"===r?convertInOp(e[1],e.slice(2)):"!in"===r?convertNegation(convertInOp(e[1],e.slice(2))):"has"===r?convertHasOp(e[1]):"!has"!==r||convertNegation(convertHasOp(e[1]))}function convertComparisonOp(e,r,t){switch(e){case"$type":return["filter-type-"+t,r];case"$id":return["filter-id-"+t,r];default:return["filter-"+t,e,r]}}function convertInOp(e,r){if(0===r.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",r]];case"$id":return["filter-id-in",["literal",r]];default:return r.length>200&&!r.some(function(e){return typeof e!=typeof r[0]})?["filter-in-large",e,["literal",r.sort(compare)]]:["filter-in-small",e,["literal",r]]}}function convertHasOp(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function convertNegation(e){return["!",e]}var createExpression=_dereq_("../expression").createExpression;module.exports=function createFilter(e){if(!e)return function(){return!0};isExpressionFilter(e)||(e=convertFilter(e));var r=createExpression(e,filterSpec);if("error"===r.result)throw new Error(r.value.map(function(e){return e.key+": "+e.message}).join(", "));return function(e,t){return r.value.evaluate(e,t)}},module.exports.isExpressionFilter=isExpressionFilter;var filterSpec={type:"boolean",default:!1,function:!0,"property-function":!0,"zoom-function":!0}},{"../expression":139}],149:[function(_dereq_,module,exports){"use strict";function identityFunction(e){return e}function coalesce(e,t,o){return void 0!==e?e:void 0!==t?t:void 0!==o?o:void 0}function evaluateCategoricalFunction(e,t,o,r,n){return coalesce(typeof o===n?r[o]:void 0,e.default,t.default)}function evaluateIntervalFunction(e,t,o){if("number"!==getType(o))return coalesce(e.default,t.default);var r=e.stops.length;if(1===r)return e.stops[0][1];if(o<=e.stops[0][0])return e.stops[0][1];if(o>=e.stops[r-1][0])return e.stops[r-1][1];var n=findStopLessThanOrEqualTo(e.stops,o);return e.stops[n][1]}function evaluateExponentialFunction(e,t,o){var r=void 0!==e.base?e.base:1;if("number"!==getType(o))return coalesce(e.default,t.default);var n=e.stops.length;if(1===n)return e.stops[0][1];if(o<=e.stops[0][0])return e.stops[0][1];if(o>=e.stops[n-1][0])return e.stops[n-1][1];var a=findStopLessThanOrEqualTo(e.stops,o),i=function interpolationFactor(e,t,o,r){var n=r-o,a=e-o;return 0===n?0:1===t?a/n:(Math.pow(t,a)-1)/(Math.pow(t,n)-1)}(o,r,e.stops[a][0],e.stops[a+1][0]),u=e.stops[a][1],p=e.stops[a+1][1],l=interpolate[t.type]||identityFunction;if(e.colorSpace&&"rgb"!==e.colorSpace){var s=colorSpaces[e.colorSpace];l=function(e,t){return s.reverse(s.interpolate(s.forward(e),s.forward(t),i))}}return"function"==typeof u.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=u.evaluate.apply(void 0,e),r=p.evaluate.apply(void 0,e);if(void 0!==o&&void 0!==r)return l(o,r,i)}}:l(u,p,i)}function evaluateIdentityFunction(e,t,o){return"color"===t.type?o=Color.parse(o):getType(o)===t.type||"enum"===t.type&&t.values[o]||(o=void 0),coalesce(o,e.default,t.default)}function findStopLessThanOrEqualTo(e,t){for(var o,r,a=0,i=e.length-1,u=0;a<=i;){if(o=e[u=Math.floor((a+i)/2)][0],r=e[u+1][0],t===o||t>o&&t<r)return u;o<t?a=u+1:o>t&&(i=u-1)}return Math.max(u-1,0)}var colorSpaces=_dereq_("../util/color_spaces"),Color=_dereq_("../util/color"),extend=_dereq_("../util/extend"),getType=_dereq_("../util/get_type"),interpolate=_dereq_("../util/interpolate"),Interpolate=_dereq_("../expression/definitions/interpolate");module.exports={createFunction:function createFunction(e,t){var u,p,l,o="color"===t.type,r=e.stops&&"object"==typeof e.stops[0][0],n=r||void 0!==e.property,a=r||!n,i=e.type||("interpolated"===t.function?"exponential":"interval");if(o&&((e=extend({},e)).stops&&(e.stops=e.stops.map(function(e){return[e[0],Color.parse(e[1])]})),e.default?e.default=Color.parse(e.default):e.default=Color.parse(t.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!colorSpaces[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===i)u=evaluateExponentialFunction;else if("interval"===i)u=evaluateIntervalFunction;else if("categorical"===i){u=evaluateCategoricalFunction,p=Object.create(null);for(var s=0,c=e.stops;s<c.length;s+=1){var f=c[s];p[f[0]]=f[1]}l=typeof e.stops[0][0]}else{if("identity"!==i)throw new Error('Unknown function type "'+i+'"');u=evaluateIdentityFunction}if(r){for(var v={},d=[],y=0;y<e.stops.length;y++){var F=e.stops[y],h=F[0].zoom;void 0===v[h]&&(v[h]={zoom:h,type:e.type,property:e.property,default:e.default,stops:[]},d.push(h)),v[h].stops.push([F[0].value,F[1]])}for(var m=[],g=0,b=d;g<b.length;g+=1){var S=b[g];m.push([v[S].zoom,createFunction(v[S],t)])}return{kind:"composite",interpolationFactor:Interpolate.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:m.map(function(e){return e[0]}),evaluate:function(o,r){var n=o.zoom;return evaluateExponentialFunction({stops:m,base:e.base},t,n).evaluate(n,r)}}}return a?{kind:"camera",interpolationFactor:"exponential"===i?Interpolate.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==e.base?e.base:1}):function(){return 0},zoomStops:e.stops.map(function(e){return e[0]}),evaluate:function(o){var r=o.zoom;return u(e,t,r,p,l)}}:{kind:"source",evaluate:function(o,r){var n=r&&r.properties?r.properties[e.property]:void 0;return void 0===n?coalesce(e.default,t.default):u(e,t,n,p,l)}}},isFunction:function isFunction(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}}},{"../expression/definitions/interpolate":132,"../util/color":153,"../util/color_spaces":154,"../util/extend":156,"../util/get_type":157,"../util/interpolate":158}],150:[function(_dereq_,module,exports){"use strict";function stringify(r){var t=typeof r;if("number"===t||"boolean"===t||"string"===t||void 0===r||null===r)return JSON.stringify(r);if(Array.isArray(r)){for(var e="[",i=0,n=r;i<n.length;i+=1)e+=stringify(n[i])+",";return e+"]"}for(var o=Object.keys(r).sort(),f="{",u=0;u<o.length;u++)f+=JSON.stringify(o[u])+":"+stringify(r[o[u]])+",";return f+"}"}function getKey(r){for(var t="",e=0,i=refProperties;e<i.length;e+=1)t+="/"+stringify(r[i[e]]);return t}var refProperties=_dereq_("./util/ref_properties");module.exports=function groupByLayout(r){for(var t={},e=0;e<r.length;e++){var i=getKey(r[e]),n=t[i];n||(n=t[i]=[]),n.push(r[e])}var o=[];for(var f in t)o.push(t[f]);return o}},{"./util/ref_properties":159}],151:[function(_dereq_,module,exports){"use strict";module.exports=_dereq_("./v8.json")},{"./v8.json":152}],152:[function(_dereq_,module,exports){module.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image","source_canvas"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_canvas:{type:{required:!0,type:"enum",values:{canvas:{}}},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}},animate:{type:"boolean",default:"true"},canvas:{type:"string",required:!0}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{butt:{},round:{},square:{}},default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{bevel:{},round:{},miter:{}},default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{point:{},line:{}},default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,units:"factor of the original icon size",requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":!0,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"icon-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"]},"icon-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:"",tokens:!0},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},transition:!1,"zoom-function":!0,"property-function":!1,function:"piecewise-constant"},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:!0,function:"interpolated","zoom-function":!0,"property-function":!1},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0},"fill-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!1,default:1,minimum:0,maximum:1,transition:!0},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"]}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map"},"circle-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-stroke-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"heatmap-weight":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!1},"heatmap-intensity":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],function:"interpolated","zoom-function":!1,"property-function":!1,transition:!1},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,default:0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,default:1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!1,units:"milliseconds"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,function:"interpolated","zoom-function":!0,transition:!1},"hillshade-illumination-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"hillshade-shadow-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-accent-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}}}},{}],153:[function(_dereq_,module,exports){"use strict";var parseCSSColor=_dereq_("csscolorparser").parseCSSColor,Color=function(r,o,t,e){void 0===e&&(e=1),this.r=r,this.g=o,this.b=t,this.a=e};Color.parse=function(r){if(r){if(r instanceof Color)return r;if("string"==typeof r){var o=parseCSSColor(r);if(o)return new Color(o[0]/255*o[3],o[1]/255*o[3],o[2]/255*o[3],o[3])}}},Color.prototype.toString=function(){var r=this;return"rgba("+[this.r,this.g,this.b].map(function(o){return Math.round(255*o/r.a)}).concat(this.a).join(",")+")"},Color.black=new Color(0,0,0,1),Color.white=new Color(1,1,1,1),Color.transparent=new Color(0,0,0,0),module.exports=Color},{csscolorparser:13}],154:[function(_dereq_,module,exports){"use strict";function xyz2lab(a){return a>t3?Math.pow(a,1/3):a/t2+t0}function lab2xyz(a){return a>t1?a*a*a:t2*(a-t0)}function xyz2rgb(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function rgb2xyz(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function rgbToLab(a){var r=rgb2xyz(a.r),t=rgb2xyz(a.g),e=rgb2xyz(a.b),n=xyz2lab((.4124564*r+.3575761*t+.1804375*e)/Xn),l=xyz2lab((.2126729*r+.7151522*t+.072175*e)/Yn);return{l:116*l-16,a:500*(n-l),b:200*(l-xyz2lab((.0193339*r+.119192*t+.9503041*e)/Zn)),alpha:a.a}}function labToRgb(a){var r=(a.l+16)/116,t=isNaN(a.a)?r:r+a.a/500,e=isNaN(a.b)?r:r-a.b/200;return r=Yn*lab2xyz(r),t=Xn*lab2xyz(t),e=Zn*lab2xyz(e),new Color(xyz2rgb(3.2404542*t-1.5371385*r-.4985314*e),xyz2rgb(-.969266*t+1.8760108*r+.041556*e),xyz2rgb(.0556434*t-.2040259*r+1.0572252*e),a.alpha)}var Color=_dereq_("./color"),interpolateNumber=_dereq_("./interpolate").number,Xn=.95047,Yn=1,Zn=1.08883,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1,deg2rad=Math.PI/180,rad2deg=180/Math.PI;module.exports={lab:{forward:rgbToLab,reverse:labToRgb,interpolate:function interpolateLab(a,r,t){return{l:interpolateNumber(a.l,r.l,t),a:interpolateNumber(a.a,r.a,t),b:interpolateNumber(a.b,r.b,t),alpha:interpolateNumber(a.alpha,r.alpha,t)}}},hcl:{forward:function rgbToHcl(a){var r=rgbToLab(a),t=r.l,e=r.a,n=r.b,l=Math.atan2(n,e)*rad2deg;return{h:l<0?l+360:l,c:Math.sqrt(e*e+n*n),l:t,alpha:a.a}},reverse:function hclToRgb(a){var r=a.h*deg2rad,t=a.c;return labToRgb({l:a.l,a:Math.cos(r)*t,b:Math.sin(r)*t,alpha:a.alpha})},interpolate:function interpolateHcl(a,r,t){return{h:function interpolateHue(a,r,t){var e=r-a;return a+t*(e>180||e<-180?e-360*Math.round(e/360):e)}(a.h,r.h,t),c:interpolateNumber(a.c,r.c,t),l:interpolateNumber(a.l,r.l,t),alpha:interpolateNumber(a.alpha,r.alpha,t)}}}}},{"./color":153,"./interpolate":158}],155:[function(_dereq_,module,exports){"use strict";module.exports=function deepEqual(e,r){if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(!deepEqual(e[t],r[t]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==r){if("object"!=typeof r)return!1;if(Object.keys(e).length!==Object.keys(r).length)return!1;for(var n in e)if(!deepEqual(e[n],r[n]))return!1;return!0}return e===r}},{}],156:[function(_dereq_,module,exports){"use strict";module.exports=function(r){for(var t=[],e=arguments.length-1;e-- >0;)t[e]=arguments[e+1];for(var n=0,o=t;n<o.length;n+=1){var a=o[n];for(var f in a)r[f]=a[f]}return r}},{}],157:[function(_dereq_,module,exports){"use strict";module.exports=function(n){return n instanceof Number?"number":n instanceof String?"string":n instanceof Boolean?"boolean":Array.isArray(n)?"array":null===n?"null":typeof n}},{}],158:[function(_dereq_,module,exports){"use strict";function number(r,n,u){return r*(1-u)+n*u}var Color=_dereq_("./color");module.exports={number:number,color:function color(r,n,u){return new Color(number(r.r,n.r,u),number(r.g,n.g,u),number(r.b,n.b,u),number(r.a,n.a,u))},array:function array(r,n,u){return r.map(function(r,e){return number(r,n[e],u)})}}},{"./color":153}],159:[function(_dereq_,module,exports){"use strict";module.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},{}],160:[function(_dereq_,module,exports){"use strict";module.exports={success:function success(r){return{result:"success",value:r}},error:function error(r){return{result:"error",value:r}}}},{}],161:[function(_dereq_,module,exports){"use strict";function unbundle(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}module.exports=unbundle,module.exports.deep=function deepUnbundle(e){return Array.isArray(e)?e.map(deepUnbundle):unbundle(e)}},{}],162:[function(_dereq_,module,exports){"use strict";var extend=_dereq_("../util/extend"),unbundle=_dereq_("../util/unbundle_jsonlint"),isExpression=_dereq_("../expression").isExpression,isFunction=_dereq_("../function").isFunction;module.exports=function(e){var r=_dereq_("./validate_function"),i=_dereq_("./validate_expression"),t=_dereq_("./validate_object"),n={"*":function(){return[]},array:_dereq_("./validate_array"),boolean:_dereq_("./validate_boolean"),number:_dereq_("./validate_number"),color:_dereq_("./validate_color"),constants:_dereq_("./validate_constants"),enum:_dereq_("./validate_enum"),filter:_dereq_("./validate_filter"),function:_dereq_("./validate_function"),layer:_dereq_("./validate_layer"),object:_dereq_("./validate_object"),source:_dereq_("./validate_source"),light:_dereq_("./validate_light"),string:_dereq_("./validate_string")},u=e.value,a=e.valueSpec,l=e.styleSpec;return a.function&&isFunction(unbundle(u))?r(e):a.function&&isExpression(unbundle.deep(u))?i(e):a.type&&n[a.type]?n[a.type](e):t(extend({},e,{valueSpec:a.type?l[a.type]:a}))}},{"../expression":139,"../function":149,"../util/extend":156,"../util/unbundle_jsonlint":161,"./validate_array":163,"./validate_boolean":164,"./validate_color":165,"./validate_constants":166,"./validate_enum":167,"./validate_expression":168,"./validate_filter":169,"./validate_function":170,"./validate_layer":172,"./validate_light":174,"./validate_number":175,"./validate_object":176,"./validate_source":179,"./validate_string":180}],163:[function(_dereq_,module,exports){"use strict";var getType=_dereq_("../util/get_type"),validate=_dereq_("./validate"),ValidationError=_dereq_("../error/validation_error");module.exports=function(e){var r=e.value,t=e.valueSpec,a=e.style,n=e.styleSpec,l=e.key,i=e.arrayElementValidator||validate;if("array"!==getType(r))return[new ValidationError(l,r,"array expected, "+getType(r)+" found")];if(t.length&&r.length!==t.length)return[new ValidationError(l,r,"array length "+t.length+" expected, length "+r.length+" found")];if(t["min-length"]&&r.length<t["min-length"])return[new ValidationError(l,r,"array length at least "+t["min-length"]+" expected, length "+r.length+" found")];var o={type:t.value};n.$version<7&&(o.function=t.function),"object"===getType(t.value)&&(o=t.value);for(var u=[],g=0;g<r.length;g++)u=u.concat(i({array:r,arrayIndex:g,value:r[g],valueSpec:o,style:a,styleSpec:n,key:l+"["+g+"]"}));return u}},{"../error/validation_error":122,"../util/get_type":157,"./validate":162}],164:[function(_dereq_,module,exports){"use strict";var getType=_dereq_("../util/get_type"),ValidationError=_dereq_("../error/validation_error");module.exports=function(e){var r=e.value,o=e.key,t=getType(r);return"boolean"!==t?[new ValidationError(o,r,"boolean expected, "+t+" found")]:[]}},{"../error/validation_error":122,"../util/get_type":157}],165:[function(_dereq_,module,exports){"use strict";var ValidationError=_dereq_("../error/validation_error"),getType=_dereq_("../util/get_type"),parseCSSColor=_dereq_("csscolorparser").parseCSSColor;module.exports=function(r){var e=r.key,o=r.value,t=getType(o);return"string"!==t?[new ValidationError(e,o,"color expected, "+t+" found")]:null===parseCSSColor(o)?[new ValidationError(e,o,'color expected, "'+o+'" found')]:[]}},{"../error/validation_error":122,"../util/get_type":157,csscolorparser:13}],166:[function(_dereq_,module,exports){"use strict";var ValidationError=_dereq_("../error/validation_error");module.exports=function(r){var e=r.key,a=r.value;return a?[new ValidationError(e,a,"constants have been deprecated as of v8")]:[]}},{"../error/validation_error":122}],167:[function(_dereq_,module,exports){"use strict";var ValidationError=_dereq_("../error/validation_error"),unbundle=_dereq_("../util/unbundle_jsonlint");module.exports=function(e){var r=e.key,n=e.value,u=e.valueSpec,i=[];return Array.isArray(u.values)?-1===u.values.indexOf(unbundle(n))&&i.push(new ValidationError(r,n,"expected one of ["+u.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(u.values).indexOf(unbundle(n))&&i.push(new ValidationError(r,n,"expected one of ["+Object.keys(u.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}},{"../error/validation_error":122,"../util/unbundle_jsonlint":161}],168:[function(_dereq_,module,exports){"use strict";var ValidationError=_dereq_("../error/validation_error"),ref=_dereq_("../expression"),createExpression=ref.createExpression,createPropertyExpression=ref.createPropertyExpression,unbundle=_dereq_("../util/unbundle_jsonlint");module.exports=function(e){var r=("property"===e.expressionContext?createPropertyExpression:createExpression)(unbundle.deep(e.value),e.valueSpec);return"error"===r.result?r.value.map(function(r){return new ValidationError(""+e.key+r.key,e.value,r.message)}):"property"===e.expressionContext&&"text-font"===e.propertyKey&&-1!==r.value._styleExpression.expression.possibleOutputs().indexOf(void 0)?[new ValidationError(e.key,e.value,'Invalid data expression for "text-font". Output values must be contained as literals within the expression.')]:[]}},{"../error/validation_error":122,"../expression":139,"../util/unbundle_jsonlint":161}],169:[function(_dereq_,module,exports){"use strict";var ValidationError=_dereq_("../error/validation_error"),validateExpression=_dereq_("./validate_expression"),validateEnum=_dereq_("./validate_enum"),getType=_dereq_("../util/get_type"),unbundle=_dereq_("../util/unbundle_jsonlint"),extend=_dereq_("../util/extend"),isExpressionFilter=_dereq_("../feature_filter").isExpressionFilter;module.exports=function(e){return isExpressionFilter(unbundle.deep(e.value))?validateExpression(extend({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function validateNonExpressionFilter(e){var r=e.value,t=e.key;if("array"!==getType(r))return[new ValidationError(t,r,"array expected, "+getType(r)+" found")];var a,n=e.styleSpec,i=[];if(r.length<1)return[new ValidationError(t,r,"filter array must have at least 1 element")];switch(i=i.concat(validateEnum({key:t+"[0]",value:r[0],valueSpec:n.filter_operator,style:e.style,styleSpec:e.styleSpec})),unbundle(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===unbundle(r[1])&&i.push(new ValidationError(t,r,'"$type" cannot be use with operator "'+r[0]+'"'));case"==":case"!=":3!==r.length&&i.push(new ValidationError(t,r,'filter array for operator "'+r[0]+'" must have 3 elements'));case"in":case"!in":r.length>=2&&"string"!==(a=getType(r[1]))&&i.push(new ValidationError(t+"[1]",r[1],"string expected, "+a+" found"));for(var l=2;l<r.length;l++)a=getType(r[l]),"$type"===unbundle(r[1])?i=i.concat(validateEnum({key:t+"["+l+"]",value:r[l],valueSpec:n.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==a&&"number"!==a&&"boolean"!==a&&i.push(new ValidationError(t+"["+l+"]",r[l],"string, number, or boolean expected, "+a+" found"));break;case"any":case"all":case"none":for(var s=1;s<r.length;s++)i=i.concat(validateNonExpressionFilter({key:t+"["+s+"]",value:r[s],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":a=getType(r[1]),2!==r.length?i.push(new ValidationError(t,r,'filter array for "'+r[0]+'" operator must have 2 elements')):"string"!==a&&i.push(new ValidationError(t+"[1]",r[1],"string expected, "+a+" found"))}return i}(e)}},{"../error/validation_error":122,"../feature_filter":148,"../util/extend":156,"../util/get_type":157,"../util/unbundle_jsonlint":161,"./validate_enum":167,"./validate_expression":168}],170:[function(_dereq_,module,exports){"use strict";var ValidationError=_dereq_("../error/validation_error"),getType=_dereq_("../util/get_type"),validate=_dereq_("./validate"),validateObject=_dereq_("./validate_object"),validateArray=_dereq_("./validate_array"),validateNumber=_dereq_("./validate_number"),unbundle=_dereq_("../util/unbundle_jsonlint");module.exports=function(e){function r(e){var t=[],r=e.value,o=e.key;if("array"!==getType(r))return[new ValidationError(o,r,"array expected, "+getType(r)+" found")];if(2!==r.length)return[new ValidationError(o,r,"array length 2 expected, length "+r.length+" found")];if(d){if("object"!==getType(r[0]))return[new ValidationError(o,r,"object expected, "+getType(r[0])+" found")];if(void 0===r[0].zoom)return[new ValidationError(o,r,"object stop key must have zoom")];if(void 0===r[0].value)return[new ValidationError(o,r,"object stop key must have value")];if(l&&l>unbundle(r[0].zoom))return[new ValidationError(o,r[0].zoom,"stop zoom values must appear in ascending order")];unbundle(r[0].zoom)!==l&&(l=unbundle(r[0].zoom),i=void 0,s={}),t=t.concat(validateObject({key:o+"[0]",value:r[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:validateNumber,value:a}}))}else t=t.concat(a({key:o+"[0]",value:r[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},r));return t.concat(validate({key:o+"[1]",value:r[1],valueSpec:u,style:e.style,styleSpec:e.styleSpec}))}function a(e,t){var r=getType(e.value),a=unbundle(e.value),o=null!==e.value?e.value:t;if(n){if(r!==n)return[new ValidationError(e.key,o,r+" stop domain type must match previous stop domain type "+n)]}else n=r;if("number"!==r&&"string"!==r&&"boolean"!==r)return[new ValidationError(e.key,o,"stop domain value must be a number, string, or boolean")];if("number"!==r&&"categorical"!==p){var l="number expected, "+r+" found";return u["property-function"]&&void 0===p&&(l+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ValidationError(e.key,o,l)]}return"categorical"!==p||"number"!==r||isFinite(a)&&Math.floor(a)===a?"categorical"!==p&&"number"===r&&void 0!==i&&a<i?[new ValidationError(e.key,o,"stop domain values must appear in ascending order")]:(i=a,"categorical"===p&&a in s?[new ValidationError(e.key,o,"stop domain values must be unique")]:(s[a]=!0,[])):[new ValidationError(e.key,o,"integer expected, found "+a)]}var n,i,l,u=e.valueSpec,p=unbundle(e.value.type),s={},y="categorical"!==p&&void 0===e.value.property,c=!y,d="array"===getType(e.value.stops)&&"array"===getType(e.value.stops[0])&&"object"===getType(e.value.stops[0][0]),v=validateObject({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function t(e){if("identity"===p)return[new ValidationError(e.key,e.value,'identity function may not have a "stops" property')];var t=[],a=e.value;return t=t.concat(validateArray({key:e.key,value:a,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:r})),"array"===getType(a)&&0===a.length&&t.push(new ValidationError(e.key,a,"array must have at least one stop")),t},default:function o(e){return validate({key:e.key,value:e.value,valueSpec:u,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===p&&y&&v.push(new ValidationError(e.key,e.value,'missing required property "property"')),"identity"===p||e.value.stops||v.push(new ValidationError(e.key,e.value,'missing required property "stops"')),"exponential"===p&&"piecewise-constant"===e.valueSpec.function&&v.push(new ValidationError(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(c&&!e.valueSpec["property-function"]?v.push(new ValidationError(e.key,e.value,"property functions not supported")):y&&!e.valueSpec["zoom-function"]&&"heatmap-color"!==e.objectKey&&v.push(new ValidationError(e.key,e.value,"zoom functions not supported"))),"categorical"!==p&&!d||void 0!==e.value.property||v.push(new ValidationError(e.key,e.value,'"property" property is required')),v}},{"../error/validation_error":122,"../util/get_type":157,"../util/unbundle_jsonlint":161,"./validate":162,"./validate_array":163,"./validate_number":175,"./validate_object":176}],171:[function(_dereq_,module,exports){"use strict";var ValidationError=_dereq_("../error/validation_error"),validateString=_dereq_("./validate_string");module.exports=function(r){var e=r.value,t=r.key,a=validateString(r);return a.length?a:(-1===e.indexOf("{fontstack}")&&a.push(new ValidationError(t,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&a.push(new ValidationError(t,e,'"glyphs" url must include a "{range}" token')),a)}},{"../error/validation_error":122,"./validate_string":180}],172:[function(_dereq_,module,exports){"use strict";var ValidationError=_dereq_("../error/validation_error"),unbundle=_dereq_("../util/unbundle_jsonlint"),validateObject=_dereq_("./validate_object"),validateFilter=_dereq_("./validate_filter"),validatePaintProperty=_dereq_("./validate_paint_property"),validateLayoutProperty=_dereq_("./validate_layout_property"),validateSpec=_dereq_("./validate"),extend=_dereq_("../util/extend");module.exports=function(e){var r=[],t=e.value,a=e.key,l=e.style,i=e.styleSpec;t.type||t.ref||r.push(new ValidationError(a,t,'either "type" or "ref" is required'));var d,u=unbundle(t.type),n=unbundle(t.ref);if(t.id)for(var o=unbundle(t.id),s=0;s<e.arrayIndex;s++){var y=l.layers[s];unbundle(y.id)===o&&r.push(new ValidationError(a,t.id,'duplicate layer id "'+t.id+'", previously used at line '+y.id.__line__))}if("ref"in t)["type","source","source-layer","filter","layout"].forEach(function(e){e in t&&r.push(new ValidationError(a,t[e],'"'+e+'" is prohibited for ref layers'))}),l.layers.forEach(function(e){unbundle(e.id)===n&&(d=e)}),d?d.ref?r.push(new ValidationError(a,t.ref,"ref cannot reference another ref layer")):u=unbundle(d.type):r.push(new ValidationError(a,t.ref,'ref layer "'+n+'" not found'));else if("background"!==u)if(t.source){var c=l.sources&&l.sources[t.source],p=c&&unbundle(c.type);c?"vector"===p&&"raster"===u?r.push(new ValidationError(a,t.source,'layer "'+t.id+'" requires a raster source')):"raster"===p&&"raster"!==u?r.push(new ValidationError(a,t.source,'layer "'+t.id+'" requires a vector source')):"vector"!==p||t["source-layer"]?"raster-dem"===p&&"hillshade"!==u&&r.push(new ValidationError(a,t.source,"raster-dem source can only be used with layer type 'hillshade'.")):r.push(new ValidationError(a,t,'layer "'+t.id+'" must specify a "source-layer"')):r.push(new ValidationError(a,t.source,'source "'+t.source+'" not found'))}else r.push(new ValidationError(a,t,'missing required property "source"'));return r=r.concat(validateObject({key:a,value:t,valueSpec:i.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return validateSpec({key:a+".type",value:t.type,valueSpec:i.layer.type,style:e.style,styleSpec:e.styleSpec,object:t,objectKey:"type"})},filter:validateFilter,layout:function(e){return validateObject({layer:t,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return validateLayoutProperty(extend({layerType:u},e))}}})},paint:function(e){return validateObject({layer:t,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return validatePaintProperty(extend({layerType:u},e))}}})}}}))}},{"../error/validation_error":122,"../util/extend":156,"../util/unbundle_jsonlint":161,"./validate":162,"./validate_filter":169,"./validate_layout_property":173,"./validate_object":176,"./validate_paint_property":177}],173:[function(_dereq_,module,exports){"use strict";var validateProperty=_dereq_("./validate_property");module.exports=function(r){return validateProperty(r,"layout")}},{"./validate_property":178}],174:[function(_dereq_,module,exports){"use strict";var ValidationError=_dereq_("../error/validation_error"),getType=_dereq_("../util/get_type"),validate=_dereq_("./validate");module.exports=function(e){var t=e.value,r=e.styleSpec,a=r.light,i=e.style,n=[],o=getType(t);if(void 0===t)return n;if("object"!==o)return n.concat([new ValidationError("light",t,"object expected, "+o+" found")]);for(var l in t){var c=l.match(/^(.*)-transition$/);n=c&&a[c[1]]&&a[c[1]].transition?n.concat(validate({key:l,value:t[l],valueSpec:r.transition,style:i,styleSpec:r})):a[l]?n.concat(validate({key:l,value:t[l],valueSpec:a[l],style:i,styleSpec:r})):n.concat([new ValidationError(l,t[l],'unknown property "'+l+'"')])}return n}},{"../error/validation_error":122,"../util/get_type":157,"./validate":162}],175:[function(_dereq_,module,exports){"use strict";var getType=_dereq_("../util/get_type"),ValidationError=_dereq_("../error/validation_error");module.exports=function(e){var r=e.key,i=e.value,m=e.valueSpec,a=getType(i);return"number"!==a?[new ValidationError(r,i,"number expected, "+a+" found")]:"minimum"in m&&i<m.minimum?[new ValidationError(r,i,i+" is less than the minimum value "+m.minimum)]:"maximum"in m&&i>m.maximum?[new ValidationError(r,i,i+" is greater than the maximum value "+m.maximum)]:[]}},{"../error/validation_error":122,"../util/get_type":157}],176:[function(_dereq_,module,exports){"use strict";var ValidationError=_dereq_("../error/validation_error"),getType=_dereq_("../util/get_type"),validateSpec=_dereq_("./validate");module.exports=function(e){var r=e.key,t=e.value,i=e.valueSpec||{},a=e.objectElementValidators||{},o=e.style,l=e.styleSpec,n=[],u=getType(t);if("object"!==u)return[new ValidationError(r,t,"object expected, "+u+" found")];for(var d in t){var p=d.split(".")[0],c=i[p]||i["*"],v=void 0;if(a[p])v=a[p];else if(i[p])v=validateSpec;else if(a["*"])v=a["*"];else{if(!i["*"]){n.push(new ValidationError(r,t[d],'unknown property "'+d+'"'));continue}v=validateSpec}n=n.concat(v({key:(r?r+".":r)+d,value:t[d],valueSpec:c,style:o,styleSpec:l,object:t,objectKey:d},t))}for(var s in i)a[s]||i[s].required&&void 0===i[s].default&&void 0===t[s]&&n.push(new ValidationError(r,t,'missing required property "'+s+'"'));return n}},{"../error/validation_error":122,"../util/get_type":157,"./validate":162}],177:[function(_dereq_,module,exports){"use strict";var validateProperty=_dereq_("./validate_property");module.exports=function(r){return validateProperty(r,"paint")}},{"./validate_property":178}],178:[function(_dereq_,module,exports){"use strict";var validate=_dereq_("./validate"),ValidationError=_dereq_("../error/validation_error"),getType=_dereq_("../util/get_type"),isFunction=_dereq_("../function").isFunction,unbundle=_dereq_("../util/unbundle_jsonlint");module.exports=function(e,t){var r=e.key,n=e.style,i=e.styleSpec,o=e.value,a=e.objectKey,u=i[t+"_"+e.layerType];if(!u)return[];var p=a.match(/^(.*)-transition$/);if("paint"===t&&p&&u[p[1]]&&u[p[1]].transition)return validate({key:r,value:o,valueSpec:i.transition,style:n,styleSpec:i});var y,l=e.valueSpec||u[a];if(!l)return[new ValidationError(r,o,'unknown property "'+a+'"')];if("string"===getType(o)&&l["property-function"]&&!l.tokens&&(y=/^{([^}]+)}$/.exec(o)))return[new ValidationError(r,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(y[1])+" }`.")];var s=[];return"symbol"===e.layerType&&("text-field"===a&&n&&!n.glyphs&&s.push(new ValidationError(r,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&isFunction(unbundle.deep(o))&&"identity"===unbundle(o.type)&&s.push(new ValidationError(r,o,'"text-font" does not support identity functions'))),s.concat(validate({key:e.key,value:o,valueSpec:l,style:n,styleSpec:i,expressionContext:"property",propertyKey:a}))}},{"../error/validation_error":122,"../function":149,"../util/get_type":157,"../util/unbundle_jsonlint":161,"./validate":162}],179:[function(_dereq_,module,exports){"use strict";var ValidationError=_dereq_("../error/validation_error"),unbundle=_dereq_("../util/unbundle_jsonlint"),validateObject=_dereq_("./validate_object"),validateEnum=_dereq_("./validate_enum");module.exports=function(e){var a=e.value,r=e.key,t=e.styleSpec,l=e.style;if(!a.type)return[new ValidationError(r,a,'"type" is required')];var u=unbundle(a.type),s=[];switch(u){case"vector":case"raster":case"raster-dem":if(s=s.concat(validateObject({key:r,value:a,valueSpec:t["source_"+u.replace("-","_")],style:e.style,styleSpec:t})),"url"in a)for(var c in a)["type","url","tileSize"].indexOf(c)<0&&s.push(new ValidationError(r+"."+c,a[c],'a source with a "url" property may not include a "'+c+'" property'));return s;case"geojson":return validateObject({key:r,value:a,valueSpec:t.source_geojson,style:l,styleSpec:t});case"video":return validateObject({key:r,value:a,valueSpec:t.source_video,style:l,styleSpec:t});case"image":return validateObject({key:r,value:a,valueSpec:t.source_image,style:l,styleSpec:t});case"canvas":return validateObject({key:r,value:a,valueSpec:t.source_canvas,style:l,styleSpec:t});default:return validateEnum({key:r+".type",value:a.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image","canvas"]},style:l,styleSpec:t})}}},{"../error/validation_error":122,"../util/unbundle_jsonlint":161,"./validate_enum":167,"./validate_object":176}],180:[function(_dereq_,module,exports){"use strict";var getType=_dereq_("../util/get_type"),ValidationError=_dereq_("../error/validation_error");module.exports=function(r){var e=r.value,t=r.key,i=getType(e);return"string"!==i?[new ValidationError(t,e,"string expected, "+i+" found")]:[]}},{"../error/validation_error":122,"../util/get_type":157}],181:[function(_dereq_,module,exports){"use strict";function validateStyleMin(e,a){a=a||latestStyleSpec;var t=[];return t=t.concat(validate({key:"",value:e,valueSpec:a.$root,styleSpec:a,style:e,objectElementValidators:{glyphs:validateGlyphsURL,"*":function(){return[]}}})),e.constants&&(t=t.concat(validateConstants({key:"constants",value:e.constants,style:e,styleSpec:a}))),sortErrors(t)}function sortErrors(e){return[].concat(e).sort(function(e,a){return e.line-a.line})}function wrapCleanErrors(e){return function(){return sortErrors(e.apply(this,arguments))}}var validateConstants=_dereq_("./validate/validate_constants"),validate=_dereq_("./validate/validate"),latestStyleSpec=_dereq_("./reference/latest"),validateGlyphsURL=_dereq_("./validate/validate_glyphs_url");validateStyleMin.source=wrapCleanErrors(_dereq_("./validate/validate_source")),validateStyleMin.light=wrapCleanErrors(_dereq_("./validate/validate_light")),validateStyleMin.layer=wrapCleanErrors(_dereq_("./validate/validate_layer")),validateStyleMin.filter=wrapCleanErrors(_dereq_("./validate/validate_filter")),validateStyleMin.paintProperty=wrapCleanErrors(_dereq_("./validate/validate_paint_property")),validateStyleMin.layoutProperty=wrapCleanErrors(_dereq_("./validate/validate_layout_property")),module.exports=validateStyleMin},{"./reference/latest":151,"./validate/validate":162,"./validate/validate_constants":166,"./validate/validate_filter":169,"./validate/validate_glyphs_url":171,"./validate/validate_layer":172,"./validate/validate_layout_property":173,"./validate/validate_light":174,"./validate/validate_paint_property":177,"./validate/validate_source":179}],182:[function(_dereq_,module,exports){"use strict";var ZoomHistory=_dereq_("./zoom_history"),EvaluationParameters=function(t,o){this.zoom=t,o?(this.now=o.now,this.fadeDuration=o.fadeDuration,this.zoomHistory=o.zoomHistory,this.transition=o.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ZoomHistory,this.transition={})};EvaluationParameters.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},module.exports=EvaluationParameters},{"./zoom_history":212}],183:[function(_dereq_,module,exports){"use strict";var styleSpec=_dereq_("../style-spec/reference/latest"),util=_dereq_("../util/util"),Evented=_dereq_("../util/evented"),validateStyle=_dereq_("./validate_style"),sphericalToCartesian=_dereq_("../util/util").sphericalToCartesian,interpolate=(_dereq_("../style-spec/util/color"),_dereq_("../style-spec/util/interpolate")),ref$1=_dereq_("./properties"),Properties=ref$1.Properties,Transitionable=ref$1.Transitionable,DataConstantProperty=(ref$1.Transitioning,ref$1.PossiblyEvaluated,ref$1.DataConstantProperty),LightPositionProperty=function(){this.specification=styleSpec.light.position};LightPositionProperty.prototype.possiblyEvaluate=function(t,e){return sphericalToCartesian(t.expression.evaluate(e))},LightPositionProperty.prototype.interpolate=function(t,e,i){return{x:interpolate.number(t.x,e.x,i),y:interpolate.number(t.y,e.y,i),z:interpolate.number(t.z,e.z,i)}};var properties=new Properties({anchor:new DataConstantProperty(styleSpec.light.anchor),position:new LightPositionProperty,color:new DataConstantProperty(styleSpec.light.color),intensity:new DataConstantProperty(styleSpec.light.intensity)}),Light=function(t){function e(e){t.call(this),this._transitionable=new Transitionable(properties),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLight=function(){return this._transitionable.serialize()},e.prototype.setLight=function(t){if(!this._validate(validateStyle.light,t))for(var i in t){var r=t[i];util.endsWith(i,"-transition")?this._transitionable.setTransition(i.slice(0,-"-transition".length),r):this._transitionable.setValue(i,r)}},e.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},e.prototype.hasTransition=function(){return this._transitioning.hasTransition()},e.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},e.prototype._validate=function(t,e){return validateStyle.emitErrors(this,t.call(validateStyle,util.extend({value:e,style:{glyphs:!0,sprite:!0},styleSpec:styleSpec})))},e}(Evented);module.exports=Light},{"../style-spec/reference/latest":151,"../style-spec/util/color":153,"../style-spec/util/interpolate":158,"../util/evented":260,"../util/util":275,"./properties":188,"./validate_style":211}],184:[function(_dereq_,module,exports){"use strict";var normalizeGlyphsURL=_dereq_("../util/mapbox").normalizeGlyphsURL,ajax=_dereq_("../util/ajax"),parseGlyphPBF=_dereq_("./parse_glyph_pbf");module.exports=function(e,r,a,l,p){var i=256*r,s=i+255,t=l(normalizeGlyphsURL(a).replace("{fontstack}",e).replace("{range}",i+"-"+s),ajax.ResourceType.Glyphs);ajax.getArrayBuffer(t,function(e,r){if(e)p(e);else if(r){for(var a={},l=0,i=parseGlyphPBF(r.data);l<i.length;l+=1){var s=i[l];a[s.id]=s}p(null,a)}})}},{"../util/ajax":251,"../util/mapbox":267,"./parse_glyph_pbf":186}],185:[function(_dereq_,module,exports){"use strict";var ajax=_dereq_("../util/ajax"),browser=_dereq_("../util/browser"),normalizeSpriteURL=_dereq_("../util/mapbox").normalizeSpriteURL,RGBAImage=_dereq_("../util/image").RGBAImage;module.exports=function(e,i,r){function a(){if(n)r(n);else if(t&&o){var e=browser.getImageData(o),i={};for(var a in t){var u=t[a],g=u.width,l=u.height,x=u.x,m=u.y,p=u.sdf,f=u.pixelRatio,s=new RGBAImage({width:g,height:l});RGBAImage.copy(e,s,{x:x,y:m},{x:0,y:0},{width:g,height:l}),i[a]={data:s,pixelRatio:f,sdf:p}}r(null,i)}}var t,o,n,u=browser.devicePixelRatio>1?"@2x":"";ajax.getJSON(i(normalizeSpriteURL(e,u,".json"),ajax.ResourceType.SpriteJSON),function(e,i){n||(n=e,t=i,a())}),ajax.getImage(i(normalizeSpriteURL(e,u,".png"),ajax.ResourceType.SpriteImage),function(e,i){n||(n=e,o=i,a())})}},{"../util/ajax":251,"../util/browser":252,"../util/image":263,"../util/mapbox":267}],186:[function(_dereq_,module,exports){"use strict";function readFontstacks(e,a,r){1===e&&r.readMessage(readFontstack,a)}function readFontstack(e,a,r){if(3===e){var t=r.readMessage(readGlyph,{}),d=t.id,i=t.bitmap,n=t.width,o=t.height,h=t.left,s=t.top,p=t.advance;a.push({id:d,bitmap:new AlphaImage({width:n+2*border,height:o+2*border},i),metrics:{width:n,height:o,left:h,top:s,advance:p}})}}function readGlyph(e,a,r){1===e?a.id=r.readVarint():2===e?a.bitmap=r.readBytes():3===e?a.width=r.readVarint():4===e?a.height=r.readVarint():5===e?a.left=r.readSVarint():6===e?a.top=r.readSVarint():7===e&&(a.advance=r.readVarint())}var AlphaImage=_dereq_("../util/image").AlphaImage,Protobuf=_dereq_("pbf"),border=3;module.exports=function(e){return new Protobuf(e).readFields(readFontstacks,[])},module.exports.GLYPH_PBF_BORDER=border},{"../util/image":263,pbf:30}],187:[function(_dereq_,module,exports){"use strict";var browser=_dereq_("../util/browser"),Placement=_dereq_("../symbol/placement"),LayerPlacement=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};LayerPlacement.prototype.continuePlacement=function(e,n,t,r,o){for(var l=this;this._currentTileIndex<e.length;){var s=e[l._currentTileIndex];if(n.placeLayerTile(r,s,t,l._seenCrossTileIDs),l._currentTileIndex++,o())return!0}};var PauseablePlacement=function(e,n,t,r,o){this.placement=new Placement(e,o),this._currentPlacementIndex=n.length-1,this._forceFullPlacement=t,this._showCollisionBoxes=r,this._done=!1};PauseablePlacement.prototype.isDone=function(){return this._done},PauseablePlacement.prototype.continuePlacement=function(e,n,t){for(var r=this,o=browser.now(),l=function(){var e=browser.now()-o;return!r._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var a=n[e[r._currentPlacementIndex]],i=r.placement.collisionIndex.transform.zoom;if("symbol"===a.type&&(!a.minzoom||a.minzoom<=i)&&(!a.maxzoom||a.maxzoom>i)){if(r._inProgressLayer||(r._inProgressLayer=new LayerPlacement),r._inProgressLayer.continuePlacement(t[a.source],r.placement,r._showCollisionBoxes,a,l))return;delete r._inProgressLayer}r._currentPlacementIndex--}this._done=!0},PauseablePlacement.prototype.commit=function(e,n){return this.placement.commit(e,n),this.placement},module.exports=PauseablePlacement},{"../symbol/placement":223,"../util/browser":252}],188:[function(_dereq_,module,exports){"use strict";var ref=_dereq_("../util/util"),clone=ref.clone,extend=ref.extend,easeCubicInOut=ref.easeCubicInOut,interpolate=_dereq_("../style-spec/util/interpolate"),normalizePropertyExpression=_dereq_("../style-spec/expression").normalizePropertyExpression,register=(_dereq_("../style-spec/util/color"),_dereq_("../util/web_worker_transfer").register),PropertyValue=function(t,e){this.property=t,this.value=e,this.expression=normalizePropertyExpression(void 0===e?t.specification.default:e,t.specification)};PropertyValue.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},PropertyValue.prototype.possiblyEvaluate=function(t){return this.property.possiblyEvaluate(this,t)};var TransitionablePropertyValue=function(t){this.property=t,this.value=new PropertyValue(t,void 0)};TransitionablePropertyValue.prototype.transitioned=function(t,e){return new TransitioningPropertyValue(this.property,this.value,e,extend({},t.transition,this.transition),t.now)},TransitionablePropertyValue.prototype.untransitioned=function(){return new TransitioningPropertyValue(this.property,this.value,null,{},0)};var Transitionable=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};Transitionable.prototype.getValue=function(t){return clone(this._values[t].value.value)},Transitionable.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new TransitionablePropertyValue(this._values[t].property)),this._values[t].value=new PropertyValue(this._values[t].property,null===e?void 0:clone(e))},Transitionable.prototype.getTransition=function(t){return clone(this._values[t].transition)},Transitionable.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new TransitionablePropertyValue(this._values[t].property)),this._values[t].transition=clone(e)||void 0},Transitionable.prototype.serialize=function(){for(var t=this,e={},r=0,a=Object.keys(t._values);r<a.length;r+=1){var o=a[r],i=t.getValue(o);void 0!==i&&(e[o]=i);var n=t.getTransition(o);void 0!==n&&(e[o+"-transition"]=n)}return e},Transitionable.prototype.transitioned=function(t,e){for(var a=new Transitioning(this._properties),o=0,i=Object.keys(this._values);o<i.length;o+=1){var n=i[o];a._values[n]=this._values[n].transitioned(t,e._values[n])}return a},Transitionable.prototype.untransitioned=function(){for(var e=new Transitioning(this._properties),r=0,a=Object.keys(this._values);r<a.length;r+=1){var o=a[r];e._values[o]=this._values[o].untransitioned()}return e};var TransitioningPropertyValue=function(t,e,r,a,o){this.property=t,this.value=e,this.begin=o+a.delay||0,this.end=this.begin+a.duration||0,t.specification.transition&&(a.delay||a.duration)&&(this.prior=r)};TransitioningPropertyValue.prototype.possiblyEvaluate=function(t){var e=t.now||0,r=this.value.possiblyEvaluate(t),a=this.prior;if(a){if(e>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(e<this.begin)return a.possiblyEvaluate(t);var o=(e-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(t),r,easeCubicInOut(o))}return r};var Transitioning=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};Transitioning.prototype.possiblyEvaluate=function(t){for(var r=new PossiblyEvaluated(this._properties),a=0,o=Object.keys(this._values);a<o.length;a+=1){var i=o[a];r._values[i]=this._values[i].possiblyEvaluate(t)}return r},Transitioning.prototype.hasTransition=function(){for(var e=0,r=Object.keys(this._values);e<r.length;e+=1){var a=r[e];if(this._values[a].prior)return!0}return!1};var Layout=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};Layout.prototype.getValue=function(t){return clone(this._values[t].value)},Layout.prototype.setValue=function(t,e){this._values[t]=new PropertyValue(this._values[t].property,null===e?void 0:clone(e))},Layout.prototype.serialize=function(){for(var e={},r=0,a=Object.keys(this._values);r<a.length;r+=1){var o=a[r],i=this.getValue(o);void 0!==i&&(e[o]=i)}return e},Layout.prototype.possiblyEvaluate=function(t){for(var r=new PossiblyEvaluated(this._properties),a=0,o=Object.keys(this._values);a<o.length;a+=1){var i=o[a];r._values[i]=this._values[i].possiblyEvaluate(t)}return r};var PossiblyEvaluatedPropertyValue=function(t,e,r){this.property=t,this.value=e,this.globals=r};PossiblyEvaluatedPropertyValue.prototype.isConstant=function(){return"constant"===this.value.kind},PossiblyEvaluatedPropertyValue.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},PossiblyEvaluatedPropertyValue.prototype.evaluate=function(t){return this.property.evaluate(this.value,this.globals,t)};var PossiblyEvaluated=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};PossiblyEvaluated.prototype.get=function(t){return this._values[t]};var DataConstantProperty=function(t){this.specification=t};DataConstantProperty.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},DataConstantProperty.prototype.interpolate=function(t,e,r){var a=interpolate[this.specification.type];return a?a(t,e,r):t};var DataDrivenProperty=function(t){this.specification=t};DataDrivenProperty.prototype.possiblyEvaluate=function(t,e){return"constant"===t.expression.kind||"camera"===t.expression.kind?new PossiblyEvaluatedPropertyValue(this,{kind:"constant",value:t.expression.evaluate(e)},e):new PossiblyEvaluatedPropertyValue(this,t.expression,e)},DataDrivenProperty.prototype.interpolate=function(t,e,r){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0!==t.value.value&&void 0!==e.value.value){var a=interpolate[this.specification.type];return a?new PossiblyEvaluatedPropertyValue(this,{kind:"constant",value:a(t.value.value,e.value.value,r)},t.globals):t}},DataDrivenProperty.prototype.evaluate=function(t,e,r){return"constant"===t.kind?t.value:t.evaluate(e,r)};var CrossFadedProperty=function(t){this.specification=t};CrossFadedProperty.prototype.possiblyEvaluate=function(t,e){if(void 0!==t.value){if("constant"===t.expression.kind){var r=t.expression.evaluate(e);return this._calculate(r,r,r,e)}return this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e)}},CrossFadedProperty.prototype._calculate=function(t,e,r,a){var o=a.zoom,i=o-Math.floor(o),n=a.crossFadingFactor();return o>a.zoomHistory.lastIntegerZoom?{from:t,to:e,fromScale:2,toScale:1,t:i+(1-i)*n}:{from:r,to:e,fromScale:.5,toScale:1,t:1-(1-n)*i}},CrossFadedProperty.prototype.interpolate=function(t){return t};var HeatmapColorProperty=function(t){this.specification=t};HeatmapColorProperty.prototype.possiblyEvaluate=function(){},HeatmapColorProperty.prototype.interpolate=function(){};register("DataDrivenProperty",DataDrivenProperty),register("DataConstantProperty",DataConstantProperty),register("CrossFadedProperty",CrossFadedProperty),register("HeatmapColorProperty",HeatmapColorProperty),module.exports={PropertyValue:PropertyValue,Transitionable:Transitionable,Transitioning:Transitioning,Layout:Layout,PossiblyEvaluatedPropertyValue:PossiblyEvaluatedPropertyValue,PossiblyEvaluated:PossiblyEvaluated,DataConstantProperty:DataConstantProperty,DataDrivenProperty:DataDrivenProperty,CrossFadedProperty:CrossFadedProperty,HeatmapColorProperty:HeatmapColorProperty,Properties:function(t){var e=this;for(var r in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},t){var a=t[r],o=e.defaultPropertyValues[r]=new PropertyValue(a,void 0),i=e.defaultTransitionablePropertyValues[r]=new TransitionablePropertyValue(a);e.defaultTransitioningPropertyValues[r]=i.untransitioned(),e.defaultPossiblyEvaluatedValues[r]=o.possiblyEvaluate({})}}}},{"../style-spec/expression":139,"../style-spec/util/color":153,"../style-spec/util/interpolate":158,"../util/util":275,"../util/web_worker_transfer":278}],189:[function(_dereq_,module,exports){"use strict";var Point=_dereq_("@mapbox/point-geometry");module.exports={getMaximumPaintValue:function getMaximumPaintValue(t,a,e){var n=a.paint.get(t).value;return"constant"===n.kind?n.value:e.programConfigurations.get(a.id).binders[t].statistics.max},translateDistance:function translateDistance(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},translate:function translate(t,a,e,n,r){if(!a[0]&&!a[1])return t;var i=Point.convert(a);"viewport"===e&&i._rotate(-n);for(var u=[],s=0;s<t.length;s++){for(var o=t[s],l=[],m=0;m<o.length;m++)l.push(o[m].sub(i._mult(r)));u.push(l)}return u}}},{"@mapbox/point-geometry":4}],190:[function(_dereq_,module,exports){"use strict";var Evented=_dereq_("../util/evented"),StyleLayer=_dereq_("./style_layer"),loadSprite=_dereq_("./load_sprite"),ImageManager=_dereq_("../render/image_manager"),GlyphManager=_dereq_("../render/glyph_manager"),Light=_dereq_("./light"),LineAtlas=_dereq_("../render/line_atlas"),util=_dereq_("../util/util"),ajax=_dereq_("../util/ajax"),mapbox=_dereq_("../util/mapbox"),browser=_dereq_("../util/browser"),Dispatcher=_dereq_("../util/dispatcher"),validateStyle=_dereq_("./validate_style"),getSourceType=_dereq_("../source/source").getType,setSourceType=_dereq_("../source/source").setType,QueryFeatures=_dereq_("../source/query_features"),SourceCache=_dereq_("../source/source_cache"),styleSpec=(_dereq_("../source/geojson_source"),_dereq_("../style-spec/reference/latest")),getWorkerPool=_dereq_("../util/global_worker_pool"),deref=_dereq_("../style-spec/deref"),diff=_dereq_("../style-spec/diff"),rtlTextPlugin=_dereq_("../source/rtl_text_plugin"),PauseablePlacement=_dereq_("./pauseable_placement"),ZoomHistory=_dereq_("./zoom_history"),CrossTileSymbolIndex=_dereq_("../symbol/cross_tile_symbol_index"),supportedDiffOperations=util.pick(diff.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),ignoredDiffOperations=util.pick(diff.operations,["setCenter","setZoom","setBearing","setPitch"]),Style=function(e){function r(r,t){var a=this;void 0===t&&(t={}),e.call(this),this.map=r,this.dispatcher=new Dispatcher(getWorkerPool(),this),this.imageManager=new ImageManager,this.glyphManager=new GlyphManager(r._transformRequest,t.localIdeographFontFamily),this.lineAtlas=new LineAtlas(256,512),this.crossTileSymbolIndex=new CrossTileSymbolIndex,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new ZoomHistory,this._loaded=!1,this._resetUpdates();var i=this;this._rtlTextPluginCallback=rtlTextPlugin.registerForPluginAvailability(function(e){for(var r in i.dispatcher.broadcast("loadRTLTextPlugin",e.pluginBlobURL,e.errorCallback),i.sourceCaches)i.sourceCaches[r].reload()}),this.on("data",function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var r=a.sourceCaches[e.sourceId];if(r){var t=r.getSource();if(t&&t.vectorLayerIds)for(var i in a._layers){var s=a._layers[i];s.source===t.id&&a._validateLayer(s)}}}})}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.loadURL=function(e,r){var t=this;void 0===r&&(r={}),this.fire("dataloading",{dataType:"style"});var a="boolean"==typeof r.validate?r.validate:!mapbox.isMapboxURL(e);e=mapbox.normalizeStyleURL(e,r.accessToken);var i=this.map._transformRequest(e,ajax.ResourceType.Style);ajax.getJSON(i,function(e,r){e?t.fire("error",{error:e}):r&&t._load(r,a)})},r.prototype.loadJSON=function(e,r){var t=this;void 0===r&&(r={}),this.fire("dataloading",{dataType:"style"}),browser.frame(function(){t._load(e,!1!==r.validate)})},r.prototype._load=function(e,r){var t=this;if(!r||!validateStyle.emitErrors(this,validateStyle(e))){for(var a in this._loaded=!0,this.stylesheet=e,e.sources)t.addSource(a,e.sources[a],{validate:!1});e.sprite?loadSprite(e.sprite,this.map._transformRequest,function(e,r){if(e)t.fire("error",e);else if(r)for(var a in r)t.imageManager.addImage(a,r[a]);t.imageManager.setLoaded(!0),t.fire("data",{dataType:"style"})}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var i=deref(this.stylesheet.layers);this._order=i.map(function(e){return e.id}),this._layers={};for(var s=0,o=i;s<o.length;s+=1){var n=o[s];(n=StyleLayer.create(n)).setEventedParent(t,{layer:{id:n.id}}),t._layers[n.id]=n}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Light(this.stylesheet.light),this.fire("data",{dataType:"style"}),this.fire("style.load")}},r.prototype._validateLayer=function(e){var r=this.sourceCaches[e.source];if(r){var t=e.sourceLayer;if(t){var a=r.getSource();("geojson"===a.type||a.vectorLayerIds&&-1===a.vectorLayerIds.indexOf(t))&&this.fire("error",{error:new Error('Source layer "'+t+'" does not exist on source "'+a.id+'" as specified by style layer "'+e.id+'"')})}}},r.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var r in this.sourceCaches)if(!this.sourceCaches[r].loaded())return!1;return!!this.imageManager.isLoaded()},r.prototype._serializeLayers=function(e){var r=this;return e.map(function(e){return r._layers[e].serialize()})},r.prototype.hasTransitions=function(){var e=this;if(this.light&&this.light.hasTransition())return!0;for(var r in e.sourceCaches)if(e.sourceCaches[r].hasTransition())return!0;for(var t in e._layers)if(e._layers[t].hasTransition())return!0;return!1},r.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},r.prototype.update=function(e){var r=this;if(this._loaded){if(this._changed){var t=Object.keys(this._updatedLayers),a=Object.keys(this._removedLayers);for(var i in(t.length||a.length)&&this._updateWorkerLayers(t,a),r._updatedSources){var s=r._updatedSources[i];"reload"===s?r._reloadSource(i):"clear"===s&&r._clearSource(i)}for(var o in r._updatedPaintProps)r._layers[o].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates(),this.fire("data",{dataType:"style"})}for(var n in r.sourceCaches)r.sourceCaches[n].used=!1;for(var l=0,h=r._order;l<h.length;l+=1){var u=h[l],d=r._layers[u];d.recalculate(e),!d.isHidden(e.zoom)&&d.source&&(r.sourceCaches[d.source].used=!0)}this.light.recalculate(e),this.z=e.zoom}},r.prototype._updateWorkerLayers=function(e,r){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:r})},r.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},r.prototype.setState=function(e){var r=this;if(this._checkLoaded(),validateStyle.emitErrors(this,validateStyle(e)))return!1;(e=util.clone(e)).layers=deref(e.layers);var t=diff(this.serialize(),e).filter(function(e){return!(e.command in ignoredDiffOperations)});if(0===t.length)return!1;var a=t.filter(function(e){return!(e.command in supportedDiffOperations)});if(a.length>0)throw new Error("Unimplemented: "+a.map(function(e){return e.command}).join(", ")+".");return t.forEach(function(e){"setTransition"!==e.command&&r[e.command].apply(r,e.args)}),this.stylesheet=e,!0},r.prototype.addImage=function(e,r){if(this.getImage(e))return this.fire("error",{error:new Error("An image with this name already exists.")});this.imageManager.addImage(e,r),this.fire("data",{dataType:"style"})},r.prototype.getImage=function(e){return this.imageManager.getImage(e)},r.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire("error",{error:new Error("No image with this name exists.")});this.imageManager.removeImage(e),this.fire("data",{dataType:"style"})},r.prototype.addSource=function(e,r,t){var a=this;if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!r.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(r).join(", ")+".");if(!(["vector","raster","geojson","video","image","canvas"].indexOf(r.type)>=0&&this._validate(validateStyle.source,"sources."+e,r,null,t))){this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);var i=this.sourceCaches[e]=new SourceCache(e,r,this.dispatcher);i.style=this,i.setEventedParent(this,function(){return{isSourceLoaded:a.loaded(),source:i.serialize(),sourceId:e}}),i.onAdd(this.map),this._changed=!0}},r.prototype.removeSource=function(e){var r=this;if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var t in r._layers)if(r._layers[t].source===e)return r.fire("error",{error:new Error('Source "'+e+'" cannot be removed while layer "'+t+'" is using it.')});var a=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],a.fire("data",{sourceDataType:"metadata",dataType:"source",sourceId:e}),a.setEventedParent(null),a.clearTiles(),a.onRemove&&a.onRemove(this.map),this._changed=!0},r.prototype.setGeoJSONSourceData=function(e,r){this._checkLoaded(),this.sourceCaches[e].getSource().setData(r),this._changed=!0},r.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},r.prototype.addLayer=function(e,r,t){this._checkLoaded();var a=e.id;if("object"==typeof e.source&&(this.addSource(a,e.source),e=util.clone(e),e=util.extend(e,{source:a})),!this._validate(validateStyle.layer,"layers."+a,e,{arrayIndex:-1},t)){var i=StyleLayer.create(e);this._validateLayer(i),i.setEventedParent(this,{layer:{id:a}});var s=r?this._order.indexOf(r):this._order.length;if(r&&-1===s)return void this.fire("error",{error:new Error('Layer with id "'+r+'" does not exist on this map.')});if(this._order.splice(s,0,a),this._layerOrderChanged=!0,this._layers[a]=i,this._removedLayers[a]&&i.source){var o=this._removedLayers[a];delete this._removedLayers[a],o.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause())}this._updateLayer(i)}},r.prototype.moveLayer=function(e,r){if(this._checkLoaded(),this._changed=!0,this._layers[e]){var t=this._order.indexOf(e);this._order.splice(t,1);var a=r?this._order.indexOf(r):this._order.length;r&&-1===a?this.fire("error",{error:new Error('Layer with id "'+r+'" does not exist on this map.')}):(this._order.splice(a,0,e),this._layerOrderChanged=!0)}else this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")})},r.prototype.removeLayer=function(e){this._checkLoaded();var r=this._layers[e];if(r){r.setEventedParent(null);var t=this._order.indexOf(e);this._order.splice(t,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=r,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e]}else this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")})},r.prototype.getLayer=function(e){return this._layers[e]},r.prototype.setLayerZoomRange=function(e,r,t){this._checkLoaded();var a=this.getLayer(e);a?a.minzoom===r&&a.maxzoom===t||(null!=r&&(a.minzoom=r),null!=t&&(a.maxzoom=t),this._updateLayer(a)):this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")})},r.prototype.setFilter=function(e,r){this._checkLoaded();var t=this.getLayer(e);if(t)return util.deepEqual(t.filter,r)?void 0:null===r||void 0===r?(t.filter=void 0,void this._updateLayer(t)):void(this._validate(validateStyle.filter,"layers."+t.id+".filter",r)||(t.filter=util.clone(r),this._updateLayer(t)));this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")})},r.prototype.getFilter=function(e){return util.clone(this.getLayer(e).filter)},r.prototype.setLayoutProperty=function(e,r,t){this._checkLoaded();var a=this.getLayer(e);a?util.deepEqual(a.getLayoutProperty(r),t)||(a.setLayoutProperty(r,t),this._updateLayer(a)):this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")})},r.prototype.getLayoutProperty=function(e,r){return this.getLayer(e).getLayoutProperty(r)},r.prototype.setPaintProperty=function(e,r,t){this._checkLoaded();var a=this.getLayer(e);if(a){if(!util.deepEqual(a.getPaintProperty(r),t)){var i=a._transitionablePaint._values[r].value.isDataDriven();a.setPaintProperty(r,t),(a._transitionablePaint._values[r].value.isDataDriven()||i)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[e]=!0}}else this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")})},r.prototype.getPaintProperty=function(e,r){return this.getLayer(e).getPaintProperty(r)},r.prototype.getTransition=function(){return util.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},r.prototype.serialize=function(){var e=this;return util.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:util.mapObject(this.sourceCaches,function(e){return e.serialize()}),layers:this._order.map(function(r){return e._layers[r].serialize()})},function(e){return void 0!==e})},r.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},r.prototype._flattenRenderedFeatures=function(e){for(var t=[],a=this._order.length-1;a>=0;a--)for(var i=this._order[a],s=0,o=e;s<o.length;s+=1){var l=o[s][i];if(l)for(var h=0,u=l;h<u.length;h+=1){var d=u[h];t.push(d)}}return t},r.prototype.queryRenderedFeatures=function(e,r,t,a){var i=this;r&&r.filter&&this._validate(validateStyle.filter,"queryRenderedFeatures.filter",r.filter);var s={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire("error",{error:"parameters.layers must be an Array."}),[];for(var o=0,n=r.layers;o<n.length;o+=1){var l=n[o],h=i._layers[l];if(!h)return i.fire("error",{error:"The layer '"+l+"' does not exist in the map's style and cannot be queried for features."}),[];s[h.source]=!0}}var u=[];for(var d in i.sourceCaches)if(!r.layers||s[d]){var c=QueryFeatures.rendered(i.sourceCaches[d],i._layers,e,r,t,a,i.placement?i.placement.collisionIndex:null);u.push(c)}return this._flattenRenderedFeatures(u)},r.prototype.querySourceFeatures=function(e,r){r&&r.filter&&this._validate(validateStyle.filter,"querySourceFeatures.filter",r.filter);var t=this.sourceCaches[e];return t?QueryFeatures.source(t,r):[]},r.prototype.addSourceType=function(e,r,t){return getSourceType(e)?t(new Error('A source type called "'+e+'" already exists.')):(setSourceType(e,r),r.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:r.workerSourceURL},t):t(null,null))},r.prototype.getLight=function(){return this.light.getLight()},r.prototype.setLight=function(e){this._checkLoaded();var r=this.light.getLight(),t=!1;for(var a in e)if(!util.deepEqual(e[a],r[a])){t=!0;break}if(t){var i={now:browser.now(),transition:util.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e),this.light.updateTransitions(i)}},r.prototype._validate=function(e,r,t,a,i){return(!i||!1!==i.validate)&&validateStyle.emitErrors(this,e.call(validateStyle,util.extend({key:r,style:this.serialize(),value:t,styleSpec:styleSpec},a)))},r.prototype._remove=function(){for(var r in rtlTextPlugin.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[r].clearTiles();this.dispatcher.remove()},r.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},r.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},r.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},r.prototype._generateCollisionBoxes=function(){for(var r in this.sourceCaches)this._reloadSource(r)},r.prototype._updatePlacement=function(e,r,t){for(var a=this,i=!1,s=!1,o={},n=0,l=a._order;n<l.length;n+=1){var h=l[n],u=a._layers[h];if("symbol"===u.type){if(!o[u.source]){var d=a.sourceCaches[u.source];o[u.source]=d.getRenderableIds().map(function(e){return d.getTileByID(e)}).sort(function(e,r){return r.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(r.tileID)?-1:1)})}var c=a.crossTileSymbolIndex.addLayer(u,o[u.source]);i=i||c}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var y=this._layerOrderChanged;if((y||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(browser.now()))&&(this.pauseablePlacement=new PauseablePlacement(e,this._order,y,r,t),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,o),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,browser.now()),s=!0),i&&this.pauseablePlacement.placement.setStale()),s||i)for(var p=0,f=a._order;p<f.length;p+=1){var v=f[p],g=a._layers[v];"symbol"===g.type&&a.placement.updateLayerOpacities(g,o[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(browser.now())},r.prototype.getImages=function(e,r,t){this.imageManager.getImages(r.icons,t)},r.prototype.getGlyphs=function(e,r,t){this.glyphManager.getGlyphs(r.stacks,t)},r}(Evented);module.exports=Style},{"../render/glyph_manager":86,"../render/image_manager":88,"../render/line_atlas":89,"../source/geojson_source":99,"../source/query_features":105,"../source/rtl_text_plugin":109,"../source/source":110,"../source/source_cache":111,"../style-spec/deref":120,"../style-spec/diff":121,"../style-spec/reference/latest":151,"../symbol/cross_tile_symbol_index":218,"../util/ajax":251,"../util/browser":252,"../util/dispatcher":258,"../util/evented":260,"../util/global_worker_pool":262,"../util/mapbox":267,"../util/util":275,"./light":183,"./load_sprite":185,"./pauseable_placement":187,"./style_layer":191,"./validate_style":211,"./zoom_history":212}],191:[function(_dereq_,module,exports){"use strict";var util=_dereq_("../util/util"),styleSpec=_dereq_("../style-spec/reference/latest"),validateStyle=_dereq_("./validate_style"),Evented=_dereq_("../util/evented"),ref=_dereq_("./properties"),Layout=ref.Layout,Transitionable=ref.Transitionable,StyleLayer=(ref.Transitioning,ref.Properties,function(t){function e(e,i){for(var r in t.call(this),this.id=e.id,this.metadata=e.metadata,this.type=e.type,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,this.visibility="visible","background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),this._featureFilter=function(){return!0},i.layout&&(this._unevaluatedLayout=new Layout(i.layout)),this._transitionablePaint=new Transitionable(i.paint),e.paint)this.setPaintProperty(r,e.paint[r],{validate:!1});for(var s in e.layout)this.setLayoutProperty(s,e.layout[s],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,i){if(null!==e&&void 0!==e){var a="layers."+this.id+".layout."+t;if(this._validate(validateStyle.layoutProperty,a,t,e,i))return}"visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility="none"===e?e:"visible"},e.prototype.getPaintProperty=function(t){return util.endsWith(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,i){if(null!==e&&void 0!==e){var a="layers."+this.id+".paint."+t;if(this._validate(validateStyle.paintProperty,a,t,e,i))return}util.endsWith(t,"-transition")?this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0):this._transitionablePaint.setValue(t,e)},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t)),this.paint=this._transitioningPaint.possiblyEvaluate(t)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(t.layout=t.layout||{},t.layout.visibility="none"),util.filterObject(t,function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)})},e.prototype._validate=function(t,e,i,a,r){return(!r||!1!==r.validate)&&validateStyle.emitErrors(this,t.call(validateStyle,{key:e,layerType:this.type,objectKey:i,value:a,styleSpec:styleSpec,style:{glyphs:!0,sprite:!0}}))},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e}(Evented));module.exports=StyleLayer;var subclasses={circle:_dereq_("./style_layer/circle_style_layer"),heatmap:_dereq_("./style_layer/heatmap_style_layer"),hillshade:_dereq_("./style_layer/hillshade_style_layer"),fill:_dereq_("./style_layer/fill_style_layer"),"fill-extrusion":_dereq_("./style_layer/fill_extrusion_style_layer"),line:_dereq_("./style_layer/line_style_layer"),symbol:_dereq_("./style_layer/symbol_style_layer"),background:_dereq_("./style_layer/background_style_layer"),raster:_dereq_("./style_layer/raster_style_layer")};StyleLayer.create=function(t){return new subclasses[t.type](t)}},{"../style-spec/reference/latest":151,"../util/evented":260,"../util/util":275,"./properties":188,"./style_layer/background_style_layer":192,"./style_layer/circle_style_layer":194,"./style_layer/fill_extrusion_style_layer":196,"./style_layer/fill_style_layer":198,"./style_layer/heatmap_style_layer":200,"./style_layer/hillshade_style_layer":202,"./style_layer/line_style_layer":204,"./style_layer/raster_style_layer":206,"./style_layer/symbol_style_layer":208,"./validate_style":211}],192:[function(_dereq_,module,exports){"use strict";var StyleLayer=_dereq_("../style_layer"),properties=_dereq_("./background_style_layer_properties"),ref=_dereq_("../properties"),BackgroundStyleLayer=(ref.Transitionable,ref.Transitioning,ref.PossiblyEvaluated,function(e){function r(r){e.call(this,r,properties)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r}(StyleLayer));module.exports=BackgroundStyleLayer},{"../properties":188,"../style_layer":191,"./background_style_layer_properties":193}],193:[function(_dereq_,module,exports){"use strict";var styleSpec=_dereq_("../../style-spec/reference/latest"),ref=_dereq_("../properties"),Properties=ref.Properties,DataConstantProperty=ref.DataConstantProperty,CrossFadedProperty=(ref.DataDrivenProperty,ref.CrossFadedProperty),paint=(ref.HeatmapColorProperty,new Properties({"background-color":new DataConstantProperty(styleSpec.paint_background["background-color"]),"background-pattern":new CrossFadedProperty(styleSpec.paint_background["background-pattern"]),"background-opacity":new DataConstantProperty(styleSpec.paint_background["background-opacity"])}));module.exports={paint:paint}},{"../../style-spec/reference/latest":151,"../properties":188}],194:[function(_dereq_,module,exports){"use strict";var StyleLayer=_dereq_("../style_layer"),CircleBucket=_dereq_("../../data/bucket/circle_bucket"),multiPolygonIntersectsBufferedMultiPoint=_dereq_("../../util/intersection_tests").multiPolygonIntersectsBufferedMultiPoint,ref$1=_dereq_("../query_utils"),getMaximumPaintValue=ref$1.getMaximumPaintValue,translateDistance=ref$1.translateDistance,translate=ref$1.translate,properties=_dereq_("./circle_style_layer_properties"),ref$2=_dereq_("../properties"),CircleStyleLayer=(ref$2.Transitionable,ref$2.Transitioning,ref$2.PossiblyEvaluated,function(e){function t(t){e.call(this,t,properties)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new CircleBucket(e)},t.prototype.queryRadius=function(e){var t=e;return getMaximumPaintValue("circle-radius",this,t)+getMaximumPaintValue("circle-stroke-width",this,t)+translateDistance(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,i,a,n){var l=translate(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),a,n),s=this.paint.get("circle-radius").evaluate(t)*n,u=this.paint.get("circle-stroke-width").evaluate(t)*n;return multiPolygonIntersectsBufferedMultiPoint(l,r,s+u)},t}(StyleLayer));module.exports=CircleStyleLayer},{"../../data/bucket/circle_bucket":42,"../../util/intersection_tests":264,"../properties":188,"../query_utils":189,"../style_layer":191,"./circle_style_layer_properties":195}],195:[function(_dereq_,module,exports){"use strict";var styleSpec=_dereq_("../../style-spec/reference/latest"),ref=_dereq_("../properties"),Properties=ref.Properties,DataConstantProperty=ref.DataConstantProperty,DataDrivenProperty=ref.DataDrivenProperty,paint=(ref.CrossFadedProperty,ref.HeatmapColorProperty,new Properties({"circle-radius":new DataDrivenProperty(styleSpec.paint_circle["circle-radius"]),"circle-color":new DataDrivenProperty(styleSpec.paint_circle["circle-color"]),"circle-blur":new DataDrivenProperty(styleSpec.paint_circle["circle-blur"]),"circle-opacity":new DataDrivenProperty(styleSpec.paint_circle["circle-opacity"]),"circle-translate":new DataConstantProperty(styleSpec.paint_circle["circle-translate"]),"circle-translate-anchor":new DataConstantProperty(styleSpec.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new DataConstantProperty(styleSpec.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new DataConstantProperty(styleSpec.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new DataDrivenProperty(styleSpec.paint_circle["circle-stroke-width"]),"circle-stroke-color":new DataDrivenProperty(styleSpec.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new DataDrivenProperty(styleSpec.paint_circle["circle-stroke-opacity"])}));module.exports={paint:paint}},{"../../style-spec/reference/latest":151,"../properties":188}],196:[function(_dereq_,module,exports){"use strict";var StyleLayer=_dereq_("../style_layer"),FillExtrusionBucket=_dereq_("../../data/bucket/fill_extrusion_bucket"),multiPolygonIntersectsMultiPolygon=_dereq_("../../util/intersection_tests").multiPolygonIntersectsMultiPolygon,ref$1=_dereq_("../query_utils"),translateDistance=ref$1.translateDistance,translate=ref$1.translate,properties=_dereq_("./fill_extrusion_style_layer_properties"),ref$2=_dereq_("../properties"),FillExtrusionStyleLayer=(ref$2.Transitionable,ref$2.Transitioning,ref$2.PossiblyEvaluated,function(t){function e(e){t.call(this,e,properties)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new FillExtrusionBucket(t)},e.prototype.queryRadius=function(){return translateDistance(this.paint.get("fill-extrusion-translate"))},e.prototype.queryIntersectsFeature=function(t,e,r,i,n,o){var s=translate(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),n,o);return multiPolygonIntersectsMultiPolygon(s,r)},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},e.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},e}(StyleLayer));module.exports=FillExtrusionStyleLayer},{"../../data/bucket/fill_extrusion_bucket":46,"../../util/intersection_tests":264,"../properties":188,"../query_utils":189,"../style_layer":191,"./fill_extrusion_style_layer_properties":197}],197:[function(_dereq_,module,exports){"use strict";var styleSpec=_dereq_("../../style-spec/reference/latest"),ref=_dereq_("../properties"),Properties=ref.Properties,DataConstantProperty=ref.DataConstantProperty,DataDrivenProperty=ref.DataDrivenProperty,CrossFadedProperty=ref.CrossFadedProperty,paint=(ref.HeatmapColorProperty,new Properties({"fill-extrusion-opacity":new DataConstantProperty(styleSpec["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new DataDrivenProperty(styleSpec["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new DataConstantProperty(styleSpec["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new DataConstantProperty(styleSpec["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new CrossFadedProperty(styleSpec["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new DataDrivenProperty(styleSpec["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new DataDrivenProperty(styleSpec["paint_fill-extrusion"]["fill-extrusion-base"])}));module.exports={paint:paint}},{"../../style-spec/reference/latest":151,"../properties":188}],198:[function(_dereq_,module,exports){"use strict";var StyleLayer=_dereq_("../style_layer"),FillBucket=_dereq_("../../data/bucket/fill_bucket"),multiPolygonIntersectsMultiPolygon=_dereq_("../../util/intersection_tests").multiPolygonIntersectsMultiPolygon,ref$1=_dereq_("../query_utils"),translateDistance=ref$1.translateDistance,translate=ref$1.translate,properties=_dereq_("./fill_style_layer_properties"),ref$2=_dereq_("../properties"),FillStyleLayer=(ref$2.Transitionable,ref$2.Transitioning,ref$2.PossiblyEvaluated,function(t){function e(e){t.call(this,e,properties)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(t){this.paint=this._transitioningPaint.possiblyEvaluate(t),void 0===this._transitionablePaint.getValue("fill-outline-color")&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new FillBucket(t)},e.prototype.queryRadius=function(){return translateDistance(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,r,i,l,n){var a=translate(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),l,n);return multiPolygonIntersectsMultiPolygon(a,r)},e}(StyleLayer));module.exports=FillStyleLayer},{"../../data/bucket/fill_bucket":44,"../../util/intersection_tests":264,"../properties":188,"../query_utils":189,"../style_layer":191,"./fill_style_layer_properties":199}],199:[function(_dereq_,module,exports){"use strict";var styleSpec=_dereq_("../../style-spec/reference/latest"),ref=_dereq_("../properties"),Properties=ref.Properties,DataConstantProperty=ref.DataConstantProperty,DataDrivenProperty=ref.DataDrivenProperty,CrossFadedProperty=ref.CrossFadedProperty,paint=(ref.HeatmapColorProperty,new Properties({"fill-antialias":new DataConstantProperty(styleSpec.paint_fill["fill-antialias"]),"fill-opacity":new DataDrivenProperty(styleSpec.paint_fill["fill-opacity"]),"fill-color":new DataDrivenProperty(styleSpec.paint_fill["fill-color"]),"fill-outline-color":new DataDrivenProperty(styleSpec.paint_fill["fill-outline-color"]),"fill-translate":new DataConstantProperty(styleSpec.paint_fill["fill-translate"]),"fill-translate-anchor":new DataConstantProperty(styleSpec.paint_fill["fill-translate-anchor"]),"fill-pattern":new CrossFadedProperty(styleSpec.paint_fill["fill-pattern"])}));module.exports={paint:paint}},{"../../style-spec/reference/latest":151,"../properties":188}],200:[function(_dereq_,module,exports){"use strict";var StyleLayer=_dereq_("../style_layer"),HeatmapBucket=_dereq_("../../data/bucket/heatmap_bucket"),RGBAImage=_dereq_("../../util/image").RGBAImage,properties=_dereq_("./heatmap_style_layer_properties"),ref=_dereq_("../properties"),HeatmapStyleLayer=(ref.Transitionable,ref.Transitioning,ref.PossiblyEvaluated,function(t){function e(e){t.call(this,e,properties),this._updateColorRamp()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new HeatmapBucket(t)},e.prototype.setPaintProperty=function(e,r,a){t.prototype.setPaintProperty.call(this,e,r,a),"heatmap-color"===e&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){for(var t=this._transitionablePaint._values["heatmap-color"].value.expression,e=new Uint8Array(1024),r=e.length,a=4;a<r;a+=4){var o=t.evaluate({heatmapDensity:a/r});e[a+0]=Math.floor(255*o.r/o.a),e[a+1]=Math.floor(255*o.g/o.a),e[a+2]=Math.floor(255*o.b/o.a),e[a+3]=Math.floor(255*o.a)}this.colorRamp=new RGBAImage({width:256,height:1},e),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(StyleLayer));module.exports=HeatmapStyleLayer},{"../../data/bucket/heatmap_bucket":47,"../../util/image":263,"../properties":188,"../style_layer":191,"./heatmap_style_layer_properties":201}],201:[function(_dereq_,module,exports){"use strict";var styleSpec=_dereq_("../../style-spec/reference/latest"),ref=_dereq_("../properties"),Properties=ref.Properties,DataConstantProperty=ref.DataConstantProperty,DataDrivenProperty=ref.DataDrivenProperty,HeatmapColorProperty=(ref.CrossFadedProperty,ref.HeatmapColorProperty),paint=new Properties({"heatmap-radius":new DataDrivenProperty(styleSpec.paint_heatmap["heatmap-radius"]),"heatmap-weight":new DataDrivenProperty(styleSpec.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new DataConstantProperty(styleSpec.paint_heatmap["heatmap-intensity"]),"heatmap-color":new HeatmapColorProperty(styleSpec.paint_heatmap["heatmap-color"]),"heatmap-opacity":new DataConstantProperty(styleSpec.paint_heatmap["heatmap-opacity"])});module.exports={paint:paint}},{"../../style-spec/reference/latest":151,"../properties":188}],202:[function(_dereq_,module,exports){"use strict";var StyleLayer=_dereq_("../style_layer"),properties=_dereq_("./hillshade_style_layer_properties"),ref=_dereq_("../properties"),HillshadeStyleLayer=(ref.Transitionable,ref.Transitioning,ref.PossiblyEvaluated,function(e){function r(r){e.call(this,r,properties)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},r}(StyleLayer));module.exports=HillshadeStyleLayer},{"../properties":188,"../style_layer":191,"./hillshade_style_layer_properties":203}],203:[function(_dereq_,module,exports){"use strict";var styleSpec=_dereq_("../../style-spec/reference/latest"),ref=_dereq_("../properties"),Properties=ref.Properties,DataConstantProperty=ref.DataConstantProperty,paint=(ref.DataDrivenProperty,ref.CrossFadedProperty,ref.HeatmapColorProperty,new Properties({"hillshade-illumination-direction":new DataConstantProperty(styleSpec.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new DataConstantProperty(styleSpec.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new DataConstantProperty(styleSpec.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new DataConstantProperty(styleSpec.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new DataConstantProperty(styleSpec.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new DataConstantProperty(styleSpec.paint_hillshade["hillshade-accent-color"])}));module.exports={paint:paint}},{"../../style-spec/reference/latest":151,"../properties":188}],204:[function(_dereq_,module,exports){"use strict";function getLineWidth(t,e){return e>0?e+2*t:t}var Point=_dereq_("@mapbox/point-geometry"),StyleLayer=_dereq_("../style_layer"),LineBucket=_dereq_("../../data/bucket/line_bucket"),multiPolygonIntersectsBufferedMultiLine=_dereq_("../../util/intersection_tests").multiPolygonIntersectsBufferedMultiLine,ref$1=_dereq_("../query_utils"),getMaximumPaintValue=ref$1.getMaximumPaintValue,translateDistance=ref$1.translateDistance,translate=ref$1.translate,properties=_dereq_("./line_style_layer_properties"),extend=_dereq_("../../util/util").extend,EvaluationParameters=_dereq_("../evaluation_parameters"),ref$3=_dereq_("../properties"),lineFloorwidthProperty=(ref$3.Transitionable,ref$3.Transitioning,ref$3.Layout,ref$3.PossiblyEvaluated,new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(e,r){return r=new EvaluationParameters(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),t.prototype.possiblyEvaluate.call(this,e,r)},e.prototype.evaluate=function(e,r,i){return r=extend({},r,{zoom:Math.floor(r.zoom)}),t.prototype.evaluate.call(this,e,r,i)},e}(ref$3.DataDrivenProperty))(properties.paint.properties["line-width"].specification));lineFloorwidthProperty.useIntegerZoom=!0;var LineStyleLayer=function(t){function e(e){t.call(this,e,properties)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),this.paint._values["line-floorwidth"]=lineFloorwidthProperty.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new LineBucket(t)},e.prototype.queryRadius=function(t){var e=t,r=getLineWidth(getMaximumPaintValue("line-width",this,e),getMaximumPaintValue("line-gap-width",this,e)),i=getMaximumPaintValue("line-offset",this,e);return r/2+Math.abs(i)+translateDistance(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,r,i,n,a){var o=translate(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),n,a),l=a/2*getLineWidth(this.paint.get("line-width").evaluate(e),this.paint.get("line-gap-width").evaluate(e)),u=this.paint.get("line-offset").evaluate(e);return u&&(r=function offsetLine(t,e){for(var r=[],i=new Point(0,0),n=0;n<t.length;n++){for(var a=t[n],o=[],l=0;l<a.length;l++){var u=a[l-1],s=a[l],p=a[l+1],y=0===l?i:s.sub(u)._unit()._perp(),f=l===a.length-1?i:p.sub(s)._unit()._perp(),c=y._add(f)._unit(),h=c.x*f.x+c.y*f.y;c._mult(1/h),o.push(c._mult(e)._add(s))}r.push(o)}return r}(r,u*a)),multiPolygonIntersectsBufferedMultiLine(o,r,l)},e}(StyleLayer);module.exports=LineStyleLayer},{"../../data/bucket/line_bucket":49,"../../util/intersection_tests":264,"../../util/util":275,"../evaluation_parameters":182,"../properties":188,"../query_utils":189,"../style_layer":191,"./line_style_layer_properties":205,"@mapbox/point-geometry":4}],205:[function(_dereq_,module,exports){"use strict";var styleSpec=_dereq_("../../style-spec/reference/latest"),ref=_dereq_("../properties"),Properties=ref.Properties,DataConstantProperty=ref.DataConstantProperty,DataDrivenProperty=ref.DataDrivenProperty,CrossFadedProperty=ref.CrossFadedProperty,layout=(ref.HeatmapColorProperty,new Properties({"line-cap":new DataConstantProperty(styleSpec.layout_line["line-cap"]),"line-join":new DataDrivenProperty(styleSpec.layout_line["line-join"]),"line-miter-limit":new DataConstantProperty(styleSpec.layout_line["line-miter-limit"]),"line-round-limit":new DataConstantProperty(styleSpec.layout_line["line-round-limit"])})),paint=new Properties({"line-opacity":new DataDrivenProperty(styleSpec.paint_line["line-opacity"]),"line-color":new DataDrivenProperty(styleSpec.paint_line["line-color"]),"line-translate":new DataConstantProperty(styleSpec.paint_line["line-translate"]),"line-translate-anchor":new DataConstantProperty(styleSpec.paint_line["line-translate-anchor"]),"line-width":new DataDrivenProperty(styleSpec.paint_line["line-width"]),"line-gap-width":new DataDrivenProperty(styleSpec.paint_line["line-gap-width"]),"line-offset":new DataDrivenProperty(styleSpec.paint_line["line-offset"]),"line-blur":new DataDrivenProperty(styleSpec.paint_line["line-blur"]),"line-dasharray":new CrossFadedProperty(styleSpec.paint_line["line-dasharray"]),"line-pattern":new CrossFadedProperty(styleSpec.paint_line["line-pattern"])});module.exports={paint:paint,layout:layout}},{"../../style-spec/reference/latest":151,"../properties":188}],206:[function(_dereq_,module,exports){"use strict";var StyleLayer=_dereq_("../style_layer"),properties=_dereq_("./raster_style_layer_properties"),ref=_dereq_("../properties"),RasterStyleLayer=(ref.Transitionable,ref.Transitioning,ref.PossiblyEvaluated,function(e){function r(r){e.call(this,r,properties)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r}(StyleLayer));module.exports=RasterStyleLayer},{"../properties":188,"../style_layer":191,"./raster_style_layer_properties":207}],207:[function(_dereq_,module,exports){"use strict";var styleSpec=_dereq_("../../style-spec/reference/latest"),ref=_dereq_("../properties"),Properties=ref.Properties,DataConstantProperty=ref.DataConstantProperty,paint=(ref.DataDrivenProperty,ref.CrossFadedProperty,ref.HeatmapColorProperty,new Properties({"raster-opacity":new DataConstantProperty(styleSpec.paint_raster["raster-opacity"]),"raster-hue-rotate":new DataConstantProperty(styleSpec.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new DataConstantProperty(styleSpec.paint_raster["raster-brightness-min"]),"raster-brightness-max":new DataConstantProperty(styleSpec.paint_raster["raster-brightness-max"]),"raster-saturation":new DataConstantProperty(styleSpec.paint_raster["raster-saturation"]),"raster-contrast":new DataConstantProperty(styleSpec.paint_raster["raster-contrast"]),"raster-fade-duration":new DataConstantProperty(styleSpec.paint_raster["raster-fade-duration"])}));module.exports={paint:paint}},{"../../style-spec/reference/latest":151,"../properties":188}],208:[function(_dereq_,module,exports){"use strict";var StyleLayer=_dereq_("../style_layer"),SymbolBucket=_dereq_("../../data/bucket/symbol_bucket"),resolveTokens=_dereq_("../../util/token"),isExpression=_dereq_("../../style-spec/expression").isExpression,properties=_dereq_("./symbol_style_layer_properties"),ref$1=_dereq_("../properties"),SymbolStyleLayer=(ref$1.Transitionable,ref$1.Transitioning,ref$1.Layout,ref$1.PossiblyEvaluated,function(t){function e(e){t.call(this,e,properties)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),"auto"===this.layout.get("icon-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},e.prototype.getValueAndResolveTokens=function(t,e){var o=this.layout.get(t).evaluate(e),i=this._unevaluatedLayout._values[t];return i.isDataDriven()||isExpression(i.value)?o:resolveTokens(e.properties,o)},e.prototype.createBucket=function(t){return new SymbolBucket(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e}(StyleLayer));module.exports=SymbolStyleLayer},{"../../data/bucket/symbol_bucket":51,"../../style-spec/expression":139,"../../util/token":274,"../properties":188,"../style_layer":191,"./symbol_style_layer_properties":209}],209:[function(_dereq_,module,exports){"use strict";var styleSpec=_dereq_("../../style-spec/reference/latest"),ref=_dereq_("../properties"),Properties=ref.Properties,DataConstantProperty=ref.DataConstantProperty,DataDrivenProperty=ref.DataDrivenProperty,layout=(ref.CrossFadedProperty,ref.HeatmapColorProperty,new Properties({"symbol-placement":new DataConstantProperty(styleSpec.layout_symbol["symbol-placement"]),"symbol-spacing":new DataConstantProperty(styleSpec.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new DataConstantProperty(styleSpec.layout_symbol["symbol-avoid-edges"]),"icon-allow-overlap":new DataConstantProperty(styleSpec.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new DataConstantProperty(styleSpec.layout_symbol["icon-ignore-placement"]),"icon-optional":new DataConstantProperty(styleSpec.layout_symbol["icon-optional"]),"icon-rotation-alignment":new DataConstantProperty(styleSpec.layout_symbol["icon-rotation-alignment"]),"icon-size":new DataDrivenProperty(styleSpec.layout_symbol["icon-size"]),"icon-text-fit":new DataConstantProperty(styleSpec.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new DataConstantProperty(styleSpec.layout_symbol["icon-text-fit-padding"]),"icon-image":new DataDrivenProperty(styleSpec.layout_symbol["icon-image"]),"icon-rotate":new DataDrivenProperty(styleSpec.layout_symbol["icon-rotate"]),"icon-padding":new DataConstantProperty(styleSpec.layout_symbol["icon-padding"]),"icon-keep-upright":new DataConstantProperty(styleSpec.layout_symbol["icon-keep-upright"]),"icon-offset":new DataDrivenProperty(styleSpec.layout_symbol["icon-offset"]),"icon-anchor":new DataDrivenProperty(styleSpec.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new DataConstantProperty(styleSpec.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new DataConstantProperty(styleSpec.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new DataConstantProperty(styleSpec.layout_symbol["text-rotation-alignment"]),"text-field":new DataDrivenProperty(styleSpec.layout_symbol["text-field"]),"text-font":new DataDrivenProperty(styleSpec.layout_symbol["text-font"]),"text-size":new DataDrivenProperty(styleSpec.layout_symbol["text-size"]),"text-max-width":new DataDrivenProperty(styleSpec.layout_symbol["text-max-width"]),"text-line-height":new DataConstantProperty(styleSpec.layout_symbol["text-line-height"]),"text-letter-spacing":new DataDrivenProperty(styleSpec.layout_symbol["text-letter-spacing"]),"text-justify":new DataDrivenProperty(styleSpec.layout_symbol["text-justify"]),"text-anchor":new DataDrivenProperty(styleSpec.layout_symbol["text-anchor"]),"text-max-angle":new DataConstantProperty(styleSpec.layout_symbol["text-max-angle"]),"text-rotate":new DataDrivenProperty(styleSpec.layout_symbol["text-rotate"]),"text-padding":new DataConstantProperty(styleSpec.layout_symbol["text-padding"]),"text-keep-upright":new DataConstantProperty(styleSpec.layout_symbol["text-keep-upright"]),"text-transform":new DataDrivenProperty(styleSpec.layout_symbol["text-transform"]),"text-offset":new DataDrivenProperty(styleSpec.layout_symbol["text-offset"]),"text-allow-overlap":new DataConstantProperty(styleSpec.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new DataConstantProperty(styleSpec.layout_symbol["text-ignore-placement"]),"text-optional":new DataConstantProperty(styleSpec.layout_symbol["text-optional"])})),paint=new Properties({"icon-opacity":new DataDrivenProperty(styleSpec.paint_symbol["icon-opacity"]),"icon-color":new DataDrivenProperty(styleSpec.paint_symbol["icon-color"]),"icon-halo-color":new DataDrivenProperty(styleSpec.paint_symbol["icon-halo-color"]),"icon-halo-width":new DataDrivenProperty(styleSpec.paint_symbol["icon-halo-width"]),"icon-halo-blur":new DataDrivenProperty(styleSpec.paint_symbol["icon-halo-blur"]),"icon-translate":new DataConstantProperty(styleSpec.paint_symbol["icon-translate"]),"icon-translate-anchor":new DataConstantProperty(styleSpec.paint_symbol["icon-translate-anchor"]),"text-opacity":new DataDrivenProperty(styleSpec.paint_symbol["text-opacity"]),"text-color":new DataDrivenProperty(styleSpec.paint_symbol["text-color"]),"text-halo-color":new DataDrivenProperty(styleSpec.paint_symbol["text-halo-color"]),"text-halo-width":new DataDrivenProperty(styleSpec.paint_symbol["text-halo-width"]),"text-halo-blur":new DataDrivenProperty(styleSpec.paint_symbol["text-halo-blur"]),"text-translate":new DataConstantProperty(styleSpec.paint_symbol["text-translate"]),"text-translate-anchor":new DataConstantProperty(styleSpec.paint_symbol["text-translate-anchor"])});module.exports={paint:paint,layout:layout}},{"../../style-spec/reference/latest":151,"../properties":188}],210:[function(_dereq_,module,exports){"use strict";var StyleLayer=_dereq_("./style_layer"),util=_dereq_("../util/util"),featureFilter=_dereq_("../style-spec/feature_filter"),groupByLayout=_dereq_("../style-spec/group_by_layout"),StyleLayerIndex=function(e){e&&this.replace(e)};StyleLayerIndex.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},StyleLayerIndex.prototype.update=function(e,r){for(var t=this,a=0,i=e;a<i.length;a+=1){var l=i[a];t._layerConfigs[l.id]=l;var y=t._layers[l.id]=StyleLayer.create(l);y._featureFilter=featureFilter(y.filter)}for(var u=0,s=r;u<s.length;u+=1){var o=s[u];delete t._layerConfigs[o],delete t._layers[o]}this.familiesBySource={};for(var f=0,p=groupByLayout(util.values(this._layerConfigs));f<p.length;f+=1){var _=p[f].map(function(e){return t._layers[e.id]}),d=_[0];if("none"!==d.visibility){var v=d.source||"",g=t.familiesBySource[v];g||(g=t.familiesBySource[v]={});var h=d.sourceLayer||"_geojsonTileLayer",L=g[h];L||(L=g[h]=[]),L.push(_)}}},module.exports=StyleLayerIndex},{"../style-spec/feature_filter":148,"../style-spec/group_by_layout":150,"../util/util":275,"./style_layer":191}],211:[function(_dereq_,module,exports){"use strict";module.exports=_dereq_("../style-spec/validate_style.min"),module.exports.emitErrors=function(r,e){if(e&&e.length){for(var t=0,o=e;t<o.length;t+=1){var i=o[t].message;r.fire("error",{error:new Error(i)})}return!0}return!1}},{"../style-spec/validate_style.min":181}],212:[function(_dereq_,module,exports){"use strict";var ZoomHistory=function(){this.first=!0};ZoomHistory.prototype.update=function(o,t){var s=Math.floor(o);return this.first?(this.first=!1,this.lastIntegerZoom=s,this.lastIntegerZoomTime=0,this.lastZoom=o,this.lastFloorZoom=s,!0):(this.lastFloorZoom>s?(this.lastIntegerZoom=s+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<s&&(this.lastIntegerZoom=s,this.lastIntegerZoomTime=t),o!==this.lastZoom&&(this.lastZoom=o,this.lastFloorZoom=s,!0))},module.exports=ZoomHistory},{}],213:[function(_dereq_,module,exports){"use strict";var Point=_dereq_("@mapbox/point-geometry"),register=_dereq_("../util/web_worker_transfer").register,Anchor=function(t){function e(e,r,o,n){t.call(this,e,r),this.angle=o,void 0!==n&&(this.segment=n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(Point);register("Anchor",Anchor),module.exports=Anchor},{"../util/web_worker_transfer":278,"@mapbox/point-geometry":4}],214:[function(_dereq_,module,exports){"use strict";module.exports=function checkMaxAngle(e,t,a,r,n){if(void 0===t.segment)return!0;for(var i=t,s=t.segment+1,f=0;f>-a/2;){if(--s<0)return!1;f-=e[s].dist(i),i=e[s]}f+=e[s].dist(e[s+1]),s++;for(var l=[],o=0;f<a/2;){var u=e[s-1],c=e[s],g=e[s+1];if(!g)return!1;var h=u.angleTo(c)-c.angleTo(g);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:f,angleDelta:h}),o+=h;f-l[0].distance>r;)o-=l.shift().angleDelta;if(o>n)return!1;s++,f+=c.dist(g)}return!0}},{}],215:[function(_dereq_,module,exports){"use strict";var Point=_dereq_("@mapbox/point-geometry");module.exports=function clipLine(n,x,y,o,e){for(var r=[],t=0;t<n.length;t++)for(var i=n[t],u=void 0,d=0;d<i.length-1;d++){var P=i[d],w=i[d+1];P.x<x&&w.x<x||(P.x<x?P=new Point(x,P.y+(w.y-P.y)*((x-P.x)/(w.x-P.x)))._round():w.x<x&&(w=new Point(x,P.y+(w.y-P.y)*((x-P.x)/(w.x-P.x)))._round()),P.y<y&&w.y<y||(P.y<y?P=new Point(P.x+(w.x-P.x)*((y-P.y)/(w.y-P.y)),y)._round():w.y<y&&(w=new Point(P.x+(w.x-P.x)*((y-P.y)/(w.y-P.y)),y)._round()),P.x>=o&&w.x>=o||(P.x>=o?P=new Point(o,P.y+(w.y-P.y)*((o-P.x)/(w.x-P.x)))._round():w.x>=o&&(w=new Point(o,P.y+(w.y-P.y)*((o-P.x)/(w.x-P.x)))._round()),P.y>=e&&w.y>=e||(P.y>=e?P=new Point(P.x+(w.x-P.x)*((e-P.y)/(w.y-P.y)),e)._round():w.y>=e&&(w=new Point(P.x+(w.x-P.x)*((e-P.y)/(w.y-P.y)),e)._round()),u&&P.equals(u[u.length-1])||(u=[P],r.push(u)),u.push(w)))))}return r}},{"@mapbox/point-geometry":4}],216:[function(_dereq_,module,exports){"use strict";var CollisionFeature=function(t,e,i,o,a,r,l,n,s,d,h){var u=l.top*n-s,f=l.bottom*n+s,c=l.left*n-s,x=l.right*n+s;if(this.boxStartIndex=t.length,d){var m=f-u,v=x-c;m>0&&(m=Math.max(10*n,m),this._addLineCollisionCircles(t,e,i,i.segment,v,m,o,a,r,h))}else t.emplaceBack(i.x,i.y,c,u,x,f,o,a,r,0,0);this.boxEndIndex=t.length};CollisionFeature.prototype._addLineCollisionCircles=function(t,e,i,o,a,r,l,n,s,d){var h=r/2,u=Math.floor(a/h),f=1+.4*Math.log(d)/Math.LN2,c=Math.floor(u*f/2),x=-r/2,m=i,v=o+1,C=x,b=-a/2,g=b-a/4;do{if(--v<0){if(C>b)return;v=0;break}C-=e[v].dist(m),m=e[v]}while(C>g);for(var p=e[v].dist(e[v+1]),M=-c;M<u+c;M++){var _=M*h,k=b+_;if(_<0&&(k+=_),_>a&&(k+=_-a),!(k<C)){for(;C+p<k;){if(C+=p,++v+1>=e.length)return;p=e[v].dist(e[v+1])}var y=k-C,F=e[v],B=e[v+1].sub(F)._unit()._mult(y)._add(F)._round(),I=Math.abs(k-x)<h?0:.8*(k-x);t.emplaceBack(B.x,B.y,-r/2,-r/2,r/2,r/2,l,n,s,r/2,I)}}},module.exports=CollisionFeature},{}],217:[function(_dereq_,module,exports){"use strict";function markCollisionCircleUsed(t,i,e){t[i+4]=e?1:0}var Point=_dereq_("@mapbox/point-geometry"),intersectionTests=_dereq_("../util/intersection_tests"),Grid=_dereq_("./grid_index"),projection=(_dereq_("@mapbox/gl-matrix").mat4,_dereq_("../symbol/projection")),CollisionIndex=function(t,i,e){void 0===i&&(i=new Grid(t.width+200,t.height+200,25)),void 0===e&&(e=new Grid(t.width+200,t.height+200,25)),this.transform=t,this.grid=i,this.ignoredGrid=e,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100};CollisionIndex.prototype.placeCollisionBox=function(t,i,e,n){var r=this.projectAndGetPerspectiveRatio(n,t.anchorPointX,t.anchorPointY),o=e*r.perspectiveRatio,s=t.x1*o+r.point.x,a=t.y1*o+r.point.y,c=t.x2*o+r.point.x,p=t.y2*o+r.point.y;return!i&&this.grid.hitTest(s,a,c,p)?{box:[],offscreen:!1}:{box:[s,a,c,p],offscreen:this.isOffscreen(s,a,c,p)}},CollisionIndex.prototype.approximateTileDistance=function(t,i,e,n,r){var o=r?1:n/this.pitchfactor,s=t.lastSegmentViewportDistance*e;return t.prevTileDistance+s+(o-1)*s*Math.abs(Math.sin(i))},CollisionIndex.prototype.placeCollisionCircles=function(t,i,e,n,r,o,s,a,c,p,d,l,h){var f=this,x=[],g=this.projectAnchor(p,o.anchorX,o.anchorY),v=c/24,y=o.lineOffsetX*c,m=o.lineOffsetY*c,I=new Point(o.anchorX,o.anchorY),P=projection.project(I,d).point,C=projection.placeFirstAndLastGlyph(v,a,y,m,!1,P,I,o,s,d,{},!0),w=!1,D=!0,b=g.perspectiveRatio*n,j=1/(n*e),T=0,k=0;C&&(T=this.approximateTileDistance(C.first.tileDistance,C.first.angle,j,g.cameraDistance,h),k=this.approximateTileDistance(C.last.tileDistance,C.last.angle,j,g.cameraDistance,h));for(var G=0;G<t.length;G+=5){var M=t[G],R=t[G+1],q=t[G+2],B=t[G+3];if(!C||B<-T||B>k)markCollisionCircleUsed(t,G,!1);else{var A=f.projectPoint(p,M,R),O=q*b;if(x.length>0){var U=A.x-x[x.length-4],X=A.y-x[x.length-3];if(O*O*2>U*U+X*X&&G+8<t.length){var Y=t[G+8];if(Y>-T&&Y<k){markCollisionCircleUsed(t,G,!1);continue}}}var L=G/5;if(x.push(A.x,A.y,O,L),markCollisionCircleUsed(t,G,!0),D=D&&f.isOffscreen(A.x-O,A.y-O,A.x+O,A.y+O),!i&&f.grid.hitTestCircle(A.x,A.y,O)){if(!l)return{circles:[],offscreen:!1};w=!0}}}return{circles:w?[]:x,offscreen:D}},CollisionIndex.prototype.queryRenderedSymbols=function(t,i,e,n,r,o){var a={},c=[];if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return c;for(var p=this.transform.calculatePosMatrix(i.toUnwrapped()),d=[],l=1/0,h=1/0,f=-1/0,x=-1/0,g=0;g<t.length;g++)for(var u=t[g],v=0;v<u.length;v++){var y=this.projectPoint(p,u[v].x,u[v].y);l=Math.min(l,y.x),h=Math.min(h,y.y),f=Math.max(f,y.x),x=Math.max(x,y.y),d.push(y)}for(var m=i.key,I=[],P=this.grid.query(l,h,f,x),C=0;C<P.length;C++)P[C].sourceID===r&&P[C].tileID===m&&o[P[C].bucketInstanceId]&&I.push(P[C].boxIndex);for(var w=this.ignoredGrid.query(l,h,f,x),D=0;D<w.length;D++)w[D].sourceID===r&&w[D].tileID===m&&o[w[D].bucketInstanceId]&&I.push(w[D].boxIndex);for(var b=0;b<I.length;b++){var j=n.get(I[b]),T=j.sourceLayerIndex,k=j.featureIndex,G=j.bucketIndex;if(void 0===a[T]&&(a[T]={}),void 0===a[T][k]&&(a[T][k]={}),!a[T][k][G]){var M=this.projectAndGetPerspectiveRatio(p,j.anchorPointX,j.anchorPointY),R=e*M.perspectiveRatio,q=j.x1*R+M.point.x,B=j.y1*R+M.point.y,A=j.x2*R+M.point.x,O=j.y2*R+M.point.y,U=[new Point(q,B),new Point(A,B),new Point(A,O),new Point(q,O)];intersectionTests.polygonIntersectsPolygon(d,U)&&(a[T][k][G]=!0,c.push(I[b]))}}return c},CollisionIndex.prototype.insertCollisionBox=function(t,i,e,n,r,o){var a={tileID:e,sourceID:n,bucketInstanceId:r,boxIndex:o};(i?this.ignoredGrid:this.grid).insert(a,t[0],t[1],t[2],t[3])},CollisionIndex.prototype.insertCollisionCircles=function(t,i,e,n,r,o){for(var s=i?this.ignoredGrid:this.grid,a=0;a<t.length;a+=4){var c={tileID:e,sourceID:n,bucketInstanceId:r,boxIndex:o+t[a+3]};s.insertCircle(c,t[a],t[a+1],t[a+2])}},CollisionIndex.prototype.projectAnchor=function(t,i,e){var n=[i,e,0,1];return projection.xyTransformMat4(n,n,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5,cameraDistance:n[3]}},CollisionIndex.prototype.projectPoint=function(t,i,e){var n=[i,e,0,1];return projection.xyTransformMat4(n,n,t),new Point((n[0]/n[3]+1)/2*this.transform.width+100,(-n[1]/n[3]+1)/2*this.transform.height+100)},CollisionIndex.prototype.projectAndGetPerspectiveRatio=function(t,i,e){var n=[i,e,0,1];return projection.xyTransformMat4(n,n,t),{point:new Point((n[0]/n[3]+1)/2*this.transform.width+100,(-n[1]/n[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5}},CollisionIndex.prototype.isOffscreen=function(t,i,e,n){return e<100||t>=this.screenRightBoundary||n<100||i>this.screenBottomBoundary},module.exports=CollisionIndex},{"../symbol/projection":224,"../util/intersection_tests":264,"./grid_index":220,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],218:[function(_dereq_,module,exports){"use strict";var EXTENT=_dereq_("../data/extent"),roundingFactor=512/EXTENT/2,TileLayerIndex=function(e,s,r){var n=this;this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(var o=0,t=s;o<t.length;o+=1){var i=t[o],a=i.key;n.indexedSymbolInstances[a]||(n.indexedSymbolInstances[a]=[]),n.indexedSymbolInstances[a].push({crossTileID:i.crossTileID,coord:n.getScaledCoordinates(i,e)})}};TileLayerIndex.prototype.getScaledCoordinates=function(e,s){var r=s.canonical.z-this.tileID.canonical.z,n=roundingFactor/Math.pow(2,r),o=e.anchor;return{x:Math.floor((s.canonical.x*EXTENT+o.x)*n),y:Math.floor((s.canonical.y*EXTENT+o.y)*n)}},TileLayerIndex.prototype.findMatches=function(e,s,r){for(var o=this.tileID.canonical.z<s.canonical.z?1:Math.pow(2,this.tileID.canonical.z-s.canonical.z),t=0,i=e;t<i.length;t+=1){var a=i[t];if(!a.crossTileID){var l=this.indexedSymbolInstances[a.key];if(l)for(var c=this.getScaledCoordinates(a,s),d=0,I=l;d<I.length;d+=1){var y=I[d];if(Math.abs(y.coord.x-c.x)<=o&&Math.abs(y.coord.y-c.y)<=o&&!r[y.crossTileID]){r[y.crossTileID]=!0,a.crossTileID=y.crossTileID;break}}}}};var CrossTileIDs=function(){this.maxCrossTileID=0};CrossTileIDs.prototype.generate=function(){return++this.maxCrossTileID};var CrossTileSymbolLayerIndex=function(){this.indexes={},this.usedCrossTileIDs={}};CrossTileSymbolLayerIndex.prototype.addBucket=function(e,s,r){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===s.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var o=0,t=s.symbolInstances;o<t.length;o+=1)t[o].crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var i=this.usedCrossTileIDs[e.overscaledZ];for(var a in this.indexes){var l=this.indexes[a];if(Number(a)>e.overscaledZ)for(var c in l){var d=l[c];d.tileID.isChildOf(e)&&d.findMatches(s.symbolInstances,e,i)}else{var y=l[e.scaledTo(Number(a)).key];y&&y.findMatches(s.symbolInstances,e,i)}}for(var v=0,h=s.symbolInstances;v<h.length;v+=1){var u=h[v];u.crossTileID||(u.crossTileID=r.generate(),i[u.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new TileLayerIndex(e,s.symbolInstances,s.bucketInstanceId),!0},CrossTileSymbolLayerIndex.prototype.removeBucketCrossTileIDs=function(e,s){for(var n in s.indexedSymbolInstances)for(var o=0,t=s.indexedSymbolInstances[n];o<t.length;o+=1){var i=t[o];delete this.usedCrossTileIDs[e][i.crossTileID]}},CrossTileSymbolLayerIndex.prototype.removeStaleBuckets=function(e){var s=this,r=!1;for(var n in s.indexes){var o=s.indexes[n];for(var t in o)e[o[t].bucketInstanceId]||(s.removeBucketCrossTileIDs(n,o[t]),delete o[t],r=!0)}return r};var CrossTileSymbolIndex=function(){this.layerIndexes={},this.crossTileIDs=new CrossTileIDs,this.maxBucketInstanceId=0};CrossTileSymbolIndex.prototype.addLayer=function(e,s){var n=this.layerIndexes[e.id];void 0===n&&(n=this.layerIndexes[e.id]=new CrossTileSymbolLayerIndex);for(var o=!1,t={},i=0,a=s;i<a.length;i+=1){var l=a[i],c=l.getBucket(e);c&&(c.bucketInstanceId||(c.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(l.tileID,c,this.crossTileIDs)&&(o=!0),t[c.bucketInstanceId]=!0)}return n.removeStaleBuckets(t)&&(o=!0),o},CrossTileSymbolIndex.prototype.pruneUnusedLayers=function(e){var r={};for(var n in e.forEach(function(e){r[e]=!0}),this.layerIndexes)r[n]||delete this.layerIndexes[n]},module.exports=CrossTileSymbolIndex},{"../data/extent":53}],219:[function(_dereq_,module,exports){"use strict";var interpolate=_dereq_("../style-spec/util/interpolate").number,Anchor=_dereq_("../symbol/anchor"),checkMaxAngle=_dereq_("./check_max_angle");module.exports=function getAnchors(e,r,t,n,a,l,o,i,c){var h=n?.6*l*o:0,s=Math.max(n?n.right-n.left:0,a?a.right-a.left:0),u=0===e[0].x||e[0].x===c||0===e[0].y||e[0].y===c;return r-s*o<r/4&&(r=s*o+r/4),function resample(e,r,t,n,a,l,o,i,c){for(var h=l/2,s=0,u=0;u<e.length-1;u++)s+=e[u].dist(e[u+1]);for(var g=0,p=r-t,x=[],f=0;f<e.length-1;f++){for(var m=e[f],v=e[f+1],y=m.dist(v),A=v.angleTo(m);p+t<g+y;){var d=((p+=t)-g)/y,k=interpolate(m.x,v.x,d),q=interpolate(m.y,v.y,d);if(k>=0&&k<c&&q>=0&&q<c&&p-h>=0&&p+h<=s){var M=new Anchor(k,q,A,f);M._round(),n&&!checkMaxAngle(e,M,l,n,a)||x.push(M)}}g+=y}return i||x.length||o||(x=resample(e,g/2,t,n,a,l,o,!0,c)),x}(e,u?r/2*i%r:(s/2+2*l)*o*i%r,r,h,t,s*o,u,!1,c)}},{"../style-spec/util/interpolate":158,"../symbol/anchor":213,"./check_max_angle":214}],220:[function(_dereq_,module,exports){"use strict";var GridIndex=function(e,t,i){var r=this.boxCells=[],s=this.circleCells=[];this.xCellCount=Math.ceil(e/i),this.yCellCount=Math.ceil(t/i);for(var l=0;l<this.xCellCount*this.yCellCount;l++)r.push([]),s.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};GridIndex.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},GridIndex.prototype.insert=function(e,t,i,r,s){this._forEachCell(t,i,r,s,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(i),this.bboxes.push(r),this.bboxes.push(s)},GridIndex.prototype.insertCircle=function(e,t,i,r){this._forEachCell(t-r,i-r,t+r,i+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(i),this.circles.push(r)},GridIndex.prototype._insertBoxCell=function(e,t,i,r,s,l){this.boxCells[s].push(l)},GridIndex.prototype._insertCircleCell=function(e,t,i,r,s,l){this.circleCells[s].push(l)},GridIndex.prototype._query=function(e,t,i,r,s){if(i<0||e>this.width||r<0||t>this.height)return!s&&[];var l=[];if(e<=0&&t<=0&&this.width<=i&&this.height<=r)l=Array.prototype.slice.call(this.boxKeys).concat(this.circleKeys);else{var o={hitTest:s,seenUids:{box:{},circle:{}}};this._forEachCell(e,t,i,r,this._queryCell,l,o)}return s?l.length>0:l},GridIndex.prototype._queryCircle=function(e,t,i,r){var s=e-i,l=e+i,o=t-i,h=t+i;if(l<0||s>this.width||h<0||o>this.height)return!r&&[];var n=[],c={hitTest:r,circle:{x:e,y:t,radius:i},seenUids:{box:{},circle:{}}};return this._forEachCell(s,o,l,h,this._queryCellCircle,n,c),r?n.length>0:n},GridIndex.prototype.query=function(e,t,i,r){return this._query(e,t,i,r,!1)},GridIndex.prototype.hitTest=function(e,t,i,r){return this._query(e,t,i,r,!0)},GridIndex.prototype.hitTestCircle=function(e,t,i){return this._queryCircle(e,t,i,!0)},GridIndex.prototype._queryCell=function(e,t,i,r,s,l,o){var h=this,n=o.seenUids,c=this.boxCells[s];if(null!==c)for(var u=this.bboxes,d=0,C=c;d<C.length;d+=1){var a=C[d];if(!n.box[a]){n.box[a]=!0;var x=4*a;if(e<=u[x+2]&&t<=u[x+3]&&i>=u[x+0]&&r>=u[x+1]){if(o.hitTest)return l.push(!0),!0;l.push(h.boxKeys[a])}}}var p=this.circleCells[s];if(null!==p)for(var f=this.circles,y=0,v=p;y<v.length;y+=1){var b=v[y];if(!n.circle[b]){n.circle[b]=!0;var _=3*b;if(h._circleAndRectCollide(f[_],f[_+1],f[_+2],e,t,i,r)){if(o.hitTest)return l.push(!0),!0;l.push(h.circleKeys[b])}}}},GridIndex.prototype._queryCellCircle=function(e,t,i,r,s,l,o){var n=o.circle,c=o.seenUids,u=this.boxCells[s];if(null!==u)for(var d=this.bboxes,C=0,a=u;C<a.length;C+=1){var x=a[C];if(!c.box[x]){c.box[x]=!0;var p=4*x;if(this._circleAndRectCollide(n.x,n.y,n.radius,d[p+0],d[p+1],d[p+2],d[p+3]))return l.push(!0),!0}}var f=this.circleCells[s];if(null!==f)for(var y=this.circles,v=0,b=f;v<b.length;v+=1){var _=b[v];if(!c.circle[_]){c.circle[_]=!0;var G=3*_;if(this._circlesCollide(y[G],y[G+1],y[G+2],n.x,n.y,n.radius))return l.push(!0),!0}}},GridIndex.prototype._forEachCell=function(e,t,i,r,s,l,o){for(var n=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),u=this._convertToXCellCoord(i),d=this._convertToYCellCoord(r),C=n;C<=u;C++)for(var a=c;a<=d;a++){var x=this.xCellCount*a+C;if(s.call(this,e,t,i,r,x,l,o))return}},GridIndex.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},GridIndex.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},GridIndex.prototype._circlesCollide=function(e,t,i,r,s,l){var o=r-e,h=s-t,n=i+l;return n*n>o*o+h*h},GridIndex.prototype._circleAndRectCollide=function(e,t,i,r,s,l,o){var h=(l-r)/2,n=Math.abs(e-(r+h));if(n>h+i)return!1;var c=(o-s)/2,u=Math.abs(t-(s+c));if(u>c+i)return!1;if(n<=h||u<=c)return!0;var d=n-h,C=u-c;return d*d+C*C<=i*i},module.exports=GridIndex},{}],221:[function(_dereq_,module,exports){"use strict";module.exports=function(e){function t(t){g.push(e[t]),l++}function r(e,t,r){var n=u[e];return delete u[e],u[t]=n,g[n].geometry[0].pop(),g[n].geometry[0]=g[n].geometry[0].concat(r[0]),n}function n(e,t,r){var n=i[t];return delete i[t],i[e]=n,g[n].geometry[0].shift(),g[n].geometry[0]=r[0].concat(g[n].geometry[0]),n}function o(e,t,r){var n=r?t[0][t[0].length-1]:t[0][0];return e+":"+n.x+":"+n.y}for(var i={},u={},g=[],l=0,m=0;m<e.length;m++){var y=e[m],c=y.geometry,f=y.text;if(f){var a=o(f,c),s=o(f,c,!0);if(a in u&&s in i&&u[a]!==i[s]){var v=n(a,s,c),d=r(a,s,g[v].geometry);delete i[a],delete u[s],u[o(f,g[d].geometry,!0)]=d,g[v].geometry=null}else a in u?r(a,s,c):s in i?n(a,s,c):(t(m),i[a]=l-1,u[s]=l-1)}else t(m)}return g.filter(function(e){return e.geometry})}},{}],222:[function(_dereq_,module,exports){"use strict";var register=_dereq_("../util/web_worker_transfer").register,OpacityState=function(){this.opacity=0,this.targetOpacity=0,this.time=0};OpacityState.prototype.clone=function(){var t=new OpacityState;return t.opacity=this.opacity,t.targetOpacity=this.targetOpacity,t.time=this.time,t},register("OpacityState",OpacityState),module.exports=OpacityState},{"../util/web_worker_transfer":278}],223:[function(_dereq_,module,exports){"use strict";function updateCollisionVertices(e,t,i){e.emplaceBack(t?1:0,i?1:0),e.emplaceBack(t?1:0,i?1:0),e.emplaceBack(t?1:0,i?1:0),e.emplaceBack(t?1:0,i?1:0)}function packOpacity(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,i=Math.floor(127*e.opacity);return i*shift25+t*shift24+i*shift17+t*shift16+i*shift9+t*shift8+i*shift1+t}var CollisionIndex=_dereq_("./collision_index"),EXTENT=_dereq_("../data/extent"),symbolSize=_dereq_("./symbol_size"),projection=_dereq_("./projection"),symbolLayoutProperties=_dereq_("../style/style_layer/symbol_style_layer_properties").layout,pixelsToTileUnits=_dereq_("../source/pixels_to_tile_units"),OpacityState=function(e,t,i,o){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):o&&i?1:0,this.placed=i};OpacityState.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var JointOpacityState=function(e,t,i,o,a){this.text=new OpacityState(e?e.text:null,t,i,a),this.icon=new OpacityState(e?e.icon:null,t,o,a)};JointOpacityState.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var JointPlacement=function(e,t,i){this.text=e,this.icon=t,this.skipFade=i},Placement=function(e,t){this.transform=e.clone(),this.collisionIndex=new CollisionIndex(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=t};Placement.prototype.placeLayerTile=function(e,t,i,o){var a=t.getBucket(e);if(a){var l=a.layers[0].layout,n=Math.pow(2,this.transform.zoom-t.tileID.overscaledZ),r=t.tileSize/EXTENT,s=this.transform.calculatePosMatrix(t.tileID.toUnwrapped()),c=projection.getLabelPlaneMatrix(s,"map"===l.get("text-pitch-alignment"),"map"===l.get("text-rotation-alignment"),this.transform,pixelsToTileUnits(t,1,this.transform.zoom)),p=projection.getLabelPlaneMatrix(s,"map"===l.get("icon-pitch-alignment"),"map"===l.get("icon-rotation-alignment"),this.transform,pixelsToTileUnits(t,1,this.transform.zoom));this.placeLayerBucket(a,s,c,p,n,r,i,o,t.collisionBoxArray,t.tileID.key,e.source)}},Placement.prototype.placeLayerBucket=function(e,t,i,o,a,l,n,r,s,c,p){for(var x=this,y=e.layers[0].layout,h=symbolSize.evaluateSizeForZoom(e.textSizeData,this.transform.zoom,symbolLayoutProperties.properties["text-size"]),m=!e.hasTextData()||y.get("text-optional"),d=!e.hasIconData()||y.get("icon-optional"),u=0,f=e.symbolInstances;u<f.length;u+=1){var B=f[u];if(!r[B.crossTileID]){var g=!1,I=!1,v=!0,C=null,D=null,T=null;B.collisionArrays||(B.collisionArrays=e.deserializeCollisionBoxes(s,B.textBoxStartIndex,B.textBoxEndIndex,B.iconBoxStartIndex,B.iconBoxEndIndex)),B.collisionArrays.textBox&&(g=(C=x.collisionIndex.placeCollisionBox(B.collisionArrays.textBox,y.get("text-allow-overlap"),l,t)).box.length>0,v=v&&C.offscreen);var V=B.collisionArrays.textCircles;if(V){var S=e.text.placedSymbolArray.get(B.placedTextSymbolIndices[0]),A=symbolSize.evaluateSizeForFeature(e.textSizeData,h,S);D=x.collisionIndex.placeCollisionCircles(V,y.get("text-allow-overlap"),a,l,B.key,S,e.lineVertexArray,e.glyphOffsetArray,A,t,i,n,"map"===y.get("text-pitch-alignment")),g=y.get("text-allow-overlap")||D.circles.length>0,v=v&&D.offscreen}B.collisionArrays.iconBox&&(I=(T=x.collisionIndex.placeCollisionBox(B.collisionArrays.iconBox,y.get("icon-allow-overlap"),l,t)).box.length>0,v=v&&T.offscreen),m||d?d?m||(I=I&&g):g=I&&g:I=g=I&&g,g&&C&&x.collisionIndex.insertCollisionBox(C.box,y.get("text-ignore-placement"),c,p,e.bucketInstanceId,B.textBoxStartIndex),I&&T&&x.collisionIndex.insertCollisionBox(T.box,y.get("icon-ignore-placement"),c,p,e.bucketInstanceId,B.iconBoxStartIndex),g&&D&&x.collisionIndex.insertCollisionCircles(D.circles,y.get("text-ignore-placement"),c,p,e.bucketInstanceId,B.textBoxStartIndex),x.placements[B.crossTileID]=new JointPlacement(g,I,v||e.justReloaded),r[B.crossTileID]=!0}}e.justReloaded=!1},Placement.prototype.commit=function(e,t){var i=this;this.commitTime=t;var o=!1,a=e&&0!==this.fadeDuration?(this.commitTime-e.commitTime)/this.fadeDuration:1,l=e?e.opacities:{};for(var n in i.placements){var r=i.placements[n],s=l[n];s?(i.opacities[n]=new JointOpacityState(s,a,r.text,r.icon),o=o||r.text!==s.text.placed||r.icon!==s.icon.placed):(i.opacities[n]=new JointOpacityState(null,a,r.text,r.icon,r.skipFade),o=o||r.text||r.icon)}for(var c in l){var p=l[c];if(!i.opacities[c]){var x=new JointOpacityState(p,a,!1,!1);x.isHidden()||(i.opacities[c]=x,o=o||p.text.placed||p.icon.placed)}}o?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},Placement.prototype.updateLayerOpacities=function(e,t){for(var o={},a=0,l=t;a<l.length;a+=1){var n=l[a],r=n.getBucket(e);r&&this.updateBucketOpacities(r,o,n.collisionBoxArray)}},Placement.prototype.updateBucketOpacities=function(e,t,i){e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasCollisionBoxData()&&e.collisionBox.collisionVertexArray.clear(),e.hasCollisionCircleData()&&e.collisionCircle.collisionVertexArray.clear();for(var a=e.layers[0].layout,l=new JointOpacityState(null,0,a.get("text-allow-overlap"),a.get("icon-allow-overlap"),!0),n=0;n<e.symbolInstances.length;n++){var r=e.symbolInstances[n],s=t[r.crossTileID],c=this.opacities[r.crossTileID];c?s&&(c=l):(c=l,this.opacities[r.crossTileID]=c),t[r.crossTileID]=!0;var p=r.numGlyphVertices>0||r.numVerticalGlyphVertices>0,x=r.numIconVertices>0;if(p){for(var y=packOpacity(c.text),h=(r.numGlyphVertices+r.numVerticalGlyphVertices)/4,m=0;m<h;m++)e.text.opacityVertexArray.emplaceBack(y);for(var d=0,u=r.placedTextSymbolIndices;d<u.length;d+=1){var f=u[d];e.text.placedSymbolArray.get(f).hidden=c.text.isHidden()}}if(x){for(var B=packOpacity(c.icon),g=0;g<r.numIconVertices/4;g++)e.icon.opacityVertexArray.emplaceBack(B);e.icon.placedSymbolArray.get(n).hidden=c.icon.isHidden()}r.collisionArrays||(r.collisionArrays=e.deserializeCollisionBoxes(i,r.textBoxStartIndex,r.textBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex));var I=r.collisionArrays;if(I){I.textBox&&e.hasCollisionBoxData()&&updateCollisionVertices(e.collisionBox.collisionVertexArray,c.text.placed,!1),I.iconBox&&e.hasCollisionBoxData()&&updateCollisionVertices(e.collisionBox.collisionVertexArray,c.icon.placed,!1);var v=I.textCircles;if(v&&e.hasCollisionCircleData())for(var C=0;C<v.length;C+=5){var D=s||0===v[C+4];updateCollisionVertices(e.collisionCircle.collisionVertexArray,c.text.placed,D)}}}e.sortFeatures(this.transform.angle),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasCollisionBoxData()&&e.collisionBox.collisionVertexBuffer&&e.collisionBox.collisionVertexBuffer.updateData(e.collisionBox.collisionVertexArray),e.hasCollisionCircleData()&&e.collisionCircle.collisionVertexBuffer&&e.collisionCircle.collisionVertexBuffer.updateData(e.collisionCircle.collisionVertexArray)},Placement.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration},Placement.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},Placement.prototype.stillRecent=function(e){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>e},Placement.prototype.setStale=function(){this.stale=!0};var shift25=Math.pow(2,25),shift24=Math.pow(2,24),shift17=Math.pow(2,17),shift16=Math.pow(2,16),shift9=Math.pow(2,9),shift8=Math.pow(2,8),shift1=Math.pow(2,1);module.exports=Placement},{"../data/extent":53,"../source/pixels_to_tile_units":104,"../style/style_layer/symbol_style_layer_properties":209,"./collision_index":217,"./projection":224,"./symbol_size":228}],224:[function(_dereq_,module,exports){"use strict";function project(e,t){var r=[e.x,e.y,0,1];xyTransformMat4(r,r,t);var n=r[3];return{point:new Point(r[0]/n,r[1]/n),signedDistanceFromCamera:n}}function isVisible(e,t){var r=e[0]/e[3],n=e[1]/e[3];return r>=-t[0]&&r<=t[0]&&n>=-t[1]&&n<=t[1]}function placeFirstAndLastGlyph(e,t,r,n,a,i,o,l,s,p,u,y){var c=l.glyphStartIndex+l.numGlyphs,m=l.lineStartIndex,d=l.lineStartIndex+l.lineLength,g=t.getoffsetX(l.glyphStartIndex),h=t.getoffsetX(c-1),f=placeGlyphAlongLine(e*g,r,n,a,i,o,l.segment,m,d,s,p,u,y);if(!f)return null;var x=placeGlyphAlongLine(e*h,r,n,a,i,o,l.segment,m,d,s,p,u,y);return x?{first:f,last:x}:null}function requiresOrientationChange(e,t,r,n){return e===WritingMode.horizontal&&Math.abs(r.y-t.y)>Math.abs(r.x-t.x)*n?{useVertical:!0}:(e===WritingMode.vertical?t.y<r.y:t.x>r.x)?{needsFlipping:!0}:null}function placeGlyphsAlongLine(e,t,r,n,a,i,o,l,s,p,u,y,c,m){var d,g=t/24,h=e.lineOffsetX*t,f=e.lineOffsetY*t;if(e.numGlyphs>1){var x=e.glyphStartIndex+e.numGlyphs,v=e.lineStartIndex,b=e.lineStartIndex+e.lineLength,L=placeFirstAndLastGlyph(g,l,h,f,r,u,y,e,s,i,c,!1);if(!L)return{notEnoughRoom:!0};var A=project(L.first.point,o).point,G=project(L.last.point,o).point;if(n&&!r){var M=requiresOrientationChange(e.writingMode,A,G,m);if(M)return M}d=[L.first];for(var S=e.glyphStartIndex+1;S<x-1;S++)d.push(placeGlyphAlongLine(g*l.getoffsetX(S),h,f,r,u,y,e.segment,v,b,s,i,c,!1));d.push(L.last)}else{if(n&&!r){var w=project(y,a).point,F=e.lineStartIndex+e.segment+1,D=new Point(s.getx(F),s.gety(F)),I=project(D,a),j=I.signedDistanceFromCamera>0?I.point:projectTruncatedLineSegment(y,D,w,1,a),z=requiresOrientationChange(e.writingMode,w,j,m);if(z)return z}var P=placeGlyphAlongLine(g*l.getoffsetX(e.glyphStartIndex),h,f,r,u,y,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,s,i,c,!1);if(!P)return{notEnoughRoom:!0};d=[P]}for(var _=0,C=d;_<C.length;_+=1){var V=C[_];addDynamicAttributes(p,V.point,V.angle)}return{}}function projectTruncatedLineSegment(e,t,r,n,a){var i=project(e.add(e.sub(t)._unit()),a).point,o=r.sub(i);return r.add(o._mult(n/o.mag()))}function placeGlyphAlongLine(e,t,r,n,a,i,o,l,s,p,u,y,c){var m=n?e-t:e+t,d=m>0?1:-1,g=0;n&&(d*=-1,g=Math.PI),d<0&&(g+=Math.PI);for(var h=d>0?l+o:l+o+1,f=h,x=a,v=a,b=0,L=0,A=Math.abs(m);b+L<=A;){if((h+=d)<l||h>=s)return null;if(v=x,void 0===(x=y[h])){var G=new Point(p.getx(h),p.gety(h)),M=project(G,u);if(M.signedDistanceFromCamera>0)x=y[h]=M.point;else{var S=h-d;x=projectTruncatedLineSegment(0===b?i:new Point(p.getx(S),p.gety(S)),G,v,A-b+1,u)}}b+=L,L=v.dist(x)}var w=(A-b)/L,F=x.sub(v),D=F.mult(w)._add(v);return D._add(F._unit()._perp()._mult(r*d)),{point:D,angle:g+Math.atan2(x.y-v.y,x.x-v.x),tileDistance:c?{prevTileDistance:h-d===f?0:p.gettileUnitDistanceFromAnchor(h-d),lastSegmentViewportDistance:A-b}:null}}function hideGlyphs(e,t){for(var r=0;r<e;r++){var n=t.length;t.resize(n+4),t.float32.set(hiddenGlyphAttributes,3*n)}}function xyTransformMat4(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[4]*a+r[12],e[1]=r[1]*n+r[5]*a+r[13],e[3]=r[3]*n+r[7]*a+r[15],e}var Point=_dereq_("@mapbox/point-geometry"),ref=_dereq_("@mapbox/gl-matrix"),mat4=ref.mat4,vec4=ref.vec4,symbolSize=_dereq_("./symbol_size"),addDynamicAttributes=_dereq_("../data/bucket/symbol_bucket").addDynamicAttributes,symbolLayoutProperties=_dereq_("../style/style_layer/symbol_style_layer_properties").layout,WritingMode=_dereq_("../symbol/shaping").WritingMode;module.exports={updateLineLabels:function updateLineLabels(e,t,r,n,a,i,o,l){var s=n?e.textSizeData:e.iconSizeData,p=symbolSize.evaluateSizeForZoom(s,r.transform.zoom,symbolLayoutProperties.properties[n?"text-size":"icon-size"]),u=[256/r.width*2+1,256/r.height*2+1],y=n?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;y.clear();for(var c=e.lineVertexArray,m=n?e.text.placedSymbolArray:e.icon.placedSymbolArray,d=r.transform.width/r.transform.height,g=!1,h=0;h<m.length;h++){var f=m.get(h);if(f.hidden||f.writingMode===WritingMode.vertical&&!g)hideGlyphs(f.numGlyphs,y);else{g=!1;var x=[f.anchorX,f.anchorY,0,1];if(vec4.transformMat4(x,x,t),isVisible(x,u)){var b=.5+x[3]/r.transform.cameraToCenterDistance*.5,L=symbolSize.evaluateSizeForFeature(s,p,f),A=o?L*b:L/b,G=new Point(f.anchorX,f.anchorY),M=project(G,a).point,S={},w=placeGlyphsAlongLine(f,A,!1,l,t,a,i,e.glyphOffsetArray,c,y,M,G,S,d);g=w.useVertical,(w.notEnoughRoom||g||w.needsFlipping&&placeGlyphsAlongLine(f,A,!0,l,t,a,i,e.glyphOffsetArray,c,y,M,G,S,d).notEnoughRoom)&&hideGlyphs(f.numGlyphs,y)}else hideGlyphs(f.numGlyphs,y)}}n?e.text.dynamicLayoutVertexBuffer.updateData(y):e.icon.dynamicLayoutVertexBuffer.updateData(y)},getLabelPlaneMatrix:function getLabelPlaneMatrix(e,t,r,n,a){var i=mat4.identity(new Float32Array(16));return t?(mat4.identity(i),mat4.scale(i,i,[1/a,1/a,1]),r||mat4.rotateZ(i,i,n.angle)):(mat4.scale(i,i,[n.width/2,-n.height/2,1]),mat4.translate(i,i,[1,-1,0]),mat4.multiply(i,i,e)),i},getGlCoordMatrix:function getGlCoordMatrix(e,t,r,n,a){var i=mat4.identity(new Float32Array(16));return t?(mat4.multiply(i,i,e),mat4.scale(i,i,[a,a,1]),r||mat4.rotateZ(i,i,-n.angle)):(mat4.scale(i,i,[1,-1,1]),mat4.translate(i,i,[-1,-1,0]),mat4.scale(i,i,[2/n.width,2/n.height,1])),i},project:project,placeFirstAndLastGlyph:placeFirstAndLastGlyph,xyTransformMat4:xyTransformMat4};var hiddenGlyphAttributes=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0])},{"../data/bucket/symbol_bucket":51,"../style/style_layer/symbol_style_layer_properties":209,"../symbol/shaping":226,"./symbol_size":228,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],225:[function(_dereq_,module,exports){"use strict";var Point=_dereq_("@mapbox/point-geometry"),GLYPH_PBF_BORDER=_dereq_("../style/parse_glyph_pbf").GLYPH_PBF_BORDER;module.exports={getIconQuads:function getIconQuads(t,e,i,o,n,a,r){var u,l,g,d,f=e.image,c=i.layout,h=e.top-1/f.pixelRatio,x=e.left-1/f.pixelRatio,p=e.bottom+1/f.pixelRatio,s=e.right+1/f.pixelRatio;if("none"!==c.get("icon-text-fit")&&n){var P=s-x,_=p-h,w=c.get("text-size").evaluate(r)/24,m=n.left*w,v=n.right*w,y=n.top*w,R=v-m,b=n.bottom*w-y,G=c.get("icon-text-fit-padding")[0],B=c.get("icon-text-fit-padding")[1],I=c.get("icon-text-fit-padding")[2],Q=c.get("icon-text-fit-padding")[3],O="width"===c.get("icon-text-fit")?.5*(b-_):0,A="height"===c.get("icon-text-fit")?.5*(R-P):0,D="width"===c.get("icon-text-fit")||"both"===c.get("icon-text-fit")?R:P,E="height"===c.get("icon-text-fit")||"both"===c.get("icon-text-fit")?b:_;u=new Point(m+A-Q,y+O-G),l=new Point(m+A+B+D,y+O-G),g=new Point(m+A+B+D,y+O+I+E),d=new Point(m+A-Q,y+O+I+E)}else u=new Point(x,h),l=new Point(s,h),g=new Point(s,p),d=new Point(x,p);var F=i.layout.get("icon-rotate").evaluate(r)*Math.PI/180;if(F){var H=Math.sin(F),L=Math.cos(F),Y=[L,-H,H,L];u._matMult(Y),l._matMult(Y),d._matMult(Y),g._matMult(Y)}return[{tl:u,tr:l,bl:d,br:g,tex:{x:f.textureRect.x-1,y:f.textureRect.y-1,w:f.textureRect.w+2,h:f.textureRect.h+2},writingMode:void 0,glyphOffset:[0,0]}]},getGlyphQuads:function getGlyphQuads(t,e,i,o,n,a,r){for(var u=i.layout.get("text-rotate").evaluate(a)*Math.PI/180,l=i.layout.get("text-offset").evaluate(a).map(function(t){return 24*t}),g=e.positionedGlyphs,d=[],f=0;f<g.length;f++){var c=g[f],h=r[c.glyph];if(h){var x=h.rect;if(x){var p=GLYPH_PBF_BORDER+1,s=h.metrics.advance/2,P=o?[c.x+s,c.y]:[0,0],_=o?[0,0]:[c.x+s+l[0],c.y+l[1]],w=h.metrics.left-p-s+_[0],m=-h.metrics.top-p+_[1],v=w+x.w,y=m+x.h,M=new Point(w,m),R=new Point(v,m),b=new Point(w,y),G=new Point(v,y);if(o&&c.vertical){var B=new Point(-s,s),I=-Math.PI/2,Q=new Point(5,0);M._rotateAround(I,B)._add(Q),R._rotateAround(I,B)._add(Q),b._rotateAround(I,B)._add(Q),G._rotateAround(I,B)._add(Q)}if(u){var O=Math.sin(u),A=Math.cos(u),D=[A,-O,O,A];M._matMult(D),R._matMult(D),b._matMult(D),G._matMult(D)}d.push({tl:M,tr:R,bl:b,br:G,tex:x,writingMode:e.writingMode,glyphOffset:P})}}}return d}}},{"../style/parse_glyph_pbf":186,"@mapbox/point-geometry":4}],226:[function(_dereq_,module,exports){"use strict";function calculateBadness(e,t,a,r){var i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(a)*a}function calculatePenalty(e,t){var a=0;return 10===e&&(a-=1e4),40!==e&&65288!==e||(a+=50),41!==t&&65289!==t||(a+=50),a}function evaluateBreak(e,t,a,r,i,n){for(var l=null,o=calculateBadness(t,a,i,n),c=0,s=r;c<s.length;c+=1){var h=s[c],u=calculateBadness(t-h.x,a,i,n)+h.badness;u<=o&&(l=h,o=u)}return{index:e,x:t,priorBreak:l,badness:o}}function determineLineBreaks(e,t,a,r){if(!a)return[];if(!e)return[];for(var i=[],n=function determineAverageLineWidth(e,t,a,r){for(var i=0,n=0;n<e.length;n++){var l=r[e.charCodeAt(n)];l&&(i+=l.metrics.advance+t)}return i/Math.max(1,Math.ceil(i/a))}(e,t,a,r),l=0,o=0;o<e.length;o++){var c=e.charCodeAt(o),s=r[c];s&&!whitespace[c]&&(l+=s.metrics.advance+t),o<e.length-1&&(breakable[c]||scriptDetection.charAllowsIdeographicBreaking(c))&&i.push(evaluateBreak(o+1,l,n,i,calculatePenalty(c,e.charCodeAt(o+1)),!1))}return function leastBadBreaks(e){return e?leastBadBreaks(e.priorBreak).concat(e.index):[]}(evaluateBreak(e.length,l,n,i,0,!0))}function getAnchorAlignment(e){var t=.5,a=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":a=1;break;case"top":case"top-right":case"top-left":a=0}return{horizontalAlign:t,verticalAlign:a}}function justifyLine(e,t,a,r,i){if(i){var n=t[e[r].glyph];if(n)for(var l=n.metrics.advance,o=(e[r].x+l)*i,c=a;c<=r;c++)e[c].x-=o}}var scriptDetection=_dereq_("../util/script_detection"),verticalizePunctuation=_dereq_("../util/verticalize_punctuation"),rtlTextPlugin=_dereq_("../source/rtl_text_plugin"),WritingMode={horizontal:1,vertical:2,horizontalOnly:3};module.exports={shapeText:function shapeText(e,t,a,r,i,n,l,o,c,s){var h=e.trim();s===WritingMode.vertical&&(h=verticalizePunctuation(h));var u=[],p={positionedGlyphs:u,text:h,top:o[1],bottom:o[1],left:o[0],right:o[0],writingMode:s},b=rtlTextPlugin.processBidirectionalText;return function shapeLines(e,t,a,r,i,n,l,o,c){for(var s=0,h=-17,g=0,u=e.positionedGlyphs,p="right"===n?1:"left"===n?0:.5,b=0,v=a;b<v.length;b+=1){var d=v[b];if((d=d.trim()).length){for(var f=u.length,k=0;k<d.length;k++){var m=d.charCodeAt(k),x=t[m];x&&(scriptDetection.charHasUprightVerticalOrientation(m)&&l!==WritingMode.horizontal?(u.push({glyph:m,x:s,y:0,vertical:!0}),s+=c+o):(u.push({glyph:m,x:s,y:h,vertical:!1}),s+=x.metrics.advance+o))}if(u.length!==f){var A=s-o;g=Math.max(A,g),justifyLine(u,t,f,u.length-1,p)}s=0,h+=r}else h+=r}var B=getAnchorAlignment(i),y=B.horizontalAlign,w=B.verticalAlign;!function align(e,t,a,r,i,n,l){for(var o=(t-a)*i,c=(-r*l+.5)*n,s=0;s<e.length;s++)e[s].x+=o,e[s].y+=c}(u,p,y,w,g,r,a.length);var z=a.length*r;e.top+=-w*z,e.bottom=e.top+z,e.left+=-y*g,e.right=e.left+g}(p,t,b?b(h,determineLineBreaks(h,l,a,t)):function breakLines(e,t){for(var a=[],r=0,i=0,n=t;i<n.length;i+=1){var l=n[i];a.push(e.substring(r,l)),r=l}return r<e.length&&a.push(e.substring(r,e.length)),a}(h,determineLineBreaks(h,l,a,t)),r,i,n,s,l,c),!!u.length&&p},shapeIcon:function shapeIcon(e,t,a){var r=getAnchorAlignment(a),i=r.horizontalAlign,n=r.verticalAlign,l=t[0],o=t[1],c=l-e.displaySize[0]*i,s=c+e.displaySize[0],h=o-e.displaySize[1]*n;return{image:e,top:h,bottom:h+e.displaySize[1],left:c,right:s}},WritingMode:WritingMode};var whitespace={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},breakable={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0}},{"../source/rtl_text_plugin":109,"../util/script_detection":269,"../util/verticalize_punctuation":277}],227:[function(_dereq_,module,exports){"use strict";function addFeature(e,t,a,i,o,n){var r=n.layoutTextSize.evaluate(t),l=n.layoutIconSize.evaluate(t),s=n.textMaxSize.evaluate(t);void 0===s&&(s=r);var c=e.layers[0].layout,u=c.get("text-offset").evaluate(t),x=c.get("icon-offset").evaluate(t),g=r/24,y=e.tilePixelRatio*g,p=e.tilePixelRatio*s/24,d=e.tilePixelRatio*l,m=e.tilePixelRatio*c.get("symbol-spacing"),v=c.get("text-padding")*e.tilePixelRatio,f=c.get("icon-padding")*e.tilePixelRatio,h=c.get("text-max-angle")/180*Math.PI,S="map"===c.get("text-rotation-alignment")&&"line"===c.get("symbol-placement"),z="map"===c.get("icon-rotation-alignment")&&"line"===c.get("symbol-placement"),T=m/2,I=function(r,l){l.x<0||l.x>=EXTENT||l.y<0||l.y>=EXTENT||e.symbolInstances.push(function addSymbol(e,t,a,i,o,n,r,l,s,c,u,x,g,y,p,d,m,v,f,h,S,z){var b,T,I=e.addToLineVertexArray(t,a),E=0,P=0,w=0,q=i.horizontal?i.horizontal.text:"",A=[];i.horizontal&&(b=new CollisionFeature(r,a,t,l,s,c,i.horizontal,u,x,g,e.overscaling),P+=addTextVertices(e,t,i.horizontal,n,g,f,h,y,I,i.vertical?WritingMode.horizontal:WritingMode.horizontalOnly,A,S,z),i.vertical&&(w+=addTextVertices(e,t,i.vertical,n,g,f,h,y,I,WritingMode.vertical,A,S,z)));var L=b?b.boxStartIndex:e.collisionBoxArray.length,D=b?b.boxEndIndex:e.collisionBoxArray.length;if(o){var O=getIconQuads(t,o,n,m,i.horizontal,f,h);T=new CollisionFeature(r,a,t,l,s,c,o,p,d,!1,e.overscaling),E=4*O.length;var _=e.iconSizeData,R=null;"source"===_.functionType?R=[10*n.layout.get("icon-size").evaluate(h)]:"composite"===_.functionType&&(R=[10*z.compositeIconSizes[0].evaluate(h),10*z.compositeIconSizes[1].evaluate(h)]),e.addSymbols(e.icon,O,R,v,m,h,!1,t,I.lineStartIndex,I.lineLength)}var B=T?T.boxStartIndex:e.collisionBoxArray.length,M=T?T.boxEndIndex:e.collisionBoxArray.length;return e.glyphOffsetArray.length>=SymbolBucket.MAX_GLYPHS&&util.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),{key:q,textBoxStartIndex:L,textBoxEndIndex:D,iconBoxStartIndex:B,iconBoxEndIndex:M,textOffset:y,iconOffset:v,anchor:t,line:a,featureIndex:l,feature:h,numGlyphVertices:P,numVerticalGlyphVertices:w,numIconVertices:E,textOpacityState:new OpacityState,iconOpacityState:new OpacityState,isDuplicate:!1,placedTextSymbolIndices:A,crossTileID:0}}(e,l,r,a,i,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,y,v,S,u,d,f,z,x,{zoom:e.zoom},t,o,n))};if("line"===c.get("symbol-placement"))for(var E=0,P=clipLine(t.geometry,0,0,EXTENT,EXTENT);E<P.length;E+=1)for(var w=P[E],A=0,L=getAnchors(w,m,h,a.vertical||a.horizontal,i,24,p,e.overscaling,EXTENT);A<L.length;A+=1){var D=L[A],O=a.horizontal;O&&anchorIsTooClose(e,O.text,T,D)||I(w,D)}else if("Polygon"===t.type)for(var _=0,R=classifyRings(t.geometry,0);_<R.length;_+=1){var B=R[_],M=findPoleOfInaccessibility(B,16);I(B[0],new Anchor(M.x,M.y,0))}else if("LineString"===t.type)for(var N=0,V=t.geometry;N<V.length;N+=1){var W=V[N];I(W,new Anchor(W[0].x,W[0].y,0))}else if("Point"===t.type)for(var X=0,C=t.geometry;X<C.length;X+=1)for(var k=0,G=C[X];k<G.length;k+=1){var Q=G[k];I([Q],new Anchor(Q.x,Q.y,0))}}function addTextVertices(e,t,a,i,o,n,r,l,s,c,u,x,g){var y=getGlyphQuads(t,a,i,o,n,r,x),p=e.textSizeData,d=null;return"source"===p.functionType?d=[10*i.layout.get("text-size").evaluate(r)]:"composite"===p.functionType&&(d=[10*g.compositeTextSizes[0].evaluate(r),10*g.compositeTextSizes[1].evaluate(r)]),e.addSymbols(e.text,y,d,l,o,r,c,t,s.lineStartIndex,s.lineLength),u.push(e.text.placedSymbolArray.length-1),4*y.length}function anchorIsTooClose(e,t,a,i){var o=e.compareText;if(t in o){for(var n=o[t],r=n.length-1;r>=0;r--)if(i.dist(n[r])<a)return!0}else o[t]=[];return o[t].push(i),!1}var Anchor=_dereq_("./anchor"),getAnchors=_dereq_("./get_anchors"),clipLine=_dereq_("./clip_line"),OpacityState=_dereq_("./opacity_state"),ref=_dereq_("./shaping"),shapeText=ref.shapeText,shapeIcon=ref.shapeIcon,WritingMode=ref.WritingMode,ref$1=_dereq_("./quads"),getGlyphQuads=ref$1.getGlyphQuads,getIconQuads=ref$1.getIconQuads,CollisionFeature=_dereq_("./collision_feature"),util=_dereq_("../util/util"),scriptDetection=_dereq_("../util/script_detection"),findPoleOfInaccessibility=_dereq_("../util/find_pole_of_inaccessibility"),classifyRings=_dereq_("../util/classify_rings"),EXTENT=_dereq_("../data/extent"),SymbolBucket=_dereq_("../data/bucket/symbol_bucket"),EvaluationParameters=_dereq_("../style/evaluation_parameters");_dereq_("@mapbox/point-geometry");module.exports={performSymbolLayout:function performSymbolLayout(e,t,a,i,o,n){e.createArrays(),e.symbolInstances=[];var r=512*e.overscaling;e.tilePixelRatio=EXTENT/r,e.compareText={},e.iconsNeedLinear=!1;var l=e.layers[0].layout,s=e.layers[0]._unevaluatedLayout._values,c={};if("composite"===e.textSizeData.functionType){var u=e.textSizeData.zoomRange,x=u.min,g=u.max;c.compositeTextSizes=[s["text-size"].possiblyEvaluate(new EvaluationParameters(x)),s["text-size"].possiblyEvaluate(new EvaluationParameters(g))]}if("composite"===e.iconSizeData.functionType){var y=e.iconSizeData.zoomRange,p=y.min,d=y.max;c.compositeIconSizes=[s["icon-size"].possiblyEvaluate(new EvaluationParameters(p)),s["icon-size"].possiblyEvaluate(new EvaluationParameters(d))]}c.layoutTextSize=s["text-size"].possiblyEvaluate(new EvaluationParameters(e.zoom+1)),c.layoutIconSize=s["icon-size"].possiblyEvaluate(new EvaluationParameters(e.zoom+1)),c.textMaxSize=s["text-size"].possiblyEvaluate(new EvaluationParameters(18));for(var m=24*l.get("text-line-height"),v="map"===l.get("text-rotation-alignment")&&"line"===l.get("symbol-placement"),f=l.get("text-keep-upright"),h=0,S=e.features;h<S.length;h+=1){var z=S[h],b=l.get("text-font").evaluate(z).join(","),T=t[b]||{},I=a[b]||{},E={},P=z.text;if(P){var w=scriptDetection.allowsVerticalWritingMode(P),q=l.get("text-offset").evaluate(z).map(function(e){return 24*e}),A=24*l.get("text-letter-spacing").evaluate(z),L=scriptDetection.allowsLetterSpacing(P)?A:0,D=l.get("text-anchor").evaluate(z),O=l.get("text-justify").evaluate(z),_="line"!==l.get("symbol-placement")?24*l.get("text-max-width").evaluate(z):0;E.horizontal=shapeText(P,T,_,m,D,O,L,q,24,WritingMode.horizontal),w&&v&&f&&(E.vertical=shapeText(P,T,_,m,D,O,L,q,24,WritingMode.vertical))}var R=void 0;if(z.icon){var B=i[z.icon];B&&(R=shapeIcon(o[z.icon],l.get("icon-offset").evaluate(z),l.get("icon-anchor").evaluate(z)),void 0===e.sdfIcons?e.sdfIcons=B.sdf:e.sdfIcons!==B.sdf&&util.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),B.pixelRatio!==e.pixelRatio?e.iconsNeedLinear=!0:0!==l.get("icon-rotate").constantOr(1)&&(e.iconsNeedLinear=!0))}(E.horizontal||R)&&addFeature(e,z,E,R,I,c)}n&&e.generateCollisionDebugBuffers()}}},{"../data/bucket/symbol_bucket":51,"../data/extent":53,"../style/evaluation_parameters":182,"../util/classify_rings":255,"../util/find_pole_of_inaccessibility":261,"../util/script_detection":269,"../util/util":275,"./anchor":213,"./clip_line":215,"./collision_feature":216,"./get_anchors":219,"./opacity_state":222,"./quads":225,"./shaping":226,"@mapbox/point-geometry":4}],228:[function(_dereq_,module,exports){"use strict";var normalizePropertyExpression=_dereq_("../style-spec/expression").normalizePropertyExpression,interpolate=_dereq_("../style-spec/util/interpolate"),util=_dereq_("../util/util");module.exports={getSizeData:function getSizeData(e,o){var i=o.expression;if("constant"===i.kind)return{functionType:"constant",layoutSize:i.evaluate({zoom:e+1})};if("source"===i.kind)return{functionType:"source"};for(var t=i.zoomStops,r=0;r<t.length&&t[r]<=e;)r++;for(var a=r=Math.max(0,r-1);a<t.length&&t[a]<e+1;)a++;a=Math.min(t.length-1,a);var n={min:t[r],max:t[a]};return"composite"===i.kind?{functionType:"composite",zoomRange:n,propertyValue:o.value}:{functionType:"camera",layoutSize:i.evaluate({zoom:e+1}),zoomRange:n,sizeRange:{min:i.evaluate({zoom:n.min}),max:i.evaluate({zoom:n.max})},propertyValue:o.value}},evaluateSizeForFeature:function evaluateSizeForFeature(e,o,i){var t=o;return"source"===e.functionType?i.lowerSize/10:"composite"===e.functionType?interpolate.number(i.lowerSize/10,i.upperSize/10,t.uSizeT):t.uSize},evaluateSizeForZoom:function evaluateSizeForZoom(e,o,i){if("constant"===e.functionType)return{uSizeT:0,uSize:e.layoutSize};if("source"===e.functionType)return{uSizeT:0,uSize:0};if("camera"===e.functionType){var t=e.propertyValue,r=e.zoomRange,a=e.sizeRange,n=normalizePropertyExpression(t,i.specification),u=util.clamp(n.interpolationFactor(o,r.min,r.max),0,1);return{uSizeT:0,uSize:a.min+u*(a.max-a.min)}}var p=e.propertyValue,l=e.zoomRange,m=normalizePropertyExpression(p,i.specification);return{uSizeT:util.clamp(m.interpolationFactor(o,l.min,l.max),0,1),uSize:0}}}},{"../style-spec/expression":139,"../style-spec/util/interpolate":158,"../util/util":275}],229:[function(_dereq_,module,exports){"use strict";var rtlTextPlugin=_dereq_("../source/rtl_text_plugin");module.exports=function(e,t,r){var a=t.layout.get("text-transform").evaluate(r);return"uppercase"===a?e=e.toLocaleUpperCase():"lowercase"===a&&(e=e.toLocaleLowerCase()),rtlTextPlugin.applyArabicShaping&&(e=rtlTextPlugin.applyArabicShaping(e)),e}},{"../source/rtl_text_plugin":109}],230:[function(_dereq_,module,exports){"use strict";var Point=_dereq_("@mapbox/point-geometry"),DOM=_dereq_("../util/dom"),window=_dereq_("../util/window"),iOS=!!window.navigator.platform&&/iPad|iPhone|iPod/.test(window.navigator.platform),handlers={scrollZoom:_dereq_("./handler/scroll_zoom"),boxZoom:_dereq_("./handler/box_zoom"),dragRotate:_dereq_("./handler/drag_rotate"),dragPan:_dereq_("./handler/drag_pan"),keyboard:_dereq_("./handler/keyboard"),doubleClickZoom:_dereq_("./handler/dblclick_zoom"),touchZoomRotate:_dereq_("./handler/touch_zoom_rotate")};module.exports=function(e,t){function s(){E=null}function h(t,n){var o=DOM.mousePos(p,n);return e.fire(t,{lngLat:e.unproject(o),point:o,originalEvent:n})}function g(t,n){var o=DOM.touchPos(p,n),r=o.reduce(function(e,t,n,o){return e.add(t.div(o.length))},new Point(0,0));return e.fire(t,{lngLat:e.unproject(r),point:r,lngLats:o.map(function(t){return e.unproject(t)},this),points:o,originalEvent:n})}var p=e.getCanvasContainer(),D=null,O=!1,M=null,E=null;for(var L in handlers)e[L]=new handlers[L](e,t),t.interactive&&t[L]&&e[L].enable(t[L]);DOM.addEventListener(p,"mouseout",function n(e){h("mouseout",e)}),DOM.addEventListener(p,"mousedown",function o(t){e.doubleClickZoom.isActive()||e.stop(),M=DOM.mousePos(p,t),h("mousedown",t),O=!0}),DOM.addEventListener(p,"mouseup",function r(t){var n=e.dragRotate&&e.dragRotate.isActive();D&&!n&&h("contextmenu",D),D=null,O=!1,h("mouseup",t)}),DOM.addEventListener(p,"mousemove",function i(t){if(!(e.dragPan&&e.dragPan.isActive()||e.dragRotate&&e.dragRotate.isActive())){for(var n=t.toElement||t.target;n&&n!==p;)n=n.parentNode;n===p&&h("mousemove",t)}}),DOM.addEventListener(p,"mouseover",function a(e){for(var t=e.toElement||e.target;t&&t!==p;)t=t.parentNode;t===p&&h("mouseover",e)}),DOM.addEventListener(p,"touchstart",function u(t){e.stop(),g("touchstart",t),!t.touches||t.touches.length>1||(E?(clearTimeout(E),E=null,h("dblclick",t)):E=setTimeout(s,300))},{passive:!0}),DOM.addEventListener(p,"touchmove",function d(e){g("touchmove",e)},{passive:!iOS}),DOM.addEventListener(p,"touchend",function c(e){g("touchend",e)}),DOM.addEventListener(p,"touchcancel",function l(e){g("touchcancel",e)}),DOM.addEventListener(p,"click",function v(e){DOM.mousePos(p,e).equals(M)&&h("click",e)}),DOM.addEventListener(p,"dblclick",function m(e){h("dblclick",e),e.preventDefault()}),DOM.addEventListener(p,"contextmenu",function f(t){var n=e.dragRotate&&e.dragRotate.isActive();O||n?O&&(D=t):h("contextmenu",t),t.preventDefault()})}},{"../util/dom":259,"../util/window":254,"./handler/box_zoom":239,"./handler/dblclick_zoom":240,"./handler/drag_pan":241,"./handler/drag_rotate":242,"./handler/keyboard":243,"./handler/scroll_zoom":244,"./handler/touch_zoom_rotate":245,"@mapbox/point-geometry":4}],231:[function(_dereq_,module,exports){"use strict";var util=_dereq_("../util/util"),interpolate=_dereq_("../style-spec/util/interpolate").number,browser=_dereq_("../util/browser"),LngLat=_dereq_("../geo/lng_lat"),LngLatBounds=_dereq_("../geo/lng_lat_bounds"),Point=_dereq_("@mapbox/point-geometry"),Camera=function(t){function i(i,e){t.call(this),this.moving=!1,this.transform=i,this._bearingSnap=e.bearingSnap}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.getCenter=function(){return this.transform.center},i.prototype.setCenter=function(t,i){return this.jumpTo({center:t},i)},i.prototype.panBy=function(t,i,e){return t=Point.convert(t).mult(-1),this.panTo(this.transform.center,util.extend({offset:t},i),e)},i.prototype.panTo=function(t,i,e){return this.easeTo(util.extend({center:t},i),e)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(t,i){return this.jumpTo({zoom:t},i),this},i.prototype.zoomTo=function(t,i,e){return this.easeTo(util.extend({zoom:t},i),e)},i.prototype.zoomIn=function(t,i){return this.zoomTo(this.getZoom()+1,t,i),this},i.prototype.zoomOut=function(t,i){return this.zoomTo(this.getZoom()-1,t,i),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(t,i){return this.jumpTo({bearing:t},i),this},i.prototype.rotateTo=function(t,i,e){return this.easeTo(util.extend({bearing:t},i),e)},i.prototype.resetNorth=function(t,i){return this.rotateTo(0,util.extend({duration:1e3},t),i),this},i.prototype.snapToNorth=function(t,i){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,i):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(t,i){return this.jumpTo({pitch:t},i),this},i.prototype.fitBounds=function(t,i,e){if("number"==typeof(i=util.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var o=i.padding;i.padding={top:o,bottom:o,right:o,left:o}}if(!util.deepEqual(Object.keys(i.padding).sort(function(t,i){return t<i?-1:t>i?1:0}),["bottom","left","right","top"]))return util.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'"),this;t=LngLatBounds.convert(t);var n=[(i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2],r=Math.min(i.padding.right,i.padding.left),a=Math.min(i.padding.top,i.padding.bottom);i.offset=[i.offset[0]+n[0],i.offset[1]+n[1]];var s=Point.convert(i.offset),h=this.transform,p=h.project(t.getNorthWest()),u=h.project(t.getSouthEast()),c=u.sub(p),m=(h.width-2*r-2*Math.abs(s.x))/c.x,f=(h.height-2*a-2*Math.abs(s.y))/c.y;return f<0||m<0?(util.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."),this):(i.center=h.unproject(p.add(u).div(2)),i.zoom=Math.min(h.scaleZoom(h.scale*Math.min(m,f)),i.maxZoom),i.bearing=0,i.linear?this.easeTo(i,e):this.flyTo(i,e))},i.prototype.jumpTo=function(t,i){this.stop();var e=this.transform,o=!1,n=!1,r=!1;return"zoom"in t&&e.zoom!==+t.zoom&&(o=!0,e.zoom=+t.zoom),void 0!==t.center&&(e.center=LngLat.convert(t.center)),"bearing"in t&&e.bearing!==+t.bearing&&(n=!0,e.bearing=+t.bearing),"pitch"in t&&e.pitch!==+t.pitch&&(r=!0,e.pitch=+t.pitch),this.fire("movestart",i).fire("move",i),o&&this.fire("zoomstart",i).fire("zoom",i).fire("zoomend",i),n&&this.fire("rotate",i),r&&this.fire("pitchstart",i).fire("pitch",i).fire("pitchend",i),this.fire("moveend",i)},i.prototype.easeTo=function(t,i){var e=this;this.stop(),!1===(t=util.extend({offset:[0,0],duration:500,easing:util.ease},t)).animate&&(t.duration=0);var o=this.transform,n=this.getZoom(),r=this.getBearing(),a=this.getPitch(),s="zoom"in t?+t.zoom:n,h="bearing"in t?this._normalizeBearing(t.bearing,r):r,p="pitch"in t?+t.pitch:a,u=o.centerPoint.add(Point.convert(t.offset)),c=o.pointLocation(u),m=LngLat.convert(t.center||c);this._normalizeCenter(m);var f,g,d=o.project(c),l=o.project(m).sub(d),v=o.zoomScale(s-n);return t.around&&(f=LngLat.convert(t.around),g=o.locationPoint(f)),this.zooming=s!==n,this.rotating=r!==h,this.pitching=p!==a,this._prepareEase(i,t.noMoveStart),clearTimeout(this._onEaseEnd),this._ease(function(t){if(e.zooming&&(o.zoom=interpolate(n,s,t)),e.rotating&&(o.bearing=interpolate(r,h,t)),e.pitching&&(o.pitch=interpolate(a,p,t)),f)o.setLocationAtPoint(f,g);else{var c=o.zoomScale(o.zoom-n),m=s>n?Math.min(2,v):Math.max(.5,v),_=Math.pow(m,1-t),b=o.unproject(d.add(l.mult(t*_)).mult(c));o.setLocationAtPoint(o.renderWorldCopies?b.wrap():b,u)}e._fireMoveEvents(i)},function(){t.delayEndEvents?e._onEaseEnd=setTimeout(function(){return e._afterEase(i)},t.delayEndEvents):e._afterEase(i)},t),this},i.prototype._prepareEase=function(t,i){this.moving=!0,i||this.fire("movestart",t),this.zooming&&this.fire("zoomstart",t),this.pitching&&this.fire("pitchstart",t)},i.prototype._fireMoveEvents=function(t){this.fire("move",t),this.zooming&&this.fire("zoom",t),this.rotating&&this.fire("rotate",t),this.pitching&&this.fire("pitch",t)},i.prototype._afterEase=function(t){var i=this.zooming,e=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,i&&this.fire("zoomend",t),e&&this.fire("pitchend",t),this.fire("moveend",t)},i.prototype.flyTo=function(t,i){function e(t){var i=(M*M-z*z+(t?-1:1)*L*L*x*x)/(2*(t?M:z)*L*x);return Math.log(Math.sqrt(i*i+1)-i)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function n(t){return(Math.exp(t)+Math.exp(-t))/2}var a=this;this.stop(),t=util.extend({offset:[0,0],speed:1.2,curve:1.42,easing:util.ease},t);var s=this.transform,h=this.getZoom(),p=this.getBearing(),u=this.getPitch(),c="zoom"in t?util.clamp(+t.zoom,s.minZoom,s.maxZoom):h,m="bearing"in t?this._normalizeBearing(t.bearing,p):p,f="pitch"in t?+t.pitch:u,g=s.zoomScale(c-h),d=s.centerPoint.add(Point.convert(t.offset)),l=s.pointLocation(d),v=LngLat.convert(t.center||l);this._normalizeCenter(v);var _=s.project(l),b=s.project(v).sub(_),y=t.curve,z=Math.max(s.width,s.height),M=z/g,x=b.mag();if("minZoom"in t){var E=util.clamp(Math.min(t.minZoom,h,c),s.minZoom,s.maxZoom),T=z/s.zoomScale(E-h);y=Math.sqrt(T/x*2)}var L=y*y,j=e(0),w=function(t){return n(j)/n(j+y*t)},Z=function(t){return z*((n(j)*function r(t){return o(t)/n(t)}(j+y*t)-o(j))/L)/x},P=(e(1)-j)/y;if(Math.abs(x)<1e-6||!isFinite(P)){if(Math.abs(z-M)<1e-6)return this.easeTo(t,i);var S=M<z?-1:1;P=Math.abs(Math.log(M/z))/y,Z=function(){return 0},w=function(t){return Math.exp(S*y*t)}}if("duration"in t)t.duration=+t.duration;else{var B="screenSpeed"in t?+t.screenSpeed/y:+t.speed;t.duration=1e3*P/B}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this.zooming=!0,this.rotating=p!==m,this.pitching=f!==u,this._prepareEase(i,!1),this._ease(function(t){var e=t*P,o=1/w(e);s.zoom=h+s.scaleZoom(o),a.rotating&&(s.bearing=interpolate(p,m,t)),a.pitching&&(s.pitch=interpolate(u,f,t));var n=s.unproject(_.add(b.mult(Z(e))).mult(o));s.setLocationAtPoint(s.renderWorldCopies?n.wrap():n,d),a._fireMoveEvents(i)},function(){return a._afterEase(i)},t),this},i.prototype.isEasing=function(){return!!this._isEasing},i.prototype.isMoving=function(){return this.moving},i.prototype.stop=function(){return this._onFrame&&this._finishAnimation(),this},i.prototype._ease=function(t,i,e){var o=this;!1===e.animate||0===e.duration?(t(1),i()):(this._easeStart=browser.now(),this._isEasing=!0,this._easeOptions=e,this._startAnimation(function(i){var e=Math.min((browser.now()-o._easeStart)/o._easeOptions.duration,1);t(o._easeOptions.easing(e)),1===e&&o.stop()},function(){o._isEasing=!1,i()}))},i.prototype._updateCamera=function(){this._onFrame&&this._onFrame(this.transform)},i.prototype._startAnimation=function(t,i){return void 0===i&&(i=function(){}),this.stop(),this._onFrame=t,this._finishFn=i,this._update(),this},i.prototype._finishAnimation=function(){delete this._onFrame;var t=this._finishFn;delete this._finishFn,t.call(this)},i.prototype._normalizeBearing=function(t,i){t=util.wrap(t,-180,180);var e=Math.abs(t-i);return Math.abs(t-360-i)<e&&(t-=360),Math.abs(t+360-i)<e&&(t+=360),t},i.prototype._normalizeCenter=function(t){var i=this.transform;if(i.renderWorldCopies&&!i.lngRange){var e=t.lng-i.center.lng;t.lng+=e>180?-360:e<-180?360:0}},i}(_dereq_("../util/evented"));module.exports=Camera},{"../geo/lng_lat":62,"../geo/lng_lat_bounds":63,"../style-spec/util/interpolate":158,"../util/browser":252,"../util/evented":260,"../util/util":275,"@mapbox/point-geometry":4}],232:[function(_dereq_,module,exports){"use strict";var DOM=_dereq_("../../util/dom"),util=_dereq_("../../util/util"),config=_dereq_("../../util/config"),AttributionControl=function(t){this.options=t,util.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};AttributionControl.prototype.getDefaultPosition=function(){return"bottom-right"},AttributionControl.prototype.onAdd=function(t){var i=this.options&&this.options.compact;return this._map=t,this._container=DOM.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),i&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===i&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},AttributionControl.prototype.onRemove=function(){DOM.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},AttributionControl.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var i=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:config.ACCESS_TOKEN}];if(t){var e=i.reduce(function(t,e,o){return e.value&&(t+=e.key+"="+e.value+(o<i.length-1?"&":"")),t},"?");t.href="https://www.mapbox.com/feedback/"+e+(this._map._hash?this._map._hash.getHashString(!0):"")}},AttributionControl.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},AttributionControl.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this._map.style.stylesheet){var i=this._map.style.stylesheet;this.styleOwner=i.owner,this.styleId=i.id}var e=this._map.style.sourceCaches;for(var o in e){var a=e[o].getSource();a.attribution&&t.indexOf(a.attribution)<0&&t.push(a.attribution)}t.sort(function(t,i){return t.length-i.length}),(t=t.filter(function(i,e){for(var o=e+1;o<t.length;o++)if(t[o].indexOf(i)>=0)return!1;return!0})).length?(this._container.innerHTML=t.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},AttributionControl.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")},module.exports=AttributionControl},{"../../util/config":256,"../../util/dom":259,"../../util/util":275}],233:[function(_dereq_,module,exports){"use strict";var DOM=_dereq_("../../util/dom"),util=_dereq_("../../util/util"),window=_dereq_("../../util/window"),FullscreenControl=function(){this._fullscreen=!1,util.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};FullscreenControl.prototype.onAdd=function(e){return this._map=e,this._mapContainer=this._map.getContainer(),this._container=DOM.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",util.warnOnce("This device does not support fullscreen mode.")),this._container},FullscreenControl.prototype.onRemove=function(){DOM.remove(this._container),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},FullscreenControl.prototype._checkFullscreenSupport=function(){return!!(window.document.fullscreenEnabled||window.document.mozFullScreenEnabled||window.document.msFullscreenEnabled||window.document.webkitFullscreenEnabled)},FullscreenControl.prototype._setupUI=function(){var e=this._fullscreenButton=DOM.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);e.setAttribute("aria-label","Toggle fullscreen"),e.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)},FullscreenControl.prototype._isFullscreen=function(){return this._fullscreen},FullscreenControl.prototype._changeIcon=function(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},FullscreenControl.prototype._onClickFullscreen=function(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()},module.exports=FullscreenControl},{"../../util/dom":259,"../../util/util":275,"../../util/window":254}],234:[function(_dereq_,module,exports){"use strict";var supportsGeolocation,Evented=_dereq_("../../util/evented"),DOM=_dereq_("../../util/dom"),window=_dereq_("../../util/window"),util=_dereq_("../../util/util"),LngLat=_dereq_("../../geo/lng_lat"),Marker=_dereq_("../marker"),defaultOptions={positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},GeolocateControl=function(t){function o(o){t.call(this),this.options=util.extend({},defaultOptions,o),util.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker","_onClickGeolocate"],this)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.onAdd=function(t){return this._map=t,this._container=DOM.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),function checkGeolocationSupport(t){void 0!==supportsGeolocation?t(supportsGeolocation):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then(function(o){supportsGeolocation="denied"!==o.state,t(supportsGeolocation)}):(supportsGeolocation=!!window.navigator.geolocation,t(supportsGeolocation))}(this._setupUI),this._container},o.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),DOM.remove(this._container),this._map=void 0},o.prototype._onSuccess=function(t){if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire("geolocate",t),this._finish()},o.prototype._updateCamera=function(t){var o=new LngLat(t.coords.longitude,t.coords.latitude),e=t.coords.accuracy;this._map.fitBounds(o.toBounds(e),this.options.fitBoundsOptions,{geolocateSource:!0})},o.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},o.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire("error",t),this._finish()},o.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},o.prototype._setupUI=function(t){var o=this;!1!==t&&(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=DOM.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=DOM.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Marker(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),this.options.trackUserLocation&&this._map.on("movestart",function(t){t.geolocateSource||"ACTIVE_LOCK"!==o._watchState||(o._watchState="BACKGROUND",o._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),o._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),o.fire("trackuserlocationend"))}))},o.prototype._onClickGeolocate=function(){if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire("trackuserlocationstart");break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire("trackuserlocationend");break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire("trackuserlocationstart")}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4)},o.prototype._clearWatch=function(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},o}(Evented);module.exports=GeolocateControl},{"../../geo/lng_lat":62,"../../util/dom":259,"../../util/evented":260,"../../util/util":275,"../../util/window":254,"../marker":248}],235:[function(_dereq_,module,exports){"use strict";var DOM=_dereq_("../../util/dom"),util=_dereq_("../../util/util"),LogoControl=function(){util.bindAll(["_updateLogo"],this)};LogoControl.prototype.onAdd=function(o){this._map=o,this._container=DOM.create("div","mapboxgl-ctrl");var t=DOM.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.href="https://www.mapbox.com/",t.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},LogoControl.prototype.onRemove=function(){DOM.remove(this._container),this._map.off("sourcedata",this._updateLogo)},LogoControl.prototype.getDefaultPosition=function(){return"bottom-left"},LogoControl.prototype._updateLogo=function(o){o&&"metadata"!==o.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},LogoControl.prototype._logoRequired=function(){if(this._map.style){var o=this._map.style.sourceCaches;for(var t in o)if(o[t].getSource().mapbox_logo)return!0;return!1}},module.exports=LogoControl},{"../../util/dom":259,"../../util/util":275}],236:[function(_dereq_,module,exports){"use strict";var DOM=_dereq_("../../util/dom"),util=_dereq_("../../util/util"),DragRotateHandler=_dereq_("../handler/drag_rotate"),defaultOptions={showCompass:!0,showZoom:!0},NavigationControl=function(t){var o=this;this.options=util.extend({},defaultOptions,t),this._container=DOM.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return o._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return o._map.zoomOut()})),this.options.showCompass&&(util.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return o._map.resetNorth()}),this._compassArrow=DOM.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};NavigationControl.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},NavigationControl.prototype.onAdd=function(t){return this._map=t,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new DragRotateHandler(t,{button:"left",element:this._compass}),this._handler.enable()),this._container},NavigationControl.prototype.onRemove=function(){DOM.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),this._handler.disable(),delete this._handler),delete this._map},NavigationControl.prototype._createButton=function(t,o,r){var e=DOM.create("button",t,this._container);return e.type="button",e.setAttribute("aria-label",o),e.addEventListener("click",r),e},module.exports=NavigationControl},{"../../util/dom":259,"../../util/util":275,"../handler/drag_rotate":242}],237:[function(_dereq_,module,exports){"use strict";function updateScale(t,e,o){var n=o&&o.maxWidth||100,i=t._container.clientHeight/2,a=function getDistance(t,e){var o=Math.PI/180,n=t.lat*o,i=e.lat*o,a=Math.sin(n)*Math.sin(i)+Math.cos(n)*Math.cos(i)*Math.cos((e.lng-t.lng)*o);return 6371e3*Math.acos(Math.min(a,1))}(t.unproject([0,i]),t.unproject([n,i]));if(o&&"imperial"===o.unit){var l=3.2808*a;l>5280?setScale(e,n,l/5280,"mi"):setScale(e,n,l,"ft")}else if(o&&"nautical"===o.unit){setScale(e,n,a/1852,"nm")}else setScale(e,n,a,"m")}function setScale(t,e,o,n){var i=function getRoundNum(t){var e=Math.pow(10,(""+Math.floor(t)).length-1),o=t/e;return e*(o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1)}(o),a=i/o;"m"===n&&i>=1e3&&(i/=1e3,n="km"),t.style.width=e*a+"px",t.innerHTML=i+n}var DOM=_dereq_("../../util/dom"),util=_dereq_("../../util/util"),ScaleControl=function(t){this.options=t,util.bindAll(["_onMove"],this)};ScaleControl.prototype.getDefaultPosition=function(){return"bottom-left"},ScaleControl.prototype._onMove=function(){updateScale(this._map,this._container,this.options)},ScaleControl.prototype.onAdd=function(t){return this._map=t,this._container=DOM.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},ScaleControl.prototype.onRemove=function(){DOM.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},module.exports=ScaleControl},{"../../util/dom":259,"../../util/util":275}],238:[function(_dereq_,module,exports){"use strict"},{}],239:[function(_dereq_,module,exports){"use strict";var DOM=_dereq_("../../util/dom"),LngLatBounds=_dereq_("../../geo/lng_lat_bounds"),util=_dereq_("../../util/util"),window=_dereq_("../../util/window"),BoxZoomHandler=function(o){this._map=o,this._el=o.getCanvasContainer(),this._container=o.getContainer(),util.bindAll(["_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown"],this)};BoxZoomHandler.prototype.isEnabled=function(){return!!this._enabled},BoxZoomHandler.prototype.isActive=function(){return!!this._active},BoxZoomHandler.prototype.enable=function(){this.isEnabled()||(this._map.dragPan&&this._map.dragPan.disable(),this._el.addEventListener("mousedown",this._onMouseDown,!1),this._map.dragPan&&this._map.dragPan.enable(),this._enabled=!0)},BoxZoomHandler.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},BoxZoomHandler.prototype._onMouseDown=function(o){o.shiftKey&&0===o.button&&(window.document.addEventListener("mousemove",this._onMouseMove,!1),window.document.addEventListener("keydown",this._onKeyDown,!1),window.document.addEventListener("mouseup",this._onMouseUp,!1),DOM.disableDrag(),this._startPos=DOM.mousePos(this._el,o),this._active=!0)},BoxZoomHandler.prototype._onMouseMove=function(o){var e=this._startPos,t=DOM.mousePos(this._el,o);this._box||(this._box=DOM.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",o));var n=Math.min(e.x,t.x),i=Math.max(e.x,t.x),s=Math.min(e.y,t.y),a=Math.max(e.y,t.y);DOM.setTransform(this._box,"translate("+n+"px,"+s+"px)"),this._box.style.width=i-n+"px",this._box.style.height=a-s+"px"},BoxZoomHandler.prototype._onMouseUp=function(o){if(0===o.button){var e=this._startPos,t=DOM.mousePos(this._el,o),n=(new LngLatBounds).extend(this._map.unproject(e)).extend(this._map.unproject(t));this._finish(),e.x===t.x&&e.y===t.y?this._fireEvent("boxzoomcancel",o):this._map.fitBounds(n,{linear:!0}).fire("boxzoomend",{originalEvent:o,boxZoomBounds:n})}},BoxZoomHandler.prototype._onKeyDown=function(o){27===o.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",o))},BoxZoomHandler.prototype._finish=function(){this._active=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!1),window.document.removeEventListener("keydown",this._onKeyDown,!1),window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(DOM.remove(this._box),this._box=null),DOM.enableDrag()},BoxZoomHandler.prototype._fireEvent=function(o,e){return this._map.fire(o,{originalEvent:e})},module.exports=BoxZoomHandler},{"../../geo/lng_lat_bounds":63,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],240:[function(_dereq_,module,exports){"use strict";var util=_dereq_("../../util/util"),DoubleClickZoomHandler=function(o){this._map=o,util.bindAll(["_onDblClick","_onZoomEnd"],this)};DoubleClickZoomHandler.prototype.isEnabled=function(){return!!this._enabled},DoubleClickZoomHandler.prototype.isActive=function(){return!!this._active},DoubleClickZoomHandler.prototype.enable=function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},DoubleClickZoomHandler.prototype.disable=function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},DoubleClickZoomHandler.prototype._onDblClick=function(o){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(o.originalEvent.shiftKey?-1:1),{around:o.lngLat},o)},DoubleClickZoomHandler.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)},module.exports=DoubleClickZoomHandler},{"../../util/util":275}],241:[function(_dereq_,module,exports){"use strict";var DOM=_dereq_("../../util/dom"),util=_dereq_("../../util/util"),window=_dereq_("../../util/window"),browser=_dereq_("../../util/browser"),inertiaEasing=util.bezier(0,0,.3,1),DragPanHandler=function(e){this._map=e,this._el=e.getCanvasContainer(),util.bindAll(["_onDown","_onMove","_onUp","_onTouchEnd","_onMouseUp","_onDragFrame","_onDragFinished"],this)};DragPanHandler.prototype.isEnabled=function(){return!!this._enabled},DragPanHandler.prototype.isActive=function(){return!!this._active},DragPanHandler.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),DOM.addEventListener(this._el,"mousedown",this._onDown),DOM.addEventListener(this._el,"touchstart",this._onDown,{passive:!1}),this._enabled=!0)},DragPanHandler.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-drag-pan"),DOM.removeEventListener(this._el,"mousedown",this._onDown),DOM.removeEventListener(this._el,"touchstart",this._onDown,{passive:!1}),this._enabled=!1)},DragPanHandler.prototype._onDown=function(e){this._ignoreEvent(e)||this.isActive()||(e.touches?(DOM.addEventListener(window.document,"touchmove",this._onMove,{passive:!1}),DOM.addEventListener(window.document,"touchend",this._onTouchEnd)):(DOM.addEventListener(window.document,"mousemove",this._onMove),DOM.addEventListener(window.document,"mouseup",this._onMouseUp)),DOM.addEventListener(window,"blur",this._onMouseUp),this._active=!1,this._previousPos=DOM.mousePos(this._el,e),this._inertia=[[browser.now(),this._previousPos]])},DragPanHandler.prototype._onMove=function(e){if(!this._ignoreEvent(e)){this._lastMoveEvent=e,e.preventDefault();var t=DOM.mousePos(this._el,e);if(this._drainInertiaBuffer(),this._inertia.push([browser.now(),t]),!this._previousPos)return void(this._previousPos=t);this._pos=t,this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("dragstart",e),this._fireEvent("movestart",e),this._map._startAnimation(this._onDragFrame,this._onDragFinished)),this._map._update()}},DragPanHandler.prototype._onDragFrame=function(e){var t=this._lastMoveEvent;t&&(e.setLocationAtPoint(e.pointLocation(this._previousPos),this._pos),this._fireEvent("drag",t),this._fireEvent("move",t),this._previousPos=this._pos,delete this._lastMoveEvent)},DragPanHandler.prototype._onDragFinished=function(e){var t=this;if(this.isActive()){this._active=!1,delete this._lastMoveEvent,delete this._previousPos,delete this._pos,this._fireEvent("dragend",e),this._drainInertiaBuffer();var i=function(){t._map.moving=!1,t._fireEvent("moveend",e)},n=this._inertia;if(n.length<2)return void i();var o=n[n.length-1],r=n[0],s=o[1].sub(r[1]),a=(o[0]-r[0])/1e3;if(0===a||o[1].equals(r[1]))return void i();var h=s.mult(.3/a),u=h.mag();u>1400&&(u=1400,h._unit()._mult(u));var d=u/750,v=h.mult(-d/2);this._map.panBy(v,{duration:1e3*d,easing:inertiaEasing,noMoveStart:!0},{originalEvent:e})}},DragPanHandler.prototype._onUp=function(e){this._onDragFinished(e)},DragPanHandler.prototype._onMouseUp=function(e){this._ignoreEvent(e)||(this._onUp(e),DOM.removeEventListener(window.document,"mousemove",this._onMove),DOM.removeEventListener(window.document,"mouseup",this._onMouseUp),DOM.removeEventListener(window,"blur",this._onMouseUp))},DragPanHandler.prototype._onTouchEnd=function(e){this._ignoreEvent(e)||(this._onUp(e),DOM.removeEventListener(window.document,"touchmove",this._onMove,{passive:!1}),DOM.removeEventListener(window.document,"touchend",this._onTouchEnd))},DragPanHandler.prototype._fireEvent=function(e,t){return this._map.fire(e,t?{originalEvent:t}:{})},DragPanHandler.prototype._ignoreEvent=function(e){var t=this._map;return!(!t.boxZoom||!t.boxZoom.isActive())||!(!t.dragRotate||!t.dragRotate.isActive())||(e.touches?e.touches.length>1:!!e.ctrlKey||"mousemove"!==e.type&&e.button&&0!==e.button)},DragPanHandler.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,t=browser.now();e.length>0&&t-e[0][0]>160;)e.shift()},module.exports=DragPanHandler},{"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],242:[function(_dereq_,module,exports){"use strict";var DOM=_dereq_("../../util/dom"),util=_dereq_("../../util/util"),window=_dereq_("../../util/window"),browser=_dereq_("../../util/browser"),inertiaEasing=util.bezier(0,0,.25,1),DragRotateHandler=function(t,e){this._map=t,this._el=e.element||t.getCanvasContainer(),this._button=e.button||"right",this._bearingSnap=e.bearingSnap||0,this._pitchWithRotate=!1!==e.pitchWithRotate,util.bindAll(["_onDown","_onMove","_onUp","_onDragFrame","_onDragFinished"],this)};DragRotateHandler.prototype.isEnabled=function(){return!!this._enabled},DragRotateHandler.prototype.isActive=function(){return!!this._active},DragRotateHandler.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},DragRotateHandler.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},DragRotateHandler.prototype._onDown=function(t){if(!(this._map.boxZoom&&this._map.boxZoom.isActive()||this._map.dragPan&&this._map.dragPan.isActive()||this.isActive())){if("right"===this._button){var e=t.ctrlKey?0:2,i=t.button;if(void 0!==window.InstallTrigger&&2===t.button&&t.ctrlKey&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0&&(i=0),i!==e)return}else if(t.ctrlKey||0!==t.button)return;DOM.disableDrag(),window.document.addEventListener("mousemove",this._onMove,{capture:!0}),window.document.addEventListener("mouseup",this._onUp),window.addEventListener("blur",this._onUp),this._active=!1,this._inertia=[[browser.now(),this._map.getBearing()]],this._previousPos=DOM.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault()}},DragRotateHandler.prototype._onMove=function(t){this._lastMoveEvent=t;var e=DOM.mousePos(this._el,t);this._previousPos?(this._pos=e,this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t),this._map._startAnimation(this._onDragFrame,this._onDragFinished)),this._map._update()):this._previousPos=e},DragRotateHandler.prototype._onUp=function(t){window.document.removeEventListener("mousemove",this._onMove,{capture:!0}),window.document.removeEventListener("mouseup",this._onUp),window.removeEventListener("blur",this._onUp),DOM.enableDrag(),this._onDragFinished(t)},DragRotateHandler.prototype._onDragFrame=function(t){var e=this._lastMoveEvent;if(e){var i=this._previousPos,n=this._pos,r=.8*(i.x-n.x),a=-.5*(i.y-n.y),o=t.bearing-r,s=t.pitch-a,h=this._inertia,_=h[h.length-1];this._drainInertiaBuffer(),h.push([browser.now(),this._map._normalizeBearing(o,_[1])]),t.bearing=o,this._pitchWithRotate&&(this._fireEvent("pitch",e),t.pitch=s),this._fireEvent("rotate",e),this._fireEvent("move",e),delete this._lastMoveEvent,this._previousPos=this._pos}},DragRotateHandler.prototype._onDragFinished=function(t){var e=this;if(this.isActive()){this._active=!1,delete this._lastMoveEvent,delete this._previousPos,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var i=this._map,n=i.getBearing(),r=this._inertia,a=function(){Math.abs(n)<e._bearingSnap?i.resetNorth({noMoveStart:!0},{originalEvent:t}):(e._map.moving=!1,e._fireEvent("moveend",t)),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(r.length<2)return void a();var o=r[0],s=r[r.length-1],h=r[r.length-2],_=i._normalizeBearing(n,h[1]),v=s[1]-o[1],p=v<0?-1:1,d=(s[0]-o[0])/1e3;if(0===v||0===d)return void a();var u=Math.abs(v*(.25/d));u>180&&(u=180);var l=u/180;_+=p*u*(l/2),Math.abs(i._normalizeBearing(_,0))<this._bearingSnap&&(_=i._normalizeBearing(0,_)),i.rotateTo(_,{duration:1e3*l,easing:inertiaEasing,noMoveStart:!0},{originalEvent:t})}},DragRotateHandler.prototype._fireEvent=function(t,e){return this._map.fire(t,e?{originalEvent:e}:{})},DragRotateHandler.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=browser.now();t.length>0&&e-t[0][0]>160;)t.shift()},module.exports=DragRotateHandler},{"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],243:[function(_dereq_,module,exports){"use strict";function easeOut(e){return e*(2-e)}var util=_dereq_("../../util/util"),KeyboardHandler=function(e){this._map=e,this._el=e.getCanvasContainer(),util.bindAll(["_onKeyDown"],this)};KeyboardHandler.prototype.isEnabled=function(){return!!this._enabled},KeyboardHandler.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},KeyboardHandler.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},KeyboardHandler.prototype._onKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=0,a=0,n=0,r=0,i=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?a=-1:(e.preventDefault(),r=-1);break;case 39:e.shiftKey?a=1:(e.preventDefault(),r=1);break;case 38:e.shiftKey?n=1:(e.preventDefault(),i=-1);break;case 40:e.shiftKey?n=-1:(i=1,e.preventDefault());break;default:return}var s=this._map,o=s.getZoom(),l={duration:300,delayEndEvents:500,easing:easeOut,zoom:t?Math.round(o)+t*(e.shiftKey?2:1):o,bearing:s.getBearing()+15*a,pitch:s.getPitch()+10*n,offset:[100*-r,100*-i],center:s.getCenter()};s.easeTo(l,{originalEvent:e})}},module.exports=KeyboardHandler},{"../../util/util":275}],244:[function(_dereq_,module,exports){"use strict";var DOM=_dereq_("../../util/dom"),util=_dereq_("../../util/util"),browser=_dereq_("../../util/browser"),window=_dereq_("../../util/window"),interpolate=_dereq_("../../style-spec/util/interpolate").number,LngLat=_dereq_("../../geo/lng_lat"),ua=window.navigator.userAgent.toLowerCase(),firefox=-1!==ua.indexOf("firefox"),safari=-1!==ua.indexOf("safari")&&-1===ua.indexOf("chrom"),ScrollZoomHandler=function(t){this._map=t,this._el=t.getCanvasContainer(),this._delta=0,util.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};ScrollZoomHandler.prototype.isEnabled=function(){return!!this._enabled},ScrollZoomHandler.prototype.isActive=function(){return!!this._active},ScrollZoomHandler.prototype.enable=function(t){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},ScrollZoomHandler.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},ScrollZoomHandler.prototype._onWheel=function(t){var e=0;"wheel"===t.type?(e=t.deltaY,firefox&&t.deltaMode===window.WheelEvent.DOM_DELTA_PIXEL&&(e/=browser.devicePixelRatio),t.deltaMode===window.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,safari&&(e/=3));var i=browser.now(),o=i-(this._lastWheelEventTime||0);this._lastWheelEventTime=i,0!==e&&e%4.000244140625==0?this._type="wheel":0!==e&&Math.abs(e)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(o*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&(this._lastWheelEvent=t,this._delta-=e,this.isActive()||this._start(t)),t.preventDefault()},ScrollZoomHandler.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},ScrollZoomHandler.prototype._start=function(t){if(this._delta){this._active=!0,this._map.moving=!0,this._map.zooming=!0,this._map.fire("movestart",{originalEvent:t}),this._map.fire("zoomstart",{originalEvent:t}),clearTimeout(this._finishTimeout);var e=DOM.mousePos(this._el,t);this._around=LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(e)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._map._startAnimation(this._onScrollFrame,this._onScrollFinished)}},ScrollZoomHandler.prototype._onScrollFrame=function(t){if(this.isActive()){if(0!==this._delta){var e="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,i=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):t.scale;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=t.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}if("wheel"===this._type){var a=Math.min((browser.now()-this._lastWheelEventTime)/200,1),s=this._easing(a);t.zoom=interpolate(this._startZoom,this._targetZoom,s),1===a&&this._map.stop()}else t.zoom=this._targetZoom,this._map.stop();t.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire("move",{originalEvent:this._lastWheelEvent}),this._map.fire("zoom",{originalEvent:this._lastWheelEvent})}},ScrollZoomHandler.prototype._onScrollFinished=function(){var t=this;this.isActive()&&(this._active=!1,this._finishTimeout=setTimeout(function(){t._map.moving=!1,t._map.zooming=!1,t._map.fire("zoomend"),t._map.fire("moveend"),delete t._targetZoom},200))},ScrollZoomHandler.prototype._smoothOutEasing=function(t){var e=util.ease;if(this._prevEase){var i=this._prevEase,o=(browser.now()-i.start)/i.duration,a=i.easing(o+.01)-i.easing(o),s=.27/Math.sqrt(a*a+1e-4)*.01,r=Math.sqrt(.0729-s*s);e=util.bezier(s,r,.25,1)}return this._prevEase={start:browser.now(),duration:t,easing:e},e},module.exports=ScrollZoomHandler},{"../../geo/lng_lat":62,"../../style-spec/util/interpolate":158,"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],245:[function(_dereq_,module,exports){"use strict";var DOM=_dereq_("../../util/dom"),util=_dereq_("../../util/util"),window=_dereq_("../../util/window"),browser=_dereq_("../../util/browser"),inertiaEasing=util.bezier(0,0,.15,1),TouchZoomRotateHandler=function(t){this._map=t,this._el=t.getCanvasContainer(),util.bindAll(["_onStart","_onMove","_onEnd"],this)};TouchZoomRotateHandler.prototype.isEnabled=function(){return!!this._enabled},TouchZoomRotateHandler.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),DOM.addEventListener(this._el,"touchstart",this._onStart,{passive:!1}),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},TouchZoomRotateHandler.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),DOM.removeEventListener(this._el,"touchstart",this._onStart,{passive:!1}),this._enabled=!1)},TouchZoomRotateHandler.prototype.disableRotation=function(){this._rotationDisabled=!0},TouchZoomRotateHandler.prototype.enableRotation=function(){this._rotationDisabled=!1},TouchZoomRotateHandler.prototype._onStart=function(t){if(2===t.touches.length){var e=DOM.mousePos(this._el,t.touches[0]),o=DOM.mousePos(this._el,t.touches[1]);this._startVec=e.sub(o),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],DOM.addEventListener(window.document,"touchmove",this._onMove,{passive:!1}),DOM.addEventListener(window.document,"touchend",this._onEnd)}},TouchZoomRotateHandler.prototype._onMove=function(t){if(2===t.touches.length){var e=DOM.mousePos(this._el,t.touches[0]),o=DOM.mousePos(this._el,t.touches[1]),i=e.add(o).div(2),n=e.sub(o),a=n.mag()/this._startVec.mag(),r=this._rotationDisabled?0:180*n.angleWith(this._startVec)/Math.PI,s=this._map;if(this._gestureIntent){var h={duration:0,around:s.unproject(i)};"rotate"===this._gestureIntent&&(h.bearing=this._startBearing+r),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(h.zoom=s.transform.scaleZoom(this._startScale*a)),s.stop(),this._drainInertiaBuffer(),this._inertia.push([browser.now(),a,i]),s.easeTo(h,{originalEvent:t})}else{var u=Math.abs(1-a)>.15;Math.abs(r)>10?this._gestureIntent="rotate":u&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=n,this._startScale=s.transform.scale,this._startBearing=s.transform.bearing)}t.preventDefault()}},TouchZoomRotateHandler.prototype._onEnd=function(t){DOM.removeEventListener(window.document,"touchmove",this._onMove,{passive:!1}),DOM.removeEventListener(window.document,"touchend",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,o=this._map;if(e.length<2)o.snapToNorth({},{originalEvent:t});else{var i=e[e.length-1],n=e[0],a=o.transform.scaleZoom(this._startScale*i[1]),r=o.transform.scaleZoom(this._startScale*n[1]),s=a-r,h=(i[0]-n[0])/1e3,u=i[2];if(0!==h&&a!==r){var l=.15*s/h;Math.abs(l)>2.5&&(l=l>0?2.5:-2.5);var d=1e3*Math.abs(l/(12*.15)),c=a+l*d/2e3;c<0&&(c=0),o.easeTo({zoom:c,duration:d,easing:inertiaEasing,around:this._aroundCenter?o.getCenter():o.unproject(u)},{originalEvent:t})}else o.snapToNorth({},{originalEvent:t})}},TouchZoomRotateHandler.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=browser.now();t.length>2&&e-t[0][0]>160;)t.shift()},module.exports=TouchZoomRotateHandler},{"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],246:[function(_dereq_,module,exports){"use strict";var util=_dereq_("../util/util"),window=_dereq_("../util/window"),throttle=_dereq_("../util/throttle"),Hash=function(){util.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=throttle(this._updateHashUnthrottled.bind(this),300)};Hash.prototype.addTo=function(t){return this._map=t,window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Hash.prototype.remove=function(){return window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},Hash.prototype.getHashString=function(t){var e=this._map.getCenter(),h=Math.round(100*this._map.getZoom())/100,a=Math.ceil((h*Math.LN2+Math.log(512/360/.5))/Math.LN10),n=Math.pow(10,a),i=Math.round(e.lng*n)/n,o=Math.round(e.lat*n)/n,s=this._map.getBearing(),r=this._map.getPitch(),u="";return u+=t?"#/"+i+"/"+o+"/"+h:"#"+h+"/"+o+"/"+i,(s||r)&&(u+="/"+Math.round(10*s)/10),r&&(u+="/"+Math.round(r)),u},Hash.prototype._onHashChange=function(){var t=window.location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},Hash.prototype._updateHashUnthrottled=function(){var t=this.getHashString();window.history.replaceState("","",t)},module.exports=Hash},{"../util/throttle":272,"../util/util":275,"../util/window":254}],247:[function(_dereq_,module,exports){"use strict";function removeNode(t){t.parentNode&&t.parentNode.removeChild(t)}var util=_dereq_("../util/util"),browser=_dereq_("../util/browser"),window=_dereq_("../util/window"),ref=_dereq_("../util/window"),HTMLImageElement=ref.HTMLImageElement,HTMLElement=ref.HTMLElement,DOM=_dereq_("../util/dom"),ajax=_dereq_("../util/ajax"),Style=_dereq_("../style/style"),EvaluationParameters=_dereq_("../style/evaluation_parameters"),Painter=_dereq_("../render/painter"),Transform=_dereq_("../geo/transform"),Hash=_dereq_("./hash"),bindHandlers=_dereq_("./bind_handlers"),Camera=_dereq_("./camera"),LngLat=_dereq_("../geo/lng_lat"),LngLatBounds=_dereq_("../geo/lng_lat_bounds"),Point=_dereq_("@mapbox/point-geometry"),AttributionControl=_dereq_("./control/attribution_control"),LogoControl=_dereq_("./control/logo_control"),isSupported=_dereq_("@mapbox/mapbox-gl-supported"),RGBAImage=_dereq_("../util/image").RGBAImage;_dereq_("./events");var defaultOptions={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300},Map=function(t){function e(e){if(null!=(e=util.extend({},defaultOptions,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var r=new Transform(e.minZoom,e.maxZoom,e.renderWorldCopies);t.call(this,r,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming;var o=e.transformRequest;if(this._transformRequest=o?function(t,e){return o(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof e.container){var i=window.document.getElementById(e.container);if(!i)throw new Error("Container '"+e.container+"' not found.");this._container=i}else{if(!(e.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}e.maxBounds&&this.setMaxBounds(e.maxBounds),util.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),void 0!==window&&(window.addEventListener("online",this._onWindowOnline,!1),window.addEventListener("resize",this._onWindowResize,!1)),bindHandlers(this,e),this._hash=e.hash&&(new Hash).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this.resize(),e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new AttributionControl),this.addControl(new LogoControl,e.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return e.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var r=t.onAdd(this),o=this._controlPositions[e];return-1!==e.indexOf("bottom")?o.insertBefore(r,o.firstChild):o.appendChild(r),this},e.prototype.removeControl=function(t){return t.onRemove(this),this},e.prototype.resize=function(){var t=this._containerDimensions(),e=t[0],r=t[1];return this._resizeCanvas(e,r),this.transform.resize(e,r),this.painter.resize(e,r),this.fire("movestart").fire("move").fire("resize").fire("moveend")},e.prototype.getBounds=function(){var t=new LngLatBounds(this.transform.pointLocation(new Point(0,this.transform.height)),this.transform.pointLocation(new Point(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new Point(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new Point(0,this.transform.size.y)))),t},e.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new LngLatBounds([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null},e.prototype.setMaxBounds=function(t){if(t){var e=LngLatBounds.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=null,this.transform.latRange=null,this._update());return this},e.prototype.setMinZoom=function(t){if((t=null===t||void 0===t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},e.prototype.getMinZoom=function(){return this.transform.minZoom},e.prototype.setMaxZoom=function(t){if((t=null===t||void 0===t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},e.prototype.getMaxZoom=function(){return this.transform.maxZoom},e.prototype.project=function(t){return this.transform.locationPoint(LngLat.convert(t))},e.prototype.unproject=function(t){return this.transform.pointLocation(Point.convert(t))},e.prototype.on=function(e,r,o){var i=this;if(void 0===o)return t.prototype.on.call(this,e,r);var n=function(){if("mouseenter"===e||"mouseover"===e){var t=!1;return{layer:r,listener:o,delegates:{mousemove:function(n){var s=i.getLayer(r)?i.queryRenderedFeatures(n.point,{layers:[r]}):[];s.length?t||(t=!0,o.call(i,util.extend({features:s},n,{type:e}))):t=!1},mouseout:function(){t=!1}}}}if("mouseleave"===e||"mouseout"===e){var n=!1;return{layer:r,listener:o,delegates:{mousemove:function(t){(i.getLayer(r)?i.queryRenderedFeatures(t.point,{layers:[r]}):[]).length?n=!0:n&&(n=!1,o.call(i,util.extend({},t,{type:e})))},mouseout:function(t){n&&(n=!1,o.call(i,util.extend({},t,{type:e})))}}}}var a;return{layer:r,listener:o,delegates:(a={},a[e]=function(t){var e=i.getLayer(r)?i.queryRenderedFeatures(t.point,{layers:[r]}):[];e.length&&o.call(i,util.extend({features:e},t))},a)}}();for(var s in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(n),n.delegates)i.on(s,n.delegates[s]);return this},e.prototype.off=function(e,r,o){if(void 0===o)return t.prototype.off.call(this,e,r);if(this._delegatedListeners&&this._delegatedListeners[e])for(var n=this._delegatedListeners[e],s=0;s<n.length;s++){var a=n[s];if(a.layer===r&&a.listener===o){for(var h in a.delegates)this.off(h,a.delegates[h]);return n.splice(s,1),this}}return this},e.prototype.queryRenderedFeatures=function(t,e){return 2===arguments.length?(t=arguments[0],e=arguments[1]):1===arguments.length&&function(t){return t instanceof Point||Array.isArray(t)}(arguments[0])?(t=arguments[0],e={}):1===arguments.length?(t=void 0,e=arguments[0]):(t=void 0,e={}),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(t),e,this.transform.zoom,this.transform.angle):[]},e.prototype._makeQueryGeometry=function(t){var r,e=this;if(void 0===t&&(t=[Point.convert([0,0]),Point.convert([this.transform.width,this.transform.height])]),t instanceof Point||"number"==typeof t[0])r=[Point.convert(t)];else{var o=[Point.convert(t[0]),Point.convert(t[1])];r=[o[0],new Point(o[1].x,o[0].y),o[1],new Point(o[0].x,o[1].y),o[0]]}return r.map(function(t){return e.transform.pointCoordinate(t)})},e.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},e.prototype.setStyle=function(t,e){if((!e||!1!==e.diff&&!e.localIdeographFontFamily)&&this.style&&t&&"object"==typeof t)try{return this.style.setState(t)&&this._update(!0),this}catch(t){util.warnOnce("Unable to perform style diff: "+(t.message||t.error||t)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new Style(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},e.prototype.getStyle=function(){if(this.style)return this.style.serialize()},e.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():util.warnOnce("There is no style added to the map.")},e.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},e.prototype.isSourceLoaded=function(t){var e=this.style&&this.style.sourceCaches[t];return void 0===e?void this.fire("error",{error:new Error("There is no source with ID '"+t+"'")}):e.loaded()},e.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var o=t[e]._tiles;for(var i in o){var n=o[i];if("loaded"!==n.state&&"errored"!==n.state)return!1}}return!0},e.prototype.addSourceType=function(t,e,r){return this.style.addSourceType(t,e,r)},e.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},e.prototype.getSource=function(t){return this.style.getSource(t)},e.prototype.addImage=function(t,e,r){void 0===r&&(r={});var o=r.pixelRatio;void 0===o&&(o=1);var i=r.sdf;if(void 0===i&&(i=!1),e instanceof HTMLImageElement){var n=browser.getImageData(e),s=n.width,a=n.height,h=n.data;this.style.addImage(t,{data:new RGBAImage({width:s,height:a},h),pixelRatio:o,sdf:i})}else{if(void 0===e.width||void 0===e.height)return this.fire("error",{error:new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")});var l=e.width,u=e.height,d=e.data;this.style.addImage(t,{data:new RGBAImage({width:l,height:u},d.slice(0)),pixelRatio:o,sdf:i})}},e.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire("error",{error:new Error("Missing required image id")}),!1)},e.prototype.removeImage=function(t){this.style.removeImage(t)},e.prototype.loadImage=function(t,e){ajax.getImage(this._transformRequest(t,ajax.ResourceType.Image),e)},e.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},e.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},e.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},e.prototype.getLayer=function(t){return this.style.getLayer(t)},e.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},e.prototype.setLayerZoomRange=function(t,e,r){return this.style.setLayerZoomRange(t,e,r),this._update(!0),this},e.prototype.getFilter=function(t){return this.style.getFilter(t)},e.prototype.setPaintProperty=function(t,e,r){return this.style.setPaintProperty(t,e,r),this._update(!0),this},e.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},e.prototype.setLayoutProperty=function(t,e,r){return this.style.setLayoutProperty(t,e,r),this._update(!0),this},e.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},e.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},e.prototype.getLight=function(){return this.style.getLight()},e.prototype.getContainer=function(){return this._container},e.prototype.getCanvasContainer=function(){return this._canvasContainer},e.prototype.getCanvas=function(){return this._canvas},e.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},e.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSContainer=DOM.create("div","mapboxgl-missing-css",t)).innerHTML="Missing Mapbox GL JS CSS";var e=this._canvasContainer=DOM.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=DOM.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var o=this._controlContainer=DOM.create("div","mapboxgl-control-container",t),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){i[t]=DOM.create("div","mapboxgl-ctrl-"+t,o)})},e.prototype._resizeCanvas=function(t,e){var r=window.devicePixelRatio||1;this._canvas.width=r*t,this._canvas.height=r*e,this._canvas.style.width=t+"px",this._canvas.style.height=e+"px"},e.prototype._setupPainter=function(){var t=util.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},isSupported.webGLContextAttributes),e=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);e?this.painter=new Painter(e,this.transform):this.fire("error",{error:new Error("Failed to initialize WebGL")})},e.prototype._contextLost=function(t){t.preventDefault(),this._frameId&&(browser.cancelFrame(this._frameId),this._frameId=null),this.fire("webglcontextlost",{originalEvent:t})},e.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:t})},e.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},e.prototype._update=function(t){this.style&&(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender())},e.prototype._render=function(){this._updateCamera();var t=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var e=this.transform.zoom,r=browser.now();this.style.zoomHistory.update(e,r);var o=new EvaluationParameters(e,{now:r,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),i=o.crossFadingFactor();1===i&&i===this._crossFadingFactor||(t=!0,this._crossFadingFactor=i),this.style.update(o)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming,fadeDuration:this._fadeDuration}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this.style&&(this.style.hasTransitions()||t)&&(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this._rerender(),this},e.prototype.remove=function(){this._hash&&this._hash.remove(),browser.cancelFrame(this._frameId),this._frameId=null,this.setStyle(null),void 0!==window&&(window.removeEventListener("resize",this._onWindowResize,!1),window.removeEventListener("online",this._onWindowOnline,!1));var t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),removeNode(this._canvasContainer),removeNode(this._controlContainer),removeNode(this._missingCSSContainer),this._container.classList.remove("mapboxgl-map"),this.fire("remove")},e.prototype._rerender=function(){var t=this;this.style&&!this._frameId&&(this._frameId=browser.frame(function(){t._frameId=null,t._render()}))},e.prototype._onWindowOnline=function(){this._update()},e.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},r.showTileBoundaries.get=function(){return!!this._showTileBoundaries},r.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},r.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},r.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},r.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},r.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},r.repaint.get=function(){return!!this._repaint},r.repaint.set=function(t){this._repaint=t,this._update()},r.vertices.get=function(){return!!this._vertices},r.vertices.set=function(t){this._vertices=t,this._update()},e.prototype._onData=function(t){this._update("style"===t.dataType),this.fire(t.dataType+"data",t)},e.prototype._onDataLoading=function(t){this.fire(t.dataType+"dataloading",t)},Object.defineProperties(e.prototype,r),e}(Camera);module.exports=Map},{"../geo/lng_lat":62,"../geo/lng_lat_bounds":63,"../geo/transform":64,"../render/painter":90,"../style/evaluation_parameters":182,"../style/style":190,"../util/ajax":251,"../util/browser":252,"../util/dom":259,"../util/image":263,"../util/util":275,"../util/window":254,"./bind_handlers":230,"./camera":231,"./control/attribution_control":232,"./control/logo_control":235,"./events":238,"./hash":246,"@mapbox/mapbox-gl-supported":3,"@mapbox/point-geometry":4}],248:[function(_dereq_,module,exports){"use strict";var DOM=_dereq_("../util/dom"),LngLat=_dereq_("../geo/lng_lat"),Point=_dereq_("@mapbox/point-geometry"),smartWrap=_dereq_("../util/smart_wrap"),bindAll=_dereq_("../util/util").bindAll,Marker=function(t,e){if(bindAll(["_update","_onMapClick"],this),!t){t=DOM.create("div");var r=DOM.createNS("http://www.w3.org/2000/svg","svg");r.setAttributeNS(null,"height","41px"),r.setAttributeNS(null,"width","27px"),r.setAttributeNS(null,"viewBox","0 0 27 41");var i=DOM.createNS("http://www.w3.org/2000/svg","g");i.setAttributeNS(null,"stroke","none"),i.setAttributeNS(null,"stroke-width","1"),i.setAttributeNS(null,"fill","none"),i.setAttributeNS(null,"fill-rule","evenodd");var s=DOM.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var p=DOM.createNS("http://www.w3.org/2000/svg","g");p.setAttributeNS(null,"transform","translate(3.0, 29.0)"),p.setAttributeNS(null,"fill","#000000");for(var l=0,o=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<o.length;l+=1){var a=o[l],u=DOM.createNS("http://www.w3.org/2000/svg","ellipse");u.setAttributeNS(null,"opacity","0.04"),u.setAttributeNS(null,"cx","10.5"),u.setAttributeNS(null,"cy","5.80029008"),u.setAttributeNS(null,"rx",a.rx),u.setAttributeNS(null,"ry",a.ry),p.appendChild(u)}var h=DOM.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill","#3FB1CE");var _=DOM.createNS("http://www.w3.org/2000/svg","path");_.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(_);var g=DOM.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"fill","#000000");var f=DOM.createNS("http://www.w3.org/2000/svg","path");f.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),g.appendChild(f);var d=DOM.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"transform","translate(6.0, 7.0)"),d.setAttributeNS(null,"fill","#FFFFFF");var w=DOM.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"transform","translate(8.0, 8.0)");var c=DOM.createNS("http://www.w3.org/2000/svg","circle");c.setAttributeNS(null,"fill","#000000"),c.setAttributeNS(null,"opacity","0.25"),c.setAttributeNS(null,"cx","5.5"),c.setAttributeNS(null,"cy","5.5"),c.setAttributeNS(null,"r","5.4999962");var v=DOM.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#FFFFFF"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962"),w.appendChild(c),w.appendChild(v),s.appendChild(p),s.appendChild(h),s.appendChild(g),s.appendChild(d),s.appendChild(w),r.appendChild(s),t.appendChild(r);var m=[0,-14];e&&e.offset||(e?e.offset=m:e={offset:m})}this._offset=Point.convert(e&&e.offset||[0,0]),t.classList.add("mapboxgl-marker"),this._element=t,this._popup=null};Marker.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},Marker.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),delete this._map),DOM.remove(this._element),this._popup&&this._popup.remove(),this},Marker.prototype.getLngLat=function(){return this._lngLat},Marker.prototype.setLngLat=function(t){return this._lngLat=LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Marker.prototype.getElement=function(){return this._element},Marker.prototype.setPopup=function(t){return this._popup&&(this._popup.remove(),this._popup=null),t&&("offset"in t.options||(t.options.offset=this._offset),this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)),this},Marker.prototype._onMapClick=function(t){var e=t.originalEvent.target,r=this._element;this._popup&&(e===r||r.contains(e))&&this.togglePopup()},Marker.prototype.getPopup=function(){return this._popup},Marker.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},Marker.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=smartWrap(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),DOM.setTransform(this._element,"translate(-50%, -50%) translate("+this._pos.x+"px, "+this._pos.y+"px)"))},Marker.prototype.getOffset=function(){return this._offset},Marker.prototype.setOffset=function(t){return this._offset=Point.convert(t),this._update(),this},module.exports=Marker},{"../geo/lng_lat":62,"../util/dom":259,"../util/smart_wrap":270,"../util/util":275,"@mapbox/point-geometry":4}],249:[function(_dereq_,module,exports){"use strict";var util=_dereq_("../util/util"),Evented=_dereq_("../util/evented"),DOM=_dereq_("../util/dom"),LngLat=_dereq_("../geo/lng_lat"),Point=_dereq_("@mapbox/point-geometry"),window=_dereq_("../util/window"),smartWrap=_dereq_("../util/smart_wrap"),defaultOptions={closeButton:!0,closeOnClick:!0},Popup=function(t){function o(o){t.call(this),this.options=util.extend(Object.create(defaultOptions),o),util.bindAll(["_update","_onClickClose"],this)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},o.prototype.isOpen=function(){return!!this._map},o.prototype.remove=function(){return this._content&&DOM.remove(this._content),this._container&&(DOM.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},o.prototype.getLngLat=function(){return this._lngLat},o.prototype.setLngLat=function(t){return this._lngLat=LngLat.convert(t),this._pos=null,this._update(),this},o.prototype.setText=function(t){return this.setDOMContent(window.document.createTextNode(t))},o.prototype.setHTML=function(t){var o,e=window.document.createDocumentFragment(),n=window.document.createElement("body");for(n.innerHTML=t;o=n.firstChild;)e.appendChild(o);return this.setDOMContent(e)},o.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},o.prototype._createContent=function(){this._content&&DOM.remove(this._content),this._content=DOM.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=DOM.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},o.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=DOM.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=DOM.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=smartWrap(this._lngLat,this._pos,this._map.transform));var t=this._pos=this._map.project(this._lngLat),o=this.options.anchor,e=function normalizeOffset(t){if(t){if("number"==typeof t){var o=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{top:new Point(0,t),"top-left":new Point(o,o),"top-right":new Point(-o,o),bottom:new Point(0,-t),"bottom-left":new Point(o,-o),"bottom-right":new Point(-o,-o),left:new Point(t,0),right:new Point(-t,0)}}if(t instanceof Point||Array.isArray(t)){var e=Point.convert(t);return{top:e,"top-left":e,"top-right":e,bottom:e,"bottom-left":e,"bottom-right":e,left:e,right:e}}return{top:Point.convert(t.top||[0,0]),"top-left":Point.convert(t["top-left"]||[0,0]),"top-right":Point.convert(t["top-right"]||[0,0]),bottom:Point.convert(t.bottom||[0,0]),"bottom-left":Point.convert(t["bottom-left"]||[0,0]),"bottom-right":Point.convert(t["bottom-right"]||[0,0]),left:Point.convert(t.left||[0,0]),right:Point.convert(t.right||[0,0])}}return normalizeOffset(new Point(0,0))}(this.options.offset);if(!o){var n=this._container.offsetWidth,i=this._container.offsetHeight;o=t.y+e.bottom.y<i?["top"]:t.y>this._map.transform.height-i?["bottom"]:[],t.x<n/2?o.push("left"):t.x>this._map.transform.width-n/2&&o.push("right"),o=0===o.length?"bottom":o.join("-")}var r=t.add(e[o]).round(),s={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},p=this._container.classList;for(var a in s)p.remove("mapboxgl-popup-anchor-"+a);p.add("mapboxgl-popup-anchor-"+o),DOM.setTransform(this._container,s[o]+" translate("+r.x+"px,"+r.y+"px)")}},o.prototype._onClickClose=function(){this.remove()},o}(Evented);module.exports=Popup},{"../geo/lng_lat":62,"../util/dom":259,"../util/evented":260,"../util/smart_wrap":270,"../util/util":275,"../util/window":254,"@mapbox/point-geometry":4}],250:[function(_dereq_,module,exports){"use strict";var util=_dereq_("./util"),ref=_dereq_("./web_worker_transfer"),serialize=ref.serialize,deserialize=ref.deserialize,Actor=function(e,t,r){this.target=e,this.parent=t,this.mapId=r,this.callbacks={},this.callbackID=0,util.bindAll(["receive"],this),this.target.addEventListener("message",this.receive,!1)};Actor.prototype.send=function(e,t,r,i){var a=r?this.mapId+":"+this.callbackID++:null;r&&(this.callbacks[a]=r);var s=[];this.target.postMessage({targetMapId:i,sourceMapId:this.mapId,type:e,id:String(a),data:serialize(t,s)},s)},Actor.prototype.receive=function(e){var t,r=this,i=e.data,a=i.id;if(!i.targetMapId||this.mapId===i.targetMapId){var s=function(e,t){var i=[];r.target.postMessage({sourceMapId:r.mapId,type:"<response>",id:String(a),error:e?String(e):null,data:serialize(t,i)},i)};if("<response>"===i.type)t=this.callbacks[i.id],delete this.callbacks[i.id],t&&i.error?t(new Error(i.error)):t&&t(null,deserialize(i.data));else if(void 0!==i.id&&this.parent[i.type])this.parent[i.type](i.sourceMapId,deserialize(i.data),s);else if(void 0!==i.id&&this.parent.getWorkerSource){var d=i.type.split(".");this.parent.getWorkerSource(i.sourceMapId,d[0])[d[1]](deserialize(i.data),s)}else this.parent[i.type](deserialize(i.data))}},Actor.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)},module.exports=Actor},{"./util":275,"./web_worker_transfer":278}],251:[function(_dereq_,module,exports){"use strict";function makeRequest(e){var t=new window.XMLHttpRequest;for(var r in t.open("GET",e.url,!0),e.headers)t.setRequestHeader(r,e.headers[r]);return t.withCredentials="include"===e.credentials,t}function sameOrigin(e){var t=window.document.createElement("a");return t.href=e,t.protocol===window.document.location.protocol&&t.host===window.document.location.host}var window=_dereq_("./window"),ResourceType={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};exports.ResourceType=ResourceType,"function"==typeof Object.freeze&&Object.freeze(ResourceType);var AJAXError=function(e){function t(t,r){e.call(this,t),this.status=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);exports.getJSON=function(e,t){var r=makeRequest(e);return r.setRequestHeader("Accept","application/json"),r.onerror=function(){t(new Error(r.statusText))},r.onload=function(){if(r.status>=200&&r.status<300&&r.response){var e;try{e=JSON.parse(r.response)}catch(e){return t(e)}t(null,e)}else t(new AJAXError(r.statusText,r.status))},r.send(),r},exports.getArrayBuffer=function(e,t){var r=makeRequest(e);return r.responseType="arraybuffer",r.onerror=function(){t(new Error(r.statusText))},r.onload=function(){var e=r.response;if(0===e.byteLength&&200===r.status)return t(new Error("http status 200 returned without content."));r.status>=200&&r.status<300&&r.response?t(null,{data:e,cacheControl:r.getResponseHeader("Cache-Control"),expires:r.getResponseHeader("Expires")}):t(new AJAXError(r.statusText,r.status))},r.send(),r};exports.getImage=function(e,t){return exports.getArrayBuffer(e,function(e,r){if(e)t(e);else if(r){var n=new window.Image,o=window.URL||window.webkitURL;n.onload=function(){t(null,n),o.revokeObjectURL(n.src)};var s=new window.Blob([new Uint8Array(r.data)],{type:"image/png"});n.cacheControl=r.cacheControl,n.expires=r.expires,n.src=r.data.byteLength?o.createObjectURL(s):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}})},exports.getVideo=function(e,t){var r=window.document.createElement("video");r.onloadstart=function(){t(null,r)};for(var n=0;n<e.length;n++){var o=window.document.createElement("source");sameOrigin(e[n])||(r.crossOrigin="Anonymous"),o.src=e[n],r.appendChild(o)}return r}},{"./window":254}],252:[function(_dereq_,module,exports){"use strict";var window=_dereq_("./window"),now=window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now.bind(Date),frame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,cancel=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;module.exports={now:now,frame:function(e){return frame(e)},cancelFrame:function(e){return cancel(e)},getImageData:function(e){var n=window.document.createElement("canvas"),t=n.getContext("2d");if(!t)throw new Error("failed to create canvas 2d context");return n.width=e.width,n.height=e.height,t.drawImage(e,0,0,e.width,e.height),t.getImageData(0,0,e.width,e.height)},hardwareConcurrency:window.navigator.hardwareConcurrency||4,get devicePixelRatio(){return window.devicePixelRatio},supportsWebp:!1};var webpImgTest=window.document.createElement("img");webpImgTest.onload=function(){module.exports.supportsWebp=!0},webpImgTest.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./window":254}],253:[function(_dereq_,module,exports){"use strict";var WebWorkify=_dereq_("webworkify"),window=_dereq_("../window"),workerURL=window.URL.createObjectURL(new WebWorkify(_dereq_("../../source/worker"),{bare:!0}));module.exports=function(){return new window.Worker(workerURL)}},{"../../source/worker":118,"../window":254,webworkify:36}],254:[function(_dereq_,module,exports){"use strict";module.exports=self},{}],255:[function(_dereq_,module,exports){"use strict";function compareAreas(e,r){return r.area-e.area}var quickselect=_dereq_("quickselect"),calculateSignedArea=_dereq_("./util").calculateSignedArea;module.exports=function(e,r){var a=e.length;if(a<=1)return[e];for(var t,u,c=[],i=0;i<a;i++){var l=calculateSignedArea(e[i]);0!==l&&(e[i].area=Math.abs(l),void 0===u&&(u=l<0),u===l<0?(t&&c.push(t),t=[e[i]]):t.push(e[i]))}if(t&&c.push(t),r>1)for(var n=0;n<c.length;n++)c[n].length<=r||(quickselect(c[n],r,1,c[n].length-1,compareAreas),c[n]=c[n].slice(0,r));return c}},{"./util":275,quickselect:31}],256:[function(_dereq_,module,exports){"use strict";module.exports={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null}},{}],257:[function(_dereq_,module,exports){"use strict";var DictionaryCoder=function(r){this._stringToNumber={},this._numberToString=[];for(var o=0;o<r.length;o++){var i=r[o];this._stringToNumber[i]=o,this._numberToString[o]=i}};DictionaryCoder.prototype.encode=function(r){return this._stringToNumber[r]},DictionaryCoder.prototype.decode=function(r){return this._numberToString[r]},module.exports=DictionaryCoder},{}],258:[function(_dereq_,module,exports){"use strict";var util=_dereq_("./util"),Actor=_dereq_("./actor"),Dispatcher=function(t,r){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=util.uniqueId();for(var i=this.workerPool.acquire(this.id),e=0;e<i.length;e++){var s=i[e],c=new Actor(s,r,this.id);c.name="Worker "+e,this.actors.push(c)}};Dispatcher.prototype.broadcast=function(t,r,o){o=o||function(){},util.asyncAll(this.actors,function(o,i){o.send(t,r,i)},o)},Dispatcher.prototype.send=function(t,r,o,i){return("number"!=typeof i||isNaN(i))&&(i=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[i].send(t,r,o),i},Dispatcher.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},module.exports=Dispatcher},{"./actor":250,"./util":275}],259:[function(_dereq_,module,exports){"use strict";function testProp(e){for(var t=0;t<e.length;t++)if(e[t]in docStyle)return e[t];return e[0]}var Point=_dereq_("@mapbox/point-geometry"),window=_dereq_("./window");exports.create=function(e,t,n){var o=window.document.createElement(e);return t&&(o.className=t),n&&n.appendChild(o),o},exports.createNS=function(e,t){return window.document.createElementNS(e,t)};var userSelect,docStyle=window.document.documentElement.style,selectProp=testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);exports.disableDrag=function(){selectProp&&(userSelect=docStyle[selectProp],docStyle[selectProp]="none")},exports.enableDrag=function(){selectProp&&(docStyle[selectProp]=userSelect)};var transformProp=testProp(["transform","WebkitTransform"]);exports.setTransform=function(e,t){e.style[transformProp]=t};var passiveSupported=!1;try{var options$1=Object.defineProperty({},"passive",{get:function(){passiveSupported=!0}});window.addEventListener("test",options$1,options$1),window.removeEventListener("test",options$1,options$1)}catch(e){passiveSupported=!1}exports.addEventListener=function(e,t,n,o){void 0===o&&(o={}),"passive"in o&&passiveSupported?e.addEventListener(t,n,o):e.addEventListener(t,n,o.capture)},exports.removeEventListener=function(e,t,n,o){void 0===o&&(o={}),"passive"in o&&passiveSupported?e.removeEventListener(t,n,o):e.removeEventListener(t,n,o.capture)};var suppressClick=function(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",suppressClick,!0)};exports.suppressClick=function(){window.addEventListener("click",suppressClick,!0),window.setTimeout(function(){window.removeEventListener("click",suppressClick,!0)},0)},exports.mousePos=function(e,t){var n=e.getBoundingClientRect();return t=t.touches?t.touches[0]:t,new Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},exports.touchPos=function(e,t){for(var n=e.getBoundingClientRect(),o=[],r="touchend"===t.type?t.changedTouches:t.touches,s=0;s<r.length;s++)o.push(new Point(r[s].clientX-n.left-e.clientLeft,r[s].clientY-n.top-e.clientTop));return o},exports.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)}},{"./window":254,"@mapbox/point-geometry":4}],260:[function(_dereq_,module,exports){"use strict";function _addEventListener(e,t,n){n[e]=n[e]||[],n[e].push(t)}function _removeEventListener(e,t,n){if(n&&n[e]){var i=n[e].indexOf(t);-1!==i&&n[e].splice(i,1)}}var util=_dereq_("./util"),Evented=function(){};Evented.prototype.on=function(e,t){return this._listeners=this._listeners||{},_addEventListener(e,t,this._listeners),this},Evented.prototype.off=function(e,t){return _removeEventListener(e,t,this._listeners),_removeEventListener(e,t,this._oneTimeListeners),this},Evented.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},_addEventListener(e,t,this._oneTimeListeners),this},Evented.prototype.fire=function(e,t){var n=this;if(this.listens(e)){t=util.extend({},t,{type:e,target:this});for(var s=0,r=this._listeners&&this._listeners[e]?this._listeners[e].slice():[];s<r.length;s+=1)r[s].call(n,t);for(var h=0,_=this._oneTimeListeners&&this._oneTimeListeners[e]?this._oneTimeListeners[e].slice():[];h<_.length;h+=1){var v=_[h];_removeEventListener(e,v,n._oneTimeListeners),v.call(n,t)}this._eventedParent&&this._eventedParent.fire(e,util.extend({},t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData))}else util.endsWith(e,"error")&&console.error(t&&t.error||t||"Empty error event");return this},Evented.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},Evented.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this},module.exports=Evented},{"./util":275}],261:[function(_dereq_,module,exports){"use strict";function compareMax(e,t){return t.max-e.max}function Cell(e,t,n,o){this.p=new Point(e,t),this.h=n,this.d=function pointToPolygonDist(e,t){for(var n=!1,o=1/0,r=0;r<t.length;r++)for(var i=t[r],l=0,u=i.length,a=u-1;l<u;a=l++){var s=i[l],p=i[a];s.y>e.y!=p.y>e.y&&e.x<(p.x-s.x)*(e.y-s.y)/(p.y-s.y)+s.x&&(n=!n),o=Math.min(o,distToSegmentSquared(e,s,p))}return(n?1:-1)*Math.sqrt(o)}(this.p,o),this.max=this.d+this.h*Math.SQRT2}var Queue=_dereq_("tinyqueue"),Point=_dereq_("@mapbox/point-geometry"),distToSegmentSquared=_dereq_("./intersection_tests").distToSegmentSquared;module.exports=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);for(var o=1/0,r=1/0,i=-1/0,l=-1/0,u=e[0],a=0;a<u.length;a++){var s=u[a];(!a||s.x<o)&&(o=s.x),(!a||s.y<r)&&(r=s.y),(!a||s.x>i)&&(i=s.x),(!a||s.y>l)&&(l=s.y)}var p=i-o,h=l-r,d=Math.min(p,h),x=d/2,y=new Queue(null,compareMax);if(0===d)return new Point(o,r);for(var g=o;g<i;g+=d)for(var f=r;f<l;f+=d)y.push(new Cell(g+x,f+x,x,e));for(var m=function getCentroidCell(e){for(var t=0,n=0,o=0,r=e[0],i=0,l=r.length,u=l-1;i<l;u=i++){var a=r[i],s=r[u],p=a.x*s.y-s.x*a.y;n+=(a.x+s.x)*p,o+=(a.y+s.y)*p,t+=3*p}return new Cell(n/t,o/t,0,e)}(e),v=y.length;y.length;){var c=y.pop();(c.d>m.d||!m.d)&&(m=c,n&&console.log("found best %d after %d probes",Math.round(1e4*c.d)/1e4,v)),c.max-m.d<=t||(x=c.h/2,y.push(new Cell(c.p.x-x,c.p.y-x,x,e)),y.push(new Cell(c.p.x+x,c.p.y-x,x,e)),y.push(new Cell(c.p.x-x,c.p.y+x,x,e)),y.push(new Cell(c.p.x+x,c.p.y+x,x,e)),v+=4)}return n&&(console.log("num probes: "+v),console.log("best distance: "+m.d)),m.p}},{"./intersection_tests":264,"@mapbox/point-geometry":4,tinyqueue:33}],262:[function(_dereq_,module,exports){"use strict";var globalWorkerPool,WorkerPool=_dereq_("./worker_pool");module.exports=function(){return globalWorkerPool||(globalWorkerPool=new WorkerPool),globalWorkerPool}},{"./worker_pool":279}],263:[function(_dereq_,module,exports){"use strict";function createImage(e,t,i,h){var a=t.width,r=t.height;if(h){if(h.length!==a*r*i)throw new RangeError("mismatched image size")}else h=new Uint8Array(a*r*i);return e.width=a,e.height=r,e.data=h,e}function resizeImage(e,t,i){var h=t.width,a=t.height;if(h!==e.width||a!==e.height){var r=createImage({},{width:h,height:a},i);copyImage(e,r,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,h),height:Math.min(e.height,a)},i),e.width=h,e.height=a,e.data=r.data}}function copyImage(e,t,i,h,a,r){if(0===a.width||0===a.height)return t;if(a.width>e.width||a.height>e.height||i.x>e.width-a.width||i.y>e.height-a.height)throw new RangeError("out of range source coordinates for image copy");if(a.width>t.width||a.height>t.height||h.x>t.width-a.width||h.y>t.height-a.height)throw new RangeError("out of range destination coordinates for image copy");for(var g=e.data,n=t.data,o=0;o<a.height;o++)for(var m=((i.y+o)*e.width+i.x)*r,w=((h.y+o)*t.width+h.x)*r,d=0;d<a.width*r;d++)n[w+d]=g[m+d];return t}var register=_dereq_("./web_worker_transfer").register,AlphaImage=function(e,t){createImage(this,e,1,t)};AlphaImage.prototype.resize=function(e){resizeImage(this,e,1)},AlphaImage.prototype.clone=function(){return new AlphaImage({width:this.width,height:this.height},new Uint8Array(this.data))},AlphaImage.copy=function(e,t,i,h,a){copyImage(e,t,i,h,a,1)};var RGBAImage=function(e,t){createImage(this,e,4,t)};RGBAImage.prototype.resize=function(e){resizeImage(this,e,4)},RGBAImage.prototype.clone=function(){return new RGBAImage({width:this.width,height:this.height},new Uint8Array(this.data))},RGBAImage.copy=function(e,t,i,h,a){copyImage(e,t,i,h,a,4)},register("AlphaImage",AlphaImage),register("RGBAImage",RGBAImage),module.exports={AlphaImage:AlphaImage,RGBAImage:RGBAImage}},{"./web_worker_transfer":278}],264:[function(_dereq_,module,exports){"use strict";function lineIntersectsBufferedLine(n,t,e){if(n.length>1){if(lineIntersectsLine(n,t))return!0;for(var r=0;r<t.length;r++)if(pointIntersectsBufferedLine(t[r],n,e))return!0}for(var o=0;o<n.length;o++)if(pointIntersectsBufferedLine(n[o],t,e))return!0;return!1}function lineIntersectsLine(n,t){if(0===n.length||0===t.length)return!1;for(var e=0;e<n.length-1;e++)for(var r=n[e],o=n[e+1],i=0;i<t.length-1;i++){if(lineSegmentIntersectsLineSegment(r,o,t[i],t[i+1]))return!0}return!1}function lineSegmentIntersectsLineSegment(n,t,e,r){return isCounterClockwise(n,e,r)!==isCounterClockwise(t,e,r)&&isCounterClockwise(n,t,e)!==isCounterClockwise(n,t,r)}function pointIntersectsBufferedLine(n,t,e){var r=e*e;if(1===t.length)return n.distSqr(t[0])<r;for(var o=1;o<t.length;o++)if(distToSegmentSquared(n,t[o-1],t[o])<r)return!0;return!1}function distToSegmentSquared(n,t,e){var r=t.distSqr(e);if(0===r)return n.distSqr(t);var o=((n.x-t.x)*(e.x-t.x)+(n.y-t.y)*(e.y-t.y))/r;return o<0?n.distSqr(t):o>1?n.distSqr(e):n.distSqr(e.sub(t)._mult(o)._add(t))}function multiPolygonContainsPoint(n,t){for(var e,r,o,i=!1,l=0;l<n.length;l++)for(var u=0,s=(e=n[l]).length-1;u<e.length;s=u++)r=e[u],o=e[s],r.y>t.y!=o.y>t.y&&t.x<(o.x-r.x)*(t.y-r.y)/(o.y-r.y)+r.x&&(i=!i);return i}function polygonContainsPoint(n,t){for(var e=!1,r=0,o=n.length-1;r<n.length;o=r++){var i=n[r],l=n[o];i.y>t.y!=l.y>t.y&&t.x<(l.x-i.x)*(t.y-i.y)/(l.y-i.y)+i.x&&(e=!e)}return e}var isCounterClockwise=_dereq_("./util").isCounterClockwise;module.exports={multiPolygonIntersectsBufferedMultiPoint:function multiPolygonIntersectsBufferedMultiPoint(n,t,e){for(var r=0;r<n.length;r++)for(var o=n[r],i=0;i<t.length;i++)for(var l=t[i],u=0;u<l.length;u++){var s=l[u];if(polygonContainsPoint(o,s))return!0;if(pointIntersectsBufferedLine(s,o,e))return!0}return!1},multiPolygonIntersectsMultiPolygon:function multiPolygonIntersectsMultiPolygon(n,t){if(1===n.length&&1===n[0].length)return multiPolygonContainsPoint(t,n[0][0]);for(var e=0;e<t.length;e++)for(var r=t[e],o=0;o<r.length;o++)if(multiPolygonContainsPoint(n,r[o]))return!0;for(var i=0;i<n.length;i++){for(var l=n[i],u=0;u<l.length;u++)if(multiPolygonContainsPoint(t,l[u]))return!0;for(var s=0;s<t.length;s++)if(lineIntersectsLine(l,t[s]))return!0}return!1},multiPolygonIntersectsBufferedMultiLine:function multiPolygonIntersectsBufferedMultiLine(n,t,e){for(var r=0;r<t.length;r++)for(var o=t[r],i=0;i<n.length;i++){var l=n[i];if(l.length>=3)for(var u=0;u<o.length;u++)if(polygonContainsPoint(l,o[u]))return!0;if(lineIntersectsBufferedLine(l,o,e))return!0}return!1},polygonIntersectsPolygon:function polygonIntersectsPolygon(n,t){for(var e=0;e<n.length;e++)if(polygonContainsPoint(t,n[e]))return!0;for(var r=0;r<t.length;r++)if(polygonContainsPoint(n,t[r]))return!0;return!!lineIntersectsLine(n,t)},distToSegmentSquared:distToSegmentSquared}},{"./util":275}],265:[function(_dereq_,module,exports){"use strict";module.exports={"Latin-1 Supplement":function(n){return n>=128&&n<=255},Arabic:function(n){return n>=1536&&n<=1791},"Arabic Supplement":function(n){return n>=1872&&n<=1919},"Arabic Extended-A":function(n){return n>=2208&&n<=2303},"Hangul Jamo":function(n){return n>=4352&&n<=4607},"Unified Canadian Aboriginal Syllabics":function(n){return n>=5120&&n<=5759},"Unified Canadian Aboriginal Syllabics Extended":function(n){return n>=6320&&n<=6399},"General Punctuation":function(n){return n>=8192&&n<=8303},"Letterlike Symbols":function(n){return n>=8448&&n<=8527},"Number Forms":function(n){return n>=8528&&n<=8591},"Miscellaneous Technical":function(n){return n>=8960&&n<=9215},"Control Pictures":function(n){return n>=9216&&n<=9279},"Optical Character Recognition":function(n){return n>=9280&&n<=9311},"Enclosed Alphanumerics":function(n){return n>=9312&&n<=9471},"Geometric Shapes":function(n){return n>=9632&&n<=9727},"Miscellaneous Symbols":function(n){return n>=9728&&n<=9983},"Miscellaneous Symbols and Arrows":function(n){return n>=11008&&n<=11263},"CJK Radicals Supplement":function(n){return n>=11904&&n<=12031},"Kangxi Radicals":function(n){return n>=12032&&n<=12255},"Ideographic Description Characters":function(n){return n>=12272&&n<=12287},"CJK Symbols and Punctuation":function(n){return n>=12288&&n<=12351},Hiragana:function(n){return n>=12352&&n<=12447},Katakana:function(n){return n>=12448&&n<=12543},Bopomofo:function(n){return n>=12544&&n<=12591},"Hangul Compatibility Jamo":function(n){return n>=12592&&n<=12687},Kanbun:function(n){return n>=12688&&n<=12703},"Bopomofo Extended":function(n){return n>=12704&&n<=12735},"CJK Strokes":function(n){return n>=12736&&n<=12783},"Katakana Phonetic Extensions":function(n){return n>=12784&&n<=12799},"Enclosed CJK Letters and Months":function(n){return n>=12800&&n<=13055},"CJK Compatibility":function(n){return n>=13056&&n<=13311},"CJK Unified Ideographs Extension A":function(n){return n>=13312&&n<=19903},"Yijing Hexagram Symbols":function(n){return n>=19904&&n<=19967},"CJK Unified Ideographs":function(n){return n>=19968&&n<=40959},"Yi Syllables":function(n){return n>=40960&&n<=42127},"Yi Radicals":function(n){return n>=42128&&n<=42191},"Hangul Jamo Extended-A":function(n){return n>=43360&&n<=43391},"Hangul Syllables":function(n){return n>=44032&&n<=55215},"Hangul Jamo Extended-B":function(n){return n>=55216&&n<=55295},"Private Use Area":function(n){return n>=57344&&n<=63743},"CJK Compatibility Ideographs":function(n){return n>=63744&&n<=64255},"Arabic Presentation Forms-A":function(n){return n>=64336&&n<=65023},"Vertical Forms":function(n){return n>=65040&&n<=65055},"CJK Compatibility Forms":function(n){return n>=65072&&n<=65103},"Small Form Variants":function(n){return n>=65104&&n<=65135},"Arabic Presentation Forms-B":function(n){return n>=65136&&n<=65279},"Halfwidth and Fullwidth Forms":function(n){return n>=65280&&n<=65519}}},{}],266:[function(_dereq_,module,exports){"use strict";var LRUCache=function(t,e){this.max=t,this.onRemove=e,this.reset()};LRUCache.prototype.reset=function(){var t=this;for(var e in t.data)t.onRemove(t.data[e]);return this.data={},this.order=[],this},LRUCache.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var r=this.getAndRemove(this.order[0]);r&&this.onRemove(r)}return this},LRUCache.prototype.has=function(t){return t in this.data},LRUCache.prototype.keys=function(){return this.order},LRUCache.prototype.getAndRemove=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},LRUCache.prototype.get=function(t){return this.has(t)?this.data[t]:null},LRUCache.prototype.remove=function(t){if(!this.has(t))return this;var e=this.data[t];return delete this.data[t],this.onRemove(e),this.order.splice(this.order.indexOf(t),1),this},LRUCache.prototype.setMaxSize=function(t){var e=this;for(this.max=t;this.order.length>this.max;){var r=e.getAndRemove(e.order[0]);r&&e.onRemove(r)}return this},module.exports=LRUCache},{}],267:[function(_dereq_,module,exports){"use strict";function makeAPIURL(r,e){var t=parseUrl(config.API_URL);if(r.protocol=t.protocol,r.authority=t.authority,"/"!==t.path&&(r.path=""+t.path+r.path),!config.REQUIRE_ACCESS_TOKEN)return formatUrl(r);if(!(e=e||config.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+help);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+help);return r.params.push("access_token="+e),formatUrl(r)}function isMapboxURL(r){return 0===r.indexOf("mapbox:")}function parseUrl(r){var e=r.match(urlRe);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function formatUrl(r){var e=r.params.length?"?"+r.params.join("&"):"";return r.protocol+"://"+r.authority+r.path+e}var config=_dereq_("./config"),browser=_dereq_("./browser"),help="See https://www.mapbox.com/api-documentation/#access-tokens";exports.isMapboxURL=isMapboxURL,exports.normalizeStyleURL=function(r,e){if(!isMapboxURL(r))return r;var t=parseUrl(r);return t.path="/styles/v1"+t.path,makeAPIURL(t,e)},exports.normalizeGlyphsURL=function(r,e){if(!isMapboxURL(r))return r;var t=parseUrl(r);return t.path="/fonts/v1"+t.path,makeAPIURL(t,e)},exports.normalizeSourceURL=function(r,e){if(!isMapboxURL(r))return r;var t=parseUrl(r);return t.path="/v4/"+t.authority+".json",t.params.push("secure"),makeAPIURL(t,e)},exports.normalizeSpriteURL=function(r,e,t,a){var o=parseUrl(r);return isMapboxURL(r)?(o.path="/styles/v1"+o.path+"/sprite"+e+t,makeAPIURL(o,a)):(o.path+=""+e+t,formatUrl(o))};var imageExtensionRe=/(\.(png|jpg)\d*)(?=$)/;exports.normalizeTileURL=function(r,e,t){if(!e||!isMapboxURL(e))return r;var a=parseUrl(r),o=browser.devicePixelRatio>=2||512===t?"@2x":"",p=browser.supportsWebp?".webp":"$1";return a.path=a.path.replace(imageExtensionRe,""+o+p),function replaceTempAccessToken(r){for(var e=0;e<r.length;e++)0===r[e].indexOf("access_token=tk.")&&(r[e]="access_token="+(config.ACCESS_TOKEN||""))}(a.params),formatUrl(a)};var urlRe=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/},{"./browser":252,"./config":256}],268:[function(_dereq_,module,exports){"use strict";module.exports={getEntriesByName:function(e){return!(!performance||!performance.getEntriesByName)&&performance.getEntriesByName(e)}}},{}],269:[function(_dereq_,module,exports){"use strict";var isChar=_dereq_("./is_char_in_unicode_block");module.exports.allowsIdeographicBreaking=function(a){for(var i=0,r=a;i<r.length;i+=1){var s=r[i];if(!exports.charAllowsIdeographicBreaking(s.charCodeAt(0)))return!1}return!0},module.exports.allowsVerticalWritingMode=function(a){for(var i=0,r=a;i<r.length;i+=1){var s=r[i];if(exports.charHasUprightVerticalOrientation(s.charCodeAt(0)))return!0}return!1},module.exports.allowsLetterSpacing=function(a){for(var i=0,r=a;i<r.length;i+=1){var s=r[i];if(!exports.charAllowsLetterSpacing(s.charCodeAt(0)))return!1}return!0},module.exports.charAllowsLetterSpacing=function(a){return!(isChar.Arabic(a)||isChar["Arabic Supplement"](a)||isChar["Arabic Extended-A"](a)||isChar["Arabic Presentation Forms-A"](a)||isChar["Arabic Presentation Forms-B"](a))},module.exports.charAllowsIdeographicBreaking=function(a){return!!(!(a<11904)&&(isChar["Bopomofo Extended"](a)||isChar.Bopomofo(a)||isChar["CJK Compatibility Forms"](a)||isChar["CJK Compatibility Ideographs"](a)||isChar["CJK Compatibility"](a)||isChar["CJK Radicals Supplement"](a)||isChar["CJK Strokes"](a)||isChar["CJK Symbols and Punctuation"](a)||isChar["CJK Unified Ideographs Extension A"](a)||isChar["CJK Unified Ideographs"](a)||isChar["Enclosed CJK Letters and Months"](a)||isChar["Halfwidth and Fullwidth Forms"](a)||isChar.Hiragana(a)||isChar["Ideographic Description Characters"](a)||isChar["Kangxi Radicals"](a)||isChar["Katakana Phonetic Extensions"](a)||isChar.Katakana(a)||isChar["Vertical Forms"](a)||isChar["Yi Radicals"](a)||isChar["Yi Syllables"](a)))},exports.charHasUprightVerticalOrientation=function(a){return!!(746===a||747===a||!(a<4352)&&(isChar["Bopomofo Extended"](a)||isChar.Bopomofo(a)||isChar["CJK Compatibility Forms"](a)&&!(a>=65097&&a<=65103)||isChar["CJK Compatibility Ideographs"](a)||isChar["CJK Compatibility"](a)||isChar["CJK Radicals Supplement"](a)||isChar["CJK Strokes"](a)||!(!isChar["CJK Symbols and Punctuation"](a)||a>=12296&&a<=12305||a>=12308&&a<=12319||12336===a)||isChar["CJK Unified Ideographs Extension A"](a)||isChar["CJK Unified Ideographs"](a)||isChar["Enclosed CJK Letters and Months"](a)||isChar["Hangul Compatibility Jamo"](a)||isChar["Hangul Jamo Extended-A"](a)||isChar["Hangul Jamo Extended-B"](a)||isChar["Hangul Jamo"](a)||isChar["Hangul Syllables"](a)||isChar.Hiragana(a)||isChar["Ideographic Description Characters"](a)||isChar.Kanbun(a)||isChar["Kangxi Radicals"](a)||isChar["Katakana Phonetic Extensions"](a)||isChar.Katakana(a)&&12540!==a||!(!isChar["Halfwidth and Fullwidth Forms"](a)||65288===a||65289===a||65293===a||a>=65306&&a<=65310||65339===a||65341===a||65343===a||a>=65371&&a<=65503||65507===a||a>=65512&&a<=65519)||!(!isChar["Small Form Variants"](a)||a>=65112&&a<=65118||a>=65123&&a<=65126)||isChar["Unified Canadian Aboriginal Syllabics"](a)||isChar["Unified Canadian Aboriginal Syllabics Extended"](a)||isChar["Vertical Forms"](a)||isChar["Yijing Hexagram Symbols"](a)||isChar["Yi Syllables"](a)||isChar["Yi Radicals"](a)))},exports.charHasNeutralVerticalOrientation=function(a){return!!(isChar["Latin-1 Supplement"](a)&&(167===a||169===a||174===a||177===a||188===a||189===a||190===a||215===a||247===a)||isChar["General Punctuation"](a)&&(8214===a||8224===a||8225===a||8240===a||8241===a||8251===a||8252===a||8258===a||8263===a||8264===a||8265===a||8273===a)||isChar["Letterlike Symbols"](a)||isChar["Number Forms"](a)||isChar["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||9003===a||a>=9085&&a<=9114||a>=9150&&a<=9165||9167===a||a>=9169&&a<=9179||a>=9186&&a<=9215)||isChar["Control Pictures"](a)&&9251!==a||isChar["Optical Character Recognition"](a)||isChar["Enclosed Alphanumerics"](a)||isChar["Geometric Shapes"](a)||isChar["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||isChar["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||isChar["CJK Symbols and Punctuation"](a)||isChar.Katakana(a)||isChar["Private Use Area"](a)||isChar["CJK Compatibility Forms"](a)||isChar["Small Form Variants"](a)||isChar["Halfwidth and Fullwidth Forms"](a)||8734===a||8756===a||8757===a||a>=9984&&a<=10087||a>=10102&&a<=10131||65532===a||65533===a)},exports.charHasRotatedVerticalOrientation=function(a){return!(exports.charHasUprightVerticalOrientation(a)||exports.charHasNeutralVerticalOrientation(a))}},{"./is_char_in_unicode_block":265}],270:[function(_dereq_,module,exports){"use strict";var LngLat=_dereq_("../geo/lng_lat");module.exports=function(n,t,l){if(n=new LngLat(n.lng,n.lat),t){var a=new LngLat(n.lng-360,n.lat),i=new LngLat(n.lng+360,n.lat),o=l.locationPoint(n).distSqr(t);l.locationPoint(a).distSqr(t)<o?n=a:l.locationPoint(i).distSqr(t)<o&&(n=i)}for(;Math.abs(n.lng-l.center.lng)>180;){var e=l.locationPoint(n);if(e.x>=0&&e.y>=0&&e.x<=l.width&&e.y<=l.height)break;n.lng>l.center.lng?n.lng-=360:n.lng+=360}return n}},{"../geo/lng_lat":62}],271:[function(_dereq_,module,exports){"use strict";function align(t,r){return Math.ceil(t/r)*r}var viewTypes={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},StructArray=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};StructArray.serialize=function(t,r){return t._trim(),r&&(t.isTransferred=!0,r.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},StructArray.deserialize=function(t){var r=Object.create(this.prototype);return r.arrayBuffer=t.arrayBuffer,r.length=t.length,r.capacity=t.arrayBuffer.byteLength/r.bytesPerElement,r._refreshViews(),r},StructArray.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},StructArray.prototype.clear=function(){this.length=0},StructArray.prototype.resize=function(t){this.reserve(t),this.length=t},StructArray.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var r=this.uint8;this._refreshViews(),r&&this.uint8.set(r)}},StructArray.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")},module.exports.StructArray=StructArray,module.exports.Struct=function(t,r){this._structArray=t,this._pos1=r*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},module.exports.viewTypes=viewTypes,module.exports.createLayout=function createLayout(t,r){void 0===r&&(r=1);var e=0,i=0;return{members:t.map(function(t){var a=function sizeOf(t){return viewTypes[t].BYTES_PER_ELEMENT}(t.type),s=e=align(e,Math.max(r,a)),n=t.components||1;return i=Math.max(i,a),e+=a*n,{name:t.name,type:t.type,components:n,offset:s}}),size:align(e,Math.max(i,r)),alignment:r}}},{}],272:[function(_dereq_,module,exports){"use strict";module.exports=function(t,n){var u=!1,e=0,r=function(){e=0,u&&(t(),e=setTimeout(r,n),u=!1)};return function(){return u=!0,e||r(),e}}},{}],273:[function(_dereq_,module,exports){"use strict";function edge(e,r){if(e.row>r.row){var a=e;e=r,r=a}return{x0:e.column,y0:e.row,x1:r.column,y1:r.row,dx:r.column-e.column,dy:r.row-e.row}}function scanSpans(e,r,a,n,d){var o=Math.max(a,Math.floor(r.y0)),i=Math.min(n,Math.ceil(r.y1));if(e.x0===r.x0&&e.y0===r.y0?e.x0+r.dy/e.dy*e.dx<r.x1:e.x1-r.dy/e.dy*e.dx<r.x0){var t=e;e=r,r=t}for(var y=e.dx/e.dy,c=r.dx/r.dy,l=e.dx>0,x=r.dx<0,u=o;u<i;u++){var s=y*Math.max(0,Math.min(e.dy,u+l-e.y0))+e.x0,f=c*Math.max(0,Math.min(r.dy,u+x-r.y0))+r.x0;d(Math.floor(f),Math.ceil(s),u)}}function scanTriangle(e,r,a,n,d,o){var i,t=edge(e,r),y=edge(r,a),c=edge(a,e);t.dy>y.dy&&(i=t,t=y,y=i),t.dy>c.dy&&(i=t,t=c,c=i),y.dy>c.dy&&(i=y,y=c,c=i),t.dy&&scanSpans(c,t,n,d,o),y.dy&&scanSpans(c,y,n,d,o)}_dereq_("../geo/coordinate");var OverscaledTileID=_dereq_("../source/tile_id").OverscaledTileID;module.exports=function tileCover(e,r,a,n){function d(r,d,t){var y,c,x;if(t>=0&&t<=o)for(y=r;y<d;y++)0!==(c=Math.floor(y/o))&&!0!==n||(x=new OverscaledTileID(a,c,e,(y%o+o)%o,t),i[x.key]=x)}void 0===n&&(n=!0);var o=1<<e,i={};return scanTriangle(r[0],r[1],r[2],0,o,d),scanTriangle(r[2],r[3],r[0],0,o,d),Object.keys(i).map(function(e){return i[e]})}},{"../geo/coordinate":61,"../source/tile_id":114}],274:[function(_dereq_,module,exports){"use strict";module.exports=function resolveTokens(e,n){return n.replace(/{([^{}]+)}/g,function(n,r){return r in e?String(e[r]):""})}},{}],275:[function(_dereq_,module,exports){"use strict";var UnitBezier=_dereq_("@mapbox/unitbezier"),Coordinate=_dereq_("../geo/coordinate");_dereq_("@mapbox/point-geometry");exports.easeCubicInOut=function(r){if(r<=0)return 0;if(r>=1)return 1;var e=r*r,n=e*r;return 4*(r<.5?n:3*(r-e)+n-.75)},exports.bezier=function(r,e,n,t){var o=new UnitBezier(r,e,n,t);return function(r){return o.solve(r)}},exports.ease=exports.bezier(.25,.1,.25,1),exports.clamp=function(r,e,n){return Math.min(n,Math.max(e,r))},exports.wrap=function(r,e,n){var t=n-e,o=((r-e)%t+t)%t+e;return o===e?n:o},exports.asyncAll=function(r,e,n){if(!r.length)return n(null,[]);var t=r.length,o=new Array(r.length),a=null;r.forEach(function(r,i){e(r,function(r,e){r&&(a=r),o[i]=e,0==--t&&n(a,o)})})},exports.values=function(r){var e=[];for(var n in r)e.push(r[n]);return e},exports.keysDifference=function(r,e){var n=[];for(var t in r)t in e||n.push(t);return n},exports.extend=function(r){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var t=0,o=e;t<o.length;t+=1){var a=o[t];for(var i in a)r[i]=a[i]}return r},exports.pick=function(r,e){for(var n={},t=0;t<e.length;t++){var o=e[t];o in r&&(n[o]=r[o])}return n};var id=1;exports.uniqueId=function(){return id++},exports.bindAll=function(r,e){r.forEach(function(r){e[r]&&(e[r]=e[r].bind(e))})},exports.getCoordinatesCenter=function(r){for(var e=1/0,n=1/0,t=-1/0,o=-1/0,a=0;a<r.length;a++)e=Math.min(e,r[a].column),n=Math.min(n,r[a].row),t=Math.max(t,r[a].column),o=Math.max(o,r[a].row);var i=t-e,u=o-n,s=Math.max(i,u),c=Math.max(0,Math.floor(-Math.log(s)/Math.LN2));return new Coordinate((e+t)/2,(n+o)/2,0).zoomTo(c)},exports.endsWith=function(r,e){return-1!==r.indexOf(e,r.length-e.length)},exports.mapObject=function(r,e,n){var o={};for(var a in r)o[a]=e.call(n||this,r[a],a,r);return o},exports.filterObject=function(r,e,n){var o={};for(var a in r)e.call(n||this,r[a],a,r)&&(o[a]=r[a]);return o},exports.deepEqual=_dereq_("../style-spec/util/deep_equal"),exports.clone=function(r){return Array.isArray(r)?r.map(exports.clone):"object"==typeof r&&r?exports.mapObject(r,exports.clone):r},exports.arraysIntersect=function(r,e){for(var n=0;n<r.length;n++)if(e.indexOf(r[n])>=0)return!0;return!1};var warnOnceHistory={};exports.warnOnce=function(r){warnOnceHistory[r]||("undefined"!=typeof console&&console.warn(r),warnOnceHistory[r]=!0)},exports.isCounterClockwise=function(r,e,n){return(n.y-r.y)*(e.x-r.x)>(e.y-r.y)*(n.x-r.x)},exports.calculateSignedArea=function(r){for(var e=0,n=0,t=r.length,o=t-1,a=void 0,i=void 0;n<t;o=n++)a=r[n],e+=((i=r[o]).x-a.x)*(a.y+i.y);return e},exports.isClosedPolygon=function(r){if(r.length<4)return!1;var e=r[0],n=r[r.length-1];return!(Math.abs(e.x-n.x)>0||Math.abs(e.y-n.y)>0)&&Math.abs(exports.calculateSignedArea(r))>.01},exports.sphericalToCartesian=function(r){var e=r[0],n=r[1],t=r[2];return n+=90,n*=Math.PI/180,t*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(t),y:e*Math.sin(n)*Math.sin(t),z:e*Math.cos(t)}},exports.parseCacheControl=function(r){var n={};if(r.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(r,e,t,o){var a=t||o;return n[e]=!a||a.toLowerCase(),""}),n["max-age"]){var t=parseInt(n["max-age"],10);isNaN(t)?delete n["max-age"]:n["max-age"]=t}return n}},{"../geo/coordinate":61,"../style-spec/util/deep_equal":155,"@mapbox/point-geometry":4,"@mapbox/unitbezier":7}],276:[function(_dereq_,module,exports){"use strict";var Feature=function(e,t,r,o){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=r,e._y=o,this.properties=e.properties,null!=e.id&&(this.id=e.id)},prototypeAccessors={geometry:{}};prototypeAccessors.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},prototypeAccessors.geometry.set=function(e){this._geometry=e},Feature.prototype.toJSON=function(){var t={geometry:this.geometry};for(var r in this)"_geometry"!==r&&"_vectorTileFeature"!==r&&(t[r]=this[r]);return t},Object.defineProperties(Feature.prototype,prototypeAccessors),module.exports=Feature},{}],277:[function(_dereq_,module,exports){"use strict";var scriptDetection=_dereq_("./script_detection");module.exports=function(t){for(var o="",e=0;e<t.length;e++){var r=t.charCodeAt(e+1)||null,l=t.charCodeAt(e-1)||null;r&&scriptDetection.charHasRotatedVerticalOrientation(r)&&!module.exports.lookup[t[e+1]]||l&&scriptDetection.charHasRotatedVerticalOrientation(l)&&!module.exports.lookup[t[e-1]]||!module.exports.lookup[t[e]]?o+=t[e]:o+=module.exports.lookup[t[e]]}return o},module.exports.lookup={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"}},{"./script_detection":269}],278:[function(_dereq_,module,exports){"use strict";function register(e,r,i){void 0===i&&(i={}),Object.defineProperty(r,"_classRegistryKey",{value:e,writeable:!1}),registry[e]={klass:r,omit:i.omit||[],shallow:i.shallow||[]}}var Grid=_dereq_("grid-index"),Color=_dereq_("../style-spec/util/color"),ref=_dereq_("../style-spec/expression"),StylePropertyFunction=ref.StylePropertyFunction,StyleExpression=ref.StyleExpression,StyleExpressionWithErrorHandling=ref.StyleExpressionWithErrorHandling,ZoomDependentExpression=ref.ZoomDependentExpression,ZoomConstantExpression=ref.ZoomConstantExpression,CompoundExpression=_dereq_("../style-spec/expression/compound_expression").CompoundExpression,expressions=_dereq_("../style-spec/expression/definitions"),ImageData=_dereq_("./window").ImageData,registry={};for(var name in register("Object",Object),Grid.serialize=function(e,r){var i=e.toArrayBuffer();return r&&r.push(i),i},Grid.deserialize=function(e){return new Grid(e)},register("Grid",Grid),register("Color",Color),register("StylePropertyFunction",StylePropertyFunction),register("StyleExpression",StyleExpression,{omit:["_evaluator"]}),register("StyleExpressionWithErrorHandling",StyleExpressionWithErrorHandling,{omit:["_evaluator"]}),register("ZoomDependentExpression",ZoomDependentExpression),register("ZoomConstantExpression",ZoomConstantExpression),register("CompoundExpression",CompoundExpression,{omit:["_evaluate"]}),expressions)expressions[name]._classRegistryKey||register("Expression_"+name,expressions[name]);module.exports={register:register,serialize:function serialize(e,r){if(null===e||void 0===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(e instanceof ArrayBuffer)return r&&r.push(e),e;if(ArrayBuffer.isView(e)){var i=e;return r&&r.push(i.buffer),i}if(e instanceof ImageData)return r&&r.push(e.data.buffer),e;if(Array.isArray(e)){for(var s=[],o=0,t=e;o<t.length;o+=1){var n=t[o];s.push(serialize(n,r))}return s}if("object"==typeof e){var a=e.constructor,f=a._classRegistryKey;if(!f)throw new Error("can't serialize object of unregistered class");var l={};if(a.serialize)l._serialized=a.serialize(e,r);else for(var p in e)if(e.hasOwnProperty(p)&&!(registry[f].omit.indexOf(p)>=0)){var u=e[p];l[p]=registry[f].shallow.indexOf(p)>=0?u:serialize(u,r)}return{name:f,properties:l}}throw new Error("can't serialize object of type "+typeof e)},deserialize:function deserialize(e){if(null===e||void 0===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof ArrayBuffer||ArrayBuffer.isView(e)||e instanceof ImageData)return e;if(Array.isArray(e))return e.map(function(e){return deserialize(e)});if("object"==typeof e){var r=e,i=r.name,s=r.properties;if(!i)throw new Error("can't deserialize object of anonymous class");var t=registry[i].klass;if(!t)throw new Error("can't deserialize unregistered class "+i);if(t.deserialize)return t.deserialize(s._serialized);for(var n=Object.create(t.prototype),a=0,f=Object.keys(s);a<f.length;a+=1){var l=f[a];n[l]=registry[i].shallow.indexOf(l)>=0?s[l]:deserialize(s[l])}return n}throw new Error("can't deserialize object of type "+typeof e)}}},{"../style-spec/expression":139,"../style-spec/expression/compound_expression":123,"../style-spec/expression/definitions":131,"../style-spec/util/color":153,"./window":254,"grid-index":24}],279:[function(_dereq_,module,exports){"use strict";var WebWorker=_dereq_("./web_worker"),WorkerPool=function(){this.active={}};WorkerPool.prototype.acquire=function(r){if(!this.workers){var o=_dereq_("../").workerCount;for(this.workers=[];this.workers.length<o;)this.workers.push(new WebWorker)}return this.active[r]=!0,this.workers.slice()},WorkerPool.prototype.release=function(r){delete this.active[r],0===Object.keys(this.active).length&&(this.workers.forEach(function(r){r.terminate()}),this.workers=null)},module.exports=WorkerPool},{"../":73,"./web_worker":253}]},{},[73])(73)},module.exports=f()},function(module,exports,__webpack_require__){(function(global,process){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}i=1;for(var args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];i<len;x=args[++i])isNull(x)||!isObject(x)?str+=" "+x:str+=" "+inspect(x);return str},exports.deprecate=function(fn,msg){if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(!0===process.noDeprecation)return fn;var warned=!1;return function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}};var debugEnviron,debugs={};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=function arrayToHash(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var output,base="",array=!1,braces=["{","}"];(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value))&&(base=" [Function"+(value.name?": "+value.name:"")+"]");return isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0!==keys.length||array&&0!=value.length?recurseTimes<0?isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special"):(ctx.seen.push(value),output=array?function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),function reduceToSingleString(output,base,braces){if(output.reduce(function(prev,cur){return 0,cur.indexOf("\n")>=0&&0,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1];return braces[0]+base+" "+output.join(", ")+" "+braces[1]}(output,base,braces)):braces[0]+base+braces[1]}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if((desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]}).get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1)).indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;(name=JSON.stringify(""+key)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=Object({NODE_ENV:"production",PUBLIC_URL:"."}).NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=function isNullOrUndefined(arg){return null==arg},exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=function isSymbol(arg){return"symbol"==typeof arg},exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=__webpack_require__(1108);var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}exports.log=function(){console.log("%s - %s",function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}(),exports.format.apply(exports,arguments))},exports.inherits=__webpack_require__(1109),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(exports,__webpack_require__(13),__webpack_require__(61))},function(module,exports){module.exports=function isBuffer(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},function(module,exports){"function"==typeof Object.create?module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_assert__=__webpack_require__(228),__WEBPACK_IMPORTED_MODULE_0_assert___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_assert__),__WEBPACK_IMPORTED_MODULE_1__transition_interpolator__=__webpack_require__(487),__WEBPACK_IMPORTED_MODULE_2_viewport_mercator_project__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_3__transition_utils__=__webpack_require__(637),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var VIEWPORT_TRANSITION_PROPS=["longitude","latitude","zoom","bearing","pitch"],REQUIRED_PROPS=["latitude","longitude","zoom","width","height"],LINEARLY_INTERPOLATED_PROPS=["bearing","pitch"],ViewportFlyToInterpolator=function(_TransitionInterpolat){function ViewportFlyToInterpolator(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ViewportFlyToInterpolator);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(ViewportFlyToInterpolator.__proto__||Object.getPrototypeOf(ViewportFlyToInterpolator)).call(this));return _this.propNames=VIEWPORT_TRANSITION_PROPS,_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ViewportFlyToInterpolator,__WEBPACK_IMPORTED_MODULE_1__transition_interpolator__["a"]),_createClass(ViewportFlyToInterpolator,[{key:"initializeProps",value:function initializeProps(startProps,endProps){var startViewportProps={},endViewportProps={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=REQUIRED_PROPS[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var key=_step.value,startValue=startProps[key],endValue=endProps[key];__WEBPACK_IMPORTED_MODULE_0_assert___default()(Object(__WEBPACK_IMPORTED_MODULE_3__transition_utils__.b)(startValue)&&Object(__WEBPACK_IMPORTED_MODULE_3__transition_utils__.b)(endValue),key+" must be supplied for transition"),startViewportProps[key]=startValue,endViewportProps[key]=Object(__WEBPACK_IMPORTED_MODULE_3__transition_utils__.a)(key,startValue,endValue)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=LINEARLY_INTERPOLATED_PROPS[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _key=_step2.value,_startValue=startProps[_key]||0,_endValue=endProps[_key]||0;startViewportProps[_key]=_startValue,endViewportProps[_key]=Object(__WEBPACK_IMPORTED_MODULE_3__transition_utils__.a)(_key,_startValue,_endValue)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return{start:startViewportProps,end:endViewportProps}}},{key:"interpolateProps",value:function interpolateProps(startProps,endProps,t){var viewport=Object(__WEBPACK_IMPORTED_MODULE_2_viewport_mercator_project__.c)(startProps,endProps,t),_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=LINEARLY_INTERPOLATED_PROPS[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var key=_step3.value;viewport[key]=Object(__WEBPACK_IMPORTED_MODULE_3__transition_utils__.c)(startProps[key],endProps[key],t)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}return viewport}}]),ViewportFlyToInterpolator}();__webpack_exports__.a=ViewportFlyToInterpolator},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_assert__=__webpack_require__(228),__WEBPACK_IMPORTED_MODULE_0_assert___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_assert__),__WEBPACK_IMPORTED_MODULE_1__transition_interpolator__=__webpack_require__(487),__WEBPACK_IMPORTED_MODULE_2__transition_utils__=__webpack_require__(637),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var VIEWPORT_TRANSITION_PROPS=["longitude","latitude","zoom","bearing","pitch"],LinearInterpolator=function(_TransitionInterpolat){function LinearInterpolator(){var transitionProps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VIEWPORT_TRANSITION_PROPS;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LinearInterpolator);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(LinearInterpolator.__proto__||Object.getPrototypeOf(LinearInterpolator)).call(this));return _this.propNames=transitionProps,_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(LinearInterpolator,__WEBPACK_IMPORTED_MODULE_1__transition_interpolator__["a"]),_createClass(LinearInterpolator,[{key:"initializeProps",value:function initializeProps(startProps,endProps){var startViewportProps={},endViewportProps={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.propNames[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var key=_step.value,startValue=startProps[key],endValue=endProps[key];__WEBPACK_IMPORTED_MODULE_0_assert___default()(Object(__WEBPACK_IMPORTED_MODULE_2__transition_utils__.b)(startValue)&&Object(__WEBPACK_IMPORTED_MODULE_2__transition_utils__.b)(endValue),key+" must be supplied for transition"),startViewportProps[key]=startValue,endViewportProps[key]=Object(__WEBPACK_IMPORTED_MODULE_2__transition_utils__.a)(key,startValue,endValue)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return{start:startViewportProps,end:endViewportProps}}},{key:"interpolateProps",value:function interpolateProps(startProps,endProps,t){var viewport={},_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this.propNames[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var key=_step2.value;viewport[key]=Object(__WEBPACK_IMPORTED_MODULE_2__transition_utils__.c)(startProps[key],endProps[key],t)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return viewport}}]),LinearInterpolator}();__webpack_exports__.a=LinearInterpolator},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_bowser__=__webpack_require__(272),__WEBPACK_IMPORTED_MODULE_0_bowser___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_bowser__),PREFIX=__WEBPACK_IMPORTED_MODULE_0_bowser___default.a.webkit||__WEBPACK_IMPORTED_MODULE_0_bowser___default.a.blink?"-webkit-":__WEBPACK_IMPORTED_MODULE_0_bowser___default.a.gecko?"-moz-":"";__webpack_exports__.a={DEFAULTS:{},CURSOR:{GRABBING:PREFIX+"grabbing",GRAB:PREFIX+"grab",POINTER:"pointer"}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1_prop_types__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__webpack_require__(1)),__WEBPACK_IMPORTED_MODULE_1_prop_types___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__),__WEBPACK_IMPORTED_MODULE_2__base_control__=__webpack_require__(142),_slicedToArray=function(){return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var propTypes=Object.assign({},__WEBPACK_IMPORTED_MODULE_2__base_control__.a.propTypes,{className:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,longitude:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number.isRequired,latitude:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number.isRequired,offsetLeft:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,offsetTop:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number}),defaultProps=Object.assign({},__WEBPACK_IMPORTED_MODULE_2__base_control__.a.defaultProps,{className:"",offsetLeft:0,offsetTop:0}),Marker=function(_BaseControl){function Marker(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Marker),function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Marker.__proto__||Object.getPrototypeOf(Marker)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Marker,__WEBPACK_IMPORTED_MODULE_2__base_control__["a"]),_createClass(Marker,[{key:"render",value:function render(){var _props=this.props,className=_props.className,longitude=_props.longitude,latitude=_props.latitude,offsetLeft=_props.offsetLeft,offsetTop=_props.offsetTop,_context$viewport$pro=this.context.viewport.project([longitude,latitude]),_context$viewport$pro2=_slicedToArray(_context$viewport$pro,2),containerStyle={position:"absolute",left:_context$viewport$pro2[0]+offsetLeft,top:_context$viewport$pro2[1]+offsetTop};return Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("div",{className:"mapboxgl-marker "+className,ref:this._onContainerLoad,style:containerStyle,children:this.props.children})}}]),Marker}();__webpack_exports__.a=Marker,Marker.displayName="Marker",Marker.propTypes=propTypes,Marker.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1_prop_types__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__webpack_require__(1)),__WEBPACK_IMPORTED_MODULE_1_prop_types___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__),__WEBPACK_IMPORTED_MODULE_2__base_control__=__webpack_require__(142),__WEBPACK_IMPORTED_MODULE_3__utils_dynamic_position__=__webpack_require__(1115),_slicedToArray=function(){return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var propTypes=Object.assign({},__WEBPACK_IMPORTED_MODULE_2__base_control__.a.propTypes,{className:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,longitude:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number.isRequired,latitude:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number.isRequired,offsetLeft:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,offsetTop:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,tipSize:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,closeButton:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,closeOnClick:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,anchor:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.oneOf(Object.keys(__WEBPACK_IMPORTED_MODULE_3__utils_dynamic_position__.a)),dynamicPosition:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,onClose:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func}),defaultProps=Object.assign({},__WEBPACK_IMPORTED_MODULE_2__base_control__.a.defaultProps,{className:"",offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,closeButton:!0,closeOnClick:!0,onClose:function onClose(){}}),Popup=function(_BaseControl){function Popup(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Popup);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Popup.__proto__||Object.getPrototypeOf(Popup)).call(this,props));return _this._getPosition=_this._getPosition.bind(_this),_this._onClose=_this._onClose.bind(_this),_this._contentLoaded=_this._contentLoaded.bind(_this),_this._renderTip=_this._renderTip.bind(_this),_this._renderContent=_this._renderContent.bind(_this),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Popup,__WEBPACK_IMPORTED_MODULE_2__base_control__["a"]),_createClass(Popup,[{key:"componentDidMount",value:function componentDidMount(){this.forceUpdate()}},{key:"_getPosition",value:function _getPosition(x,y){var viewport=this.context.viewport,_props=this.props,anchor=_props.anchor,dynamicPosition=_props.dynamicPosition,tipSize=_props.tipSize;return this._content&&dynamicPosition?Object(__WEBPACK_IMPORTED_MODULE_3__utils_dynamic_position__.b)({x:x,y:y,anchor:anchor,padding:tipSize,width:viewport.width,height:viewport.height,selfWidth:this._content.clientWidth,selfHeight:this._content.clientHeight}):anchor}},{key:"_onClose",value:function _onClose(){this.props.onClose()}},{key:"_contentLoaded",value:function _contentLoaded(ref){this._content=ref}},{key:"_renderTip",value:function _renderTip(){var tipSize=this.props.tipSize;return Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:tipSize}})}},{key:"_renderContent",value:function _renderContent(){var _props2=this.props,closeButton=_props2.closeButton,children=_props2.children;return Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("div",{key:"content",ref:this._contentLoaded,className:"mapboxgl-popup-content"},[closeButton&&Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button",onClick:this._onClose},"×"),children])}},{key:"render",value:function render(){var _props3=this.props,className=_props3.className,longitude=_props3.longitude,latitude=_props3.latitude,offsetLeft=_props3.offsetLeft,offsetTop=_props3.offsetTop,closeOnClick=_props3.closeOnClick,_context$viewport$pro=this.context.viewport.project([longitude,latitude]),_context$viewport$pro2=_slicedToArray(_context$viewport$pro,2),x=_context$viewport$pro2[0],y=_context$viewport$pro2[1],positionType=this._getPosition(x,y),anchorPosition=__WEBPACK_IMPORTED_MODULE_3__utils_dynamic_position__.a[positionType],containerStyle={position:"absolute",left:x+offsetLeft,top:y+offsetTop,transform:"translate("+100*-anchorPosition.x+"%, "+100*-anchorPosition.y+"%)"};return Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-"+positionType+" "+className,style:containerStyle,ref:this._onContainerLoad,onClick:closeOnClick?this._onClose:null},[this._renderTip(),this._renderContent()])}}]),Popup}();__webpack_exports__.a=Popup,Popup.displayName="Popup",Popup.propTypes=propTypes,Popup.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ANCHOR_POSITION}),__webpack_exports__.b=function getDynamicPosition(_ref){var x=_ref.x,y=_ref.y,width=_ref.width,height=_ref.height,selfWidth=_ref.selfWidth,selfHeight=_ref.selfHeight,anchor=_ref.anchor,_ref$padding=_ref.padding,padding=void 0===_ref$padding?0:_ref$padding,_ANCHOR_POSITION$anch=ANCHOR_POSITION[anchor],anchorX=_ANCHOR_POSITION$anch.x,anchorY=_ANCHOR_POSITION$anch.y,top=y-anchorY*selfHeight,bottom=top+selfHeight;if(top<padding)for(;top<padding&&anchorY>=.5;)anchorY-=.5,top+=.5*selfHeight;else if(bottom>height-padding)for(;bottom>height-padding&&anchorY<=.5;)anchorY+=.5,bottom-=.5*selfHeight;var left=x-anchorX*selfWidth,right=left+selfWidth,xStep=.5;.5===anchorY&&(anchorX=Math.floor(anchorX),xStep=1);if(left<padding)for(;left<padding&&anchorX>=xStep;)anchorX-=xStep,left+=xStep*selfWidth;else if(right>width-padding)for(;right>width-padding&&anchorX<=1-xStep;)anchorX+=xStep,right-=xStep*selfWidth;return Object.keys(ANCHOR_POSITION).find(function(positionType){var anchorPosition=ANCHOR_POSITION[positionType];return anchorPosition.x===anchorX&&anchorPosition.y===anchorY})};var ANCHOR_POSITION={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1_prop_types__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__webpack_require__(1)),__WEBPACK_IMPORTED_MODULE_1_prop_types___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__),__WEBPACK_IMPORTED_MODULE_2__base_control__=__webpack_require__(142),__WEBPACK_IMPORTED_MODULE_3__utils_map_state__=__webpack_require__(270),__WEBPACK_IMPORTED_MODULE_4__utils_transition_manager__=__webpack_require__(271),__WEBPACK_IMPORTED_MODULE_5__utils_deprecate_warn__=__webpack_require__(639),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var LINEAR_TRANSITION_PROPS=Object.assign({},__WEBPACK_IMPORTED_MODULE_4__utils_transition_manager__.b.defaultProps,{transitionDuration:300}),propTypes=Object.assign({},__WEBPACK_IMPORTED_MODULE_2__base_control__.a.propTypes,{className:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,onViewportChange:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,showCompass:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,showZoom:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool}),defaultProps=Object.assign({},__WEBPACK_IMPORTED_MODULE_2__base_control__.a.defaultProps,{className:"",onViewportChange:function onViewportChange(){},showCompass:!0,showZoom:!0}),NavigationControl=function(_BaseControl){function NavigationControl(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NavigationControl);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(NavigationControl.__proto__||Object.getPrototypeOf(NavigationControl)).call(this,props));return Object(__WEBPACK_IMPORTED_MODULE_5__utils_deprecate_warn__.a)(props),_this._updateViewport=_this._updateViewport.bind(_this),_this._onZoomIn=_this._onZoomIn.bind(_this),_this._onZoomOut=_this._onZoomOut.bind(_this),_this._onResetNorth=_this._onResetNorth.bind(_this),_this._renderCompass=_this._renderCompass.bind(_this),_this._renderButton=_this._renderButton.bind(_this),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(NavigationControl,__WEBPACK_IMPORTED_MODULE_2__base_control__["a"]),_createClass(NavigationControl,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState,nextContext){return this.context.viewport.bearing!==nextContext.viewport.bearing}},{key:"_updateViewport",value:function _updateViewport(opts){var viewport=this.context.viewport,mapState=new __WEBPACK_IMPORTED_MODULE_3__utils_map_state__.b(Object.assign({},viewport,opts));(this.props.onChangeViewport||this.props.onViewportChange)(Object.assign({},mapState.getViewportProps(),LINEAR_TRANSITION_PROPS))}},{key:"_onZoomIn",value:function _onZoomIn(){this._updateViewport({zoom:this.context.viewport.zoom+1})}},{key:"_onZoomOut",value:function _onZoomOut(){this._updateViewport({zoom:this.context.viewport.zoom-1})}},{key:"_onResetNorth",value:function _onResetNorth(){this._updateViewport({bearing:0,pitch:0})}},{key:"_renderCompass",value:function _renderCompass(){var bearing=this.context.viewport.bearing;return Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("span",{className:"mapboxgl-ctrl-compass-arrow",style:{transform:"rotate("+bearing+"deg)"}})}},{key:"_renderButton",value:function _renderButton(type,label,callback,children){return Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("button",{key:type,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-"+type,type:"button",title:label,onClick:callback,children:children})}},{key:"render",value:function render(){var _props=this.props,className=_props.className,showCompass=_props.showCompass,showZoom=_props.showZoom;return Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group "+className,ref:this._onContainerLoad},[showZoom&&this._renderButton("zoom-in","Zoom In",this._onZoomIn),showZoom&&this._renderButton("zoom-out","Zoom Out",this._onZoomOut),showCompass&&this._renderButton("compass","Reset North",this._onResetNorth,this._renderCompass())])}}]),NavigationControl}();__webpack_exports__.a=NavigationControl,NavigationControl.displayName="NavigationControl",NavigationControl.propTypes=propTypes,NavigationControl.defaultProps=defaultProps},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1_prop_types__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__webpack_require__(1)),__WEBPACK_IMPORTED_MODULE_1_prop_types___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__),__WEBPACK_IMPORTED_MODULE_2__components_base_control__=__webpack_require__(142),__WEBPACK_IMPORTED_MODULE_3__utils_globals__=__webpack_require__(1118),_createClass=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__utils_globals__),function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}());var propTypes=Object.assign({},__WEBPACK_IMPORTED_MODULE_2__components_base_control__.a.propTypes,{redraw:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired}),CanvasOverlay=function(_BaseControl){function CanvasOverlay(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CanvasOverlay);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(CanvasOverlay.__proto__||Object.getPrototypeOf(CanvasOverlay)).call(this,props));return _this._redraw=_this._redraw.bind(_this),_this._canvasLoaded=_this._canvasLoaded.bind(_this),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(CanvasOverlay,__WEBPACK_IMPORTED_MODULE_2__components_base_control__["a"]),_createClass(CanvasOverlay,[{key:"componentDidMount",value:function componentDidMount(){this._redraw()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this._redraw()}},{key:"_redraw",value:function _redraw(){var pixelRatio=__WEBPACK_IMPORTED_MODULE_3__utils_globals__.window.devicePixelRatio||1,ctx=this._canvas.getContext("2d");ctx.save(),ctx.scale(pixelRatio,pixelRatio);var _context=this.context,viewport=_context.viewport,isDragging=_context.isDragging;this.props.redraw({width:viewport.width,height:viewport.height,ctx:ctx,isDragging:isDragging,project:viewport.project.bind(viewport),unproject:viewport.unproject.bind(viewport)}),ctx.restore()}},{key:"_canvasLoaded",value:function _canvasLoaded(ref){this._canvas=ref,this._onContainerLoad(ref)}},{key:"render",value:function render(){var pixelRatio=__WEBPACK_IMPORTED_MODULE_3__utils_globals__.window.devicePixelRatio||1,_context$viewport=this.context.viewport,width=_context$viewport.width,height=_context$viewport.height;return Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("canvas",{ref:this._canvasLoaded,width:width*pixelRatio,height:height*pixelRatio,style:{width:width+"px",height:height+"px",position:"absolute",pointerEvents:"none",left:0,top:0}})}}]),CanvasOverlay}();__webpack_exports__.a=CanvasOverlay,CanvasOverlay.displayName="CanvasOverlay",CanvasOverlay.propTypes=propTypes,CanvasOverlay.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1}},function(module,exports,__webpack_require__){(function(global){module.exports={window:"undefined"!=typeof window?window:global,global:void 0!==global?global:window,document:"undefined"!=typeof document?document:{}}}).call(exports,__webpack_require__(13))},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1_prop_types__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__webpack_require__(1)),__WEBPACK_IMPORTED_MODULE_1_prop_types___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__),__WEBPACK_IMPORTED_MODULE_2__components_base_control__=__webpack_require__(142),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var propTypes=Object.assign({},__WEBPACK_IMPORTED_MODULE_2__components_base_control__.a.propTypes,{redraw:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,style:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object}),HTMLOverlay=function(_BaseControl){function HTMLOverlay(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,HTMLOverlay),function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(HTMLOverlay.__proto__||Object.getPrototypeOf(HTMLOverlay)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(HTMLOverlay,__WEBPACK_IMPORTED_MODULE_2__components_base_control__["a"]),_createClass(HTMLOverlay,[{key:"render",value:function render(){var _context=this.context,viewport=_context.viewport,isDragging=_context.isDragging,style=Object.assign({position:"absolute",pointerEvents:"none",left:0,top:0,width:viewport.width,height:viewport.height},this.props.style);return Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("div",{ref:this._onContainerLoad,style:style},this.props.redraw({width:viewport.width,height:viewport.height,isDragging:isDragging,project:viewport.project.bind(viewport),unproject:viewport.unproject.bind(viewport)}))}}]),HTMLOverlay}();__webpack_exports__.a=HTMLOverlay,HTMLOverlay.displayName="HTMLOverlay",HTMLOverlay.propTypes=propTypes,HTMLOverlay.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1_prop_types__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__webpack_require__(1)),__WEBPACK_IMPORTED_MODULE_1_prop_types___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__),__WEBPACK_IMPORTED_MODULE_2__components_base_control__=__webpack_require__(142),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var propTypes=Object.assign({},__WEBPACK_IMPORTED_MODULE_2__components_base_control__.a.propTypes,{redraw:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,style:__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object}),SVGOverlay=function(_BaseControl){function SVGOverlay(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SVGOverlay),function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(SVGOverlay.__proto__||Object.getPrototypeOf(SVGOverlay)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(SVGOverlay,__WEBPACK_IMPORTED_MODULE_2__components_base_control__["a"]),_createClass(SVGOverlay,[{key:"render",value:function render(){var _context=this.context,viewport=_context.viewport,isDragging=_context.isDragging,style=Object.assign({pointerEvents:"none",position:"absolute",left:0,top:0},this.props.style);return Object(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)("svg",{width:viewport.width,height:viewport.height,ref:this._onContainerLoad,style:style},this.props.redraw({width:viewport.width,height:viewport.height,isDragging:isDragging,project:viewport.project.bind(viewport),unproject:viewport.unproject.bind(viewport)}))}}]),SVGOverlay}();__webpack_exports__.a=SVGOverlay,SVGOverlay.displayName="SVGOverlay",SVGOverlay.propTypes=propTypes,SVGOverlay.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1}},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var deck_gl_1=__webpack_require__(217),FlowCirclesLayerVertex_glsl_1=__importDefault(__webpack_require__(1122)),FlowCirclesLayerVertex64_glsl_1=__importDefault(__webpack_require__(1123)),FlowCirclesLayer=function(_super){function FlowCirclesLayer(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(FlowCirclesLayer,_super),FlowCirclesLayer.prototype.getShaders=function(){var shaders=_super.prototype.getShaders.call(this);return __assign({},shaders,{vs:this.is64bitEnabled()?FlowCirclesLayerVertex64_glsl_1.default:FlowCirclesLayerVertex_glsl_1.default})},FlowCirclesLayer.layerName="FlowCirclesLayer",FlowCirclesLayer}(deck_gl_1.ScatterplotLayer);exports.default=FlowCirclesLayer},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default="#define SHADER_NAME flow-circles-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute float instanceRadius;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float outline;\nuniform float strokeWidth;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\n\nvoid main(void) {\n  // Multiply out radius and clamp to limits\n  float outerRadiusPixels = instanceRadius;\n  \n  // outline is centered at the radius\n  // outer radius needs to offset by half stroke width\n  outerRadiusPixels += outline * strokeWidth / 2.0;\n  \n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n  // 0 - solid circle, 1 - stroke with lineWidth=0\n  innerUnitRadius = outline * (1.0 - strokeWidth / outerRadiusPixels);\n  \n  // Find the center of the point and add the current vertex\n  vec3 center = project_position(instancePositions);\n  vec3 vertex = positions * outerRadiusPixels;\n  gl_Position = project_to_clipspace(vec4(center + vertex, 1.0));\n  \n  // Apply opacity to instance color, or return instance picking color\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n  \n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default="#define SHADER_NAME flow-circles-layer-64-vertex\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute float instanceRadius;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\n// Only one-dimensional arrays may be declared in GLSL ES 1.0. specs p.24\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float outline;\nuniform float strokeWidth;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\n\nvoid main(void) {\n  // Multiply out radius and clamp to limits\n  float outerRadiusPixels = instanceRadius;\n  \n  // outline is centered at the radius\n  // outer radius needs to offset by half stroke width\n  outerRadiusPixels += outline * strokeWidth / 2.0;\n  \n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n  // 0 - solid circle, 1 - stroke with lineWidth=0\n  innerUnitRadius = outline * (1.0 - strokeWidth / outerRadiusPixels);\n  \n  vec4 instancePositions64xy = vec4(instancePositions.x, instancePositions64xyLow.x, instancePositions.y, instancePositions64xyLow.y);\n  vec2 projected_coord_xy[2];\n  project_position_fp64(instancePositions64xy, projected_coord_xy);\n  \n  vec2 vertex_pos_localspace[4];\n  vec4_fp64(vec4(positions * outerRadiusPixels, 0.0), vertex_pos_localspace);\n  \n  vec2 vertex_pos_modelspace[4];\n  vertex_pos_modelspace[0] = sum_fp64(vertex_pos_localspace[0], projected_coord_xy[0]);\n  vertex_pos_modelspace[1] = sum_fp64(vertex_pos_localspace[1], projected_coord_xy[1]);\n  vertex_pos_modelspace[2] = sum_fp64(vertex_pos_localspace[2], vec2(project_scale(instancePositions.z), 0.0));\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n  \n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n  \n  // Apply opacity to instance color, or return instance picking color\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n  \n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n"},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var deck_gl_1=__webpack_require__(217),luma_gl_1=__webpack_require__(14),FlowLinesLayerFragment_glsl_1=__importDefault(__webpack_require__(1125)),FlowLinesLayerVertex_glsl_1=__importDefault(__webpack_require__(1126)),FlowLinesLayerVertex64_glsl_1=__importDefault(__webpack_require__(1127)),fp64ify=deck_gl_1.experimental.fp64ify,DEFAULT_COLOR=[0,132,193,255],DEFAULT_BORDER_COLOR=[.85,.85,.85,.95],DEFAULT_ENDPOINT_OFFSETS=[0,0],FlowLinesLayer=function(_super){function FlowLinesLayer(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(FlowLinesLayer,_super),FlowLinesLayer.prototype.getShaders=function(){return this.is64bitEnabled()?{vs:FlowLinesLayerVertex64_glsl_1.default,fs:FlowLinesLayerFragment_glsl_1.default,modules:["project64","picking"],shaderCache:this.context.shaderCache}:{vs:FlowLinesLayerVertex_glsl_1.default,fs:FlowLinesLayerFragment_glsl_1.default,modules:["picking"],shaderCache:this.context.shaderCache}},FlowLinesLayer.prototype.initializeState=function(){var gl=this.context.gl;this.setState({model:this.createModel(gl)});var attributeManager=this.state.attributeManager;this.is64bitEnabled()&&attributeManager.addInstanced({instanceSourceTargetPositions64xyLow:{size:4,accessor:["getSourcePosition","getTargetPosition"],update:this.calculateInstanceSourceTargetPositions64xyLow}}),attributeManager.addInstanced({instanceSourcePositions:{accessor:"getSourcePosition",size:3,update:this.calculateInstanceSourcePositions},instanceTargetPositions:{accessor:"getTargetPosition",size:3,update:this.calculateInstanceTargetPositions},instanceThickness:{accessor:"getThickness",size:1,update:this.calculateInstanceThickness},instanceEndpointOffsets:{accessor:"getEndpointOffsets",size:2,update:this.calculateInstanceEndpointOffsets},instanceColors:{accessor:"getColor",size:4,type:luma_gl_1.GL.UNSIGNED_BYTE,update:this.calculateInstanceColors}})},FlowLinesLayer.prototype.draw=function(_a){var uniforms=_a.uniforms,gl=this.context.gl,borderColor=this.props.borderColor;gl.lineWidth(1),this.state.model.render(__assign({},uniforms,{borderColor:borderColor||DEFAULT_BORDER_COLOR,thicknessUnit:16,gap:.75}))},FlowLinesLayer.prototype.createModel=function(gl){var positions=[],pixelOffsets=[];if(this.props.drawBorder){positions=positions.concat([0,0,0,0,1,0,1,0,0,0,1,0,1,0,-3,1,1,-3,1,0,0,1,2,-3,1,0,-3]);pixelOffsets=pixelOffsets.concat([-1,-1,1,1,-1,1,-1,1,1,1,-1,1,-1,0,1,1,0,1,-1,3,1,2,-1,1,-1,-1,1])}return positions=positions.concat([0,0,0,0,1,0,1,0,0,0,1,0,1,0,-3,1,1,-3,1,0,0,1,2,-3,1,0,-3]),pixelOffsets=pixelOffsets.concat([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),new luma_gl_1.Model(gl,__assign({id:this.props.id},this.getShaders(),{geometry:new luma_gl_1.Geometry({drawType:luma_gl_1.GL.TRIANGLES,attributes:{positions:new Float32Array(positions),normals:new Float32Array(pixelOffsets)}}),isInstanced:!0,shaderCache:this.context.shaderCache}))},FlowLinesLayer.prototype.calculateInstanceSourcePositions=function(attribute){for(var _a=this.props,data=_a.data,getSourcePosition=_a.getSourcePosition,value=attribute.value,size=attribute.size,i=0,_i=0,data_1=data;_i<data_1.length;_i++){var sourcePosition=getSourcePosition(data_1[_i]);value[i+0]=sourcePosition[0],value[i+1]=sourcePosition[1],value[i+2]=isNaN(sourcePosition[2])?0:sourcePosition[2],i+=size}},FlowLinesLayer.prototype.calculateInstanceTargetPositions=function(attribute){for(var _a=this.props,data=_a.data,getTargetPosition=_a.getTargetPosition,value=attribute.value,size=attribute.size,i=0,_i=0,data_2=data;_i<data_2.length;_i++){var targetPosition=getTargetPosition(data_2[_i]);value[i+0]=targetPosition[0],value[i+1]=targetPosition[1],value[i+2]=isNaN(targetPosition[2])?0:targetPosition[2],i+=size}},FlowLinesLayer.prototype.calculateInstanceSourceTargetPositions64xyLow=function(attribute){for(var _a=this.props,data=_a.data,getSourcePosition=_a.getSourcePosition,getTargetPosition=_a.getTargetPosition,value=attribute.value,size=attribute.size,i=0,_i=0,data_3=data;_i<data_3.length;_i++){var object=data_3[_i],sourcePosition=getSourcePosition(object),targetPosition=getTargetPosition(object);value[i+0]=fp64ify(sourcePosition[0])[1],value[i+1]=fp64ify(sourcePosition[1])[1],value[i+2]=fp64ify(targetPosition[0])[1],value[i+3]=fp64ify(targetPosition[1])[1],i+=size}},FlowLinesLayer.prototype.calculateInstanceColors=function(attribute){for(var _a=this.props,data=_a.data,getColor=_a.getColor,value=attribute.value,size=attribute.size,i=0,_i=0,data_4=data;_i<data_4.length;_i++){var object=data_4[_i],color=getColor?getColor(object):DEFAULT_COLOR;value[i+0]=color[0],value[i+1]=color[1],value[i+2]=color[2],value[i+3]=isNaN(color[3])?DEFAULT_COLOR[3]:color[3],i+=size}},FlowLinesLayer.prototype.calculateInstanceThickness=function(attribute){for(var _a=this.props,data=_a.data,getThickness=_a.getThickness,value=attribute.value,size=attribute.size,i=0,_i=0,data_5=data;_i<data_5.length;_i++){var object=data_5[_i];value[i]=getThickness(object),i+=size}},FlowLinesLayer.prototype.calculateInstanceEndpointOffsets=function(attribute){for(var _a=this.props,data=_a.data,getEndpointOffsets=_a.getEndpointOffsets,value=attribute.value,size=attribute.size,i=0,_i=0,data_6=data;_i<data_6.length;_i++){var object=data_6[_i],_b=getEndpointOffsets?getEndpointOffsets(object):DEFAULT_ENDPOINT_OFFSETS,start=_b[0],end=_b[1];value[i+0]=start,value[i+1]=end,i+=size}},FlowLinesLayer.layerName="FlowLinesLayer",FlowLinesLayer.defaultProps={getSourcePosition:function(d){return d.sourcePosition},getTargetPosition:function(d){return d.targetPosition},getColor:function(d){return d.color},getThickness:function(d){return d.thickness},drawBorder:!1},FlowLinesLayer}(deck_gl_1.Layer);exports.default=FlowLinesLayer},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default="#define SHADER_NAME flow-line-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  if (vColor.a == 0.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  \n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  \n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default="#define SHADER_NAME flow-line-layer-vertex-shader\n#define PI 3.1415926535897932384626433832795\n\nattribute vec3 positions;\nattribute vec3 normals;\nattribute vec4 instanceColors;\nattribute float instanceThickness;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceTargetPositions;\nattribute vec3 instancePickingColors;\nattribute vec2 instanceEndpointOffsets;\n\nuniform vec4 borderColor;\nuniform float thicknessUnit;\nuniform float gap;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nmat2 rotation_mat2(float a) {\n  return mat2(cos(a), sin(a), -sin(a), cos(a));\n}\n\nvec2 vec3_to_vec2(vec3 a) {\n  return vec2(a[0], a[1]);\n}\n\nvoid main(void) {\n  vec2 projectedSourceCoord = vec3_to_vec2(project_position(instanceSourcePositions));\n  vec2 projectedTargetCoord = vec3_to_vec2(project_position(instanceTargetPositions));\n\n\n  vec2 sourceTarget = projectedTargetCoord - projectedSourceCoord;\n  float offsetLimit = length(sourceTarget) * 0.8;\n  vec2 flowlineDirection = normalize(sourceTarget);\n  vec2 limitedOffsetDistances = clamp(positions.yz * thicknessUnit, -offsetLimit, offsetLimit);\n  float endpointOffset = mix(instanceEndpointOffsets.x, -instanceEndpointOffsets.y, positions.x);\n  vec2 offset =\n    rotation_mat2(0.5*PI) * flowlineDirection * (instanceThickness * limitedOffsetDistances[0] + gap + normals.x) +\n    flowlineDirection * (instanceThickness * limitedOffsetDistances[1] + normals.y + endpointOffset)\n  ;\n\n\n  vec2 mixed_temp = mix(projectedSourceCoord, projectedTargetCoord, positions.x);\n\n  vec4 vertex_pos_modelspace;\n\n  vertex_pos_modelspace[0] = mixed_temp[0] + offset[0];\n  vertex_pos_modelspace[1] = mixed_temp[1] + offset[1];\n  vertex_pos_modelspace[2] = 0.0;\n  vertex_pos_modelspace[3] = 1.0;\n\n\n  gl_Position = project_to_clipspace(vertex_pos_modelspace);\n  \n  vec4 fillColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n  vColor = mix(fillColor, vec4(borderColor.xyz, borderColor.w * fillColor.w), normals.z);\n  \n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default="#define SHADER_NAME flow-line-layer-64-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 normals;\nattribute vec4 instanceColors;\nattribute float instanceThickness;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceTargetPositions;\nattribute vec4 instanceSourceTargetPositions64xyLow;\nattribute vec3 instancePickingColors;\nattribute vec2 instanceEndpointOffsets;\n\nuniform vec4 borderColor;\nuniform float thicknessUnit;\nuniform float gap;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nmat2 rotation_mat2(float a) {\n  return mat2(cos(a), sin(a), -sin(a), cos(a));\n}\n\nvec2 vec2_fp64_to_fp32(vec2 a[2]) {\n  return vec2(a[0][0], a[1][0]);\n}\n\n\nvoid main(void) {\n  // Position\n  vec4 instanceSourcePositions64 = vec4(\n    instanceSourcePositions.x, instanceSourceTargetPositions64xyLow.x,\n    instanceSourcePositions.y, instanceSourceTargetPositions64xyLow.y);\n\n  vec4 instanceTargetPositions64 = vec4(\n    instanceTargetPositions.x, instanceSourceTargetPositions64xyLow.z,\n    instanceTargetPositions.y, instanceSourceTargetPositions64xyLow.w);\n\n\n  vec2 projectedSourceCoord[2];\n  project_position_fp64(instanceSourcePositions64, projectedSourceCoord);\n  vec2 projectedTargetCoord[2];\n  project_position_fp64(instanceTargetPositions64, projectedTargetCoord);\n\n\n  vec2 sourceTarget = vec2_fp64_to_fp32(projectedTargetCoord) - vec2_fp64_to_fp32(projectedSourceCoord);\n  float offsetLimit = length(sourceTarget) * 0.8;\n  vec2 flowlineDirection = normalize(sourceTarget);\n  vec2 limitedOffsetDistances = clamp(positions.yz * thicknessUnit, -offsetLimit, offsetLimit);\n  float endpointOffset = mix(instanceEndpointOffsets.x, -instanceEndpointOffsets.y, positions.x);\n  vec2 offset =\n    rotation_mat2(0.5*PI_FP64[0]) * flowlineDirection * (instanceThickness * limitedOffsetDistances[0] + gap + normals.x) +\n    flowlineDirection * (instanceThickness * limitedOffsetDistances[1] + normals.y + endpointOffset);\n\n\n  vec2 mixed_temp[2];\n  vec2_mix_fp64(projectedSourceCoord, projectedTargetCoord, positions.x, mixed_temp);\n\n  vec2 vertex_pos_modelspace[4];\n\n  vertex_pos_modelspace[0] = sum_fp64(mixed_temp[0], vec2(offset[0], 0.0));\n  vertex_pos_modelspace[1] = sum_fp64(mixed_temp[1], vec2(offset[1], 0.0));\n  vertex_pos_modelspace[2] = vec2(0.0, 0.0);\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n\n  vec4 fillColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n  vColor = mix(fillColor, vec4(borderColor.xyz, borderColor.w * fillColor.w), normals.z);\n  \n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n"},function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var d3Array=__importStar(__webpack_require__(51)),d3Collection=__importStar(__webpack_require__(654)),d3Color=__importStar(__webpack_require__(102)),d3Scale=__importStar(__webpack_require__(656)),_=__importStar(__webpack_require__(632)),reselect_1=__webpack_require__(1196),colorUtils_1=__webpack_require__(499),types_1=__webpack_require__(277),getColors=function(props){return props.colors},getLocationFeatures=function(props){return props.locations.features},getFlows=function(props){return props.flows},getHighlightedFlow=function(props){return props.highlightedFlow},getHighlightedLocationId=function(props){return props.highlightedLocationId},getSelectedLocationIds=function(props){return props.selectedLocationIds},getVaryFlowColorByMagnitude=function(props){return props.varyFlowColorByMagnitude},Selectors=function(){function Selectors(inputGetters){var _this=this;this.inputGetters=inputGetters,this.getLocationsById=reselect_1.createSelector([getLocationFeatures],function(locations){return d3Collection.nest().key(_this.inputGetters.getLocationId).rollup(_.head).object(locations)}),this.getFilteredFlows=reselect_1.createSelector([getFlows,getSelectedLocationIds],function(flows,selectedLocationIds){var _a=_this.inputGetters,getFlowOriginId=_a.getFlowOriginId,getFlowDestId=_a.getFlowDestId;return selectedLocationIds?flows.filter(function(flow){return _.includes(selectedLocationIds,getFlowOriginId(flow))||_.includes(selectedLocationIds,getFlowDestId(flow))}):flows}),this.getNonSelfFlows=reselect_1.createSelector([this.getFilteredFlows],function(flows){var _a=_this.inputGetters,getFlowOriginId=_a.getFlowOriginId,getFlowDestId=_a.getFlowDestId;return flows.filter(function(flow){return getFlowOriginId(flow)!==getFlowDestId(flow)})}),this.getSortedNonSelfFlows=reselect_1.createSelector([this.getNonSelfFlows],function(flows){return _.orderBy(flows,[function(f){return Math.abs(_this.inputGetters.getFlowMagnitude(f))},"desc"])}),this.getActiveFlows=reselect_1.createSelector([this.getSortedNonSelfFlows,getHighlightedFlow,getHighlightedLocationId,getSelectedLocationIds],function(flows,highlightedFlow,highlightedLocationId,selectedLocationIds){var _a=_this.inputGetters,getFlowOriginId=_a.getFlowOriginId,getFlowDestId=_a.getFlowDestId;return highlightedFlow?flows.filter(function(flow){return getFlowOriginId(flow)===getFlowOriginId(highlightedFlow)&&getFlowDestId(flow)===getFlowDestId(highlightedFlow)}):highlightedLocationId?flows.filter(function(flow){return getFlowOriginId(flow)===highlightedLocationId||getFlowDestId(flow)===highlightedLocationId}):selectedLocationIds?flows.filter(function(flow){return _.includes(selectedLocationIds,getFlowOriginId(flow))||_.includes(selectedLocationIds,getFlowDestId(flow))}):flows}),this.getFlowMagnitudeExtent=reselect_1.createSelector([this.getNonSelfFlows],function(flows){return d3Array.extent(flows,_this.inputGetters.getFlowMagnitude)}),this.getFlowThicknessScale=reselect_1.createSelector([this.getFlowMagnitudeExtent],function(_a){var minMagnitude=_a[0],maxMagnitude=_a[1],scale=d3Scale.scaleLinear().range([.05,.5]).domain([0,Math.max(Math.abs(minMagnitude||0),Math.abs(maxMagnitude||0))]);return function(magnitude){return scale(Math.abs(magnitude))}}),this.getFlowColorScale=reselect_1.createSelector([getColors,this.getFlowMagnitudeExtent,getVaryFlowColorByMagnitude],function(colors,_a,varyFlowColorByMagnitude){var minMagnitude=_a[0],maxMagnitude=_a[1];if(!varyFlowColorByMagnitude)return types_1.isDiffColors(colors)?function(v){return v>=0?colors.positive.flows.max:colors.negative.flows.max}:function(){return colors.flows.max};if(types_1.isDiffColors(colors)){var posScale_1=colorUtils_1.createFlowColorScale([0,maxMagnitude||0],[colors.positive.flows.min?colors.positive.flows.min:colorUtils_1.getDefaultFlowMinColor(colors.positive.flows.max),colors.positive.flows.max]),negScale_1=colorUtils_1.createFlowColorScale([minMagnitude||0,0],[colors.negative.flows.max,colors.negative.flows.min?colors.negative.flows.min:colorUtils_1.getDefaultFlowMinColor(colors.negative.flows.max)]);return function(magnitude){return magnitude>=0?posScale_1(magnitude):negScale_1(magnitude)}}var _b=colors.flows,max=_b.max,min=_b.min,scale=colorUtils_1.createFlowColorScale([0,maxMagnitude||0],[min||colorUtils_1.getDefaultFlowMinColor(max),max]);return function(magnitude){return scale(magnitude)}}),this.getMakeFlowLinesColorGetter=reselect_1.createSelector([getColors,this.getFlowColorScale],function(colors,flowColorScale){var getFlowMagnitude=_this.inputGetters.getFlowMagnitude;return function(dimmed){return function(flow){if(!dimmed)return colorUtils_1.colorAsArray(flowColorScale(getFlowMagnitude(flow)));var dimmedOpacity=colors.dimmedOpacity||colorUtils_1.DEFAULT_DIMMED_OPACITY,l=d3Color.hcl(flowColorScale(getFlowMagnitude(flow))).l;return[l,l,l,colorUtils_1.opacityFloatToInteger(dimmedOpacity)]}}}),this.getLocationTotals=reselect_1.createSelector([getLocationFeatures,this.getFilteredFlows],function(locations,flows){var _a=_this.inputGetters,getFlowOriginId=_a.getFlowOriginId,getFlowDestId=_a.getFlowDestId,getFlowMagnitude=_a.getFlowMagnitude;return flows.reduce(function(acc,curr){var originId=getFlowOriginId(curr),destId=getFlowDestId(curr),magnitude=getFlowMagnitude(curr);return acc.outgoing[originId]=(acc.outgoing[originId]||0)+magnitude,acc.incoming[destId]=(acc.incoming[destId]||0)+magnitude,acc},{incoming:{},outgoing:{}})}),this.getLocationCircles=reselect_1.createSelector([getLocationFeatures],function(locations){return _.flatMap(locations,function(location){return[{location:location,type:"outer"},{location:location,type:"inner"}]})}),this.getLocationTotalInGetter=function(props){var _a=_this.inputGetters,getLocationTotalIn=_a.getLocationTotalIn,getLocationId=_a.getLocationId;if(getLocationTotalIn)return getLocationTotalIn;var incoming=_this.getLocationTotals(props).incoming;return function(location){return incoming[getLocationId(location)]||0}},this.getLocationTotalOutGetter=function(props){var _a=_this.inputGetters,getLocationTotalOut=_a.getLocationTotalOut,getLocationId=_a.getLocationId;if(getLocationTotalOut)return getLocationTotalOut;var outgoing=_this.getLocationTotals(props).outgoing;return function(location){return outgoing[getLocationId(location)]||0}},this.getLocationMaxAbsTotal=reselect_1.createSelector([getLocationFeatures,this.getLocationTotalInGetter,this.getLocationTotalOutGetter],function(locations,getLocationTotalIn,getLocationTotalOut){return d3Array.max(locations,function(location){return Math.max(Math.abs(getLocationTotalIn(location)),Math.abs(getLocationTotalOut(location)))})||0}),this.getSizeScale=reselect_1.createSelector([this.getLocationMaxAbsTotal],function(maxTotal){var scale=d3Scale.scalePow().exponent(.5).domain([0,maxTotal]).range([0,15]);return function(v){return scale(Math.abs(v))}}),this.getLocationCircleRadiusGetter=reselect_1.createSelector([this.getSizeScale,this.getLocationTotalInGetter,this.getLocationTotalOutGetter],function(sizeScale,getLocationTotalIn,getLocationTotalOut){return function(_a){var location=_a.location,getSide="inner"===_a.type?Math.min:Math.max;return sizeScale(getSide(getLocationTotalIn(location),getLocationTotalOut(location)))}}),this.getLocationCircleColorGetter=reselect_1.createSelector([getColors,getHighlightedFlow,getHighlightedLocationId,getSelectedLocationIds,this.getLocationTotalInGetter,this.getLocationTotalOutGetter],function(colors,highlightedFlow,highlightedLocationId,selectedLocationIds,getLocationTotalIn,getLocationTotalOut){var _a=_this.inputGetters,getLocationId=_a.getLocationId,getFlowOriginId=_a.getFlowOriginId,getFlowDestId=_a.getFlowDestId;return function(_a){var location=_a.location,type=_a.type,isActive=!highlightedLocationId&&!highlightedFlow&&!selectedLocationIds||highlightedLocationId===getLocationId(location)||_.includes(selectedLocationIds,getLocationId(location))||highlightedFlow&&(getLocationId(location)===getFlowOriginId(highlightedFlow)||getLocationId(location)===getFlowDestId(highlightedFlow)),totalIn=getLocationTotalIn(location),totalOut=getLocationTotalOut(location),isIncoming="outer"===type&&Math.abs(totalIn)>Math.abs(totalOut),isPositive=!0===isIncoming&&totalIn>=0||totalOut>=0,circleColors=colorUtils_1.getLocationCircleColors(colors,isPositive);return isActive?"inner"===type?colorUtils_1.colorAsArray(circleColors.inner):!0===isIncoming?colorUtils_1.colorAsArray(circleColors.incoming):colorUtils_1.colorAsArray(circleColors.outgoing):colorUtils_1.getDefaultDimmedColor(colors.dimmedOpacity)}}),this.getLocationAreaLineColorGetter=reselect_1.createSelector([getColors],function(colors){return function(){return colorUtils_1.colorAsArray(colors.locationAreas.outline)}}),this.isLocationConnectedGetter=reselect_1.createSelector([this.getFilteredFlows,getHighlightedLocationId,getHighlightedFlow,getSelectedLocationIds],function(flows,highlightedLocationId,highlightedFlow,selectedLocationIds){var _a=_this.inputGetters,getFlowOriginId=_a.getFlowOriginId,getFlowDestId=_a.getFlowDestId;if(highlightedFlow)return function(id){return id===getFlowOriginId(highlightedFlow)||id===getFlowDestId(highlightedFlow)};if(highlightedLocationId){for(var isRelated=function(flow){var originId=getFlowOriginId(flow),destId=getFlowDestId(flow);return originId===highlightedLocationId||_.includes(selectedLocationIds,originId)||destId===highlightedLocationId||_.includes(selectedLocationIds,destId)},locations_1=new Set,_i=0,flows_1=flows;_i<flows_1.length;_i++){var flow=flows_1[_i];isRelated(flow)&&(locations_1.add(getFlowOriginId(flow)),locations_1.add(getFlowDestId(flow)))}return function(id){return locations_1.has(id)}}return function(){return!1}}),this.getLocationAreaFillColorGetter=reselect_1.createSelector([getColors,getSelectedLocationIds,getHighlightedLocationId,this.isLocationConnectedGetter],function(colors,selectedLocationIds,highlightedLocationId,isLocationConnected){return function(location){var locationId=_this.inputGetters.getLocationId(location),_a=colors.locationAreas,normal=_a.normal,selected=_a.selected,highlighted=_a.highlighted,connected=_a.connected;return _.includes(selectedLocationIds,locationId)?colorUtils_1.colorAsArray(selected):locationId===highlightedLocationId?colorUtils_1.colorAsArray(highlighted||colorUtils_1.getDefaultLocationAreaHighlightedColor(selected)):!0===isLocationConnected(locationId)?colorUtils_1.colorAsArray(connected||colorUtils_1.getDefaultLocationAreaConnectedColor(normal)):colorUtils_1.colorAsArray(normal)}})}return Selectors.prototype.setInputGetters=function(inputGetters){this.inputGetters=inputGetters},Selectors}();exports.default=Selectors},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__pairs__=__webpack_require__(644);__webpack_exports__.a=function(values0,values1,reduce){var i0,i1,i,value0,n0=values0.length,n1=values1.length,values=new Array(n0*n1);for(null==reduce&&(reduce=__WEBPACK_IMPORTED_MODULE_0__pairs__.b),i0=i=0;i0<n0;++i0)for(value0=values0[i0],i1=0;i1<n1;++i1,++i)values[i]=reduce(value0,values1[i1]);return values}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__array__=__webpack_require__(648),__WEBPACK_IMPORTED_MODULE_1__bisect__=__webpack_require__(642),__WEBPACK_IMPORTED_MODULE_2__constant__=__webpack_require__(1132),__WEBPACK_IMPORTED_MODULE_3__extent__=__webpack_require__(647),__WEBPACK_IMPORTED_MODULE_4__identity__=__webpack_require__(1133),__WEBPACK_IMPORTED_MODULE_5__range__=__webpack_require__(649),__WEBPACK_IMPORTED_MODULE_6__ticks__=__webpack_require__(650),__WEBPACK_IMPORTED_MODULE_7__threshold_sturges__=__webpack_require__(651);__webpack_exports__.a=function(){var value=__WEBPACK_IMPORTED_MODULE_4__identity__.a,domain=__WEBPACK_IMPORTED_MODULE_3__extent__.a,threshold=__WEBPACK_IMPORTED_MODULE_7__threshold_sturges__.a;function histogram(data){var i,x,n=data.length,values=new Array(n);for(i=0;i<n;++i)values[i]=value(data[i],i,data);var xz=domain(values),x0=xz[0],x1=xz[1],tz=threshold(values,x0,x1);Array.isArray(tz)||(tz=Object(__WEBPACK_IMPORTED_MODULE_6__ticks__.c)(x0,x1,tz),tz=Object(__WEBPACK_IMPORTED_MODULE_5__range__.a)(Math.ceil(x0/tz)*tz,Math.floor(x1/tz)*tz,tz));for(var m=tz.length;tz[0]<=x0;)tz.shift(),--m;for(;tz[m-1]>x1;)tz.pop(),--m;var bin,bins=new Array(m+1);for(i=0;i<=m;++i)(bin=bins[i]=[]).x0=i>0?tz[i-1]:x0,bin.x1=i<m?tz[i]:x1;for(i=0;i<n;++i)x0<=(x=values[i])&&x<=x1&&bins[Object(__WEBPACK_IMPORTED_MODULE_1__bisect__.c)(tz,x,0,m)].push(data[i]);return bins}return histogram.value=function(_){return arguments.length?(value="function"==typeof _?_:Object(__WEBPACK_IMPORTED_MODULE_2__constant__.a)(_),histogram):value},histogram.domain=function(_){return arguments.length?(domain="function"==typeof _?_:Object(__WEBPACK_IMPORTED_MODULE_2__constant__.a)([_[0],_[1]]),histogram):domain},histogram.thresholds=function(_){return arguments.length?(threshold="function"==typeof _?_:Array.isArray(_)?Object(__WEBPACK_IMPORTED_MODULE_2__constant__.a)(__WEBPACK_IMPORTED_MODULE_0__array__.b.call(_)):Object(__WEBPACK_IMPORTED_MODULE_2__constant__.a)(_),histogram):threshold},histogram}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return function(){return x}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return x}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__array__=__webpack_require__(648),__WEBPACK_IMPORTED_MODULE_1__ascending__=__webpack_require__(161),__WEBPACK_IMPORTED_MODULE_2__number__=__webpack_require__(229),__WEBPACK_IMPORTED_MODULE_3__quantile__=__webpack_require__(489);__webpack_exports__.a=function(values,min,max){return values=__WEBPACK_IMPORTED_MODULE_0__array__.a.call(values,__WEBPACK_IMPORTED_MODULE_2__number__.a).sort(__WEBPACK_IMPORTED_MODULE_1__ascending__.a),Math.ceil((max-min)/(2*(Object(__WEBPACK_IMPORTED_MODULE_3__quantile__.a)(values,.75)-Object(__WEBPACK_IMPORTED_MODULE_3__quantile__.a)(values,.25))*Math.pow(values.length,-1/3)))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__deviation__=__webpack_require__(645);__webpack_exports__.a=function(values,min,max){return Math.ceil((max-min)/(3.5*Object(__WEBPACK_IMPORTED_MODULE_0__deviation__.a)(values)*Math.pow(values.length,-1/3)))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(values,valueof){var value,max,n=values.length,i=-1;if(null==valueof){for(;++i<n;)if(null!=(value=values[i])&&value>=value)for(max=value;++i<n;)null!=(value=values[i])&&value>max&&(max=value)}else for(;++i<n;)if(null!=(value=valueof(values[i],i,values))&&value>=value)for(max=value;++i<n;)null!=(value=valueof(values[i],i,values))&&value>max&&(max=value);return max}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__number__=__webpack_require__(229);__webpack_exports__.a=function(values,valueof){var value,n=values.length,m=n,i=-1,sum=0;if(null==valueof)for(;++i<n;)isNaN(value=Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(values[i]))?--m:sum+=value;else for(;++i<n;)isNaN(value=Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(valueof(values[i],i,values)))?--m:sum+=value;if(m)return sum/m}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__ascending__=__webpack_require__(161),__WEBPACK_IMPORTED_MODULE_1__number__=__webpack_require__(229),__WEBPACK_IMPORTED_MODULE_2__quantile__=__webpack_require__(489);__webpack_exports__.a=function(values,valueof){var value,n=values.length,i=-1,numbers=[];if(null==valueof)for(;++i<n;)isNaN(value=Object(__WEBPACK_IMPORTED_MODULE_1__number__.a)(values[i]))||numbers.push(value);else for(;++i<n;)isNaN(value=Object(__WEBPACK_IMPORTED_MODULE_1__number__.a)(valueof(values[i],i,values)))||numbers.push(value);return Object(__WEBPACK_IMPORTED_MODULE_2__quantile__.a)(numbers.sort(__WEBPACK_IMPORTED_MODULE_0__ascending__.a),.5)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(arrays){for(var m,merged,array,n=arrays.length,i=-1,j=0;++i<n;)j+=arrays[i].length;for(merged=new Array(j);--n>=0;)for(m=(array=arrays[n]).length;--m>=0;)merged[--j]=array[m];return merged}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(array,indexes){for(var i=indexes.length,permutes=new Array(i);i--;)permutes[i]=array[indexes[i]];return permutes}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__ascending__=__webpack_require__(161);__webpack_exports__.a=function(values,compare){if(n=values.length){var n,xi,i=0,j=0,xj=values[j];for(null==compare&&(compare=__WEBPACK_IMPORTED_MODULE_0__ascending__.a);++i<n;)(compare(xi=values[i],xj)<0||0!==compare(xj,xj))&&(xj=xi,j=i);return 0===compare(xj,xj)?j:void 0}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(array,i0,i1){for(var t,i,m=(null==i1?array.length:i1)-(i0=null==i0?0:+i0);m;)i=Math.random()*m--|0,t=array[m+i0],array[m+i0]=array[i+i0],array[i+i0]=t;return array}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(values,valueof){var value,n=values.length,i=-1,sum=0;if(null==valueof)for(;++i<n;)(value=+values[i])&&(sum+=value);else for(;++i<n;)(value=+valueof(values[i],i,values))&&(sum+=value);return sum}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__transpose__=__webpack_require__(653);__webpack_exports__.a=function(){return Object(__WEBPACK_IMPORTED_MODULE_0__transpose__.a)(arguments)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__map__=__webpack_require__(490);function createObject(){return{}}function setObject(object,key,value){object[key]=value}function createMap(){return Object(__WEBPACK_IMPORTED_MODULE_0__map__.a)()}function setMap(map,key,value){map.set(key,value)}__webpack_exports__.a=function(){var sortValues,rollup,nest,keys=[],sortKeys=[];function apply(array,depth,createResult,setResult){if(depth>=keys.length)return null!=sortValues&&array.sort(sortValues),null!=rollup?rollup(array):array;for(var keyValue,value,values,i=-1,n=array.length,key=keys[depth++],valuesByKey=Object(__WEBPACK_IMPORTED_MODULE_0__map__.a)(),result=createResult();++i<n;)(values=valuesByKey.get(keyValue=key(value=array[i])+""))?values.push(value):valuesByKey.set(keyValue,[value]);return valuesByKey.each(function(values,key){setResult(result,key,apply(values,depth,createResult,setResult))}),result}return nest={object:function(array){return apply(array,0,createObject,setObject)},map:function(array){return apply(array,0,createMap,setMap)},entries:function(array){return function entries(map,depth){if(++depth>keys.length)return map;var array,sortKey=sortKeys[depth-1];return null!=rollup&&depth>=keys.length?array=map.entries():(array=[],map.each(function(v,k){array.push({key:k,values:entries(v,depth)})})),null!=sortKey?array.sort(function(a,b){return sortKey(a.key,b.key)}):array}(apply(array,0,createMap,setMap),0)},key:function(d){return keys.push(d),nest},sortKeys:function(order){return sortKeys[keys.length-1]=order,nest},sortValues:function(order){return sortValues=order,nest},rollup:function(f){return rollup=f,nest}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__map__=__webpack_require__(490);function Set(){}var proto=__WEBPACK_IMPORTED_MODULE_0__map__.a.prototype;function set(object,f){var set=new Set;if(object instanceof Set)object.each(function(value){set.add(value)});else if(object){var i=-1,n=object.length;if(null==f)for(;++i<n;)set.add(object[i]);else for(;++i<n;)set.add(f(object[i],i,object))}return set}Set.prototype=set.prototype={constructor:Set,has:proto.has,add:function(value){return value+="",this[__WEBPACK_IMPORTED_MODULE_0__map__.b+value]=value,this},remove:proto.remove,clear:proto.clear,values:proto.keys,size:proto.size,empty:proto.empty,each:proto.each},__webpack_exports__.a=set},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(map){var keys=[];for(var key in map)keys.push(key);return keys}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(map){var values=[];for(var key in map)values.push(map[key]);return values}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(map){var entries=[];for(var key in map)entries.push({key:key,value:map[key]});return entries}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=lab,__webpack_exports__.b=hcl;var __WEBPACK_IMPORTED_MODULE_0__define__=__webpack_require__(492),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(491),__WEBPACK_IMPORTED_MODULE_2__math__=__webpack_require__(655),Xn=.95047,Yn=1,Zn=1.08883,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl){var h=o.h*__WEBPACK_IMPORTED_MODULE_2__math__.a;return new Lab(o.l,Math.cos(h)*o.c,Math.sin(h)*o.c,o.opacity)}o instanceof __WEBPACK_IMPORTED_MODULE_1__color__.b||(o=Object(__WEBPACK_IMPORTED_MODULE_1__color__.h)(o));var b=rgb2xyz(o.r),a=rgb2xyz(o.g),l=rgb2xyz(o.b),x=xyz2lab((.4124564*b+.3575761*a+.1804375*l)/Xn),y=xyz2lab((.2126729*b+.7151522*a+.072175*l)/Yn);return new Lab(116*y-16,500*(x-y),200*(y-xyz2lab((.0193339*b+.119192*a+.9503041*l)/Zn)),o.opacity)}function lab(l,a,b,opacity){return 1===arguments.length?labConvert(l):new Lab(l,a,b,null==opacity?1:opacity)}function Lab(l,a,b,opacity){this.l=+l,this.a=+a,this.b=+b,this.opacity=+opacity}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0}function lab2xyz(t){return t>t1?t*t*t:t2*(t-t0)}function xyz2rgb(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function rgb2xyz(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function hcl(h,c,l,opacity){return 1===arguments.length?function hclConvert(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);o instanceof Lab||(o=labConvert(o));var h=Math.atan2(o.b,o.a)*__WEBPACK_IMPORTED_MODULE_2__math__.b;return new Hcl(h<0?h+360:h,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}(h):new Hcl(h,c,l,null==opacity?1:opacity)}function Hcl(h,c,l,opacity){this.h=+h,this.c=+c,this.l=+l,this.opacity=+opacity}Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Lab,lab,Object(__WEBPACK_IMPORTED_MODULE_0__define__.b)(__WEBPACK_IMPORTED_MODULE_1__color__.a,{brighter:function(k){return new Lab(this.l+18*(null==k?1:k),this.a,this.b,this.opacity)},darker:function(k){return new Lab(this.l-18*(null==k?1:k),this.a,this.b,this.opacity)},rgb:function(){var y=(this.l+16)/116,x=isNaN(this.a)?y:y+this.a/500,z=isNaN(this.b)?y:y-this.b/200;return y=Yn*lab2xyz(y),x=Xn*lab2xyz(x),z=Zn*lab2xyz(z),new __WEBPACK_IMPORTED_MODULE_1__color__.b(xyz2rgb(3.2404542*x-1.5371385*y-.4985314*z),xyz2rgb(-.969266*x+1.8760108*y+.041556*z),xyz2rgb(.0556434*x-.2040259*y+1.0572252*z),this.opacity)}})),Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Hcl,hcl,Object(__WEBPACK_IMPORTED_MODULE_0__define__.b)(__WEBPACK_IMPORTED_MODULE_1__color__.a,{brighter:function(k){return new Hcl(this.h,this.c,this.l+18*(null==k?1:k),this.opacity)},darker:function(k){return new Hcl(this.h,this.c,this.l-18*(null==k?1:k),this.opacity)},rgb:function(){return labConvert(this).rgb()}}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=cubehelix;var __WEBPACK_IMPORTED_MODULE_0__define__=__webpack_require__(492),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(491),__WEBPACK_IMPORTED_MODULE_2__math__=__webpack_require__(655),A=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;function cubehelix(h,s,l,opacity){return 1===arguments.length?function cubehelixConvert(o){if(o instanceof Cubehelix)return new Cubehelix(o.h,o.s,o.l,o.opacity);o instanceof __WEBPACK_IMPORTED_MODULE_1__color__.b||(o=Object(__WEBPACK_IMPORTED_MODULE_1__color__.h)(o));var r=o.r/255,g=o.g/255,b=o.b/255,l=(BC_DA*b+ED*r-EB*g)/(BC_DA+ED-EB),bl=b-l,k=(E*(g-l)-C*bl)/D,s=Math.sqrt(k*k+bl*bl)/(E*l*(1-l)),h=s?Math.atan2(k,bl)*__WEBPACK_IMPORTED_MODULE_2__math__.b-120:NaN;return new Cubehelix(h<0?h+360:h,s,l,o.opacity)}(h):new Cubehelix(h,s,l,null==opacity?1:opacity)}function Cubehelix(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Cubehelix,cubehelix,Object(__WEBPACK_IMPORTED_MODULE_0__define__.b)(__WEBPACK_IMPORTED_MODULE_1__color__.a,{brighter:function(k){return k=null==k?__WEBPACK_IMPORTED_MODULE_1__color__.c:Math.pow(__WEBPACK_IMPORTED_MODULE_1__color__.c,k),new Cubehelix(this.h,this.s,this.l*k,this.opacity)},darker:function(k){return k=null==k?__WEBPACK_IMPORTED_MODULE_1__color__.d:Math.pow(__WEBPACK_IMPORTED_MODULE_1__color__.d,k),new Cubehelix(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=isNaN(this.h)?0:(this.h+120)*__WEBPACK_IMPORTED_MODULE_2__math__.a,l=+this.l,a=isNaN(this.s)?0:this.s*l*(1-l),cosh=Math.cos(h),sinh=Math.sin(h);return new __WEBPACK_IMPORTED_MODULE_1__color__.b(255*(l+a*(A*cosh+B*sinh)),255*(l+a*(C*cosh+D*sinh)),255*(l+a*(E*cosh)),this.opacity)}}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=band,__webpack_exports__.b=function point(){return function pointish(scale){var copy=scale.copy;scale.padding=scale.paddingOuter;delete scale.paddingInner;delete scale.paddingOuter;scale.copy=function(){return pointish(copy())};return scale}(band().paddingInner(1))};var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(51),__WEBPACK_IMPORTED_MODULE_1__ordinal__=__webpack_require__(657);function band(){var step,bandwidth,scale=Object(__WEBPACK_IMPORTED_MODULE_1__ordinal__.a)().unknown(void 0),domain=scale.domain,ordinalRange=scale.range,range=[0,1],round=!1,paddingInner=0,paddingOuter=0,align=.5;function rescale(){var n=domain().length,reverse=range[1]<range[0],start=range[reverse-0],stop=range[1-reverse];step=(stop-start)/Math.max(1,n-paddingInner+2*paddingOuter),round&&(step=Math.floor(step)),start+=(stop-start-step*(n-paddingInner))*align,bandwidth=step*(1-paddingInner),round&&(start=Math.round(start),bandwidth=Math.round(bandwidth));var values=Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.range)(n).map(function(i){return start+step*i});return ordinalRange(reverse?values.reverse():values)}return delete scale.unknown,scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()},scale.range=function(_){return arguments.length?(range=[+_[0],+_[1]],rescale()):range.slice()},scale.rangeRound=function(_){return range=[+_[0],+_[1]],round=!0,rescale()},scale.bandwidth=function(){return bandwidth},scale.step=function(){return step},scale.round=function(_){return arguments.length?(round=!!_,rescale()):round},scale.padding=function(_){return arguments.length?(paddingInner=paddingOuter=Math.max(0,Math.min(1,_)),rescale()):paddingInner},scale.paddingInner=function(_){return arguments.length?(paddingInner=Math.max(0,Math.min(1,_)),rescale()):paddingInner},scale.paddingOuter=function(_){return arguments.length?(paddingOuter=Math.max(0,Math.min(1,_)),rescale()):paddingOuter},scale.align=function(_){return arguments.length?(align=Math.max(0,Math.min(1,_)),rescale()):align},scale.copy=function(){return band().domain(domain()).range(range).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align)},rescale()}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function identity(){var domain=[0,1];function scale(x){return+x}scale.invert=scale;scale.domain=scale.range=function(_){return arguments.length?(domain=__WEBPACK_IMPORTED_MODULE_0__array__.a.call(_,__WEBPACK_IMPORTED_MODULE_2__number__.a),scale):domain.slice()};scale.copy=function(){return identity().domain(domain)};return Object(__WEBPACK_IMPORTED_MODULE_1__linear__.b)(scale)};var __WEBPACK_IMPORTED_MODULE_0__array__=__webpack_require__(143),__WEBPACK_IMPORTED_MODULE_1__linear__=__webpack_require__(230),__WEBPACK_IMPORTED_MODULE_2__number__=__webpack_require__(665)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){return b-=a=+a,function(t){return Math.round(a+b*t)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return interpolateTransformCss}),__webpack_require__.d(__webpack_exports__,"b",function(){return interpolateTransformSvg});var __WEBPACK_IMPORTED_MODULE_0__number__=__webpack_require__(274),__WEBPACK_IMPORTED_MODULE_1__parse__=__webpack_require__(1156);function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=parse(a),b=parse(b),function translate(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push("translate(",null,pxComma,null,pxParen);q.push({i:i-4,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(xa,xb)},{i:i-2,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(ya,yb)})}else(xb||yb)&&s.push("translate("+xb+pxComma+yb+pxParen)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function rotate(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(pop(s)+"rotate(",null,degParen)-2,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(a,b)})):b&&s.push(pop(s)+"rotate("+b+degParen)}(a.rotate,b.rotate,s,q),function skewX(a,b,s,q){a!==b?q.push({i:s.push(pop(s)+"skewX(",null,degParen)-2,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(a,b)}):b&&s.push(pop(s)+"skewX("+b+degParen)}(a.skewX,b.skewX,s,q),function scale(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push(pop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(xa,xb)},{i:i-2,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(ya,yb)})}else 1===xb&&1===yb||s.push(pop(s)+"scale("+xb+","+yb+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var o,i=-1,n=q.length;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}}var interpolateTransformCss=interpolateTransform(__WEBPACK_IMPORTED_MODULE_1__parse__.a,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(__WEBPACK_IMPORTED_MODULE_1__parse__.b,", ",")",")")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function parseCss(value){if("none"===value)return __WEBPACK_IMPORTED_MODULE_0__decompose__.b;cssNode||(cssNode=document.createElement("DIV"),cssRoot=document.documentElement,cssView=document.defaultView);return cssNode.style.transform=value,value=cssView.getComputedStyle(cssRoot.appendChild(cssNode),null).getPropertyValue("transform"),cssRoot.removeChild(cssNode),value=value.slice(7,-1).split(","),Object(__WEBPACK_IMPORTED_MODULE_0__decompose__.a)(+value[0],+value[1],+value[2],+value[3],+value[4],+value[5])},__webpack_exports__.b=function parseSvg(value){if(null==value)return __WEBPACK_IMPORTED_MODULE_0__decompose__.b;svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g"));return svgNode.setAttribute("transform",value),(value=svgNode.transform.baseVal.consolidate())?(value=value.matrix,Object(__WEBPACK_IMPORTED_MODULE_0__decompose__.a)(value.a,value.b,value.c,value.d,value.e,value.f)):__WEBPACK_IMPORTED_MODULE_0__decompose__.b};var cssNode,cssRoot,cssView,svgNode,__WEBPACK_IMPORTED_MODULE_0__decompose__=__webpack_require__(1157)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return identity});var degrees=180/Math.PI,identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};__webpack_exports__.a=function(a,b,c,d,e,f){var scaleX,scaleY,skewX;return(scaleX=Math.sqrt(a*a+b*b))&&(a/=scaleX,b/=scaleX),(skewX=a*c+b*d)&&(c-=a*skewX,d-=b*skewX),(scaleY=Math.sqrt(c*c+d*d))&&(c/=scaleY,d/=scaleY,skewX/=scaleY),a*d<b*c&&(a=-a,b=-b,skewX=-skewX,scaleX=-scaleX),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees,skewX:Math.atan(skewX)*degrees,scaleX:scaleX,scaleY:scaleY}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var rho=Math.SQRT2;function cosh(x){return((x=Math.exp(x))+1/x)/2}__webpack_exports__.a=function(p0,p1){var i,S,ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2],dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy;if(d2<1e-12)S=Math.log(w1/w0)/rho,i=function(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(rho*t*S)]};else{var d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+4*d2)/(2*w0*2*d1),b1=(w1*w1-w0*w0-4*d2)/(2*w1*2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1);S=(r1-r0)/rho,i=function(t){var s=t*S,coshr0=cosh(r0),u=w0/(2*d1)*(coshr0*function tanh(x){return((x=Math.exp(2*x))-1)/(x+1)}(rho*s+r0)-function sinh(x){return((x=Math.exp(x))-1/x)/2}(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/cosh(rho*s+r0)]}}return i.duration=1e3*S,i}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return hslLong});var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(102),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(231);function hsl(hue){return function(start,end){var h=hue((start=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.hsl)(start)).h,(end=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.hsl)(end)).h),s=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.s,end.s),l=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.l,end.l),opacity=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.opacity,end.opacity);return function(t){return start.h=h(t),start.s=s(t),start.l=l(t),start.opacity=opacity(t),start+""}}}__webpack_exports__.a=hsl(__WEBPACK_IMPORTED_MODULE_1__color__.c);var hslLong=hsl(__WEBPACK_IMPORTED_MODULE_1__color__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function lab(start,end){var l=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)((start=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.lab)(start)).l,(end=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.lab)(end)).l),a=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.a,end.a),b=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.b,end.b),opacity=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.opacity,end.opacity);return function(t){return start.l=l(t),start.a=a(t),start.b=b(t),start.opacity=opacity(t),start+""}};var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(102),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(231)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return hclLong});var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(102),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(231);function hcl(hue){return function(start,end){var h=hue((start=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.hcl)(start)).h,(end=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.hcl)(end)).h),c=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.c,end.c),l=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.l,end.l),opacity=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.opacity,end.opacity);return function(t){return start.h=h(t),start.c=c(t),start.l=l(t),start.opacity=opacity(t),start+""}}}__webpack_exports__.a=hcl(__WEBPACK_IMPORTED_MODULE_1__color__.c);var hclLong=hcl(__WEBPACK_IMPORTED_MODULE_1__color__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return cubehelixLong});var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(102),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(231);function cubehelix(hue){return function cubehelixGamma(y){function cubehelix(start,end){var h=hue((start=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.cubehelix)(start)).h,(end=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.cubehelix)(end)).h),s=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.s,end.s),l=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.l,end.l),opacity=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.opacity,end.opacity);return function(t){return start.h=h(t),start.s=s(t),start.l=l(Math.pow(t,y)),start.opacity=opacity(t),start+""}}return y=+y,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}__webpack_exports__.b=cubehelix(__WEBPACK_IMPORTED_MODULE_1__color__.c);var cubehelixLong=cubehelix(__WEBPACK_IMPORTED_MODULE_1__color__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(interpolator,n){for(var samples=new Array(n),i=0;i<n;++i)samples[i]=interpolator(i/(n-1));return samples}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(51),__WEBPACK_IMPORTED_MODULE_1_d3_format__=__webpack_require__(666);__webpack_exports__.a=function(domain,count,specifier){var precision,start=domain[0],stop=domain[domain.length-1],step=Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.tickStep)(start,stop,null==count?10:count);switch((specifier=Object(__WEBPACK_IMPORTED_MODULE_1_d3_format__.c)(null==specifier?",f":specifier)).type){case"s":var value=Math.max(Math.abs(start),Math.abs(stop));return null!=specifier.precision||isNaN(precision=Object(__WEBPACK_IMPORTED_MODULE_1_d3_format__.e)(step,value))||(specifier.precision=precision),Object(__WEBPACK_IMPORTED_MODULE_1_d3_format__.b)(specifier,value);case"":case"e":case"g":case"p":case"r":null!=specifier.precision||isNaN(precision=Object(__WEBPACK_IMPORTED_MODULE_1_d3_format__.f)(step,Math.max(Math.abs(start),Math.abs(stop))))||(specifier.precision=precision-("e"===specifier.type));break;case"f":case"%":null!=specifier.precision||isNaN(precision=Object(__WEBPACK_IMPORTED_MODULE_1_d3_format__.d)(step))||(specifier.precision=precision-2*("%"===specifier.type))}return Object(__WEBPACK_IMPORTED_MODULE_1_d3_format__.a)(specifier)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return format}),__webpack_require__.d(__webpack_exports__,"b",function(){return formatPrefix});var locale,format,formatPrefix,__WEBPACK_IMPORTED_MODULE_0__locale__=__webpack_require__(667);!function defaultLocale(definition){return locale=Object(__WEBPACK_IMPORTED_MODULE_0__locale__.a)(definition),format=locale.format,formatPrefix=locale.formatPrefix,locale}({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(grouping,thousands){return function(value,width){for(var i=value.length,t=[],j=0,g=grouping[0],length=0;i>0&&g>0&&(length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g)),!((length+=g+1)>width));)g=grouping[j=(j+1)%grouping.length];return t.reverse().join(thousands)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(numerals){return function(value){return value.replace(/[0-9]/g,function(i){return numerals[+i]})}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x,p){x=x.toPrecision(p);out:for(var i1,n=x.length,i=1,i0=-1;i<n;++i)switch(x[i]){case".":i0=i1=i;break;case"0":0===i0&&(i0=i),i1=i;break;case"e":break out;default:i0>0&&(i0=0)}return i0>0?x.slice(0,i0)+x.slice(i1+1):x}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__formatDecimal__=__webpack_require__(496);__webpack_exports__.a=function(x,p){var d=Object(__WEBPACK_IMPORTED_MODULE_0__formatDecimal__.a)(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1];return exponent<0?"0."+new Array(-exponent).join("0")+coefficient:coefficient.length>exponent+1?coefficient.slice(0,exponent+1)+"."+coefficient.slice(exponent+1):coefficient+new Array(exponent-coefficient.length+2).join("0")}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return x}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__exponent__=__webpack_require__(276);__webpack_exports__.a=function(step){return Math.max(0,-Object(__WEBPACK_IMPORTED_MODULE_0__exponent__.a)(Math.abs(step)))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__exponent__=__webpack_require__(276);__webpack_exports__.a=function(step,value){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(__WEBPACK_IMPORTED_MODULE_0__exponent__.a)(value)/3)))-Object(__WEBPACK_IMPORTED_MODULE_0__exponent__.a)(Math.abs(step)))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__exponent__=__webpack_require__(276);__webpack_exports__.a=function(step,max){return step=Math.abs(step),max=Math.abs(max)-step,Math.max(0,Object(__WEBPACK_IMPORTED_MODULE_0__exponent__.a)(max)-Object(__WEBPACK_IMPORTED_MODULE_0__exponent__.a)(step))+1}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function log(){var scale=Object(__WEBPACK_IMPORTED_MODULE_4__continuous__.b)(deinterpolate,reinterpolate).domain([1,10]),domain=scale.domain,base=10,logs=logp(10),pows=powp(10);function rescale(){return logs=logp(base),pows=powp(base),domain()[0]<0&&(logs=reflect(logs),pows=reflect(pows)),scale}scale.base=function(_){return arguments.length?(base=+_,rescale()):base};scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()};scale.ticks=function(count){var r,d=domain(),u=d[0],v=d[d.length-1];(r=v<u)&&(i=u,u=v,v=i);var p,k,t,i=logs(u),j=logs(v),n=null==count?10:+count,z=[];if(!(base%1)&&j-i<n){if(i=Math.round(i)-1,j=Math.round(j)+1,u>0){for(;i<j;++i)for(k=1,p=pows(i);k<base;++k)if(!((t=p*k)<u)){if(t>v)break;z.push(t)}}else for(;i<j;++i)for(k=base-1,p=pows(i);k>=1;--k)if(!((t=p*k)<u)){if(t>v)break;z.push(t)}}else z=Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.ticks)(i,j,Math.min(j-i,n)).map(pows);return r?z.reverse():z};scale.tickFormat=function(count,specifier){if(null==specifier&&(specifier=10===base?".0e":","),"function"!=typeof specifier&&(specifier=Object(__WEBPACK_IMPORTED_MODULE_1_d3_format__.a)(specifier)),count===1/0)return specifier;null==count&&(count=10);var k=Math.max(1,base*count/scale.ticks().length);return function(d){var i=d/pows(Math.round(logs(d)));return i*base<base-.5&&(i*=base),i<=k?specifier(d):""}};scale.nice=function(){return domain(Object(__WEBPACK_IMPORTED_MODULE_3__nice__.a)(domain(),{floor:function(x){return pows(Math.floor(logs(x)))},ceil:function(x){return pows(Math.ceil(logs(x)))}}))};scale.copy=function(){return Object(__WEBPACK_IMPORTED_MODULE_4__continuous__.a)(scale,log().base(base))};return scale};var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(51),__WEBPACK_IMPORTED_MODULE_1_d3_format__=__webpack_require__(666),__WEBPACK_IMPORTED_MODULE_2__constant__=__webpack_require__(495),__WEBPACK_IMPORTED_MODULE_3__nice__=__webpack_require__(671),__WEBPACK_IMPORTED_MODULE_4__continuous__=__webpack_require__(275);function deinterpolate(a,b){return(b=Math.log(b/a))?function(x){return Math.log(x/a)/b}:Object(__WEBPACK_IMPORTED_MODULE_2__constant__.a)(b)}function reinterpolate(a,b){return a<0?function(t){return-Math.pow(-b,t)*Math.pow(-a,1-t)}:function(t){return Math.pow(b,t)*Math.pow(a,1-t)}}function pow10(x){return isFinite(x)?+("1e"+x):x<0?0:x}function powp(base){return 10===base?pow10:base===Math.E?Math.exp:function(x){return Math.pow(base,x)}}function logp(base){return base===Math.E?Math.log:10===base&&Math.log10||2===base&&Math.log2||(base=Math.log(base),function(x){return Math.log(x)/base})}function reflect(f){return function(x){return-f(-x)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=pow,__webpack_exports__.b=function sqrt(){return pow().exponent(.5)};var __WEBPACK_IMPORTED_MODULE_0__constant__=__webpack_require__(495),__WEBPACK_IMPORTED_MODULE_1__linear__=__webpack_require__(230),__WEBPACK_IMPORTED_MODULE_2__continuous__=__webpack_require__(275);function raise(x,exponent){return x<0?-Math.pow(-x,exponent):Math.pow(x,exponent)}function pow(){var exponent=1,scale=Object(__WEBPACK_IMPORTED_MODULE_2__continuous__.b)(function deinterpolate(a,b){return(b=raise(b,exponent)-(a=raise(a,exponent)))?function(x){return(raise(x,exponent)-a)/b}:Object(__WEBPACK_IMPORTED_MODULE_0__constant__.a)(b)},function reinterpolate(a,b){return b=raise(b,exponent)-(a=raise(a,exponent)),function(t){return raise(a+b*t,1/exponent)}}),domain=scale.domain;return scale.exponent=function(_){return arguments.length?(exponent=+_,domain(domain())):exponent},scale.copy=function(){return Object(__WEBPACK_IMPORTED_MODULE_2__continuous__.a)(scale,pow().exponent(exponent))},Object(__WEBPACK_IMPORTED_MODULE_1__linear__.b)(scale)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function quantile(){var domain=[],range=[],thresholds=[];function rescale(){var i=0,n=Math.max(1,range.length);for(thresholds=new Array(n-1);++i<n;)thresholds[i-1]=Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.quantile)(domain,i/n);return scale}function scale(x){if(!isNaN(x=+x))return range[Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.bisect)(thresholds,x)]}scale.invertExtent=function(y){var i=range.indexOf(y);return i<0?[NaN,NaN]:[i>0?thresholds[i-1]:domain[0],i<thresholds.length?thresholds[i]:domain[domain.length-1]]};scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[];for(var d,i=0,n=_.length;i<n;++i)null==(d=_[i])||isNaN(d=+d)||domain.push(d);return domain.sort(__WEBPACK_IMPORTED_MODULE_0_d3_array__.ascending),rescale()};scale.range=function(_){return arguments.length?(range=__WEBPACK_IMPORTED_MODULE_1__array__.b.call(_),rescale()):range.slice()};scale.quantiles=function(){return thresholds.slice()};scale.copy=function(){return quantile().domain(domain).range(range)};return scale};var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(51),__WEBPACK_IMPORTED_MODULE_1__array__=__webpack_require__(143)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function quantize(){var x0=0,x1=1,n=1,domain=[.5],range=[0,1];function scale(x){if(x<=x)return range[Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.bisect)(domain,x,0,n)]}function rescale(){var i=-1;for(domain=new Array(n);++i<n;)domain[i]=((i+1)*x1-(i-n)*x0)/(n+1);return scale}scale.domain=function(_){return arguments.length?(x0=+_[0],x1=+_[1],rescale()):[x0,x1]};scale.range=function(_){return arguments.length?(n=(range=__WEBPACK_IMPORTED_MODULE_1__array__.b.call(_)).length-1,rescale()):range.slice()};scale.invertExtent=function(y){var i=range.indexOf(y);return i<0?[NaN,NaN]:i<1?[x0,domain[0]]:i>=n?[domain[n-1],x1]:[domain[i-1],domain[i]]};scale.copy=function(){return quantize().domain([x0,x1]).range(range)};return Object(__WEBPACK_IMPORTED_MODULE_2__linear__.b)(scale)};var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(51),__WEBPACK_IMPORTED_MODULE_1__array__=__webpack_require__(143),__WEBPACK_IMPORTED_MODULE_2__linear__=__webpack_require__(230)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function threshold(){var domain=[.5],range=[0,1],n=1;function scale(x){if(x<=x)return range[Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.bisect)(domain,x,0,n)]}scale.domain=function(_){return arguments.length?(domain=__WEBPACK_IMPORTED_MODULE_1__array__.b.call(_),n=Math.min(domain.length,range.length-1),scale):domain.slice()};scale.range=function(_){return arguments.length?(range=__WEBPACK_IMPORTED_MODULE_1__array__.b.call(_),n=Math.min(domain.length,range.length-1),scale):range.slice()};scale.invertExtent=function(y){var i=range.indexOf(y);return[domain[i-1],domain[i]]};scale.copy=function(){return threshold().domain(domain).range(range)};return scale};var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(51),__WEBPACK_IMPORTED_MODULE_1__array__=__webpack_require__(143)},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(40),millisecond=Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(){},function(date,step){date.setTime(+date+step)},function(start,end){return end-start});millisecond.every=function(k){return k=Math.floor(k),isFinite(k)&&k>0?k>1?Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setTime(Math.floor(date/k)*k)},function(date,step){date.setTime(+date+step*k)},function(start,end){return(end-start)/k}):millisecond:null},__webpack_exports__.a=millisecond;millisecond.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(89),second=Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setTime(Math.floor(date/__WEBPACK_IMPORTED_MODULE_1__duration__.d)*__WEBPACK_IMPORTED_MODULE_1__duration__.d)},function(date,step){date.setTime(+date+step*__WEBPACK_IMPORTED_MODULE_1__duration__.d)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.d},function(date){return date.getUTCSeconds()});__webpack_exports__.a=second;second.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(89),minute=Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setTime(Math.floor(date/__WEBPACK_IMPORTED_MODULE_1__duration__.c)*__WEBPACK_IMPORTED_MODULE_1__duration__.c)},function(date,step){date.setTime(+date+step*__WEBPACK_IMPORTED_MODULE_1__duration__.c)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.c},function(date){return date.getMinutes()});__webpack_exports__.a=minute;minute.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(89),hour=Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){var offset=date.getTimezoneOffset()*__WEBPACK_IMPORTED_MODULE_1__duration__.c%__WEBPACK_IMPORTED_MODULE_1__duration__.b;offset<0&&(offset+=__WEBPACK_IMPORTED_MODULE_1__duration__.b),date.setTime(Math.floor((+date-offset)/__WEBPACK_IMPORTED_MODULE_1__duration__.b)*__WEBPACK_IMPORTED_MODULE_1__duration__.b+offset)},function(date,step){date.setTime(+date+step*__WEBPACK_IMPORTED_MODULE_1__duration__.b)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.b},function(date){return date.getHours()});__webpack_exports__.a=hour;hour.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(89),day=Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setHours(0,0,0,0)},function(date,step){date.setDate(date.getDate()+step)},function(start,end){return(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*__WEBPACK_IMPORTED_MODULE_1__duration__.c)/__WEBPACK_IMPORTED_MODULE_1__duration__.a},function(date){return date.getDate()-1});__webpack_exports__.a=day;day.range},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return sunday}),__webpack_require__.d(__webpack_exports__,"a",function(){return monday}),__webpack_require__.d(__webpack_exports__,"c",function(){return thursday});var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(89);function weekday(i){return Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setDate(date.getDate()-(date.getDay()+7-i)%7),date.setHours(0,0,0,0)},function(date,step){date.setDate(date.getDate()+7*step)},function(start,end){return(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*__WEBPACK_IMPORTED_MODULE_1__duration__.c)/__WEBPACK_IMPORTED_MODULE_1__duration__.e})}var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6);sunday.range,monday.range,tuesday.range,wednesday.range,thursday.range,friday.range,saturday.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(40),month=Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setDate(1),date.setHours(0,0,0,0)},function(date,step){date.setMonth(date.getMonth()+step)},function(start,end){return end.getMonth()-start.getMonth()+12*(end.getFullYear()-start.getFullYear())},function(date){return date.getMonth()});__webpack_exports__.a=month;month.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(40),year=Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setMonth(0,1),date.setHours(0,0,0,0)},function(date,step){date.setFullYear(date.getFullYear()+step)},function(start,end){return end.getFullYear()-start.getFullYear()},function(date){return date.getFullYear()});year.every=function(k){return isFinite(k=Math.floor(k))&&k>0?Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setFullYear(Math.floor(date.getFullYear()/k)*k),date.setMonth(0,1),date.setHours(0,0,0,0)},function(date,step){date.setFullYear(date.getFullYear()+step*k)}):null},__webpack_exports__.a=year;year.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(89),utcMinute=Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCSeconds(0,0)},function(date,step){date.setTime(+date+step*__WEBPACK_IMPORTED_MODULE_1__duration__.c)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.c},function(date){return date.getUTCMinutes()});__webpack_exports__.a=utcMinute;utcMinute.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(89),utcHour=Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCMinutes(0,0,0)},function(date,step){date.setTime(+date+step*__WEBPACK_IMPORTED_MODULE_1__duration__.b)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.b},function(date){return date.getUTCHours()});__webpack_exports__.a=utcHour;utcHour.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(89),utcDay=Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCDate(date.getUTCDate()+step)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.a},function(date){return date.getUTCDate()-1});__webpack_exports__.a=utcDay;utcDay.range},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return utcSunday}),__webpack_require__.d(__webpack_exports__,"a",function(){return utcMonday}),__webpack_require__.d(__webpack_exports__,"c",function(){return utcThursday});var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_1__duration__=__webpack_require__(89);function utcWeekday(i){return Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCDate(date.getUTCDate()-(date.getUTCDay()+7-i)%7),date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCDate(date.getUTCDate()+7*step)},function(start,end){return(end-start)/__WEBPACK_IMPORTED_MODULE_1__duration__.e})}var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range,utcMonday.range,utcTuesday.range,utcWednesday.range,utcThursday.range,utcFriday.range,utcSaturday.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(40),utcMonth=Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCDate(1),date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCMonth(date.getUTCMonth()+step)},function(start,end){return end.getUTCMonth()-start.getUTCMonth()+12*(end.getUTCFullYear()-start.getUTCFullYear())},function(date){return date.getUTCMonth()});__webpack_exports__.a=utcMonth;utcMonth.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interval__=__webpack_require__(40),utcYear=Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step)},function(start,end){return end.getUTCFullYear()-start.getUTCFullYear()},function(date){return date.getUTCFullYear()});utcYear.every=function(k){return isFinite(k=Math.floor(k))&&k>0?Object(__WEBPACK_IMPORTED_MODULE_0__interval__.a)(function(date){date.setUTCFullYear(Math.floor(date.getUTCFullYear()/k)*k),date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step*k)}):null},__webpack_exports__.a=utcYear;utcYear.range},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__isoFormat__=__webpack_require__(675),__WEBPACK_IMPORTED_MODULE_1__defaultLocale__=__webpack_require__(498);+new Date("2000-01-01T00:00:00.000Z")||Object(__WEBPACK_IMPORTED_MODULE_1__defaultLocale__.c)(__WEBPACK_IMPORTED_MODULE_0__isoFormat__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__time__=__webpack_require__(672),__WEBPACK_IMPORTED_MODULE_1_d3_time_format__=__webpack_require__(673),__WEBPACK_IMPORTED_MODULE_2_d3_time__=__webpack_require__(497);__webpack_exports__.a=function(){return Object(__WEBPACK_IMPORTED_MODULE_0__time__.a)(__WEBPACK_IMPORTED_MODULE_2_d3_time__.v,__WEBPACK_IMPORTED_MODULE_2_d3_time__.q,__WEBPACK_IMPORTED_MODULE_2_d3_time__.u,__WEBPACK_IMPORTED_MODULE_2_d3_time__.l,__WEBPACK_IMPORTED_MODULE_2_d3_time__.m,__WEBPACK_IMPORTED_MODULE_2_d3_time__.o,__WEBPACK_IMPORTED_MODULE_2_d3_time__.r,__WEBPACK_IMPORTED_MODULE_2_d3_time__.n,__WEBPACK_IMPORTED_MODULE_1_d3_time_format__.b).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function sequential(interpolator){var x0=0,x1=1,clamp=!1;function scale(x){var t=(x-x0)/(x1-x0);return interpolator(clamp?Math.max(0,Math.min(1,t)):t)}scale.domain=function(_){return arguments.length?(x0=+_[0],x1=+_[1],scale):[x0,x1]};scale.clamp=function(_){return arguments.length?(clamp=!!_,scale):clamp};scale.interpolator=function(_){return arguments.length?(interpolator=_,scale):interpolator};scale.copy=function(){return sequential(interpolator).domain([x0,x1]).clamp(clamp)};return Object(__WEBPACK_IMPORTED_MODULE_0__linear__.b)(scale)};var __WEBPACK_IMPORTED_MODULE_0__linear__=__webpack_require__(230)},function(module,exports,__webpack_require__){"use strict";function defaultEqualityCheck(a,b){return a===b}function defaultMemoize(func){var equalityCheck=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultEqualityCheck,lastArgs=null,lastResult=null;return function(){return function areArgumentsShallowlyEqual(equalityCheck,prev,next){if(null===prev||null===next||prev.length!==next.length)return!1;for(var length=prev.length,i=0;i<length;i++)if(!equalityCheck(prev[i],next[i]))return!1;return!0}(equalityCheck,lastArgs,arguments)||(lastResult=func.apply(null,arguments)),lastArgs=arguments,lastResult}}function createSelectorCreator(memoize){for(var _len=arguments.length,memoizeOptions=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)memoizeOptions[_key-1]=arguments[_key];return function(){for(var _len2=arguments.length,funcs=Array(_len2),_key2=0;_key2<_len2;_key2++)funcs[_key2]=arguments[_key2];var recomputations=0,resultFunc=funcs.pop(),dependencies=function getDependencies(funcs){var dependencies=Array.isArray(funcs[0])?funcs[0]:funcs;if(!dependencies.every(function(dep){return"function"==typeof dep})){var dependencyTypes=dependencies.map(function(dep){return typeof dep}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+dependencyTypes+"]")}return dependencies}(funcs),memoizedResultFunc=memoize.apply(void 0,[function(){return recomputations++,resultFunc.apply(null,arguments)}].concat(memoizeOptions)),selector=defaultMemoize(function(){for(var params=[],length=dependencies.length,i=0;i<length;i++)params.push(dependencies[i].apply(null,arguments));return memoizedResultFunc.apply(null,params)});return selector.resultFunc=resultFunc,selector.recomputations=function(){return recomputations},selector.resetRecomputations=function(){return recomputations=0},selector}}exports.__esModule=!0,exports.defaultMemoize=defaultMemoize,exports.createSelectorCreator=createSelectorCreator,exports.createStructuredSelector=function createStructuredSelector(selectors){var selectorCreator=arguments.length>1&&void 0!==arguments[1]?arguments[1]:createSelector;if("object"!=typeof selectors)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof selectors);var objectKeys=Object.keys(selectors);return selectorCreator(objectKeys.map(function(key){return selectors[key]}),function(){for(var _len3=arguments.length,values=Array(_len3),_key3=0;_key3<_len3;_key3++)values[_key3]=arguments[_key3];return values.reduce(function(composition,value,index){return composition[objectKeys[index]]=value,composition},{})})};var createSelector=exports.createSelector=createSelectorCreator(defaultMemoize)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var LocationTotalsLegend_1=__webpack_require__(1198);exports.LocationTotalsLegend=LocationTotalsLegend_1.default;var DiffColorsLegend_1=__webpack_require__(1199);exports.DiffColorsLegend=DiffColorsLegend_1.default},function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var React=__importStar(__webpack_require__(0)),colorUtils_1=__webpack_require__(499),types_1=__webpack_require__(277),Disc_1=__importDefault(__webpack_require__(676)),styles={outer:{display:"flex",flexDirection:"column"},item:{outer:{display:"flex",flexDirection:"row",padding:"3px 0",alignItems:"center"},caption:{marginLeft:2}}};exports.default=function(_a){var colors=_a.colors,pos=colorUtils_1.getLocationCircleColors(colors,!0),neg=types_1.isDiffColors(colors)?colorUtils_1.getLocationCircleColors(colors,!1):void 0;return React.createElement("div",{style:styles.outer},React.createElement("div",null,React.createElement("div",{style:styles.item.outer},React.createElement(Disc_1.default,{size:20,inner:pos.inner,outer:pos.inner}),neg&&React.createElement(Disc_1.default,{size:20,inner:neg.inner,outer:neg.inner}),React.createElement("div",{style:styles.item.caption},"outgoing ≅ incoming")),React.createElement("div",{style:styles.item.outer},React.createElement(Disc_1.default,{size:20,inner:pos.inner,outer:pos.outgoing}),neg&&React.createElement(Disc_1.default,{size:20,inner:neg.inner,outer:neg.outgoing}),React.createElement("div",{style:styles.item.caption},"more outgoing")),React.createElement("div",{style:styles.item.outer},React.createElement(Disc_1.default,{size:20,inner:pos.inner,outer:pos.incoming}),neg&&React.createElement(Disc_1.default,{size:20,inner:neg.inner,outer:neg.incoming}),React.createElement("div",{style:styles.item.caption},"more incoming"))))}},function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var React=__importStar(__webpack_require__(0)),colorUtils_1=__webpack_require__(499),Disc_1=__importDefault(__webpack_require__(676)),styles={outer:{display:"flex",flexDirection:"column"},disc:{marginRight:5},item:{outer:{display:"flex",flexDirection:"row",padding:"3px 0",alignItems:"center"},caption:{marginLeft:2}}};exports.default=function(_a){var colors=_a.colors,pos=colorUtils_1.getLocationCircleColors(colors,!0),neg=colorUtils_1.getLocationCircleColors(colors,!1);return React.createElement("div",{style:styles.outer},React.createElement("div",{style:styles.item.outer},React.createElement(Disc_1.default,{size:20,inner:pos.inner,outer:pos.inner}),React.createElement("div",{style:styles.item.caption},"positive difference")),React.createElement("div",{style:styles.item.outer},React.createElement(Disc_1.default,{size:20,inner:neg.inner,outer:neg.inner}),React.createElement("div",{style:styles.item.caption},"negative difference")))}},function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(__webpack_require__(0)),styles_outer={position:"absolute",background:"#fff",padding:10,borderRadius:4,border:"1px solid #ccc",fontFamily:"sans-serif",fontSize:11};exports.default=function(_a){var top=_a.top,left=_a.left,right=_a.right,bottom=_a.bottom,children=_a.children;return react_1.default.createElement("div",{style:__assign({},styles_outer,{top:top,left:left,right:right,bottom:bottom})},children)}},function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}},__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var deck_gl_1=__importDefault(__webpack_require__(217)),React=__importStar(__webpack_require__(0)),react_map_gl_1=__importDefault(__webpack_require__(633)),src_1=__importDefault(__webpack_require__(640)),colors={flows:{max:"#137CBD"},locationAreas:{outline:"rgba(92,112,128,0.5)",normal:"rgba(187,187,187,0.5)",selected:"rgba(217,130,43,0.5)"}};exports.default=function(_a){var width=_a.width,height=_a.height,locations=_a.locations,flows=_a.flows,viewport=_a.viewport,mapboxAccessToken=_a.mapboxAccessToken,flowMapLayer=new src_1.default({id:"flow-map-layer",colors:colors,locations:locations,flows:flows,getLocationId:function(loc){return loc.properties.abbr},showLocationAreas:!0,getFlowMagnitude:function(f){return f.count},varyFlowColorByMagnitude:!0,showTotals:!0});return React.createElement(react_map_gl_1.default,__assign({},viewport,{width:width,height:height,mapboxApiAccessToken:mapboxAccessToken}),React.createElement(deck_gl_1.default,__assign({},viewport,{width:width,height:height,style:{mixBlendMode:"darken"},layers:[flowMapLayer]})))}},function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var geoViewport=__importStar(__webpack_require__(1203)),d3_geo_1=__webpack_require__(1205);exports.getViewportForFeature=function(featureCollection,size,opts){var _a=opts||{},_b=_a.pad,pad=void 0===_b?0:_b,_c=_a.tileSize,tileSize=void 0===_c?512:_c,_d=_a.minZoom,minZoom=void 0===_d?0:_d,_e=_a.maxZoom,maxZoom=void 0===_e?100:_e,_f=d3_geo_1.geoBounds(featureCollection),_g=_f[0],x1=_g[0],y1=_g[1],_h=_f[1],x2=_h[0],y2=_h[1],bounds=[x1-pad*(x2-x1),y1-pad*(y2-y1),x2+pad*(x2-x1),y2+pad*(y2-y1)],_j=geoViewport.viewport(bounds,size,void 0,void 0,tileSize),_k=_j.center,longitude=_k[0],latitude=_k[1],zoom=_j.zoom;return{longitude:longitude,latitude:latitude,zoom:Math.max(Math.min(maxZoom,zoom),minZoom)}}},function(module,exports,__webpack_require__){var SphericalMercator=__webpack_require__(1204),smCache={};function fetchMerc(tileSize){return smCache[tileSize=tileSize||256]||(smCache[tileSize]=new SphericalMercator({size:tileSize})),smCache[tileSize]}module.exports.viewport=function viewport(bounds,dimensions,minzoom,maxzoom,tileSize){minzoom=void 0===minzoom?0:minzoom,maxzoom=void 0===maxzoom?20:maxzoom;var merc=fetchMerc(tileSize),base=maxzoom,bl=merc.px([bounds[0],bounds[1]],base),tr=merc.px([bounds[2],bounds[3]],base),width=tr[0]-bl[0],height=bl[1]-tr[1],ratios=[width/dimensions[0],height/dimensions[1]],center=[(bounds[0]+bounds[2])/2,(bounds[1]+bounds[3])/2],adjusted=Math.floor(Math.min(base-Math.log(ratios[0])/Math.log(2),base-Math.log(ratios[1])/Math.log(2))),zoom=Math.max(minzoom,Math.min(maxzoom,adjusted));return{center:center,zoom:zoom}},module.exports.bounds=function bounds(viewport,zoom,dimensions,tileSize){void 0!==viewport.lon&&(viewport=[viewport.lon,viewport.lat]);var merc=fetchMerc(tileSize),px=merc.px(viewport,zoom),tl=merc.ll([px[0]-dimensions[0]/2,px[1]-dimensions[1]/2],zoom),br=merc.ll([px[0]+dimensions[0]/2,px[1]+dimensions[1]/2],zoom);return[tl[0],br[1],br[0],tl[1]]}},function(module,exports,__webpack_require__){var SphericalMercator=function(){var cache={},D2R=Math.PI/180,R2D=180/Math.PI,A=6378137,MAXEXTENT=20037508.342789244;function SphericalMercator(options){if(options=options||{},this.size=options.size||256,!cache[this.size]){var size=this.size,c=cache[this.size]={};c.Bc=[],c.Cc=[],c.zc=[],c.Ac=[];for(var d=0;d<30;d++)c.Bc.push(size/360),c.Cc.push(size/(2*Math.PI)),c.zc.push(size/2),c.Ac.push(size),size*=2}this.Bc=cache[this.size].Bc,this.Cc=cache[this.size].Cc,this.zc=cache[this.size].zc,this.Ac=cache[this.size].Ac}return SphericalMercator.prototype.px=function(ll,zoom){var d=this.zc[zoom],f=Math.min(Math.max(Math.sin(D2R*ll[1]),-.9999),.9999),x=Math.round(d+ll[0]*this.Bc[zoom]),y=Math.round(d+.5*Math.log((1+f)/(1-f))*-this.Cc[zoom]);return x>this.Ac[zoom]&&(x=this.Ac[zoom]),y>this.Ac[zoom]&&(y=this.Ac[zoom]),[x,y]},SphericalMercator.prototype.ll=function(px,zoom){var g=(px[1]-this.zc[zoom])/-this.Cc[zoom];return[(px[0]-this.zc[zoom])/this.Bc[zoom],R2D*(2*Math.atan(Math.exp(g))-.5*Math.PI)]},SphericalMercator.prototype.bbox=function(x,y,zoom,tms_style,srs){tms_style&&(y=Math.pow(2,zoom)-1-y);var ll=[x*this.size,(+y+1)*this.size],ur=[(+x+1)*this.size,y*this.size],bbox=this.ll(ll,zoom).concat(this.ll(ur,zoom));return"900913"===srs?this.convert(bbox,"900913"):bbox},SphericalMercator.prototype.xyz=function(bbox,zoom,tms_style,srs){"900913"===srs&&(bbox=this.convert(bbox,"WGS84"));var ll=[bbox[0],bbox[1]],ur=[bbox[2],bbox[3]],px_ll=this.px(ll,zoom),px_ur=this.px(ur,zoom),x=[Math.floor(px_ll[0]/this.size),Math.floor((px_ur[0]-1)/this.size)],y=[Math.floor(px_ur[1]/this.size),Math.floor((px_ll[1]-1)/this.size)],bounds={minX:Math.min.apply(Math,x)<0?0:Math.min.apply(Math,x),minY:Math.min.apply(Math,y)<0?0:Math.min.apply(Math,y),maxX:Math.max.apply(Math,x),maxY:Math.max.apply(Math,y)};if(tms_style){var tms={minY:Math.pow(2,zoom)-1-bounds.maxY,maxY:Math.pow(2,zoom)-1-bounds.minY};bounds.minY=tms.minY,bounds.maxY=tms.maxY}return bounds},SphericalMercator.prototype.convert=function(bbox,to){return"900913"===to?this.forward(bbox.slice(0,2)).concat(this.forward(bbox.slice(2,4))):this.inverse(bbox.slice(0,2)).concat(this.inverse(bbox.slice(2,4)))},SphericalMercator.prototype.forward=function(ll){var xy=[A*ll[0]*D2R,A*Math.log(Math.tan(.25*Math.PI+.5*ll[1]*D2R))];return xy[0]>MAXEXTENT&&(xy[0]=MAXEXTENT),xy[0]<-MAXEXTENT&&(xy[0]=-MAXEXTENT),xy[1]>MAXEXTENT&&(xy[1]=MAXEXTENT),xy[1]<-MAXEXTENT&&(xy[1]=-MAXEXTENT),xy},SphericalMercator.prototype.inverse=function(xy){return[xy[0]*R2D/A,(.5*Math.PI-2*Math.atan(Math.exp(-xy[1]/A)))*R2D]},SphericalMercator}();module.exports=SphericalMercator},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_area__=__webpack_require__(677);__webpack_require__.d(__webpack_exports__,"geoArea",function(){return __WEBPACK_IMPORTED_MODULE_0__src_area__.c});var __WEBPACK_IMPORTED_MODULE_1__src_bounds__=__webpack_require__(1206);__webpack_require__.d(__webpack_exports__,"geoBounds",function(){return __WEBPACK_IMPORTED_MODULE_1__src_bounds__.a});var __WEBPACK_IMPORTED_MODULE_2__src_centroid__=__webpack_require__(1207);__webpack_require__.d(__webpack_exports__,"geoCentroid",function(){return __WEBPACK_IMPORTED_MODULE_2__src_centroid__.a});var __WEBPACK_IMPORTED_MODULE_3__src_circle__=__webpack_require__(678);__webpack_require__.d(__webpack_exports__,"geoCircle",function(){return __WEBPACK_IMPORTED_MODULE_3__src_circle__.b});var __WEBPACK_IMPORTED_MODULE_4__src_clip_antimeridian__=__webpack_require__(680);__webpack_require__.d(__webpack_exports__,"geoClipAntimeridian",function(){return __WEBPACK_IMPORTED_MODULE_4__src_clip_antimeridian__.a});var __WEBPACK_IMPORTED_MODULE_5__src_clip_circle__=__webpack_require__(686);__webpack_require__.d(__webpack_exports__,"geoClipCircle",function(){return __WEBPACK_IMPORTED_MODULE_5__src_clip_circle__.a});var __WEBPACK_IMPORTED_MODULE_6__src_clip_extent__=__webpack_require__(1209);__webpack_require__.d(__webpack_exports__,"geoClipExtent",function(){return __WEBPACK_IMPORTED_MODULE_6__src_clip_extent__.a});var __WEBPACK_IMPORTED_MODULE_7__src_clip_rectangle__=__webpack_require__(279);__webpack_require__.d(__webpack_exports__,"geoClipRectangle",function(){return __WEBPACK_IMPORTED_MODULE_7__src_clip_rectangle__.a});var __WEBPACK_IMPORTED_MODULE_8__src_contains__=__webpack_require__(1211);__webpack_require__.d(__webpack_exports__,"geoContains",function(){return __WEBPACK_IMPORTED_MODULE_8__src_contains__.a});var __WEBPACK_IMPORTED_MODULE_9__src_distance__=__webpack_require__(687);__webpack_require__.d(__webpack_exports__,"geoDistance",function(){return __WEBPACK_IMPORTED_MODULE_9__src_distance__.a});var __WEBPACK_IMPORTED_MODULE_10__src_graticule__=__webpack_require__(1212);__webpack_require__.d(__webpack_exports__,"geoGraticule",function(){return __WEBPACK_IMPORTED_MODULE_10__src_graticule__.a}),__webpack_require__.d(__webpack_exports__,"geoGraticule10",function(){return __WEBPACK_IMPORTED_MODULE_10__src_graticule__.b});var __WEBPACK_IMPORTED_MODULE_11__src_interpolate__=__webpack_require__(1213);__webpack_require__.d(__webpack_exports__,"geoInterpolate",function(){return __WEBPACK_IMPORTED_MODULE_11__src_interpolate__.a});var __WEBPACK_IMPORTED_MODULE_12__src_length__=__webpack_require__(688);__webpack_require__.d(__webpack_exports__,"geoLength",function(){return __WEBPACK_IMPORTED_MODULE_12__src_length__.a});var __WEBPACK_IMPORTED_MODULE_13__src_path_index__=__webpack_require__(1214);__webpack_require__.d(__webpack_exports__,"geoPath",function(){return __WEBPACK_IMPORTED_MODULE_13__src_path_index__.a});var __WEBPACK_IMPORTED_MODULE_14__src_projection_albers__=__webpack_require__(690);__webpack_require__.d(__webpack_exports__,"geoAlbers",function(){return __WEBPACK_IMPORTED_MODULE_14__src_projection_albers__.a});var __WEBPACK_IMPORTED_MODULE_15__src_projection_albersUsa__=__webpack_require__(1222);__webpack_require__.d(__webpack_exports__,"geoAlbersUsa",function(){return __WEBPACK_IMPORTED_MODULE_15__src_projection_albersUsa__.a});var __WEBPACK_IMPORTED_MODULE_16__src_projection_azimuthalEqualArea__=__webpack_require__(1223);__webpack_require__.d(__webpack_exports__,"geoAzimuthalEqualArea",function(){return __WEBPACK_IMPORTED_MODULE_16__src_projection_azimuthalEqualArea__.b}),__webpack_require__.d(__webpack_exports__,"geoAzimuthalEqualAreaRaw",function(){return __WEBPACK_IMPORTED_MODULE_16__src_projection_azimuthalEqualArea__.a});var __WEBPACK_IMPORTED_MODULE_17__src_projection_azimuthalEquidistant__=__webpack_require__(1224);__webpack_require__.d(__webpack_exports__,"geoAzimuthalEquidistant",function(){return __WEBPACK_IMPORTED_MODULE_17__src_projection_azimuthalEquidistant__.b}),__webpack_require__.d(__webpack_exports__,"geoAzimuthalEquidistantRaw",function(){return __WEBPACK_IMPORTED_MODULE_17__src_projection_azimuthalEquidistant__.a});var __WEBPACK_IMPORTED_MODULE_18__src_projection_conicConformal__=__webpack_require__(1225);__webpack_require__.d(__webpack_exports__,"geoConicConformal",function(){return __WEBPACK_IMPORTED_MODULE_18__src_projection_conicConformal__.b}),__webpack_require__.d(__webpack_exports__,"geoConicConformalRaw",function(){return __WEBPACK_IMPORTED_MODULE_18__src_projection_conicConformal__.a});var __WEBPACK_IMPORTED_MODULE_19__src_projection_conicEqualArea__=__webpack_require__(501);__webpack_require__.d(__webpack_exports__,"geoConicEqualArea",function(){return __WEBPACK_IMPORTED_MODULE_19__src_projection_conicEqualArea__.b}),__webpack_require__.d(__webpack_exports__,"geoConicEqualAreaRaw",function(){return __WEBPACK_IMPORTED_MODULE_19__src_projection_conicEqualArea__.a});var __WEBPACK_IMPORTED_MODULE_20__src_projection_conicEquidistant__=__webpack_require__(1226);__webpack_require__.d(__webpack_exports__,"geoConicEquidistant",function(){return __WEBPACK_IMPORTED_MODULE_20__src_projection_conicEquidistant__.b}),__webpack_require__.d(__webpack_exports__,"geoConicEquidistantRaw",function(){return __WEBPACK_IMPORTED_MODULE_20__src_projection_conicEquidistant__.a});var __WEBPACK_IMPORTED_MODULE_21__src_projection_equirectangular__=__webpack_require__(691);__webpack_require__.d(__webpack_exports__,"geoEquirectangular",function(){return __WEBPACK_IMPORTED_MODULE_21__src_projection_equirectangular__.a}),__webpack_require__.d(__webpack_exports__,"geoEquirectangularRaw",function(){return __WEBPACK_IMPORTED_MODULE_21__src_projection_equirectangular__.b});var __WEBPACK_IMPORTED_MODULE_22__src_projection_gnomonic__=__webpack_require__(1227);__webpack_require__.d(__webpack_exports__,"geoGnomonic",function(){return __WEBPACK_IMPORTED_MODULE_22__src_projection_gnomonic__.a}),__webpack_require__.d(__webpack_exports__,"geoGnomonicRaw",function(){return __WEBPACK_IMPORTED_MODULE_22__src_projection_gnomonic__.b});var __WEBPACK_IMPORTED_MODULE_23__src_projection_identity__=__webpack_require__(1228);__webpack_require__.d(__webpack_exports__,"geoIdentity",function(){return __WEBPACK_IMPORTED_MODULE_23__src_projection_identity__.a});var __WEBPACK_IMPORTED_MODULE_24__src_projection_index__=__webpack_require__(73);__webpack_require__.d(__webpack_exports__,"geoProjection",function(){return __WEBPACK_IMPORTED_MODULE_24__src_projection_index__.a}),__webpack_require__.d(__webpack_exports__,"geoProjectionMutator",function(){return __WEBPACK_IMPORTED_MODULE_24__src_projection_index__.b});var __WEBPACK_IMPORTED_MODULE_25__src_projection_mercator__=__webpack_require__(504);__webpack_require__.d(__webpack_exports__,"geoMercator",function(){return __WEBPACK_IMPORTED_MODULE_25__src_projection_mercator__.a}),__webpack_require__.d(__webpack_exports__,"geoMercatorRaw",function(){return __WEBPACK_IMPORTED_MODULE_25__src_projection_mercator__.c});var __WEBPACK_IMPORTED_MODULE_26__src_projection_naturalEarth1__=__webpack_require__(1229);__webpack_require__.d(__webpack_exports__,"geoNaturalEarth1",function(){return __WEBPACK_IMPORTED_MODULE_26__src_projection_naturalEarth1__.a}),__webpack_require__.d(__webpack_exports__,"geoNaturalEarth1Raw",function(){return __WEBPACK_IMPORTED_MODULE_26__src_projection_naturalEarth1__.b});var __WEBPACK_IMPORTED_MODULE_27__src_projection_orthographic__=__webpack_require__(1230);__webpack_require__.d(__webpack_exports__,"geoOrthographic",function(){return __WEBPACK_IMPORTED_MODULE_27__src_projection_orthographic__.a}),__webpack_require__.d(__webpack_exports__,"geoOrthographicRaw",function(){return __WEBPACK_IMPORTED_MODULE_27__src_projection_orthographic__.b});var __WEBPACK_IMPORTED_MODULE_28__src_projection_stereographic__=__webpack_require__(1231);__webpack_require__.d(__webpack_exports__,"geoStereographic",function(){return __WEBPACK_IMPORTED_MODULE_28__src_projection_stereographic__.a}),__webpack_require__.d(__webpack_exports__,"geoStereographicRaw",function(){return __WEBPACK_IMPORTED_MODULE_28__src_projection_stereographic__.b});var __WEBPACK_IMPORTED_MODULE_29__src_projection_transverseMercator__=__webpack_require__(1232);__webpack_require__.d(__webpack_exports__,"geoTransverseMercator",function(){return __WEBPACK_IMPORTED_MODULE_29__src_projection_transverseMercator__.a}),__webpack_require__.d(__webpack_exports__,"geoTransverseMercatorRaw",function(){return __WEBPACK_IMPORTED_MODULE_29__src_projection_transverseMercator__.b});var __WEBPACK_IMPORTED_MODULE_30__src_rotation__=__webpack_require__(278);__webpack_require__.d(__webpack_exports__,"geoRotation",function(){return __WEBPACK_IMPORTED_MODULE_30__src_rotation__.a});var __WEBPACK_IMPORTED_MODULE_31__src_stream__=__webpack_require__(144);__webpack_require__.d(__webpack_exports__,"geoStream",function(){return __WEBPACK_IMPORTED_MODULE_31__src_stream__.a});var __WEBPACK_IMPORTED_MODULE_32__src_transform__=__webpack_require__(280);__webpack_require__.d(__webpack_exports__,"geoTransform",function(){return __WEBPACK_IMPORTED_MODULE_32__src_transform__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var lambda0,phi0,lambda1,phi1,lambda2,lambda00,phi00,p0,ranges,range,__WEBPACK_IMPORTED_MODULE_0__adder__=__webpack_require__(162),__WEBPACK_IMPORTED_MODULE_1__area__=__webpack_require__(677),__WEBPACK_IMPORTED_MODULE_2__cartesian__=__webpack_require__(232),__WEBPACK_IMPORTED_MODULE_3__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_4__stream__=__webpack_require__(144),deltaSum=Object(__WEBPACK_IMPORTED_MODULE_0__adder__.a)(),boundsStream={point:boundsPoint,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){boundsStream.point=boundsRingPoint,boundsStream.lineStart=boundsRingStart,boundsStream.lineEnd=boundsRingEnd,deltaSum.reset(),__WEBPACK_IMPORTED_MODULE_1__area__.b.polygonStart()},polygonEnd:function(){__WEBPACK_IMPORTED_MODULE_1__area__.b.polygonEnd(),boundsStream.point=boundsPoint,boundsStream.lineStart=boundsLineStart,boundsStream.lineEnd=boundsLineEnd,__WEBPACK_IMPORTED_MODULE_1__area__.a<0?(lambda0=-(lambda1=180),phi0=-(phi1=90)):deltaSum>__WEBPACK_IMPORTED_MODULE_3__math__.i?phi1=90:deltaSum<-__WEBPACK_IMPORTED_MODULE_3__math__.i&&(phi0=-90),range[0]=lambda0,range[1]=lambda1}};function boundsPoint(lambda,phi){ranges.push(range=[lambda0=lambda,lambda1=lambda]),phi<phi0&&(phi0=phi),phi>phi1&&(phi1=phi)}function linePoint(lambda,phi){var p=Object(__WEBPACK_IMPORTED_MODULE_2__cartesian__.a)([lambda*__WEBPACK_IMPORTED_MODULE_3__math__.r,phi*__WEBPACK_IMPORTED_MODULE_3__math__.r]);if(p0){var normal=Object(__WEBPACK_IMPORTED_MODULE_2__cartesian__.c)(p0,p),equatorial=[normal[1],-normal[0],0],inflection=Object(__WEBPACK_IMPORTED_MODULE_2__cartesian__.c)(equatorial,normal);Object(__WEBPACK_IMPORTED_MODULE_2__cartesian__.e)(inflection),inflection=Object(__WEBPACK_IMPORTED_MODULE_2__cartesian__.g)(inflection);var phii,delta=lambda-lambda2,sign=delta>0?1:-1,lambdai=inflection[0]*__WEBPACK_IMPORTED_MODULE_3__math__.h*sign,antimeridian=Object(__WEBPACK_IMPORTED_MODULE_3__math__.a)(delta)>180;antimeridian^(sign*lambda2<lambdai&&lambdai<sign*lambda)?(phii=inflection[1]*__WEBPACK_IMPORTED_MODULE_3__math__.h)>phi1&&(phi1=phii):antimeridian^(sign*lambda2<(lambdai=(lambdai+360)%360-180)&&lambdai<sign*lambda)?(phii=-inflection[1]*__WEBPACK_IMPORTED_MODULE_3__math__.h)<phi0&&(phi0=phii):(phi<phi0&&(phi0=phi),phi>phi1&&(phi1=phi)),antimeridian?lambda<lambda2?angle(lambda0,lambda)>angle(lambda0,lambda1)&&(lambda1=lambda):angle(lambda,lambda1)>angle(lambda0,lambda1)&&(lambda0=lambda):lambda1>=lambda0?(lambda<lambda0&&(lambda0=lambda),lambda>lambda1&&(lambda1=lambda)):lambda>lambda2?angle(lambda0,lambda)>angle(lambda0,lambda1)&&(lambda1=lambda):angle(lambda,lambda1)>angle(lambda0,lambda1)&&(lambda0=lambda)}else ranges.push(range=[lambda0=lambda,lambda1=lambda]);phi<phi0&&(phi0=phi),phi>phi1&&(phi1=phi),p0=p,lambda2=lambda}function boundsLineStart(){boundsStream.point=linePoint}function boundsLineEnd(){range[0]=lambda0,range[1]=lambda1,boundsStream.point=boundsPoint,p0=null}function boundsRingPoint(lambda,phi){if(p0){var delta=lambda-lambda2;deltaSum.add(Object(__WEBPACK_IMPORTED_MODULE_3__math__.a)(delta)>180?delta+(delta>0?360:-360):delta)}else lambda00=lambda,phi00=phi;__WEBPACK_IMPORTED_MODULE_1__area__.b.point(lambda,phi),linePoint(lambda,phi)}function boundsRingStart(){__WEBPACK_IMPORTED_MODULE_1__area__.b.lineStart()}function boundsRingEnd(){boundsRingPoint(lambda00,phi00),__WEBPACK_IMPORTED_MODULE_1__area__.b.lineEnd(),Object(__WEBPACK_IMPORTED_MODULE_3__math__.a)(deltaSum)>__WEBPACK_IMPORTED_MODULE_3__math__.i&&(lambda0=-(lambda1=180)),range[0]=lambda0,range[1]=lambda1,p0=null}function angle(lambda0,lambda1){return(lambda1-=lambda0)<0?lambda1+360:lambda1}function rangeCompare(a,b){return a[0]-b[0]}function rangeContains(range,x){return range[0]<=range[1]?range[0]<=x&&x<=range[1]:x<range[0]||range[1]<x}__webpack_exports__.a=function(feature){var i,n,a,b,merged,deltaMax,delta;if(phi1=lambda1=-(lambda0=phi0=1/0),ranges=[],Object(__WEBPACK_IMPORTED_MODULE_4__stream__.a)(feature,boundsStream),n=ranges.length){for(ranges.sort(rangeCompare),i=1,merged=[a=ranges[0]];i<n;++i)rangeContains(a,(b=ranges[i])[0])||rangeContains(a,b[1])?(angle(a[0],b[1])>angle(a[0],a[1])&&(a[1]=b[1]),angle(b[0],a[1])>angle(a[0],a[1])&&(a[0]=b[0])):merged.push(a=b);for(deltaMax=-1/0,i=0,a=merged[n=merged.length-1];i<=n;a=b,++i)b=merged[i],(delta=angle(a[1],b[0]))>deltaMax&&(deltaMax=delta,lambda0=b[0],lambda1=a[1])}return ranges=range=null,lambda0===1/0||phi0===1/0?[[NaN,NaN],[NaN,NaN]]:[[lambda0,phi0],[lambda1,phi1]]}},function(module,__webpack_exports__,__webpack_require__){"use strict";var W0,W1,X0,Y0,Z0,X1,Y1,Z1,X2,Y2,Z2,lambda00,phi00,x0,y0,z0,__WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1__noop__=__webpack_require__(103),__WEBPACK_IMPORTED_MODULE_2__stream__=__webpack_require__(144),centroidStream={sphere:__WEBPACK_IMPORTED_MODULE_1__noop__.a,point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd}};function centroidPoint(lambda,phi){lambda*=__WEBPACK_IMPORTED_MODULE_0__math__.r,phi*=__WEBPACK_IMPORTED_MODULE_0__math__.r;var cosPhi=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(phi);centroidPointCartesian(cosPhi*Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(lambda),cosPhi*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(lambda),Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(phi))}function centroidPointCartesian(x,y,z){X0+=(x-X0)/++W0,Y0+=(y-Y0)/W0,Z0+=(z-Z0)/W0}function centroidLineStart(){centroidStream.point=centroidLinePointFirst}function centroidLinePointFirst(lambda,phi){lambda*=__WEBPACK_IMPORTED_MODULE_0__math__.r,phi*=__WEBPACK_IMPORTED_MODULE_0__math__.r;var cosPhi=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(phi);x0=cosPhi*Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(lambda),y0=cosPhi*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(lambda),z0=Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(phi),centroidStream.point=centroidLinePoint,centroidPointCartesian(x0,y0,z0)}function centroidLinePoint(lambda,phi){lambda*=__WEBPACK_IMPORTED_MODULE_0__math__.r,phi*=__WEBPACK_IMPORTED_MODULE_0__math__.r;var cosPhi=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(phi),x=cosPhi*Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(lambda),y=cosPhi*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(lambda),z=Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(phi),w=Object(__WEBPACK_IMPORTED_MODULE_0__math__.e)(Object(__WEBPACK_IMPORTED_MODULE_0__math__.u)((w=y0*z-z0*y)*w+(w=z0*x-x0*z)*w+(w=x0*y-y0*x)*w),x0*x+y0*y+z0*z);W1+=w,X1+=w*(x0+(x0=x)),Y1+=w*(y0+(y0=y)),Z1+=w*(z0+(z0=z)),centroidPointCartesian(x0,y0,z0)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidRingPointFirst}function centroidRingEnd(){centroidRingPoint(lambda00,phi00),centroidStream.point=centroidPoint}function centroidRingPointFirst(lambda,phi){lambda00=lambda,phi00=phi,lambda*=__WEBPACK_IMPORTED_MODULE_0__math__.r,phi*=__WEBPACK_IMPORTED_MODULE_0__math__.r,centroidStream.point=centroidRingPoint;var cosPhi=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(phi);x0=cosPhi*Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(lambda),y0=cosPhi*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(lambda),z0=Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(phi),centroidPointCartesian(x0,y0,z0)}function centroidRingPoint(lambda,phi){lambda*=__WEBPACK_IMPORTED_MODULE_0__math__.r,phi*=__WEBPACK_IMPORTED_MODULE_0__math__.r;var cosPhi=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(phi),x=cosPhi*Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(lambda),y=cosPhi*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(lambda),z=Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(phi),cx=y0*z-z0*y,cy=z0*x-x0*z,cz=x0*y-y0*x,m=Object(__WEBPACK_IMPORTED_MODULE_0__math__.u)(cx*cx+cy*cy+cz*cz),w=Object(__WEBPACK_IMPORTED_MODULE_0__math__.c)(m),v=m&&-w/m;X2+=v*cx,Y2+=v*cy,Z2+=v*cz,W1+=w,X1+=w*(x0+(x0=x)),Y1+=w*(y0+(y0=y)),Z1+=w*(z0+(z0=z)),centroidPointCartesian(x0,y0,z0)}__webpack_exports__.a=function(object){W0=W1=X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0,Object(__WEBPACK_IMPORTED_MODULE_2__stream__.a)(object,centroidStream);var x=X2,y=Y2,z=Z2,m=x*x+y*y+z*z;return m<__WEBPACK_IMPORTED_MODULE_0__math__.j&&(x=X1,y=Y1,z=Z1,W1<__WEBPACK_IMPORTED_MODULE_0__math__.i&&(x=X0,y=Y0,z=Z0),(m=x*x+y*y+z*z)<__WEBPACK_IMPORTED_MODULE_0__math__.j)?[NaN,NaN]:[Object(__WEBPACK_IMPORTED_MODULE_0__math__.e)(y,x)*__WEBPACK_IMPORTED_MODULE_0__math__.h,Object(__WEBPACK_IMPORTED_MODULE_0__math__.c)(z/Object(__WEBPACK_IMPORTED_MODULE_0__math__.u)(m))*__WEBPACK_IMPORTED_MODULE_0__math__.h]}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return function(){return x}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__rectangle__=__webpack_require__(279);__webpack_exports__.a=function(){var cache,cacheStream,clip,x0=0,y0=0,x1=960,y1=500;return clip={stream:function(stream){return cache&&cacheStream===stream?cache:cache=Object(__WEBPACK_IMPORTED_MODULE_0__rectangle__.a)(x0,y0,x1,y1)(cacheStream=stream)},extent:function(_){return arguments.length?(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1],cache=cacheStream=null,clip):[[x0,y0],[x1,y1]]}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b,x0,y0,x1,y1){var r,ax=a[0],ay=a[1],t0=0,t1=1,dx=b[0]-ax,dy=b[1]-ay;if(r=x0-ax,dx||!(r>0)){if(r/=dx,dx<0){if(r<t0)return;r<t1&&(t1=r)}else if(dx>0){if(r>t1)return;r>t0&&(t0=r)}if(r=x1-ax,dx||!(r<0)){if(r/=dx,dx<0){if(r>t1)return;r>t0&&(t0=r)}else if(dx>0){if(r<t0)return;r<t1&&(t1=r)}if(r=y0-ay,dy||!(r>0)){if(r/=dy,dy<0){if(r<t0)return;r<t1&&(t1=r)}else if(dy>0){if(r>t1)return;r>t0&&(t0=r)}if(r=y1-ay,dy||!(r<0)){if(r/=dy,dy<0){if(r>t1)return;r>t0&&(t0=r)}else if(dy>0){if(r<t0)return;r<t1&&(t1=r)}return t0>0&&(a[0]=ax+t0*dx,a[1]=ay+t0*dy),t1<1&&(b[0]=ax+t1*dx,b[1]=ay+t1*dy),!0}}}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__polygonContains__=__webpack_require__(685),__WEBPACK_IMPORTED_MODULE_1__distance__=__webpack_require__(687),__WEBPACK_IMPORTED_MODULE_2__math__=__webpack_require__(4),containsObjectType={Feature:function(object,point){return containsGeometry(object.geometry,point)},FeatureCollection:function(object,point){for(var features=object.features,i=-1,n=features.length;++i<n;)if(containsGeometry(features[i].geometry,point))return!0;return!1}},containsGeometryType={Sphere:function(){return!0},Point:function(object,point){return containsPoint(object.coordinates,point)},MultiPoint:function(object,point){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)if(containsPoint(coordinates[i],point))return!0;return!1},LineString:function(object,point){return containsLine(object.coordinates,point)},MultiLineString:function(object,point){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)if(containsLine(coordinates[i],point))return!0;return!1},Polygon:function(object,point){return containsPolygon(object.coordinates,point)},MultiPolygon:function(object,point){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)if(containsPolygon(coordinates[i],point))return!0;return!1},GeometryCollection:function(object,point){for(var geometries=object.geometries,i=-1,n=geometries.length;++i<n;)if(containsGeometry(geometries[i],point))return!0;return!1}};function containsGeometry(geometry,point){return!(!geometry||!containsGeometryType.hasOwnProperty(geometry.type))&&containsGeometryType[geometry.type](geometry,point)}function containsPoint(coordinates,point){return 0===Object(__WEBPACK_IMPORTED_MODULE_1__distance__.a)(coordinates,point)}function containsLine(coordinates,point){var ab=Object(__WEBPACK_IMPORTED_MODULE_1__distance__.a)(coordinates[0],coordinates[1]);return Object(__WEBPACK_IMPORTED_MODULE_1__distance__.a)(coordinates[0],point)+Object(__WEBPACK_IMPORTED_MODULE_1__distance__.a)(point,coordinates[1])<=ab+__WEBPACK_IMPORTED_MODULE_2__math__.i}function containsPolygon(coordinates,point){return!!Object(__WEBPACK_IMPORTED_MODULE_0__polygonContains__.a)(coordinates.map(ringRadians),pointRadians(point))}function ringRadians(ring){return(ring=ring.map(pointRadians)).pop(),ring}function pointRadians(point){return[point[0]*__WEBPACK_IMPORTED_MODULE_2__math__.r,point[1]*__WEBPACK_IMPORTED_MODULE_2__math__.r]}__webpack_exports__.a=function(object,point){return(object&&containsObjectType.hasOwnProperty(object.type)?containsObjectType[object.type]:containsGeometry)(object,point)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=graticule,__webpack_exports__.b=function graticule10(){return graticule()()};var __WEBPACK_IMPORTED_MODULE_0_d3_array__=__webpack_require__(51),__WEBPACK_IMPORTED_MODULE_1__math__=__webpack_require__(4);function graticuleX(y0,y1,dy){var y=Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.range)(y0,y1-__WEBPACK_IMPORTED_MODULE_1__math__.i,dy).concat(y1);return function(x){return y.map(function(y){return[x,y]})}}function graticuleY(x0,x1,dx){var x=Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.range)(x0,x1-__WEBPACK_IMPORTED_MODULE_1__math__.i,dx).concat(x1);return function(y){return x.map(function(x){return[x,y]})}}function graticule(){var x1,x0,X1,X0,y1,y0,Y1,Y0,x,y,X,Y,dx=10,dy=dx,DX=90,DY=360,precision=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.range)(Object(__WEBPACK_IMPORTED_MODULE_1__math__.f)(X0/DX)*DX,X1,DX).map(X).concat(Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.range)(Object(__WEBPACK_IMPORTED_MODULE_1__math__.f)(Y0/DY)*DY,Y1,DY).map(Y)).concat(Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.range)(Object(__WEBPACK_IMPORTED_MODULE_1__math__.f)(x0/dx)*dx,x1,dx).filter(function(x){return Object(__WEBPACK_IMPORTED_MODULE_1__math__.a)(x%DX)>__WEBPACK_IMPORTED_MODULE_1__math__.i}).map(x)).concat(Object(__WEBPACK_IMPORTED_MODULE_0_d3_array__.range)(Object(__WEBPACK_IMPORTED_MODULE_1__math__.f)(y0/dy)*dy,y1,dy).filter(function(y){return Object(__WEBPACK_IMPORTED_MODULE_1__math__.a)(y%DY)>__WEBPACK_IMPORTED_MODULE_1__math__.i}).map(y))}return graticule.lines=function(){return lines().map(function(coordinates){return{type:"LineString",coordinates:coordinates}})},graticule.outline=function(){return{type:"Polygon",coordinates:[X(X0).concat(Y(Y1).slice(1),X(X1).reverse().slice(1),Y(Y0).reverse().slice(1))]}},graticule.extent=function(_){return arguments.length?graticule.extentMajor(_).extentMinor(_):graticule.extentMinor()},graticule.extentMajor=function(_){return arguments.length?(X0=+_[0][0],X1=+_[1][0],Y0=+_[0][1],Y1=+_[1][1],X0>X1&&(_=X0,X0=X1,X1=_),Y0>Y1&&(_=Y0,Y0=Y1,Y1=_),graticule.precision(precision)):[[X0,Y0],[X1,Y1]]},graticule.extentMinor=function(_){return arguments.length?(x0=+_[0][0],x1=+_[1][0],y0=+_[0][1],y1=+_[1][1],x0>x1&&(_=x0,x0=x1,x1=_),y0>y1&&(_=y0,y0=y1,y1=_),graticule.precision(precision)):[[x0,y0],[x1,y1]]},graticule.step=function(_){return arguments.length?graticule.stepMajor(_).stepMinor(_):graticule.stepMinor()},graticule.stepMajor=function(_){return arguments.length?(DX=+_[0],DY=+_[1],graticule):[DX,DY]},graticule.stepMinor=function(_){return arguments.length?(dx=+_[0],dy=+_[1],graticule):[dx,dy]},graticule.precision=function(_){return arguments.length?(precision=+_,x=graticuleX(y0,y1,90),y=graticuleY(x0,x1,precision),X=graticuleX(Y0,Y1,90),Y=graticuleY(X0,X1,precision),graticule):precision},graticule.extentMajor([[-180,-90+__WEBPACK_IMPORTED_MODULE_1__math__.i],[180,90-__WEBPACK_IMPORTED_MODULE_1__math__.i]]).extentMinor([[-180,-80-__WEBPACK_IMPORTED_MODULE_1__math__.i],[180,80+__WEBPACK_IMPORTED_MODULE_1__math__.i]])}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4);__webpack_exports__.a=function(a,b){var x0=a[0]*__WEBPACK_IMPORTED_MODULE_0__math__.r,y0=a[1]*__WEBPACK_IMPORTED_MODULE_0__math__.r,x1=b[0]*__WEBPACK_IMPORTED_MODULE_0__math__.r,y1=b[1]*__WEBPACK_IMPORTED_MODULE_0__math__.r,cy0=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(y0),sy0=Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(y0),cy1=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(y1),sy1=Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(y1),kx0=cy0*Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(x0),ky0=cy0*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(x0),kx1=cy1*Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(x1),ky1=cy1*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(x1),d=2*Object(__WEBPACK_IMPORTED_MODULE_0__math__.c)(Object(__WEBPACK_IMPORTED_MODULE_0__math__.u)(Object(__WEBPACK_IMPORTED_MODULE_0__math__.m)(y1-y0)+cy0*cy1*Object(__WEBPACK_IMPORTED_MODULE_0__math__.m)(x1-x0))),k=Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(d),interpolate=d?function(t){var B=Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(t*=d)/k,A=Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(d-t)/k,x=A*kx0+B*kx1,y=A*ky0+B*ky1,z=A*sy0+B*sy1;return[Object(__WEBPACK_IMPORTED_MODULE_0__math__.e)(y,x)*__WEBPACK_IMPORTED_MODULE_0__math__.h,Object(__WEBPACK_IMPORTED_MODULE_0__math__.e)(z,Object(__WEBPACK_IMPORTED_MODULE_0__math__.u)(x*x+y*y))*__WEBPACK_IMPORTED_MODULE_0__math__.h]}:function(){return[x0*__WEBPACK_IMPORTED_MODULE_0__math__.h,y0*__WEBPACK_IMPORTED_MODULE_0__math__.h]};return interpolate.distance=d,interpolate}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__identity__=__webpack_require__(500),__WEBPACK_IMPORTED_MODULE_1__stream__=__webpack_require__(144),__WEBPACK_IMPORTED_MODULE_2__area__=__webpack_require__(1215),__WEBPACK_IMPORTED_MODULE_3__bounds__=__webpack_require__(689),__WEBPACK_IMPORTED_MODULE_4__centroid__=__webpack_require__(1216),__WEBPACK_IMPORTED_MODULE_5__context__=__webpack_require__(1217),__WEBPACK_IMPORTED_MODULE_6__measure__=__webpack_require__(1218),__WEBPACK_IMPORTED_MODULE_7__string__=__webpack_require__(1219);__webpack_exports__.a=function(projection,context){var projectionStream,contextStream,pointRadius=4.5;function path(object){return object&&("function"==typeof pointRadius&&contextStream.pointRadius(+pointRadius.apply(this,arguments)),Object(__WEBPACK_IMPORTED_MODULE_1__stream__.a)(object,projectionStream(contextStream))),contextStream.result()}return path.area=function(object){return Object(__WEBPACK_IMPORTED_MODULE_1__stream__.a)(object,projectionStream(__WEBPACK_IMPORTED_MODULE_2__area__.a)),__WEBPACK_IMPORTED_MODULE_2__area__.a.result()},path.measure=function(object){return Object(__WEBPACK_IMPORTED_MODULE_1__stream__.a)(object,projectionStream(__WEBPACK_IMPORTED_MODULE_6__measure__.a)),__WEBPACK_IMPORTED_MODULE_6__measure__.a.result()},path.bounds=function(object){return Object(__WEBPACK_IMPORTED_MODULE_1__stream__.a)(object,projectionStream(__WEBPACK_IMPORTED_MODULE_3__bounds__.a)),__WEBPACK_IMPORTED_MODULE_3__bounds__.a.result()},path.centroid=function(object){return Object(__WEBPACK_IMPORTED_MODULE_1__stream__.a)(object,projectionStream(__WEBPACK_IMPORTED_MODULE_4__centroid__.a)),__WEBPACK_IMPORTED_MODULE_4__centroid__.a.result()},path.projection=function(_){return arguments.length?(projectionStream=null==_?(projection=null,__WEBPACK_IMPORTED_MODULE_0__identity__.a):(projection=_).stream,path):projection},path.context=function(_){return arguments.length?(contextStream=null==_?(context=null,new __WEBPACK_IMPORTED_MODULE_7__string__.a):new __WEBPACK_IMPORTED_MODULE_5__context__.a(context=_),"function"!=typeof pointRadius&&contextStream.pointRadius(pointRadius),path):context},path.pointRadius=function(_){return arguments.length?(pointRadius="function"==typeof _?_:(contextStream.pointRadius(+_),+_),path):pointRadius},path.projection(projection).context(context)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var x00,y00,x0,y0,__WEBPACK_IMPORTED_MODULE_0__adder__=__webpack_require__(162),__WEBPACK_IMPORTED_MODULE_1__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_2__noop__=__webpack_require__(103),areaSum=Object(__WEBPACK_IMPORTED_MODULE_0__adder__.a)(),areaRingSum=Object(__WEBPACK_IMPORTED_MODULE_0__adder__.a)(),areaStream={point:__WEBPACK_IMPORTED_MODULE_2__noop__.a,lineStart:__WEBPACK_IMPORTED_MODULE_2__noop__.a,lineEnd:__WEBPACK_IMPORTED_MODULE_2__noop__.a,polygonStart:function(){areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){areaStream.lineStart=areaStream.lineEnd=areaStream.point=__WEBPACK_IMPORTED_MODULE_2__noop__.a,areaSum.add(Object(__WEBPACK_IMPORTED_MODULE_1__math__.a)(areaRingSum)),areaRingSum.reset()},result:function(){var area=areaSum/2;return areaSum.reset(),area}};function areaRingStart(){areaStream.point=areaPointFirst}function areaPointFirst(x,y){areaStream.point=areaPoint,x00=x0=x,y00=y0=y}function areaPoint(x,y){areaRingSum.add(y0*x-x0*y),x0=x,y0=y}function areaRingEnd(){areaPoint(x00,y00)}__webpack_exports__.a=areaStream},function(module,__webpack_exports__,__webpack_require__){"use strict";var x00,y00,x0,y0,__WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4),X0=0,Y0=0,Z0=0,X1=0,Y1=0,Z1=0,X2=0,Y2=0,Z2=0,centroidStream={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.point=centroidPoint,centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd},result:function(){var centroid=Z2?[X2/Z2,Y2/Z2]:Z1?[X1/Z1,Y1/Z1]:Z0?[X0/Z0,Y0/Z0]:[NaN,NaN];return X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0,centroid}};function centroidPoint(x,y){X0+=x,Y0+=y,++Z0}function centroidLineStart(){centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(x,y){centroidStream.point=centroidPointLine,centroidPoint(x0=x,y0=y)}function centroidPointLine(x,y){var dx=x-x0,dy=y-y0,z=Object(__WEBPACK_IMPORTED_MODULE_0__math__.u)(dx*dx+dy*dy);X1+=z*(x0+x)/2,Y1+=z*(y0+y)/2,Z1+=z,centroidPoint(x0=x,y0=y)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(x00,y00)}function centroidPointFirstRing(x,y){centroidStream.point=centroidPointRing,centroidPoint(x00=x0=x,y00=y0=y)}function centroidPointRing(x,y){var dx=x-x0,dy=y-y0,z=Object(__WEBPACK_IMPORTED_MODULE_0__math__.u)(dx*dx+dy*dy);X1+=z*(x0+x)/2,Y1+=z*(y0+y)/2,Z1+=z,X2+=(z=y0*x-x0*y)*(x0+x),Y2+=z*(y0+y),Z2+=3*z,centroidPoint(x0=x,y0=y)}__webpack_exports__.a=centroidStream},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=PathContext;var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1__noop__=__webpack_require__(103);function PathContext(context){this._context=context}PathContext.prototype={_radius:4.5,pointRadius:function(_){return this._radius=_,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(x,y){switch(this._point){case 0:this._context.moveTo(x,y),this._point=1;break;case 1:this._context.lineTo(x,y);break;default:this._context.moveTo(x+this._radius,y),this._context.arc(x,y,this._radius,0,__WEBPACK_IMPORTED_MODULE_0__math__.w)}},result:__WEBPACK_IMPORTED_MODULE_1__noop__.a}},function(module,__webpack_exports__,__webpack_require__){"use strict";var lengthRing,x00,y00,x0,y0,__WEBPACK_IMPORTED_MODULE_0__adder__=__webpack_require__(162),__WEBPACK_IMPORTED_MODULE_1__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_2__noop__=__webpack_require__(103),lengthSum=Object(__WEBPACK_IMPORTED_MODULE_0__adder__.a)(),lengthStream={point:__WEBPACK_IMPORTED_MODULE_2__noop__.a,lineStart:function(){lengthStream.point=lengthPointFirst},lineEnd:function(){lengthRing&&lengthPoint(x00,y00),lengthStream.point=__WEBPACK_IMPORTED_MODULE_2__noop__.a},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var length=+lengthSum;return lengthSum.reset(),length}};function lengthPointFirst(x,y){lengthStream.point=lengthPoint,x00=x0=x,y00=y0=y}function lengthPoint(x,y){x0-=x,y0-=y,lengthSum.add(Object(__WEBPACK_IMPORTED_MODULE_1__math__.u)(x0*x0+y0*y0)),x0=x,y0=y}__webpack_exports__.a=lengthStream},function(module,__webpack_exports__,__webpack_require__){"use strict";function PathString(){this._string=[]}function circle(radius){return"m0,"+radius+"a"+radius+","+radius+" 0 1,1 0,"+-2*radius+"a"+radius+","+radius+" 0 1,1 0,"+2*radius+"z"}__webpack_exports__.a=PathString,PathString.prototype={_radius:4.5,_circle:circle(4.5),pointRadius:function(_){return(_=+_)!==this._radius&&(this._radius=_,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(x,y){switch(this._point){case 0:this._string.push("M",x,",",y),this._point=1;break;case 1:this._string.push("L",x,",",y);break;default:null==this._circle&&(this._circle=circle(this._radius)),this._string.push("M",x,",",y,this._circle)}},result:function(){if(this._string.length){var result=this._string.join("");return this._string=[],result}return null}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__cartesian__=__webpack_require__(232),__WEBPACK_IMPORTED_MODULE_1__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_2__transform__=__webpack_require__(280),maxDepth=16,cosMinDistance=Object(__WEBPACK_IMPORTED_MODULE_1__math__.g)(30*__WEBPACK_IMPORTED_MODULE_1__math__.r);__webpack_exports__.a=function(project,delta2){return+delta2?function resample(project,delta2){function resampleLineTo(x0,y0,lambda0,a0,b0,c0,x1,y1,lambda1,a1,b1,c1,depth,stream){var dx=x1-x0,dy=y1-y0,d2=dx*dx+dy*dy;if(d2>4*delta2&&depth--){var a=a0+a1,b=b0+b1,c=c0+c1,m=Object(__WEBPACK_IMPORTED_MODULE_1__math__.u)(a*a+b*b+c*c),phi2=Object(__WEBPACK_IMPORTED_MODULE_1__math__.c)(c/=m),lambda2=Object(__WEBPACK_IMPORTED_MODULE_1__math__.a)(Object(__WEBPACK_IMPORTED_MODULE_1__math__.a)(c)-1)<__WEBPACK_IMPORTED_MODULE_1__math__.i||Object(__WEBPACK_IMPORTED_MODULE_1__math__.a)(lambda0-lambda1)<__WEBPACK_IMPORTED_MODULE_1__math__.i?(lambda0+lambda1)/2:Object(__WEBPACK_IMPORTED_MODULE_1__math__.e)(b,a),p=project(lambda2,phi2),x2=p[0],y2=p[1],dx2=x2-x0,dy2=y2-y0,dz=dy*dx2-dx*dy2;(dz*dz/d2>delta2||Object(__WEBPACK_IMPORTED_MODULE_1__math__.a)((dx*dx2+dy*dy2)/d2-.5)>.3||a0*a1+b0*b1+c0*c1<cosMinDistance)&&(resampleLineTo(x0,y0,lambda0,a0,b0,c0,x2,y2,lambda2,a/=m,b/=m,c,depth,stream),stream.point(x2,y2),resampleLineTo(x2,y2,lambda2,a,b,c,x1,y1,lambda1,a1,b1,c1,depth,stream))}}return function(stream){var lambda00,x00,y00,a00,b00,c00,lambda0,x0,y0,a0,b0,c0,resampleStream={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){stream.polygonStart(),resampleStream.lineStart=ringStart},polygonEnd:function(){stream.polygonEnd(),resampleStream.lineStart=lineStart}};function point(x,y){x=project(x,y),stream.point(x[0],x[1])}function lineStart(){x0=NaN,resampleStream.point=linePoint,stream.lineStart()}function linePoint(lambda,phi){var c=Object(__WEBPACK_IMPORTED_MODULE_0__cartesian__.a)([lambda,phi]),p=project(lambda,phi);resampleLineTo(x0,y0,lambda0,a0,b0,c0,x0=p[0],y0=p[1],lambda0=lambda,a0=c[0],b0=c[1],c0=c[2],maxDepth,stream),stream.point(x0,y0)}function lineEnd(){resampleStream.point=point,stream.lineEnd()}function ringStart(){lineStart(),resampleStream.point=ringPoint,resampleStream.lineEnd=ringEnd}function ringPoint(lambda,phi){linePoint(lambda00=lambda,phi),x00=x0,y00=y0,a00=a0,b00=b0,c00=c0,resampleStream.point=linePoint}function ringEnd(){resampleLineTo(x0,y0,lambda0,a0,b0,c0,x00,y00,lambda00,a00,b00,c00,maxDepth,stream),resampleStream.lineEnd=lineEnd,lineEnd()}return resampleStream}}(project,delta2):function resampleNone(project){return Object(__WEBPACK_IMPORTED_MODULE_2__transform__.b)({point:function(x,y){x=project(x,y),this.stream.point(x[0],x[1])}})}(project)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function cylindricalEqualAreaRaw(phi0){var cosPhi0=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(phi0);function forward(lambda,phi){return[lambda*cosPhi0,Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(phi)/cosPhi0]}return forward.invert=function(x,y){return[x/cosPhi0,Object(__WEBPACK_IMPORTED_MODULE_0__math__.c)(y*cosPhi0)]},forward};var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4)},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1__albers__=__webpack_require__(690),__WEBPACK_IMPORTED_MODULE_2__conicEqualArea__=__webpack_require__(501),__WEBPACK_IMPORTED_MODULE_3__fit__=__webpack_require__(503);__webpack_exports__.a=function(){var cache,cacheStream,lower48Point,alaskaPoint,hawaiiPoint,point,lower48=Object(__WEBPACK_IMPORTED_MODULE_1__albers__.a)(),alaska=Object(__WEBPACK_IMPORTED_MODULE_2__conicEqualArea__.b)().rotate([154,0]).center([-2,58.5]).parallels([55,65]),hawaii=Object(__WEBPACK_IMPORTED_MODULE_2__conicEqualArea__.b)().rotate([157,0]).center([-3,19.9]).parallels([8,18]),pointStream={point:function(x,y){point=[x,y]}};function albersUsa(coordinates){var x=coordinates[0],y=coordinates[1];return point=null,lower48Point.point(x,y),point||(alaskaPoint.point(x,y),point)||(hawaiiPoint.point(x,y),point)}function reset(){return cache=cacheStream=null,albersUsa}return albersUsa.invert=function(coordinates){var k=lower48.scale(),t=lower48.translate(),x=(coordinates[0]-t[0])/k,y=(coordinates[1]-t[1])/k;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?alaska:y>=.166&&y<.234&&x>=-.214&&x<-.115?hawaii:lower48).invert(coordinates)},albersUsa.stream=function(stream){return cache&&cacheStream===stream?cache:cache=function multiplex(streams){var n=streams.length;return{point:function(x,y){for(var i=-1;++i<n;)streams[i].point(x,y)},sphere:function(){for(var i=-1;++i<n;)streams[i].sphere()},lineStart:function(){for(var i=-1;++i<n;)streams[i].lineStart()},lineEnd:function(){for(var i=-1;++i<n;)streams[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<n;)streams[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<n;)streams[i].polygonEnd()}}}([lower48.stream(cacheStream=stream),alaska.stream(stream),hawaii.stream(stream)])},albersUsa.precision=function(_){return arguments.length?(lower48.precision(_),alaska.precision(_),hawaii.precision(_),reset()):lower48.precision()},albersUsa.scale=function(_){return arguments.length?(lower48.scale(_),alaska.scale(.35*_),hawaii.scale(_),albersUsa.translate(lower48.translate())):lower48.scale()},albersUsa.translate=function(_){if(!arguments.length)return lower48.translate();var k=lower48.scale(),x=+_[0],y=+_[1];return lower48Point=lower48.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(pointStream),alaskaPoint=alaska.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+__WEBPACK_IMPORTED_MODULE_0__math__.i,y+.12*k+__WEBPACK_IMPORTED_MODULE_0__math__.i],[x-.214*k-__WEBPACK_IMPORTED_MODULE_0__math__.i,y+.234*k-__WEBPACK_IMPORTED_MODULE_0__math__.i]]).stream(pointStream),hawaiiPoint=hawaii.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+__WEBPACK_IMPORTED_MODULE_0__math__.i,y+.166*k+__WEBPACK_IMPORTED_MODULE_0__math__.i],[x-.115*k-__WEBPACK_IMPORTED_MODULE_0__math__.i,y+.234*k-__WEBPACK_IMPORTED_MODULE_0__math__.i]]).stream(pointStream),reset()},albersUsa.fitExtent=function(extent,object){return Object(__WEBPACK_IMPORTED_MODULE_3__fit__.a)(albersUsa,extent,object)},albersUsa.fitSize=function(size,object){return Object(__WEBPACK_IMPORTED_MODULE_3__fit__.c)(albersUsa,size,object)},albersUsa.fitWidth=function(width,object){return Object(__WEBPACK_IMPORTED_MODULE_3__fit__.d)(albersUsa,width,object)},albersUsa.fitHeight=function(height,object){return Object(__WEBPACK_IMPORTED_MODULE_3__fit__.b)(albersUsa,height,object)},albersUsa.scale(1070)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return azimuthalEqualAreaRaw});var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1__azimuthal__=__webpack_require__(233),__WEBPACK_IMPORTED_MODULE_2__index__=__webpack_require__(73),azimuthalEqualAreaRaw=Object(__WEBPACK_IMPORTED_MODULE_1__azimuthal__.b)(function(cxcy){return Object(__WEBPACK_IMPORTED_MODULE_0__math__.u)(2/(1+cxcy))});azimuthalEqualAreaRaw.invert=Object(__WEBPACK_IMPORTED_MODULE_1__azimuthal__.a)(function(z){return 2*Object(__WEBPACK_IMPORTED_MODULE_0__math__.c)(z/2)}),__webpack_exports__.b=function(){return Object(__WEBPACK_IMPORTED_MODULE_2__index__.a)(azimuthalEqualAreaRaw).scale(124.75).clipAngle(179.999)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return azimuthalEquidistantRaw});var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1__azimuthal__=__webpack_require__(233),__WEBPACK_IMPORTED_MODULE_2__index__=__webpack_require__(73),azimuthalEquidistantRaw=Object(__WEBPACK_IMPORTED_MODULE_1__azimuthal__.b)(function(c){return(c=Object(__WEBPACK_IMPORTED_MODULE_0__math__.b)(c))&&c/Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(c)});azimuthalEquidistantRaw.invert=Object(__WEBPACK_IMPORTED_MODULE_1__azimuthal__.a)(function(z){return z}),__webpack_exports__.b=function(){return Object(__WEBPACK_IMPORTED_MODULE_2__index__.a)(azimuthalEquidistantRaw).scale(79.4188).clipAngle(179.999)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=conicConformalRaw;var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1__conic__=__webpack_require__(502),__WEBPACK_IMPORTED_MODULE_2__mercator__=__webpack_require__(504);function tany(y){return Object(__WEBPACK_IMPORTED_MODULE_0__math__.v)((__WEBPACK_IMPORTED_MODULE_0__math__.l+y)/2)}function conicConformalRaw(y0,y1){var cy0=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(y0),n=y0===y1?Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(y0):Object(__WEBPACK_IMPORTED_MODULE_0__math__.n)(cy0/Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(y1))/Object(__WEBPACK_IMPORTED_MODULE_0__math__.n)(tany(y1)/tany(y0)),f=cy0*Object(__WEBPACK_IMPORTED_MODULE_0__math__.p)(tany(y0),n)/n;if(!n)return __WEBPACK_IMPORTED_MODULE_2__mercator__.c;function project(x,y){f>0?y<-__WEBPACK_IMPORTED_MODULE_0__math__.l+__WEBPACK_IMPORTED_MODULE_0__math__.i&&(y=-__WEBPACK_IMPORTED_MODULE_0__math__.l+__WEBPACK_IMPORTED_MODULE_0__math__.i):y>__WEBPACK_IMPORTED_MODULE_0__math__.l-__WEBPACK_IMPORTED_MODULE_0__math__.i&&(y=__WEBPACK_IMPORTED_MODULE_0__math__.l-__WEBPACK_IMPORTED_MODULE_0__math__.i);var r=f/Object(__WEBPACK_IMPORTED_MODULE_0__math__.p)(tany(y),n);return[r*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(n*x),f-r*Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(n*x)]}return project.invert=function(x,y){var fy=f-y,r=Object(__WEBPACK_IMPORTED_MODULE_0__math__.s)(n)*Object(__WEBPACK_IMPORTED_MODULE_0__math__.u)(x*x+fy*fy);return[Object(__WEBPACK_IMPORTED_MODULE_0__math__.e)(x,Object(__WEBPACK_IMPORTED_MODULE_0__math__.a)(fy))/n*Object(__WEBPACK_IMPORTED_MODULE_0__math__.s)(fy),2*Object(__WEBPACK_IMPORTED_MODULE_0__math__.d)(Object(__WEBPACK_IMPORTED_MODULE_0__math__.p)(f/r,1/n))-__WEBPACK_IMPORTED_MODULE_0__math__.l]},project}__webpack_exports__.b=function(){return Object(__WEBPACK_IMPORTED_MODULE_1__conic__.a)(conicConformalRaw).scale(109.5).parallels([30,30])}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=conicEquidistantRaw;var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1__conic__=__webpack_require__(502),__WEBPACK_IMPORTED_MODULE_2__equirectangular__=__webpack_require__(691);function conicEquidistantRaw(y0,y1){var cy0=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(y0),n=y0===y1?Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(y0):(cy0-Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(y1))/(y1-y0),g=cy0/n+y0;if(Object(__WEBPACK_IMPORTED_MODULE_0__math__.a)(n)<__WEBPACK_IMPORTED_MODULE_0__math__.i)return __WEBPACK_IMPORTED_MODULE_2__equirectangular__.b;function project(x,y){var gy=g-y,nx=n*x;return[gy*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(nx),g-gy*Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(nx)]}return project.invert=function(x,y){var gy=g-y;return[Object(__WEBPACK_IMPORTED_MODULE_0__math__.e)(x,Object(__WEBPACK_IMPORTED_MODULE_0__math__.a)(gy))/n*Object(__WEBPACK_IMPORTED_MODULE_0__math__.s)(gy),g-Object(__WEBPACK_IMPORTED_MODULE_0__math__.s)(n)*Object(__WEBPACK_IMPORTED_MODULE_0__math__.u)(x*x+gy*gy)]},project}__webpack_exports__.b=function(){return Object(__WEBPACK_IMPORTED_MODULE_1__conic__.a)(conicEquidistantRaw).scale(131.154).center([0,13.9389])}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=gnomonicRaw;var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1__azimuthal__=__webpack_require__(233),__WEBPACK_IMPORTED_MODULE_2__index__=__webpack_require__(73);function gnomonicRaw(x,y){var cy=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(y),k=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(x)*cy;return[cy*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(x)/k,Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(y)/k]}gnomonicRaw.invert=Object(__WEBPACK_IMPORTED_MODULE_1__azimuthal__.a)(__WEBPACK_IMPORTED_MODULE_0__math__.d),__webpack_exports__.a=function(){return Object(__WEBPACK_IMPORTED_MODULE_2__index__.a)(gnomonicRaw).scale(144.049).clipAngle(60)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__clip_rectangle__=__webpack_require__(279),__WEBPACK_IMPORTED_MODULE_1__identity__=__webpack_require__(500),__WEBPACK_IMPORTED_MODULE_2__transform__=__webpack_require__(280),__WEBPACK_IMPORTED_MODULE_3__fit__=__webpack_require__(503);function scaleTranslate(kx,ky,tx,ty){return 1===kx&&1===ky&&0===tx&&0===ty?__WEBPACK_IMPORTED_MODULE_1__identity__.a:Object(__WEBPACK_IMPORTED_MODULE_2__transform__.b)({point:function(x,y){this.stream.point(x*kx+tx,y*ky+ty)}})}__webpack_exports__.a=function(){var y0,x1,y1,cache,cacheStream,projection,k=1,tx=0,ty=0,sx=1,sy=1,transform=__WEBPACK_IMPORTED_MODULE_1__identity__.a,x0=null,postclip=__WEBPACK_IMPORTED_MODULE_1__identity__.a;function reset(){return cache=cacheStream=null,projection}return projection={stream:function(stream){return cache&&cacheStream===stream?cache:cache=transform(postclip(cacheStream=stream))},postclip:function(_){return arguments.length?(postclip=_,x0=y0=x1=y1=null,reset()):postclip},clipExtent:function(_){return arguments.length?(postclip=null==_?(x0=y0=x1=y1=null,__WEBPACK_IMPORTED_MODULE_1__identity__.a):Object(__WEBPACK_IMPORTED_MODULE_0__clip_rectangle__.a)(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reset()):null==x0?null:[[x0,y0],[x1,y1]]},scale:function(_){return arguments.length?(transform=scaleTranslate((k=+_)*sx,k*sy,tx,ty),reset()):k},translate:function(_){return arguments.length?(transform=scaleTranslate(k*sx,k*sy,tx=+_[0],ty=+_[1]),reset()):[tx,ty]},reflectX:function(_){return arguments.length?(transform=scaleTranslate(k*(sx=_?-1:1),k*sy,tx,ty),reset()):sx<0},reflectY:function(_){return arguments.length?(transform=scaleTranslate(k*sx,k*(sy=_?-1:1),tx,ty),reset()):sy<0},fitExtent:function(extent,object){return Object(__WEBPACK_IMPORTED_MODULE_3__fit__.a)(projection,extent,object)},fitSize:function(size,object){return Object(__WEBPACK_IMPORTED_MODULE_3__fit__.c)(projection,size,object)},fitWidth:function(width,object){return Object(__WEBPACK_IMPORTED_MODULE_3__fit__.d)(projection,width,object)},fitHeight:function(height,object){return Object(__WEBPACK_IMPORTED_MODULE_3__fit__.b)(projection,height,object)}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=naturalEarth1Raw;var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(73),__WEBPACK_IMPORTED_MODULE_1__math__=__webpack_require__(4);function naturalEarth1Raw(lambda,phi){var phi2=phi*phi,phi4=phi2*phi2;return[lambda*(.8707-.131979*phi2+phi4*(phi4*(.003971*phi2-.001529*phi4)-.013791)),phi*(1.007226+phi2*(.015085+phi4*(.028874*phi2-.044475-.005916*phi4)))]}naturalEarth1Raw.invert=function(x,y){var delta,phi=y,i=25;do{var phi2=phi*phi,phi4=phi2*phi2;phi-=delta=(phi*(1.007226+phi2*(.015085+phi4*(.028874*phi2-.044475-.005916*phi4)))-y)/(1.007226+phi2*(.045255+phi4*(.259866*phi2-.311325-.005916*11*phi4)))}while(Object(__WEBPACK_IMPORTED_MODULE_1__math__.a)(delta)>__WEBPACK_IMPORTED_MODULE_1__math__.i&&--i>0);return[x/(.8707+(phi2=phi*phi)*(phi2*(phi2*phi2*phi2*(.003971-.001529*phi2)-.013791)-.131979)),phi]},__webpack_exports__.a=function(){return Object(__WEBPACK_IMPORTED_MODULE_0__index__.a)(naturalEarth1Raw).scale(175.295)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=orthographicRaw;var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1__azimuthal__=__webpack_require__(233),__WEBPACK_IMPORTED_MODULE_2__index__=__webpack_require__(73);function orthographicRaw(x,y){return[Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(y)*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(x),Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(y)]}orthographicRaw.invert=Object(__WEBPACK_IMPORTED_MODULE_1__azimuthal__.a)(__WEBPACK_IMPORTED_MODULE_0__math__.c),__webpack_exports__.a=function(){return Object(__WEBPACK_IMPORTED_MODULE_2__index__.a)(orthographicRaw).scale(249.5).clipAngle(90+__WEBPACK_IMPORTED_MODULE_0__math__.i)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=stereographicRaw;var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1__azimuthal__=__webpack_require__(233),__WEBPACK_IMPORTED_MODULE_2__index__=__webpack_require__(73);function stereographicRaw(x,y){var cy=Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(y),k=1+Object(__WEBPACK_IMPORTED_MODULE_0__math__.g)(x)*cy;return[cy*Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(x)/k,Object(__WEBPACK_IMPORTED_MODULE_0__math__.t)(y)/k]}stereographicRaw.invert=Object(__WEBPACK_IMPORTED_MODULE_1__azimuthal__.a)(function(z){return 2*Object(__WEBPACK_IMPORTED_MODULE_0__math__.d)(z)}),__webpack_exports__.a=function(){return Object(__WEBPACK_IMPORTED_MODULE_2__index__.a)(stereographicRaw).scale(250).clipAngle(142)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=transverseMercatorRaw;var __WEBPACK_IMPORTED_MODULE_0__math__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1__mercator__=__webpack_require__(504);function transverseMercatorRaw(lambda,phi){return[Object(__WEBPACK_IMPORTED_MODULE_0__math__.n)(Object(__WEBPACK_IMPORTED_MODULE_0__math__.v)((__WEBPACK_IMPORTED_MODULE_0__math__.l+phi)/2)),-lambda]}transverseMercatorRaw.invert=function(x,y){return[-y,2*Object(__WEBPACK_IMPORTED_MODULE_0__math__.d)(Object(__WEBPACK_IMPORTED_MODULE_0__math__.k)(x))-__WEBPACK_IMPORTED_MODULE_0__math__.l]},__webpack_exports__.a=function(){var m=Object(__WEBPACK_IMPORTED_MODULE_1__mercator__.b)(transverseMercatorRaw),center=m.center,rotate=m.rotate;return m.center=function(_){return arguments.length?center([-_[1],_[0]]):[(_=center())[1],-_[0]]},m.rotate=function(_){return arguments.length?rotate([_[0],_[1],_.length>2?_[2]+90:90]):[(_=rotate())[0],_[1],_[2]-90]},rotate([0,0,90]).scale(159.155)}},function(module,exports){module.exports=[{year:"2016",origin:"ZH",dest:"ZH",count:66855},{year:"2016",origin:"ZH",dest:"BE",count:1673},{year:"2016",origin:"ZH",dest:"LU",count:1017},{year:"2016",origin:"ZH",dest:"UR",count:84},{year:"2016",origin:"ZH",dest:"SZ",count:1704},{year:"2016",origin:"ZH",dest:"OW",count:70},{year:"2016",origin:"ZH",dest:"NW",count:94},{year:"2016",origin:"ZH",dest:"GL",count:250},{year:"2016",origin:"ZH",dest:"ZG",count:1246},{year:"2016",origin:"ZH",dest:"FR",count:173},{year:"2016",origin:"ZH",dest:"SO",count:547},{year:"2016",origin:"ZH",dest:"BS",count:540},{year:"2016",origin:"ZH",dest:"BL",count:409},{year:"2016",origin:"ZH",dest:"SH",count:996},{year:"2016",origin:"ZH",dest:"AR",count:167},{year:"2016",origin:"ZH",dest:"AI",count:50},{year:"2016",origin:"ZH",dest:"SG",count:2444},{year:"2016",origin:"ZH",dest:"GR",count:987},{year:"2016",origin:"ZH",dest:"AG",count:6143},{year:"2016",origin:"ZH",dest:"TG",count:2475},{year:"2016",origin:"ZH",dest:"TI",count:445},{year:"2016",origin:"ZH",dest:"VD",count:511},{year:"2016",origin:"ZH",dest:"VS",count:179},{year:"2016",origin:"ZH",dest:"NE",count:58},{year:"2016",origin:"ZH",dest:"GE",count:226},{year:"2016",origin:"ZH",dest:"JU",count:27},{year:"2016",origin:"BE",dest:"ZH",count:2097},{year:"2016",origin:"BE",dest:"BE",count:52112},{year:"2016",origin:"BE",dest:"LU",count:815},{year:"2016",origin:"BE",dest:"UR",count:33},{year:"2016",origin:"BE",dest:"SZ",count:129},{year:"2016",origin:"BE",dest:"OW",count:85},{year:"2016",origin:"BE",dest:"NW",count:40},{year:"2016",origin:"BE",dest:"GL",count:27},{year:"2016",origin:"BE",dest:"ZG",count:177},{year:"2016",origin:"BE",dest:"FR",count:1353},{year:"2016",origin:"BE",dest:"SO",count:2405},{year:"2016",origin:"BE",dest:"BS",count:324},{year:"2016",origin:"BE",dest:"BL",count:347},{year:"2016",origin:"BE",dest:"SH",count:52},{year:"2016",origin:"BE",dest:"AR",count:23},{year:"2016",origin:"BE",dest:"AI",count:7},{year:"2016",origin:"BE",dest:"SG",count:314},{year:"2016",origin:"BE",dest:"GR",count:290},{year:"2016",origin:"BE",dest:"AG",count:1124},{year:"2016",origin:"BE",dest:"TG",count:198},{year:"2016",origin:"BE",dest:"TI",count:148},{year:"2016",origin:"BE",dest:"VD",count:658},{year:"2016",origin:"BE",dest:"VS",count:422},{year:"2016",origin:"BE",dest:"NE",count:561},{year:"2016",origin:"BE",dest:"GE",count:156},{year:"2016",origin:"BE",dest:"JU",count:447},{year:"2016",origin:"LU",dest:"ZH",count:1530},{year:"2016",origin:"LU",dest:"BE",count:899},{year:"2016",origin:"LU",dest:"LU",count:17371},{year:"2016",origin:"LU",dest:"UR",count:122},{year:"2016",origin:"LU",dest:"SZ",count:452},{year:"2016",origin:"LU",dest:"OW",count:282},{year:"2016",origin:"LU",dest:"NW",count:506},{year:"2016",origin:"LU",dest:"GL",count:30},{year:"2016",origin:"LU",dest:"ZG",count:679},{year:"2016",origin:"LU",dest:"FR",count:50},{year:"2016",origin:"LU",dest:"SO",count:331},{year:"2016",origin:"LU",dest:"BS",count:143},{year:"2016",origin:"LU",dest:"BL",count:112},{year:"2016",origin:"LU",dest:"SH",count:41},{year:"2016",origin:"LU",dest:"AR",count:17},{year:"2016",origin:"LU",dest:"AI",count:2},{year:"2016",origin:"LU",dest:"SG",count:204},{year:"2016",origin:"LU",dest:"GR",count:148},{year:"2016",origin:"LU",dest:"AG",count:1512},{year:"2016",origin:"LU",dest:"TG",count:90},{year:"2016",origin:"LU",dest:"TI",count:88},{year:"2016",origin:"LU",dest:"VD",count:44},{year:"2016",origin:"LU",dest:"VS",count:156},{year:"2016",origin:"LU",dest:"NE",count:7},{year:"2016",origin:"LU",dest:"GE",count:24},{year:"2016",origin:"LU",dest:"JU",count:9},{year:"2016",origin:"UR",dest:"ZH",count:110},{year:"2016",origin:"UR",dest:"BE",count:40},{year:"2016",origin:"UR",dest:"LU",count:108},{year:"2016",origin:"UR",dest:"UR",count:1346},{year:"2016",origin:"UR",dest:"SZ",count:94},{year:"2016",origin:"UR",dest:"OW",count:30},{year:"2016",origin:"UR",dest:"NW",count:29},{year:"2016",origin:"UR",dest:"GL",count:9},{year:"2016",origin:"UR",dest:"ZG",count:29},{year:"2016",origin:"UR",dest:"FR",count:4},{year:"2016",origin:"UR",dest:"SO",count:11},{year:"2016",origin:"UR",dest:"BS",count:7},{year:"2016",origin:"UR",dest:"BL",count:14},{year:"2016",origin:"UR",dest:"SH",count:1},{year:"2016",origin:"UR",dest:"AR",count:0},{year:"2016",origin:"UR",dest:"AI",count:1},{year:"2016",origin:"UR",dest:"SG",count:26},{year:"2016",origin:"UR",dest:"GR",count:34},{year:"2016",origin:"UR",dest:"AG",count:31},{year:"2016",origin:"UR",dest:"TG",count:10},{year:"2016",origin:"UR",dest:"TI",count:6},{year:"2016",origin:"UR",dest:"VD",count:1},{year:"2016",origin:"UR",dest:"VS",count:16},{year:"2016",origin:"UR",dest:"NE",count:1},{year:"2016",origin:"UR",dest:"GE",count:1},{year:"2016",origin:"UR",dest:"JU",count:0},{year:"2016",origin:"SZ",dest:"ZH",count:1428},{year:"2016",origin:"SZ",dest:"BE",count:123},{year:"2016",origin:"SZ",dest:"LU",count:507},{year:"2016",origin:"SZ",dest:"UR",count:102},{year:"2016",origin:"SZ",dest:"SZ",count:4210},{year:"2016",origin:"SZ",dest:"OW",count:29},{year:"2016",origin:"SZ",dest:"NW",count:40},{year:"2016",origin:"SZ",dest:"GL",count:129},{year:"2016",origin:"SZ",dest:"ZG",count:381},{year:"2016",origin:"SZ",dest:"FR",count:7},{year:"2016",origin:"SZ",dest:"SO",count:56},{year:"2016",origin:"SZ",dest:"BS",count:33},{year:"2016",origin:"SZ",dest:"BL",count:21},{year:"2016",origin:"SZ",dest:"SH",count:18},{year:"2016",origin:"SZ",dest:"AR",count:14},{year:"2016",origin:"SZ",dest:"AI",count:9},{year:"2016",origin:"SZ",dest:"SG",count:497},{year:"2016",origin:"SZ",dest:"GR",count:129},{year:"2016",origin:"SZ",dest:"AG",count:330},{year:"2016",origin:"SZ",dest:"TG",count:94},{year:"2016",origin:"SZ",dest:"TI",count:43},{year:"2016",origin:"SZ",dest:"VD",count:53},{year:"2016",origin:"SZ",dest:"VS",count:23},{year:"2016",origin:"SZ",dest:"NE",count:10},{year:"2016",origin:"SZ",dest:"GE",count:13},{year:"2016",origin:"SZ",dest:"JU",count:3},{year:"2016",origin:"OW",dest:"ZH",count:107},{year:"2016",origin:"OW",dest:"BE",count:101},{year:"2016",origin:"OW",dest:"LU",count:344},{year:"2016",origin:"OW",dest:"UR",count:31},{year:"2016",origin:"OW",dest:"SZ",count:26},{year:"2016",origin:"OW",dest:"OW",count:992},{year:"2016",origin:"OW",dest:"NW",count:163},{year:"2016",origin:"OW",dest:"GL",count:2},{year:"2016",origin:"OW",dest:"ZG",count:30},{year:"2016",origin:"OW",dest:"FR",count:6},{year:"2016",origin:"OW",dest:"SO",count:19},{year:"2016",origin:"OW",dest:"BS",count:7},{year:"2016",origin:"OW",dest:"BL",count:16},{year:"2016",origin:"OW",dest:"SH",count:1},{year:"2016",origin:"OW",dest:"AR",count:6},{year:"2016",origin:"OW",dest:"AI",count:1},{year:"2016",origin:"OW",dest:"SG",count:11},{year:"2016",origin:"OW",dest:"GR",count:18},{year:"2016",origin:"OW",dest:"AG",count:49},{year:"2016",origin:"OW",dest:"TG",count:5},{year:"2016",origin:"OW",dest:"TI",count:9},{year:"2016",origin:"OW",dest:"VD",count:3},{year:"2016",origin:"OW",dest:"VS",count:4},{year:"2016",origin:"OW",dest:"NE",count:0},{year:"2016",origin:"OW",dest:"GE",count:3},{year:"2016",origin:"OW",dest:"JU",count:0},{year:"2016",origin:"NW",dest:"ZH",count:132},{year:"2016",origin:"NW",dest:"BE",count:57},{year:"2016",origin:"NW",dest:"LU",count:519},{year:"2016",origin:"NW",dest:"UR",count:58},{year:"2016",origin:"NW",dest:"SZ",count:45},{year:"2016",origin:"NW",dest:"OW",count:187},{year:"2016",origin:"NW",dest:"NW",count:1259},{year:"2016",origin:"NW",dest:"GL",count:8},{year:"2016",origin:"NW",dest:"ZG",count:61},{year:"2016",origin:"NW",dest:"FR",count:10},{year:"2016",origin:"NW",dest:"SO",count:14},{year:"2016",origin:"NW",dest:"BS",count:13},{year:"2016",origin:"NW",dest:"BL",count:10},{year:"2016",origin:"NW",dest:"SH",count:4},{year:"2016",origin:"NW",dest:"AR",count:0},{year:"2016",origin:"NW",dest:"AI",count:0},{year:"2016",origin:"NW",dest:"SG",count:18},{year:"2016",origin:"NW",dest:"GR",count:23},{year:"2016",origin:"NW",dest:"AG",count:70},{year:"2016",origin:"NW",dest:"TG",count:13},{year:"2016",origin:"NW",dest:"TI",count:6},{year:"2016",origin:"NW",dest:"VD",count:7},{year:"2016",origin:"NW",dest:"VS",count:8},{year:"2016",origin:"NW",dest:"NE",count:0},{year:"2016",origin:"NW",dest:"GE",count:1},{year:"2016",origin:"NW",dest:"JU",count:2},{year:"2016",origin:"GL",dest:"ZH",count:268},{year:"2016",origin:"GL",dest:"BE",count:38},{year:"2016",origin:"GL",dest:"LU",count:25},{year:"2016",origin:"GL",dest:"UR",count:1},{year:"2016",origin:"GL",dest:"SZ",count:141},{year:"2016",origin:"GL",dest:"OW",count:3},{year:"2016",origin:"GL",dest:"NW",count:1},{year:"2016",origin:"GL",dest:"GL",count:962},{year:"2016",origin:"GL",dest:"ZG",count:6},{year:"2016",origin:"GL",dest:"FR",count:8},{year:"2016",origin:"GL",dest:"SO",count:29},{year:"2016",origin:"GL",dest:"BS",count:4},{year:"2016",origin:"GL",dest:"BL",count:13},{year:"2016",origin:"GL",dest:"SH",count:9},{year:"2016",origin:"GL",dest:"AR",count:0},{year:"2016",origin:"GL",dest:"AI",count:3},{year:"2016",origin:"GL",dest:"SG",count:301},{year:"2016",origin:"GL",dest:"GR",count:60},{year:"2016",origin:"GL",dest:"AG",count:84},{year:"2016",origin:"GL",dest:"TG",count:30},{year:"2016",origin:"GL",dest:"TI",count:11},{year:"2016",origin:"GL",dest:"VD",count:4},{year:"2016",origin:"GL",dest:"VS",count:8},{year:"2016",origin:"GL",dest:"NE",count:0},{year:"2016",origin:"GL",dest:"GE",count:0},{year:"2016",origin:"GL",dest:"JU",count:0},{year:"2016",origin:"ZG",dest:"ZH",count:1218},{year:"2016",origin:"ZG",dest:"BE",count:150},{year:"2016",origin:"ZG",dest:"LU",count:746},{year:"2016",origin:"ZG",dest:"UR",count:29},{year:"2016",origin:"ZG",dest:"SZ",count:392},{year:"2016",origin:"ZG",dest:"OW",count:31},{year:"2016",origin:"ZG",dest:"NW",count:23},{year:"2016",origin:"ZG",dest:"GL",count:10},{year:"2016",origin:"ZG",dest:"ZG",count:4168},{year:"2016",origin:"ZG",dest:"FR",count:18},{year:"2016",origin:"ZG",dest:"SO",count:65},{year:"2016",origin:"ZG",dest:"BS",count:51},{year:"2016",origin:"ZG",dest:"BL",count:52},{year:"2016",origin:"ZG",dest:"SH",count:16},{year:"2016",origin:"ZG",dest:"AR",count:12},{year:"2016",origin:"ZG",dest:"AI",count:2},{year:"2016",origin:"ZG",dest:"SG",count:67},{year:"2016",origin:"ZG",dest:"GR",count:41},{year:"2016",origin:"ZG",dest:"AG",count:537},{year:"2016",origin:"ZG",dest:"TG",count:31},{year:"2016",origin:"ZG",dest:"TI",count:64},{year:"2016",origin:"ZG",dest:"VD",count:67},{year:"2016",origin:"ZG",dest:"VS",count:24},{year:"2016",origin:"ZG",dest:"NE",count:3},{year:"2016",origin:"ZG",dest:"GE",count:18},{year:"2016",origin:"ZG",dest:"JU",count:5},{year:"2016",origin:"FR",dest:"ZH",count:267},{year:"2016",origin:"FR",dest:"BE",count:1522},{year:"2016",origin:"FR",dest:"LU",count:55},{year:"2016",origin:"FR",dest:"UR",count:1},{year:"2016",origin:"FR",dest:"SZ",count:11},{year:"2016",origin:"FR",dest:"OW",count:2},{year:"2016",origin:"FR",dest:"NW",count:4},{year:"2016",origin:"FR",dest:"GL",count:1},{year:"2016",origin:"FR",dest:"ZG",count:30},{year:"2016",origin:"FR",dest:"FR",count:15341},{year:"2016",origin:"FR",dest:"SO",count:69},{year:"2016",origin:"FR",dest:"BS",count:47},{year:"2016",origin:"FR",dest:"BL",count:18},{year:"2016",origin:"FR",dest:"SH",count:3},{year:"2016",origin:"FR",dest:"AR",count:2},{year:"2016",origin:"FR",dest:"AI",count:0},{year:"2016",origin:"FR",dest:"SG",count:34},{year:"2016",origin:"FR",dest:"GR",count:18},{year:"2016",origin:"FR",dest:"AG",count:101},{year:"2016",origin:"FR",dest:"TG",count:18},{year:"2016",origin:"FR",dest:"TI",count:45},{year:"2016",origin:"FR",dest:"VD",count:2178},{year:"2016",origin:"FR",dest:"VS",count:391},{year:"2016",origin:"FR",dest:"NE",count:231},{year:"2016",origin:"FR",dest:"GE",count:164},{year:"2016",origin:"FR",dest:"JU",count:52},{year:"2016",origin:"SO",dest:"ZH",count:636},{year:"2016",origin:"SO",dest:"BE",count:2197},{year:"2016",origin:"SO",dest:"LU",count:321},{year:"2016",origin:"SO",dest:"UR",count:9},{year:"2016",origin:"SO",dest:"SZ",count:71},{year:"2016",origin:"SO",dest:"OW",count:15},{year:"2016",origin:"SO",dest:"NW",count:16},{year:"2016",origin:"SO",dest:"GL",count:7},{year:"2016",origin:"SO",dest:"ZG",count:54},{year:"2016",origin:"SO",dest:"FR",count:78},{year:"2016",origin:"SO",dest:"SO",count:10309},{year:"2016",origin:"SO",dest:"BS",count:438},{year:"2016",origin:"SO",dest:"BL",count:992},{year:"2016",origin:"SO",dest:"SH",count:24},{year:"2016",origin:"SO",dest:"AR",count:8},{year:"2016",origin:"SO",dest:"AI",count:1},{year:"2016",origin:"SO",dest:"SG",count:77},{year:"2016",origin:"SO",dest:"GR",count:68},{year:"2016",origin:"SO",dest:"AG",count:1470},{year:"2016",origin:"SO",dest:"TG",count:65},{year:"2016",origin:"SO",dest:"TI",count:35},{year:"2016",origin:"SO",dest:"VD",count:50},{year:"2016",origin:"SO",dest:"VS",count:63},{year:"2016",origin:"SO",dest:"NE",count:17},{year:"2016",origin:"SO",dest:"GE",count:13},{year:"2016",origin:"SO",dest:"JU",count:28},{year:"2016",origin:"BS",dest:"ZH",count:808},{year:"2016",origin:"BS",dest:"BE",count:416},{year:"2016",origin:"BS",dest:"LU",count:146},{year:"2016",origin:"BS",dest:"UR",count:1},{year:"2016",origin:"BS",dest:"SZ",count:44},{year:"2016",origin:"BS",dest:"OW",count:10},{year:"2016",origin:"BS",dest:"NW",count:11},{year:"2016",origin:"BS",dest:"GL",count:6},{year:"2016",origin:"BS",dest:"ZG",count:73},{year:"2016",origin:"BS",dest:"FR",count:44},{year:"2016",origin:"BS",dest:"SO",count:393},{year:"2016",origin:"BS",dest:"BS",count:1280},{year:"2016",origin:"BS",dest:"BL",count:3926},{year:"2016",origin:"BS",dest:"SH",count:27},{year:"2016",origin:"BS",dest:"AR",count:11},{year:"2016",origin:"BS",dest:"AI",count:3},{year:"2016",origin:"BS",dest:"SG",count:59},{year:"2016",origin:"BS",dest:"GR",count:72},{year:"2016",origin:"BS",dest:"AG",count:625},{year:"2016",origin:"BS",dest:"TG",count:29},{year:"2016",origin:"BS",dest:"TI",count:66},{year:"2016",origin:"BS",dest:"VD",count:86},{year:"2016",origin:"BS",dest:"VS",count:37},{year:"2016",origin:"BS",dest:"NE",count:39},{year:"2016",origin:"BS",dest:"GE",count:52},{year:"2016",origin:"BS",dest:"JU",count:46},{year:"2016",origin:"BL",dest:"ZH",count:573},{year:"2016",origin:"BL",dest:"BE",count:443},{year:"2016",origin:"BL",dest:"LU",count:187},{year:"2016",origin:"BL",dest:"UR",count:2},{year:"2016",origin:"BL",dest:"SZ",count:50},{year:"2016",origin:"BL",dest:"OW",count:20},{year:"2016",origin:"BL",dest:"NW",count:23},{year:"2016",origin:"BL",dest:"GL",count:4},{year:"2016",origin:"BL",dest:"ZG",count:57},{year:"2016",origin:"BL",dest:"FR",count:31},{year:"2016",origin:"BL",dest:"SO",count:1200},{year:"2016",origin:"BL",dest:"BS",count:2447},{year:"2016",origin:"BL",dest:"BL",count:10269},{year:"2016",origin:"BL",dest:"SH",count:16},{year:"2016",origin:"BL",dest:"AR",count:11},{year:"2016",origin:"BL",dest:"AI",count:1},{year:"2016",origin:"BL",dest:"SG",count:61},{year:"2016",origin:"BL",dest:"GR",count:71},{year:"2016",origin:"BL",dest:"AG",count:1160},{year:"2016",origin:"BL",dest:"TG",count:42},{year:"2016",origin:"BL",dest:"TI",count:34},{year:"2016",origin:"BL",dest:"VD",count:57},{year:"2016",origin:"BL",dest:"VS",count:39},{year:"2016",origin:"BL",dest:"NE",count:3},{year:"2016",origin:"BL",dest:"GE",count:10},{year:"2016",origin:"BL",dest:"JU",count:62},{year:"2016",origin:"SH",dest:"ZH",count:970},{year:"2016",origin:"SH",dest:"BE",count:75},{year:"2016",origin:"SH",dest:"LU",count:33},{year:"2016",origin:"SH",dest:"UR",count:2},{year:"2016",origin:"SH",dest:"SZ",count:26},{year:"2016",origin:"SH",dest:"OW",count:1},{year:"2016",origin:"SH",dest:"NW",count:2},{year:"2016",origin:"SH",dest:"GL",count:6},{year:"2016",origin:"SH",dest:"ZG",count:18},{year:"2016",origin:"SH",dest:"FR",count:7},{year:"2016",origin:"SH",dest:"SO",count:24},{year:"2016",origin:"SH",dest:"BS",count:24},{year:"2016",origin:"SH",dest:"BL",count:23},{year:"2016",origin:"SH",dest:"SH",count:2334},{year:"2016",origin:"SH",dest:"AR",count:28},{year:"2016",origin:"SH",dest:"AI",count:1},{year:"2016",origin:"SH",dest:"SG",count:66},{year:"2016",origin:"SH",dest:"GR",count:35},{year:"2016",origin:"SH",dest:"AG",count:103},{year:"2016",origin:"SH",dest:"TG",count:303},{year:"2016",origin:"SH",dest:"TI",count:6},{year:"2016",origin:"SH",dest:"VD",count:10},{year:"2016",origin:"SH",dest:"VS",count:5},{year:"2016",origin:"SH",dest:"NE",count:4},{year:"2016",origin:"SH",dest:"GE",count:7},{year:"2016",origin:"SH",dest:"JU",count:0},{year:"2016",origin:"AR",dest:"ZH",count:263},{year:"2016",origin:"AR",dest:"BE",count:50},{year:"2016",origin:"AR",dest:"LU",count:31},{year:"2016",origin:"AR",dest:"UR",count:2},{year:"2016",origin:"AR",dest:"SZ",count:11},{year:"2016",origin:"AR",dest:"OW",count:5},{year:"2016",origin:"AR",dest:"NW",count:3},{year:"2016",origin:"AR",dest:"GL",count:2},{year:"2016",origin:"AR",dest:"ZG",count:8},{year:"2016",origin:"AR",dest:"FR",count:1},{year:"2016",origin:"AR",dest:"SO",count:9},{year:"2016",origin:"AR",dest:"BS",count:13},{year:"2016",origin:"AR",dest:"BL",count:16},{year:"2016",origin:"AR",dest:"SH",count:10},{year:"2016",origin:"AR",dest:"AR",count:1005},{year:"2016",origin:"AR",dest:"AI",count:105},{year:"2016",origin:"AR",dest:"SG",count:1334},{year:"2016",origin:"AR",dest:"GR",count:29},{year:"2016",origin:"AR",dest:"AG",count:49},{year:"2016",origin:"AR",dest:"TG",count:215},{year:"2016",origin:"AR",dest:"TI",count:8},{year:"2016",origin:"AR",dest:"VD",count:11},{year:"2016",origin:"AR",dest:"VS",count:8},{year:"2016",origin:"AR",dest:"NE",count:2},{year:"2016",origin:"AR",dest:"GE",count:3},{year:"2016",origin:"AR",dest:"JU",count:2},{year:"2016",origin:"AI",dest:"ZH",count:39},{year:"2016",origin:"AI",dest:"BE",count:12},{year:"2016",origin:"AI",dest:"LU",count:10},{year:"2016",origin:"AI",dest:"UR",count:0},{year:"2016",origin:"AI",dest:"SZ",count:9},{year:"2016",origin:"AI",dest:"OW",count:2},{year:"2016",origin:"AI",dest:"NW",count:3},{year:"2016",origin:"AI",dest:"GL",count:2},{year:"2016",origin:"AI",dest:"ZG",count:2},{year:"2016",origin:"AI",dest:"FR",count:1},{year:"2016",origin:"AI",dest:"SO",count:1},{year:"2016",origin:"AI",dest:"BS",count:4},{year:"2016",origin:"AI",dest:"BL",count:1},{year:"2016",origin:"AI",dest:"SH",count:2},{year:"2016",origin:"AI",dest:"AR",count:115},{year:"2016",origin:"AI",dest:"AI",count:335},{year:"2016",origin:"AI",dest:"SG",count:164},{year:"2016",origin:"AI",dest:"GR",count:14},{year:"2016",origin:"AI",dest:"AG",count:9},{year:"2016",origin:"AI",dest:"TG",count:32},{year:"2016",origin:"AI",dest:"TI",count:5},{year:"2016",origin:"AI",dest:"VD",count:0},{year:"2016",origin:"AI",dest:"VS",count:2},{year:"2016",origin:"AI",dest:"NE",count:0},{year:"2016",origin:"AI",dest:"GE",count:0},{year:"2016",origin:"AI",dest:"JU",count:0},{year:"2016",origin:"SG",dest:"ZH",count:3327},{year:"2016",origin:"SG",dest:"BE",count:443},{year:"2016",origin:"SG",dest:"LU",count:242},{year:"2016",origin:"SG",dest:"UR",count:9},{year:"2016",origin:"SG",dest:"SZ",count:561},{year:"2016",origin:"SG",dest:"OW",count:19},{year:"2016",origin:"SG",dest:"NW",count:24},{year:"2016",origin:"SG",dest:"GL",count:272},{year:"2016",origin:"SG",dest:"ZG",count:130},{year:"2016",origin:"SG",dest:"FR",count:47},{year:"2016",origin:"SG",dest:"SO",count:142},{year:"2016",origin:"SG",dest:"BS",count:111},{year:"2016",origin:"SG",dest:"BL",count:96},{year:"2016",origin:"SG",dest:"SH",count:91},{year:"2016",origin:"SG",dest:"AR",count:1441},{year:"2016",origin:"SG",dest:"AI",count:174},{year:"2016",origin:"SG",dest:"SG",count:17683},{year:"2016",origin:"SG",dest:"GR",count:775},{year:"2016",origin:"SG",dest:"AG",count:430},{year:"2016",origin:"SG",dest:"TG",count:2549},{year:"2016",origin:"SG",dest:"TI",count:98},{year:"2016",origin:"SG",dest:"VD",count:72},{year:"2016",origin:"SG",dest:"VS",count:65},{year:"2016",origin:"SG",dest:"NE",count:12},{year:"2016",origin:"SG",dest:"GE",count:32},{year:"2016",origin:"SG",dest:"JU",count:6},{year:"2016",origin:"GR",dest:"ZH",count:1375},{year:"2016",origin:"GR",dest:"BE",count:365},{year:"2016",origin:"GR",dest:"LU",count:240},{year:"2016",origin:"GR",dest:"UR",count:24},{year:"2016",origin:"GR",dest:"SZ",count:115},{year:"2016",origin:"GR",dest:"OW",count:30},{year:"2016",origin:"GR",dest:"NW",count:13},{year:"2016",origin:"GR",dest:"GL",count:47},{year:"2016",origin:"GR",dest:"ZG",count:41},{year:"2016",origin:"GR",dest:"FR",count:26},{year:"2016",origin:"GR",dest:"SO",count:72},{year:"2016",origin:"GR",dest:"BS",count:84},{year:"2016",origin:"GR",dest:"BL",count:55},{year:"2016",origin:"GR",dest:"SH",count:49},{year:"2016",origin:"GR",dest:"AR",count:49},{year:"2016",origin:"GR",dest:"AI",count:26},{year:"2016",origin:"GR",dest:"SG",count:825},{year:"2016",origin:"GR",dest:"GR",count:7267},{year:"2016",origin:"GR",dest:"AG",count:277},{year:"2016",origin:"GR",dest:"TG",count:155},{year:"2016",origin:"GR",dest:"TI",count:321},{year:"2016",origin:"GR",dest:"VD",count:31},{year:"2016",origin:"GR",dest:"VS",count:42},{year:"2016",origin:"GR",dest:"NE",count:2},{year:"2016",origin:"GR",dest:"GE",count:12},{year:"2016",origin:"GR",dest:"JU",count:2},{year:"2016",origin:"AG",dest:"ZH",count:4546},{year:"2016",origin:"AG",dest:"BE",count:1160},{year:"2016",origin:"AG",dest:"LU",count:1372},{year:"2016",origin:"AG",dest:"UR",count:21},{year:"2016",origin:"AG",dest:"SZ",count:264},{year:"2016",origin:"AG",dest:"OW",count:69},{year:"2016",origin:"AG",dest:"NW",count:69},{year:"2016",origin:"AG",dest:"GL",count:47},{year:"2016",origin:"AG",dest:"ZG",count:415},{year:"2016",origin:"AG",dest:"FR",count:62},{year:"2016",origin:"AG",dest:"SO",count:1609},{year:"2016",origin:"AG",dest:"BS",count:613},{year:"2016",origin:"AG",dest:"BL",count:1021},{year:"2016",origin:"AG",dest:"SH",count:128},{year:"2016",origin:"AG",dest:"AR",count:37},{year:"2016",origin:"AG",dest:"AI",count:6},{year:"2016",origin:"AG",dest:"SG",count:405},{year:"2016",origin:"AG",dest:"GR",count:223},{year:"2016",origin:"AG",dest:"AG",count:31880},{year:"2016",origin:"AG",dest:"TG",count:274},{year:"2016",origin:"AG",dest:"TI",count:146},{year:"2016",origin:"AG",dest:"VD",count:119},{year:"2016",origin:"AG",dest:"VS",count:94},{year:"2016",origin:"AG",dest:"NE",count:22},{year:"2016",origin:"AG",dest:"GE",count:41},{year:"2016",origin:"AG",dest:"JU",count:19},{year:"2016",origin:"TG",dest:"ZH",count:2285},{year:"2016",origin:"TG",dest:"BE",count:278},{year:"2016",origin:"TG",dest:"LU",count:102},{year:"2016",origin:"TG",dest:"UR",count:7},{year:"2016",origin:"TG",dest:"SZ",count:99},{year:"2016",origin:"TG",dest:"OW",count:3},{year:"2016",origin:"TG",dest:"NW",count:6},{year:"2016",origin:"TG",dest:"GL",count:22},{year:"2016",origin:"TG",dest:"ZG",count:40},{year:"2016",origin:"TG",dest:"FR",count:26},{year:"2016",origin:"TG",dest:"SO",count:80},{year:"2016",origin:"TG",dest:"BS",count:48},{year:"2016",origin:"TG",dest:"BL",count:51},{year:"2016",origin:"TG",dest:"SH",count:366},{year:"2016",origin:"TG",dest:"AR",count:176},{year:"2016",origin:"TG",dest:"AI",count:22},{year:"2016",origin:"TG",dest:"SG",count:2061},{year:"2016",origin:"TG",dest:"GR",count:132},{year:"2016",origin:"TG",dest:"AG",count:256},{year:"2016",origin:"TG",dest:"TG",count:9974},{year:"2016",origin:"TG",dest:"TI",count:19},{year:"2016",origin:"TG",dest:"VD",count:23},{year:"2016",origin:"TG",dest:"VS",count:13},{year:"2016",origin:"TG",dest:"NE",count:6},{year:"2016",origin:"TG",dest:"GE",count:21},{year:"2016",origin:"TG",dest:"JU",count:3},{year:"2016",origin:"TI",dest:"ZH",count:877},{year:"2016",origin:"TI",dest:"BE",count:230},{year:"2016",origin:"TI",dest:"LU",count:130},{year:"2016",origin:"TI",dest:"UR",count:22},{year:"2016",origin:"TI",dest:"SZ",count:38},{year:"2016",origin:"TI",dest:"OW",count:6},{year:"2016",origin:"TI",dest:"NW",count:10},{year:"2016",origin:"TI",dest:"GL",count:16},{year:"2016",origin:"TI",dest:"ZG",count:57},{year:"2016",origin:"TI",dest:"FR",count:84},{year:"2016",origin:"TI",dest:"SO",count:39},{year:"2016",origin:"TI",dest:"BS",count:58},{year:"2016",origin:"TI",dest:"BL",count:56},{year:"2016",origin:"TI",dest:"SH",count:12},{year:"2016",origin:"TI",dest:"AR",count:8},{year:"2016",origin:"TI",dest:"AI",count:4},{year:"2016",origin:"TI",dest:"SG",count:92},{year:"2016",origin:"TI",dest:"GR",count:333},{year:"2016",origin:"TI",dest:"AG",count:174},{year:"2016",origin:"TI",dest:"TG",count:46},{year:"2016",origin:"TI",dest:"TI",count:16625},{year:"2016",origin:"TI",dest:"VD",count:265},{year:"2016",origin:"TI",dest:"VS",count:88},{year:"2016",origin:"TI",dest:"NE",count:48},{year:"2016",origin:"TI",dest:"GE",count:79},{year:"2016",origin:"TI",dest:"JU",count:5},{year:"2016",origin:"VD",dest:"ZH",count:820},{year:"2016",origin:"VD",dest:"BE",count:690},{year:"2016",origin:"VD",dest:"LU",count:80},{year:"2016",origin:"VD",dest:"UR",count:5},{year:"2016",origin:"VD",dest:"SZ",count:55},{year:"2016",origin:"VD",dest:"OW",count:10},{year:"2016",origin:"VD",dest:"NW",count:4},{year:"2016",origin:"VD",dest:"GL",count:4},{year:"2016",origin:"VD",dest:"ZG",count:112},{year:"2016",origin:"VD",dest:"FR",count:3221},{year:"2016",origin:"VD",dest:"SO",count:51},{year:"2016",origin:"VD",dest:"BS",count:121},{year:"2016",origin:"VD",dest:"BL",count:71},{year:"2016",origin:"VD",dest:"SH",count:13},{year:"2016",origin:"VD",dest:"AR",count:6},{year:"2016",origin:"VD",dest:"AI",count:1},{year:"2016",origin:"VD",dest:"SG",count:70},{year:"2016",origin:"VD",dest:"GR",count:44},{year:"2016",origin:"VD",dest:"AG",count:98},{year:"2016",origin:"VD",dest:"TG",count:17},{year:"2016",origin:"VD",dest:"TI",count:178},{year:"2016",origin:"VD",dest:"VD",count:47540},{year:"2016",origin:"VD",dest:"VS",count:2391},{year:"2016",origin:"VD",dest:"NE",count:867},{year:"2016",origin:"VD",dest:"GE",count:1656},{year:"2016",origin:"VD",dest:"JU",count:151},{year:"2016",origin:"VS",dest:"ZH",count:319},{year:"2016",origin:"VS",dest:"BE",count:584},{year:"2016",origin:"VS",dest:"LU",count:136},{year:"2016",origin:"VS",dest:"UR",count:5},{year:"2016",origin:"VS",dest:"SZ",count:38},{year:"2016",origin:"VS",dest:"OW",count:22},{year:"2016",origin:"VS",dest:"NW",count:18},{year:"2016",origin:"VS",dest:"GL",count:9},{year:"2016",origin:"VS",dest:"ZG",count:33},{year:"2016",origin:"VS",dest:"FR",count:399},{year:"2016",origin:"VS",dest:"SO",count:80},{year:"2016",origin:"VS",dest:"BS",count:55},{year:"2016",origin:"VS",dest:"BL",count:31},{year:"2016",origin:"VS",dest:"SH",count:7},{year:"2016",origin:"VS",dest:"AR",count:9},{year:"2016",origin:"VS",dest:"AI",count:2},{year:"2016",origin:"VS",dest:"SG",count:48},{year:"2016",origin:"VS",dest:"GR",count:49},{year:"2016",origin:"VS",dest:"AG",count:114},{year:"2016",origin:"VS",dest:"TG",count:32},{year:"2016",origin:"VS",dest:"TI",count:66},{year:"2016",origin:"VS",dest:"VD",count:1652},{year:"2016",origin:"VS",dest:"VS",count:14977},{year:"2016",origin:"VS",dest:"NE",count:153},{year:"2016",origin:"VS",dest:"GE",count:282},{year:"2016",origin:"VS",dest:"JU",count:60},{year:"2016",origin:"NE",dest:"ZH",count:115},{year:"2016",origin:"NE",dest:"BE",count:889},{year:"2016",origin:"NE",dest:"LU",count:16},{year:"2016",origin:"NE",dest:"UR",count:2},{year:"2016",origin:"NE",dest:"SZ",count:4},{year:"2016",origin:"NE",dest:"OW",count:0},{year:"2016",origin:"NE",dest:"NW",count:0},{year:"2016",origin:"NE",dest:"GL",count:1},{year:"2016",origin:"NE",dest:"ZG",count:11},{year:"2016",origin:"NE",dest:"FR",count:461},{year:"2016",origin:"NE",dest:"SO",count:34},{year:"2016",origin:"NE",dest:"BS",count:30},{year:"2016",origin:"NE",dest:"BL",count:9},{year:"2016",origin:"NE",dest:"SH",count:0},{year:"2016",origin:"NE",dest:"AR",count:2},{year:"2016",origin:"NE",dest:"AI",count:0},{year:"2016",origin:"NE",dest:"SG",count:10},{year:"2016",origin:"NE",dest:"GR",count:3},{year:"2016",origin:"NE",dest:"AG",count:20},{year:"2016",origin:"NE",dest:"TG",count:1},{year:"2016",origin:"NE",dest:"TI",count:48},{year:"2016",origin:"NE",dest:"VD",count:1087},{year:"2016",origin:"NE",dest:"VS",count:203},{year:"2016",origin:"NE",dest:"NE",count:7237},{year:"2016",origin:"NE",dest:"GE",count:148},{year:"2016",origin:"NE",dest:"JU",count:202},{year:"2016",origin:"GE",dest:"ZH",count:481},{year:"2016",origin:"GE",dest:"BE",count:190},{year:"2016",origin:"GE",dest:"LU",count:23},{year:"2016",origin:"GE",dest:"UR",count:0},{year:"2016",origin:"GE",dest:"SZ",count:44},{year:"2016",origin:"GE",dest:"OW",count:2},{year:"2016",origin:"GE",dest:"NW",count:3},{year:"2016",origin:"GE",dest:"GL",count:1},{year:"2016",origin:"GE",dest:"ZG",count:79},{year:"2016",origin:"GE",dest:"FR",count:242},{year:"2016",origin:"GE",dest:"SO",count:19},{year:"2016",origin:"GE",dest:"BS",count:59},{year:"2016",origin:"GE",dest:"BL",count:19},{year:"2016",origin:"GE",dest:"SH",count:5},{year:"2016",origin:"GE",dest:"AR",count:1},{year:"2016",origin:"GE",dest:"AI",count:0},{year:"2016",origin:"GE",dest:"SG",count:26},{year:"2016",origin:"GE",dest:"GR",count:10},{year:"2016",origin:"GE",dest:"AG",count:32},{year:"2016",origin:"GE",dest:"TG",count:6},{year:"2016",origin:"GE",dest:"TI",count:81},{year:"2016",origin:"GE",dest:"VD",count:2619},{year:"2016",origin:"GE",dest:"VS",count:511},{year:"2016",origin:"GE",dest:"NE",count:177},{year:"2016",origin:"GE",dest:"GE",count:29941},{year:"2016",origin:"GE",dest:"JU",count:45},{year:"2016",origin:"JU",dest:"ZH",count:38},{year:"2016",origin:"JU",dest:"BE",count:353},{year:"2016",origin:"JU",dest:"LU",count:3},{year:"2016",origin:"JU",dest:"UR",count:0},{year:"2016",origin:"JU",dest:"SZ",count:0},{year:"2016",origin:"JU",dest:"OW",count:1},{year:"2016",origin:"JU",dest:"NW",count:0},{year:"2016",origin:"JU",dest:"GL",count:0},{year:"2016",origin:"JU",dest:"ZG",count:1},{year:"2016",origin:"JU",dest:"FR",count:90},{year:"2016",origin:"JU",dest:"SO",count:22},{year:"2016",origin:"JU",dest:"BS",count:38},{year:"2016",origin:"JU",dest:"BL",count:58},{year:"2016",origin:"JU",dest:"SH",count:2},{year:"2016",origin:"JU",dest:"AR",count:1},{year:"2016",origin:"JU",dest:"AI",count:0},{year:"2016",origin:"JU",dest:"SG",count:5},{year:"2016",origin:"JU",dest:"GR",count:0},{year:"2016",origin:"JU",dest:"AG",count:19},{year:"2016",origin:"JU",dest:"TG",count:5},{year:"2016",origin:"JU",dest:"TI",count:3},{year:"2016",origin:"JU",dest:"VD",count:217},{year:"2016",origin:"JU",dest:"VS",count:61},{year:"2016",origin:"JU",dest:"NE",count:181},{year:"2016",origin:"JU",dest:"GE",count:42},{year:"2016",origin:"JU",dest:"JU",count:3112}]},function(module,exports){module.exports=[{origin:"ZH",dest:"ZH",count:-3095},{origin:"ZH",dest:"BE",count:12},{origin:"ZH",dest:"LU",count:87},{origin:"ZH",dest:"UR",count:-29},{origin:"ZH",dest:"SZ",count:117},{origin:"ZH",dest:"OW",count:23},{origin:"ZH",dest:"NW",count:-5},{origin:"ZH",dest:"GL",count:36},{origin:"ZH",dest:"ZG",count:10},{origin:"ZH",dest:"FR",count:-13},{origin:"ZH",dest:"SO",count:35},{origin:"ZH",dest:"BS",count:-37},{origin:"ZH",dest:"BL",count:-11},{origin:"ZH",dest:"SH",count:23},{origin:"ZH",dest:"AR",count:-21},{origin:"ZH",dest:"AI",count:-5},{origin:"ZH",dest:"SG",count:48},{origin:"ZH",dest:"GR",count:-111},{origin:"ZH",dest:"AG",count:-102},{origin:"ZH",dest:"TG",count:188},{origin:"ZH",dest:"TI",count:-30},{origin:"ZH",dest:"VD",count:-65},{origin:"ZH",dest:"VS",count:32},{origin:"ZH",dest:"NE",count:6},{origin:"ZH",dest:"GE",count:-28},{origin:"ZH",dest:"JU",count:-13},{origin:"BE",dest:"ZH",count:89},{origin:"BE",dest:"BE",count:-1782},{origin:"BE",dest:"LU",count:70},{origin:"BE",dest:"UR",count:-1},{origin:"BE",dest:"SZ",count:46},{origin:"BE",dest:"OW",count:-26},{origin:"BE",dest:"NW",count:36},{origin:"BE",dest:"GL",count:2},{origin:"BE",dest:"ZG",count:-12},{origin:"BE",dest:"FR",count:38},{origin:"BE",dest:"SO",count:-106},{origin:"BE",dest:"BS",count:4},{origin:"BE",dest:"BL",count:6},{origin:"BE",dest:"SH",count:12},{origin:"BE",dest:"AR",count:34},{origin:"BE",dest:"AI",count:2},{origin:"BE",dest:"SG",count:35},{origin:"BE",dest:"GR",count:-6},{origin:"BE",dest:"AG",count:-54},{origin:"BE",dest:"TG",count:-15},{origin:"BE",dest:"TI",count:-21},{origin:"BE",dest:"VD",count:-12},{origin:"BE",dest:"VS",count:73},{origin:"BE",dest:"NE",count:-3},{origin:"BE",dest:"GE",count:-19},{origin:"BE",dest:"JU",count:-120},{origin:"LU",dest:"ZH",count:-20},{origin:"LU",dest:"BE",count:29},{origin:"LU",dest:"LU",count:-1053},{origin:"LU",dest:"UR",count:-28},{origin:"LU",dest:"SZ",count:70},{origin:"LU",dest:"OW",count:32},{origin:"LU",dest:"NW",count:51},{origin:"LU",dest:"GL",count:-11},{origin:"LU",dest:"ZG",count:54},{origin:"LU",dest:"FR",count:-12},{origin:"LU",dest:"SO",count:-32},{origin:"LU",dest:"BS",count:-10},{origin:"LU",dest:"BL",count:20},{origin:"LU",dest:"SH",count:-9},{origin:"LU",dest:"AR",count:3},{origin:"LU",dest:"AI",count:-1},{origin:"LU",dest:"SG",count:-23},{origin:"LU",dest:"GR",count:16},{origin:"LU",dest:"AG",count:-119},{origin:"LU",dest:"TG",count:-10},{origin:"LU",dest:"TI",count:-14},{origin:"LU",dest:"VD",count:8},{origin:"LU",dest:"VS",count:37},{origin:"LU",dest:"NE",count:2},{origin:"LU",dest:"GE",count:-8},{origin:"LU",dest:"JU",count:-3},{origin:"UR",dest:"ZH",count:-4},{origin:"UR",dest:"BE",count:-10},{origin:"UR",dest:"LU",count:41},{origin:"UR",dest:"UR",count:-219},{origin:"UR",dest:"SZ",count:-9},{origin:"UR",dest:"OW",count:-11},{origin:"UR",dest:"NW",count:7},{origin:"UR",dest:"GL",count:-3},{origin:"UR",dest:"ZG",count:5},{origin:"UR",dest:"FR",count:-2},{origin:"UR",dest:"SO",count:13},{origin:"UR",dest:"BS",count:-1},{origin:"UR",dest:"BL",count:-10},{origin:"UR",dest:"SH",count:2},{origin:"UR",dest:"AR",count:2},{origin:"UR",dest:"AI",count:-1},{origin:"UR",dest:"SG",count:-11},{origin:"UR",dest:"GR",count:7},{origin:"UR",dest:"AG",count:5},{origin:"UR",dest:"TI",count:-2},{origin:"UR",dest:"VD",count:-1},{origin:"UR",dest:"VS",count:-4},{origin:"UR",dest:"NE",count:1},{origin:"UR",dest:"GE",count:1},{origin:"SZ",dest:"ZH",count:112},{origin:"SZ",dest:"BE",count:34},{origin:"SZ",dest:"LU",count:14},{origin:"SZ",dest:"UR",count:-22},{origin:"SZ",dest:"SZ",count:116},{origin:"SZ",dest:"OW",count:18},{origin:"SZ",dest:"NW",count:13},{origin:"SZ",dest:"GL",count:29},{origin:"SZ",dest:"ZG",count:15},{origin:"SZ",dest:"FR",count:6},{origin:"SZ",dest:"SO",count:-10},{origin:"SZ",dest:"BS",count:12},{origin:"SZ",dest:"BL",count:12},{origin:"SZ",dest:"SH",count:-4},{origin:"SZ",dest:"AR",count:1},{origin:"SZ",dest:"AI",count:-4},{origin:"SZ",dest:"SG",count:29},{origin:"SZ",dest:"GR",count:-12},{origin:"SZ",dest:"AG",count:-37},{origin:"SZ",dest:"TG",count:-7},{origin:"SZ",dest:"TI",count:4},{origin:"SZ",dest:"VD",count:-9},{origin:"SZ",dest:"VS",count:9},{origin:"SZ",dest:"NE",count:-6},{origin:"SZ",dest:"GE",count:7},{origin:"SZ",dest:"JU",count:2},{origin:"OW",dest:"ZH",count:-8},{origin:"OW",dest:"BE",count:-15},{origin:"OW",dest:"LU",count:48},{origin:"OW",dest:"UR",count:-11},{origin:"OW",dest:"SZ",count:4},{origin:"OW",dest:"OW",count:-93},{origin:"OW",dest:"NW",count:15},{origin:"OW",dest:"GL",count:-1},{origin:"OW",dest:"ZG",count:-12},{origin:"OW",dest:"FR",count:2},{origin:"OW",dest:"SO",count:-3},{origin:"OW",dest:"BS",count:1},{origin:"OW",dest:"BL",count:1},{origin:"OW",dest:"AR",count:1},{origin:"OW",dest:"SG",count:6},{origin:"OW",dest:"GR",count:5},{origin:"OW",dest:"AG",count:6},{origin:"OW",dest:"TG",count:16},{origin:"OW",dest:"TI",count:-2},{origin:"OW",dest:"VD",count:5},{origin:"OW",dest:"VS",count:6},{origin:"OW",dest:"GE",count:-2},{origin:"OW",dest:"JU",count:3},{origin:"NW",dest:"ZH",count:-14},{origin:"NW",dest:"LU",count:23},{origin:"NW",dest:"UR",count:-14},{origin:"NW",dest:"SZ",count:-3},{origin:"NW",dest:"OW",count:20},{origin:"NW",dest:"NW",count:25},{origin:"NW",dest:"GL",count:-8},{origin:"NW",dest:"ZG",count:-14},{origin:"NW",dest:"FR",count:-6},{origin:"NW",dest:"SO",count:3},{origin:"NW",dest:"BS",count:-5},{origin:"NW",dest:"BL",count:-1},{origin:"NW",dest:"SH",count:-3},{origin:"NW",dest:"AR",count:2},{origin:"NW",dest:"SG",count:-1},{origin:"NW",dest:"GR",count:-1},{origin:"NW",dest:"AG",count:-10},{origin:"NW",dest:"TG",count:-7},{origin:"NW",dest:"VD",count:-1},{origin:"NW",dest:"VS",count:4},{origin:"NW",dest:"NE",count:1},{origin:"NW",dest:"GE",count:3},{origin:"NW",dest:"JU",count:-1},{origin:"GL",dest:"ZH",count:12},{origin:"GL",dest:"BE",count:6},{origin:"GL",dest:"LU",count:12},{origin:"GL",dest:"UR",count:3},{origin:"GL",dest:"SZ",count:-19},{origin:"GL",dest:"OW",count:5},{origin:"GL",dest:"NW",count:-1},{origin:"GL",dest:"GL",count:-45},{origin:"GL",dest:"ZG",count:14},{origin:"GL",dest:"FR",count:1},{origin:"GL",dest:"SO",count:-10},{origin:"GL",dest:"BL",count:-1},{origin:"GL",dest:"SH",count:-1},{origin:"GL",dest:"AR",count:10},{origin:"GL",dest:"AI",count:-2},{origin:"GL",dest:"SG",count:2},{origin:"GL",dest:"GR",count:4},{origin:"GL",dest:"AG",count:-31},{origin:"GL",dest:"TG",count:-6},{origin:"GL",dest:"TI",count:-1},{origin:"GL",dest:"VD",count:-1},{origin:"GL",dest:"VS",count:8},{origin:"GL",dest:"NE",count:2},{origin:"GL",dest:"GE",count:1},{origin:"GL",dest:"JU",count:5},{origin:"ZG",dest:"ZH",count:-143},{origin:"ZG",dest:"BE",count:13},{origin:"ZG",dest:"LU",count:15},{origin:"ZG",dest:"UR",count:-3},{origin:"ZG",dest:"SZ",count:-9},{origin:"ZG",dest:"OW",count:-1},{origin:"ZG",dest:"NW",count:18},{origin:"ZG",dest:"GL",count:-5},{origin:"ZG",dest:"ZG",count:-8},{origin:"ZG",dest:"FR",count:-6},{origin:"ZG",dest:"SO",count:-14},{origin:"ZG",dest:"BS",count:-20},{origin:"ZG",dest:"BL",count:-6},{origin:"ZG",dest:"SH",count:5},{origin:"ZG",dest:"AR",count:6},{origin:"ZG",dest:"AI",count:2},{origin:"ZG",dest:"SG",count:6},{origin:"ZG",dest:"AG",count:-65},{origin:"ZG",dest:"TG",count:16},{origin:"ZG",dest:"TI",count:-29},{origin:"ZG",dest:"VD",count:-4},{origin:"ZG",dest:"VS",count:4},{origin:"ZG",dest:"NE",count:7},{origin:"ZG",dest:"GE",count:2},{origin:"ZG",dest:"JU",count:-4},{origin:"FR",dest:"ZH",count:66},{origin:"FR",dest:"BE",count:-5},{origin:"FR",dest:"LU",count:26},{origin:"FR",dest:"UR",count:2},{origin:"FR",dest:"SZ",count:7},{origin:"FR",dest:"OW",count:-1},{origin:"FR",dest:"NW",count:3},{origin:"FR",dest:"GL",count:1},{origin:"FR",dest:"ZG",count:1},{origin:"FR",dest:"FR",count:-583},{origin:"FR",dest:"SO",count:36},{origin:"FR",dest:"BS",count:20},{origin:"FR",dest:"BL",count:28},{origin:"FR",dest:"SH",count:4},{origin:"FR",dest:"AR",count:2},{origin:"FR",dest:"SG",count:5},{origin:"FR",dest:"AG",count:-2},{origin:"FR",dest:"TI",count:2},{origin:"FR",dest:"VD",count:-13},{origin:"FR",dest:"VS",count:-40},{origin:"FR",dest:"NE",count:-2},{origin:"FR",dest:"GE",count:30},{origin:"FR",dest:"JU",count:2},{origin:"SO",dest:"ZH",count:-4},{origin:"SO",dest:"BE",count:10},{origin:"SO",dest:"LU",count:44},{origin:"SO",dest:"UR",count:-7},{origin:"SO",dest:"SZ",count:-13},{origin:"SO",dest:"OW",count:2},{origin:"SO",dest:"NW",count:10},{origin:"SO",dest:"GL",count:-2},{origin:"SO",dest:"FR",count:-8},{origin:"SO",dest:"SO",count:-43},{origin:"SO",dest:"BS",count:-57},{origin:"SO",dest:"BL",count:-4},{origin:"SO",dest:"SH",count:-12},{origin:"SO",dest:"AR",count:14},{origin:"SO",dest:"AI",count:-1},{origin:"SO",dest:"SG",count:10},{origin:"SO",dest:"GR",count:-16},{origin:"SO",dest:"AG",count:-34},{origin:"SO",dest:"TG",count:20},{origin:"SO",dest:"TI",count:21},{origin:"SO",dest:"VD",count:-11},{origin:"SO",dest:"VS",count:6},{origin:"SO",dest:"NE",count:-1},{origin:"SO",dest:"GE",count:-4},{origin:"SO",dest:"JU",count:-9},{origin:"BS",dest:"ZH",count:-122},{origin:"BS",dest:"BE",count:31},{origin:"BS",dest:"LU",count:-18},{origin:"BS",dest:"UR",count:6},{origin:"BS",dest:"SZ",count:-10},{origin:"BS",dest:"OW",count:-2},{origin:"BS",dest:"NW",count:8},{origin:"BS",dest:"GL",count:-1},{origin:"BS",dest:"ZG",count:-12},{origin:"BS",dest:"FR",count:-9},{origin:"BS",dest:"SO",count:83},{origin:"BS",dest:"BS",count:-13},{origin:"BS",dest:"BL",count:-327},{origin:"BS",dest:"SH",count:-2},{origin:"BS",dest:"AR",count:1},{origin:"BS",dest:"SG",count:24},{origin:"BS",dest:"GR",count:-5},{origin:"BS",dest:"AG",count:-9},{origin:"BS",dest:"TG",count:4},{origin:"BS",dest:"TI",count:-15},{origin:"BS",dest:"VD",count:13},{origin:"BS",dest:"VS",count:-2},{origin:"BS",dest:"NE",count:-8},{origin:"BS",dest:"GE",count:9},{origin:"BS",dest:"JU",count:-8},{origin:"BL",dest:"ZH",count:-75},{origin:"BL",dest:"BE",count:-7},{origin:"BL",dest:"LU",count:-37},{origin:"BL",dest:"UR",count:5},{origin:"BL",dest:"SZ",count:-3},{origin:"BL",dest:"OW",count:-6},{origin:"BL",dest:"NW",count:-13},{origin:"BL",dest:"GL",count:5},{origin:"BL",dest:"ZG",count:3},{origin:"BL",dest:"FR",count:-4},{origin:"BL",dest:"SO",count:-42},{origin:"BL",dest:"BS",count:80},{origin:"BL",dest:"BL",count:-316},{origin:"BL",dest:"SH",count:6},{origin:"BL",dest:"AR",count:-6},{origin:"BL",dest:"AI",count:3},{origin:"BL",dest:"SG",count:11},{origin:"BL",dest:"GR",count:-6},{origin:"BL",dest:"AG",count:12},{origin:"BL",dest:"TG",count:2},{origin:"BL",dest:"TI",count:11},{origin:"BL",dest:"VD",count:-10},{origin:"BL",dest:"VS",count:-10},{origin:"BL",dest:"NE",count:8},{origin:"BL",dest:"GE",count:1},{origin:"BL",dest:"JU",count:-16},{origin:"SH",dest:"ZH",count:30},{origin:"SH",dest:"BE",count:-17},{origin:"SH",dest:"LU",count:3},{origin:"SH",dest:"SZ",count:-14},{origin:"SH",dest:"OW",count:2},{origin:"SH",dest:"NW",count:1},{origin:"SH",dest:"GL",count:4},{origin:"SH",dest:"FR",count:-1},{origin:"SH",dest:"SO",count:-6},{origin:"SH",dest:"BS",count:2},{origin:"SH",dest:"BL",count:-4},{origin:"SH",dest:"SH",count:-48},{origin:"SH",dest:"AR",count:-18},{origin:"SH",dest:"AI",count:3},{origin:"SH",dest:"SG",count:56},{origin:"SH",dest:"GR",count:6},{origin:"SH",dest:"AG",count:-1},{origin:"SH",dest:"TG",count:32},{origin:"SH",dest:"TI",count:5},{origin:"SH",dest:"VD",count:5},{origin:"SH",dest:"VS",count:3},{origin:"SH",dest:"NE",count:-3},{origin:"SH",dest:"GE",count:-1},{origin:"SH",dest:"JU",count:3},{origin:"AR",dest:"ZH",count:-54},{origin:"AR",dest:"BE",count:8},{origin:"AR",dest:"LU",count:-10},{origin:"AR",dest:"UR",count:-2},{origin:"AR",dest:"SZ",count:1},{origin:"AR",dest:"OW",count:-5},{origin:"AR",dest:"NW",count:-1},{origin:"AR",dest:"GL",count:8},{origin:"AR",dest:"ZG",count:-2},{origin:"AR",dest:"FR",count:5},{origin:"AR",dest:"SO",count:-2},{origin:"AR",dest:"BS",count:-2},{origin:"AR",dest:"BL",count:-3},{origin:"AR",dest:"SH",count:-4},{origin:"AR",dest:"AR",count:-57},{origin:"AR",dest:"AI",count:33},{origin:"AR",dest:"SG",count:-103},{origin:"AR",dest:"GR",count:10},{origin:"AR",dest:"AG",count:11},{origin:"AR",dest:"TG",count:-5},{origin:"AR",dest:"TI",count:8},{origin:"AR",dest:"VD",count:-4},{origin:"AR",dest:"NE",count:-2},{origin:"AR",dest:"JU",count:-1},{origin:"AI",dest:"ZH",count:11},{origin:"AI",dest:"LU",count:-4},{origin:"AI",dest:"UR",count:1},{origin:"AI",dest:"SZ",count:-9},{origin:"AI",dest:"NW",count:-3},{origin:"AI",dest:"GL",count:-1},{origin:"AI",dest:"FR",count:-1},{origin:"AI",dest:"SO",count:-1},{origin:"AI",dest:"BS",count:-4},{origin:"AI",dest:"BL",count:4},{origin:"AI",dest:"SH",count:-1},{origin:"AI",dest:"AR",count:-2},{origin:"AI",dest:"AI",count:23},{origin:"AI",dest:"SG",count:2},{origin:"AI",dest:"GR",count:-6},{origin:"AI",dest:"AG",count:2},{origin:"AI",dest:"TG",count:-7},{origin:"AI",dest:"TI",count:-2},{origin:"AI",dest:"VD",count:2},{origin:"AI",dest:"VS",count:3},{origin:"AI",dest:"NE",count:2},{origin:"SG",dest:"ZH",count:-101},{origin:"SG",dest:"BE",count:-17},{origin:"SG",dest:"LU",count:42},{origin:"SG",dest:"UR",count:21},{origin:"SG",dest:"SZ",count:-63},{origin:"SG",dest:"OW",count:-3},{origin:"SG",dest:"NW",count:-1},{origin:"SG",dest:"GL",count:-16},{origin:"SG",dest:"ZG",count:-13},{origin:"SG",dest:"FR",count:-8},{origin:"SG",dest:"SO",count:-10},{origin:"SG",dest:"BS",count:2},{origin:"SG",dest:"BL",count:8},{origin:"SG",dest:"SH",count:-10},{origin:"SG",dest:"AR",count:-20},{origin:"SG",dest:"AI",count:-18},{origin:"SG",dest:"SG",count:-694},{origin:"SG",dest:"GR",count:-34},{origin:"SG",dest:"AG",count:35},{origin:"SG",dest:"TG",count:25},{origin:"SG",dest:"TI",count:-11},{origin:"SG",dest:"VD",count:-2},{origin:"SG",dest:"NE",count:2},{origin:"SG",dest:"GE",count:-2},{origin:"SG",dest:"JU",count:4},{origin:"GR",dest:"ZH",count:-20},{origin:"GR",dest:"BE",count:58},{origin:"GR",dest:"LU",count:-13},{origin:"GR",dest:"UR",count:7},{origin:"GR",dest:"SZ",count:-6},{origin:"GR",dest:"OW",count:-6},{origin:"GR",dest:"NW",count:19},{origin:"GR",dest:"GL",count:5},{origin:"GR",dest:"ZG",count:28},{origin:"GR",dest:"FR",count:7},{origin:"GR",dest:"SO",count:-6},{origin:"GR",dest:"BS",count:-26},{origin:"GR",dest:"BL",count:15},{origin:"GR",dest:"SH",count:-24},{origin:"GR",dest:"AR",count:-13},{origin:"GR",dest:"AI",count:-10},{origin:"GR",dest:"SG",count:-37},{origin:"GR",dest:"GR",count:-13},{origin:"GR",dest:"AG",count:-43},{origin:"GR",dest:"TG",count:-16},{origin:"GR",dest:"TI",count:-22},{origin:"GR",dest:"VD",count:7},{origin:"GR",dest:"VS",count:2},{origin:"GR",dest:"NE",count:1},{origin:"GR",dest:"GE",count:8},{origin:"GR",dest:"JU",count:-1},{origin:"AG",dest:"ZH",count:165},{origin:"AG",dest:"BE",count:44},{origin:"AG",dest:"LU",count:107},{origin:"AG",dest:"UR",count:-5},{origin:"AG",dest:"SZ",count:17},{origin:"AG",dest:"OW",count:-5},{origin:"AG",dest:"NW",count:-15},{origin:"AG",dest:"GL",count:-4},{origin:"AG",dest:"ZG",count:6},{origin:"AG",dest:"FR",count:11},{origin:"AG",dest:"SO",count:5},{origin:"AG",dest:"BS",count:-86},{origin:"AG",dest:"BL",count:20},{origin:"AG",dest:"SH",count:-14},{origin:"AG",dest:"AR",count:3},{origin:"AG",dest:"AI",count:4},{origin:"AG",dest:"SG",count:-60},{origin:"AG",dest:"GR",count:8},{origin:"AG",dest:"AG",count:-1392},{origin:"AG",dest:"TG",count:7},{origin:"AG",dest:"TI",count:-53},{origin:"AG",dest:"VD",count:-4},{origin:"AG",dest:"VS",count:-15},{origin:"AG",dest:"NE",count:5},{origin:"AG",dest:"GE",count:-12},{origin:"AG",dest:"JU",count:1},{origin:"TG",dest:"ZH",count:-184},{origin:"TG",dest:"BE",count:-68},{origin:"TG",dest:"LU",count:11},{origin:"TG",dest:"UR",count:5},{origin:"TG",dest:"SZ",count:-21},{origin:"TG",dest:"OW",count:7},{origin:"TG",dest:"GL",count:-8},{origin:"TG",dest:"ZG",count:17},{origin:"TG",dest:"FR",count:25},{origin:"TG",dest:"SO",count:18},{origin:"TG",dest:"BS",count:15},{origin:"TG",dest:"BL",count:16},{origin:"TG",dest:"SH",count:-87},{origin:"TG",dest:"AR",count:12},{origin:"TG",dest:"AI",count:10},{origin:"TG",dest:"SG",count:85},{origin:"TG",dest:"GR",count:1},{origin:"TG",dest:"AG",count:8},{origin:"TG",dest:"TG",count:182},{origin:"TG",dest:"TI",count:19},{origin:"TG",dest:"VD",count:1},{origin:"TG",dest:"VS",count:10},{origin:"TG",dest:"NE",count:2},{origin:"TG",dest:"GE",count:-15},{origin:"TG",dest:"JU",count:-1},{origin:"TI",dest:"ZH",count:-83},{origin:"TI",dest:"BE",count:-10},{origin:"TI",dest:"LU",count:-11},{origin:"TI",dest:"UR",count:-4},{origin:"TI",dest:"SZ",count:17},{origin:"TI",dest:"OW",count:-4},{origin:"TI",dest:"NW",count:-3},{origin:"TI",dest:"GL",count:-4},{origin:"TI",dest:"ZG",count:2},{origin:"TI",dest:"FR",count:15},{origin:"TI",dest:"SO",count:12},{origin:"TI",dest:"BS",count:3},{origin:"TI",dest:"BL",count:-19},{origin:"TI",dest:"SH",count:4},{origin:"TI",dest:"AR",count:-3},{origin:"TI",dest:"AI",count:1},{origin:"TI",dest:"SG",count:18},{origin:"TI",dest:"GR",count:60},{origin:"TI",dest:"AG",count:-10},{origin:"TI",dest:"TG",count:4},{origin:"TI",dest:"TI",count:-556},{origin:"TI",dest:"VD",count:6},{origin:"TI",dest:"VS",count:12},{origin:"TI",dest:"NE",count:-12},{origin:"TI",dest:"GE",count:30},{origin:"TI",dest:"JU",count:4},{origin:"VD",dest:"ZH",count:25},{origin:"VD",dest:"BE",count:22},{origin:"VD",dest:"UR",count:-2},{origin:"VD",dest:"SZ",count:9},{origin:"VD",dest:"OW",count:1},{origin:"VD",dest:"NW",count:7},{origin:"VD",dest:"GL",count:1},{origin:"VD",dest:"ZG",count:40},{origin:"VD",dest:"FR",count:-16},{origin:"VD",dest:"SO",count:28},{origin:"VD",dest:"BS",count:-14},{origin:"VD",dest:"BL",count:-28},{origin:"VD",dest:"SH",count:2},{origin:"VD",dest:"AR",count:-2},{origin:"VD",dest:"AI",count:6},{origin:"VD",dest:"SG",count:-17},{origin:"VD",dest:"GR",count:-11},{origin:"VD",dest:"AG",count:31},{origin:"VD",dest:"TG",count:1},{origin:"VD",dest:"TI",count:-20},{origin:"VD",dest:"VD",count:-2512},{origin:"VD",dest:"VS",count:63},{origin:"VD",dest:"NE",count:-9},{origin:"VD",dest:"GE",count:131},{origin:"VD",dest:"JU",count:-6},{origin:"VS",dest:"ZH",count:18},{origin:"VS",dest:"BE",count:32},{origin:"VS",dest:"LU",count:17},{origin:"VS",dest:"UR",count:13},{origin:"VS",dest:"SZ",count:7},{origin:"VS",dest:"OW",count:-10},{origin:"VS",dest:"NW",count:-6},{origin:"VS",dest:"GL",count:-2},{origin:"VS",dest:"ZG",count:-10},{origin:"VS",dest:"FR",count:-9},{origin:"VS",dest:"SO",count:-1},{origin:"VS",dest:"BS",count:-12},{origin:"VS",dest:"BL",count:22},{origin:"VS",dest:"SH",count:4},{origin:"VS",dest:"AR",count:-3},{origin:"VS",dest:"AI",count:4},{origin:"VS",dest:"SG",count:5},{origin:"VS",dest:"GR",count:3},{origin:"VS",dest:"AG",count:-6},{origin:"VS",dest:"TG",count:-1},{origin:"VS",dest:"TI",count:-10},{origin:"VS",dest:"VD",count:-12},{origin:"VS",dest:"VS",count:-477},{origin:"VS",dest:"NE",count:17},{origin:"VS",dest:"GE",count:-11},{origin:"VS",dest:"JU",count:-17},{origin:"NE",dest:"ZH",count:-1},{origin:"NE",dest:"BE",count:29},{origin:"NE",dest:"LU",count:-2},{origin:"NE",dest:"UR",count:-2},{origin:"NE",dest:"SZ",count:1},{origin:"NE",dest:"NW",count:1},{origin:"NE",dest:"GL",count:-1},{origin:"NE",dest:"ZG",count:9},{origin:"NE",dest:"FR",count:-78},{origin:"NE",dest:"SO",count:-6},{origin:"NE",dest:"BS",count:-8},{origin:"NE",dest:"BL",count:-2},{origin:"NE",dest:"SH",count:7},{origin:"NE",dest:"AR",count:-1},{origin:"NE",dest:"SG",count:1},{origin:"NE",dest:"GR",count:4},{origin:"NE",dest:"AG",count:3},{origin:"NE",dest:"TG",count:2},{origin:"NE",dest:"TI",count:-6},{origin:"NE",dest:"VD",count:8},{origin:"NE",dest:"VS",count:-4},{origin:"NE",dest:"NE",count:132},{origin:"NE",dest:"GE",count:25},{origin:"NE",dest:"JU",count:-32},{origin:"GE",dest:"ZH",count:-68},{origin:"GE",dest:"BE",count:16},{origin:"GE",dest:"LU",count:-3},{origin:"GE",dest:"UR",count:2},{origin:"GE",dest:"SZ",count:-15},{origin:"GE",dest:"OW",count:-1},{origin:"GE",dest:"GL",count:-1},{origin:"GE",dest:"ZG",count:-13},{origin:"GE",dest:"FR",count:-4},{origin:"GE",dest:"SO",count:-9},{origin:"GE",dest:"BS",count:21},{origin:"GE",dest:"BL",count:-12},{origin:"GE",dest:"SG",count:3},{origin:"GE",dest:"GR",count:9},{origin:"GE",dest:"AG",count:9},{origin:"GE",dest:"TI",count:7},{origin:"GE",dest:"VD",count:190},{origin:"GE",dest:"VS",count:-78},{origin:"GE",dest:"NE",count:-5},{origin:"GE",dest:"GE",count:-3079},{origin:"GE",dest:"JU",count:-15},{origin:"JU",dest:"ZH",count:-4},{origin:"JU",dest:"BE",count:-35},{origin:"JU",dest:"LU",count:4},{origin:"JU",dest:"SZ",count:2},{origin:"JU",dest:"OW",count:-1},{origin:"JU",dest:"ZG",count:5},{origin:"JU",dest:"FR",count:-11},{origin:"JU",dest:"SO",count:8},{origin:"JU",dest:"BS",count:-16},{origin:"JU",dest:"BL",count:-34},{origin:"JU",dest:"AR",count:-1},{origin:"JU",dest:"SG",count:-1},{origin:"JU",dest:"GR",count:2},{origin:"JU",dest:"AG",count:-6},{origin:"JU",dest:"TG",count:-4},{origin:"JU",dest:"TI",count:8},{origin:"JU",dest:"VD",count:-12},{origin:"JU",dest:"VS",count:28},{origin:"JU",dest:"NE",count:14},{origin:"JU",dest:"GE",count:3},{origin:"JU",dest:"JU",count:-130}]},function(module,exports){module.exports={type:"FeatureCollection",features:[{type:"Feature",properties:{abbr:"ZH",name:"Zürich",no:1,centroid:[8.654789284720719,47.412606122294044]},geometry:{type:"Polygon",coordinates:[[[8.808068406840686,47.220891289128915],[8.793098109810982,47.223080508050806],[8.74092889288929,47.211935393539356],[8.703729972997301,47.201785378537856],[8.681047704770478,47.18387358735873],[8.691481548154815,47.163971597159716],[8.674696669666968,47.15879707970797],[8.661540954095411,47.160986298629865],[8.661087308730874,47.170937293729374],[8.626156615661568,47.171932393239324],[8.627971197119713,47.17909710971097],[8.615722772277229,47.198800080008],[8.597123312331235,47.20397459745975],[8.594855085508552,47.211935393539356],[8.581699369936995,47.212930493049306],[8.553573357335734,47.223080508050806],[8.484165616561658,47.20775597559756],[8.460576057605762,47.21392559255926],[8.440615661566158,47.22507070707071],[8.422016201620163,47.223080508050806],[8.411128712871289,47.24795799579958],[8.402963096309632,47.2537295729573],[8.40205580558056,47.2740296029603],[8.388900090009002,47.289951195119514],[8.415211521152116,47.29273747374737],[8.4274599459946,47.301096309630964],[8.431996399639965,47.31184338433843],[8.446059405940595,47.31980418041804],[8.449688568856887,47.32975517551755],[8.416118811881189,47.32398359835984],[8.416572457245724,47.33393459345935],[8.403870387038705,47.346870887088706],[8.406592259225924,47.36995719571957],[8.393890189018903,47.380704270427046],[8.392075607560757,47.39602880288029],[8.366217821782179,47.401999399939996],[8.384363636363638,47.405780778077805],[8.392075607560757,47.41991119111911],[8.387539153915393,47.42807100710071],[8.374383438343836,47.43006120612061],[8.384363636363638,47.43702690269027],[8.38663186318632,47.44876907690769],[8.366217821782179,47.470064206420645],[8.373022502250226,47.4810103010301],[8.363949594959497,47.4810103010301],[8.358052205220524,47.49693189318932],[8.360774077407742,47.50986818681868],[8.376651665166518,47.511858385838586],[8.380734473447346,47.524794679467945],[8.402963096309632,47.532954495449545],[8.417933393339336,47.56400160016002],[8.426099009900991,47.56778297829783],[8.438347434743475,47.56698689868987],[8.495053105310532,47.580918291829185],[8.488702070207022,47.587883988398836],[8.466473447344736,47.583903590359036],[8.456493249324932,47.602014401440144],[8.478721872187219,47.61276147614761],[8.50820882088209,47.61793599359936],[8.515920792079209,47.63405660566057],[8.539056705670568,47.630872287228726],[8.568997299729974,47.61694089408941],[8.562646264626464,47.59902910291029],[8.53497389738974,47.586888888888886],[8.550851485148517,47.55703590359036],[8.559470747074709,47.55285648564856],[8.56945094509451,47.57196239623963],[8.579431143114313,47.57594279427943],[8.578070207020703,47.58887908790879],[8.594855085508552,47.5968398839884],[8.595762376237625,47.60579577957796],[8.604835283528354,47.61276147614761],[8.594855085508552,47.643012501250126],[8.604835283528354,47.651968396839685],[8.613454545454546,47.64778897889789],[8.604835283528354,47.63684288428843],[8.623888388838886,47.641022302230226],[8.628878487848786,47.652963496349635],[8.606196219621964,47.66908410841084],[8.613454545454546,47.6780400040004],[8.62706390639064,47.6780400040004],[8.624795679567958,47.69197139713972],[8.64248784878488,47.69495669566957],[8.662448244824484,47.68600080008001],[8.670160216021603,47.68500570057006],[8.681047704770478,47.65674487448745],[8.689213321332135,47.64878407840784],[8.721422142214223,47.641022302230226],[8.746826282628264,47.63883308330833],[8.764518451845186,47.64878407840784],[8.7858397839784,47.654754675467544],[8.788561656165617,47.66470567056706],[8.804439243924394,47.66470567056706],[8.804439243924394,47.651968396839685],[8.826214221422143,47.646793879387936],[8.82802880288029,47.639828182818285],[8.813058505850586,47.62709090909091],[8.800810081008102,47.602014401440144],[8.788108010801082,47.60997519751975],[8.745918991899192,47.62171737173718],[8.740021602160217,47.61176637663766],[8.748187218721874,47.592063406340635],[8.764064806480649,47.593058505850586],[8.805800180018004,47.582908490849086],[8.806707470747076,47.57196239623963],[8.830750675067508,47.57395259525953],[8.838916291629165,47.56499669966997],[8.850711071107112,47.56400160016002],[8.82802880288029,47.55604080408041],[8.841184518451847,47.532954495449545],[8.8829198919892,47.528974097409744],[8.898797479747977,47.523998599859986],[8.892900090009002,47.48797599759976],[8.883827182718273,47.470064206420645],[8.89063186318632,47.4688700870087],[8.902880288028804,47.44399259925993],[8.910592259225924,47.43702690269027],[8.930552655265528,47.43185238523852],[8.907416741674169,47.43085728572857],[8.915128712871288,47.41891609160916],[8.903787578757877,47.401999399939996],[8.919665166516653,47.399810181018104],[8.944162016201622,47.38508270827083],[8.944162016201622,47.37592779277928],[8.96094689468947,47.355826782678264],[8.971834383438345,47.352045404540455],[8.978639063906392,47.337715971597156],[8.97637083708371,47.32696889688969],[8.984990099009902,47.31900810081008],[8.9750099009901,47.30706690669067],[8.956410441044106,47.30487768776877],[8.948698469846985,47.291941394139414],[8.93418181818182,47.28776197619762],[8.947337533753377,47.281990399039906],[8.944162016201622,47.26885508550855],[8.93282088208821,47.25870507050705],[8.872939693969398,47.25173937393739],[8.869764176417643,47.24477367736774],[8.837555355535555,47.24696289628963],[8.826214221422143,47.25074427442744],[8.803078307830784,47.24696289628963],[8.795366336633665,47.23900210021002],[8.808068406840686,47.220891289128915]]]}},{type:"Feature",properties:{abbr:"LU",name:"Luzern",no:3,centroid:[8.110050800932683,47.06748397445195]},geometry:{type:"Polygon",coordinates:[[[8.04866606660666,46.78782398239824],[8.020993699369939,46.78881908190819],[7.9837947794779485,46.77508670867087],[7.9538541854185425,46.792003400340036],[7.946595859585959,46.8047406740674],[7.922099009900991,46.82006520652065],[7.876734473447345,46.83698189818982],[7.866754275427543,46.850913291329135],[7.869929792979299,46.864048604860486],[7.856320432043205,46.871014301430144],[7.859042304230424,46.88474667466747],[7.873105310531054,46.88972217221722],[7.883085508550856,46.90405160516052],[7.866754275427543,46.91400260026003],[7.872198019801981,46.923953595359535],[7.898055805580559,46.934899689968994],[7.912118811881189,46.9327104710471],[7.922099009900991,46.9470399039904],[7.932079207920793,46.95082128212821],[7.932079207920793,46.961767376737676],[7.946142214221423,46.96873307330733],[7.952039603960397,46.981072307230725],[7.947956795679569,46.99380958095809],[7.952039603960397,47.0059497949795],[7.932986498649866,47.0037605760576],[7.924367236723673,47.00973117311731],[7.902138613861387,47.0059497949795],[7.899870387038705,47.0180900090009],[7.882178217821783,47.040977297729775],[7.865846984698471,47.05271947194719],[7.874012601260127,47.06207340734073],[7.882178217821783,47.08874207420742],[7.869022502250226,47.112027402740274],[7.873105310531054,47.12476467646765],[7.885807380738075,47.12794899489949],[7.889890189018903,47.14088528852885],[7.878095409540955,47.150836283628365],[7.874466246624664,47.161981398139815],[7.883085508550856,47.17272847284728],[7.874466246624664,47.18387358735873],[7.859949594959497,47.19183438343834],[7.846340234023403,47.216711871187115],[7.836360036003601,47.224075607560756],[7.83908190819082,47.23382758275827],[7.854052205220523,47.232036403640365],[7.868115211521153,47.23681288128813],[7.909850585058507,47.24377857785778],[7.932986498649866,47.23581778177818],[7.961112511251126,47.2537295729573],[7.9488640864086415,47.27303450345035],[7.956122412241225,47.276815881588156],[7.986516651665167,47.2760198019802],[7.99513591359136,47.281990399039906],[8.016003600360037,47.25989918991899],[8.015096309630964,47.24377857785778],[8.029612961296131,47.24178837883788],[8.063182718271829,47.24696289628963],[8.055924392439245,47.25591879187919],[8.072709270927094,47.25492369236924],[8.088133213321333,47.26288448844885],[8.099020702070208,47.25989918991899],[8.10900090009001,47.24477367736774],[8.124878487848786,47.24099229922992],[8.131683168316833,47.24596779677968],[8.174779477947796,47.25273447344735],[8.174779477947796,47.23999719971997],[8.156180018001802,47.23900210021002],[8.176140414041406,47.222085408540856],[8.204720072007202,47.225866786678665],[8.207895589558957,47.24795799579958],[8.220144014401441,47.25273447344735],[8.227855985598561,47.27303450345035],[8.241465346534653,47.2720394039404],[8.25099189918992,47.285771777177715],[8.2868298829883,47.278806080608064],[8.299985598559857,47.270845284528455],[8.29590279027903,47.25870507050705],[8.314502250225024,47.23999719971997],[8.314502250225024,47.231041304130414],[8.325389738973898,47.21492069206921],[8.33809180918092,47.17909710971097],[8.358052205220524,47.156806880688066],[8.362135013501351,47.1460598059806],[8.376198019801981,47.13909410941094],[8.412036003600361,47.14088528852885],[8.417933393339336,47.12177937793779],[8.447420342034205,47.1297401740174],[8.45195679567957,47.11381858185818],[8.480536453645366,47.12595879587959],[8.49414581458146,47.11381858185818],[8.49278487848785,47.099887188718874],[8.474185418541856,47.112027402740274],[8.449688568856887,47.11381858185818],[8.423830783078309,47.104066606660666],[8.408860486048606,47.091926392639266],[8.409767776777679,47.08297049704971],[8.388900090009002,47.0708302830283],[8.391168316831685,47.06107830783078],[8.429728172817283,47.0648596859686],[8.440615661566158,47.06286948694869],[8.49641404140414,47.02883708370837],[8.513652565256526,47.02187138713872],[8.508662466246626,47.0037605760576],[8.482804680468048,46.99679487948795],[8.467380738073809,46.99679487948795],[8.468741674167418,47.00893509350935],[8.4274599459946,47.01709490949095],[8.426099009900991,46.99798899889989],[8.396158415841585,47.00097429742974],[8.384363636363638,46.99798899889989],[8.3839099909991,47.0180900090009],[8.368939693969399,47.01908510851085],[8.334462646264628,46.989033103310334],[8.318585058505851,46.99997919791979],[8.281386138613861,46.99480468046804],[8.264601260126014,46.99798899889989],[8.243733573357336,46.985848784878485],[8.22921692169217,46.992018401840184],[8.217875787578759,46.981072307230725],[8.22921692169217,46.972912491249126],[8.202905490549057,46.966742874287426],[8.18702790279028,46.971917391739176],[8.149375337533755,46.95798599859986],[8.164799279927994,46.93907910791079],[8.134858685868588,46.921963396339635],[8.11036183618362,46.89270747074708],[8.10900090009001,46.90783298329833],[8.09493789378938,46.912012401240126],[8.083143114311433,46.89987218721872],[8.069533753375339,46.89609080908091],[8.071801980198021,46.873800580058],[8.065904590459047,46.859869186918694],[8.041861386138615,46.83698189818982],[8.063636363636364,46.80792499249925],[8.04866606660666,46.78782398239824]]]}},{type:"Feature",properties:{abbr:"UR",name:"Uri",no:4,centroid:[8.628549054737778,46.7719996986948]},geometry:{type:"Polygon",coordinates:[[[8.935089108910892,46.919973197319734],[8.952781278127814,46.89808100810081],[8.958225022502251,46.8799701970197],[8.91739693969397,46.861063306330635],[8.908324032403241,46.862058405840585],[8.892900090009002,46.84872407240724],[8.870671467146716,46.841758375837586],[8.882012601260127,46.82902110211021],[8.87656885688569,46.813099509950995],[8.847989198919894,46.797774977497745],[8.82802880288029,46.792003400340036],[8.833926192619263,46.76692689268927],[8.81759495949595,46.76175237523752],[8.809882988298831,46.744039603960395],[8.813058505850586,46.736874887488746],[8.782210621062108,46.727719971997196],[8.765879387938796,46.744835683568354],[8.748187218721874,46.73607880788079],[8.748187218721874,46.71796799679968],[8.717792979297931,46.70602680268027],[8.709173717371739,46.69906110611061],[8.70010081008101,46.70383758375837],[8.673335733573358,46.692095409540954],[8.673335733573358,46.670800280028004],[8.678779477947796,46.66403360336034],[8.654736273627364,46.64970417041704],[8.651107110711072,46.63577277727773],[8.657911791179119,46.625821782178214],[8.67696489648965,46.61885608560856],[8.681501350135015,46.58900310031003],[8.678779477947796,46.57905210521052],[8.653375337533754,46.56790699069907],[8.63477587758776,46.56372757275727],[8.61935193519352,46.57805700570057],[8.589411341134115,46.573081508150814],[8.573080108010803,46.58382858285828],[8.548129612961297,46.58183838383838],[8.539056705670568,46.58701290129013],[8.520457245724574,46.57686288628863],[8.513198919891991,46.55875207520752],[8.519549954995501,46.5388500850085],[8.482804680468048,46.53188438843884],[8.47736093609361,46.52790399039904],[8.465112511251126,46.53606380638064],[8.457400540054007,46.53287948794879],[8.42882088208821,46.542830483048306],[8.419747974797481,46.56571777177717],[8.406138613861387,46.58601780178018],[8.419747974797481,46.6160698069807],[8.422016201620163,46.64791299129913],[8.409767776777679,46.65288848884888],[8.407499549954997,46.66701890189019],[8.397972997299732,46.673984598459846],[8.399787578757877,46.693090509050904],[8.415211521152116,46.68672187218722],[8.45195679567957,46.68891109110911],[8.454225022502252,46.71080328032803],[8.448781278127814,46.71179837983798],[8.440615661566158,46.736874887488746],[8.448781278127814,46.76473767376738],[8.490970297029705,46.77289748974897],[8.47736093609361,46.78881908190819],[8.482804680468048,46.81688088808881],[8.489609360936095,46.83598679867987],[8.506394239423944,46.84494269426943],[8.497321332133215,46.85409760976098],[8.471917191719173,46.85509270927093],[8.466473447344736,46.87479567956795],[8.478721872187219,46.88275647564756],[8.474185418541856,46.89270747074708],[8.458761476147615,46.89907610761076],[8.480536453645366,46.90882808280828],[8.485980198019803,46.917783978397836],[8.502765076507652,46.91400260026003],[8.519549954995501,46.922958495849585],[8.54404680468047,46.92773497349735],[8.54404680468047,46.93907910791079],[8.559017101710172,46.94007420742074],[8.554934293429344,46.96296149614962],[8.573533753375338,46.982067406740676],[8.568997299729974,46.990028202820284],[8.581699369936995,46.993013501350134],[8.602567056705672,46.986843884388435],[8.603927992799282,46.95181638163816],[8.623888388838886,46.95281148114812],[8.670160216021603,46.94385558555855],[8.69238883888389,46.9470399039904],[8.696925292529254,46.92892909290929],[8.707812781278129,46.916788878887886],[8.736846084608462,46.9327104710471],[8.768601260126013,46.94007420742074],[8.788108010801082,46.92992419241924],[8.810790279027904,46.94106930693069],[8.82666786678668,46.935894789478944],[8.82802880288029,46.91877907790779],[8.836194419441945,46.90783298329833],[8.847989198919894,46.913007500750076],[8.847989198919894,46.89071727172717],[8.852979297929794,46.88474667466747],[8.862052205220524,46.89609080908091],[8.87384698469847,46.89489668966897],[8.901065706570659,46.90783298329833],[8.935089108910892,46.919973197319734]]]}},{type:"Feature",properties:{abbr:"SZ",name:"Schwyz",no:5,centroid:[8.756141692382394,47.06179415913812]},geometry:{type:"Polygon",coordinates:[[[8.568997299729974,46.990028202820284],[8.54268586858686,46.979878187818784],[8.49641404140414,46.97609680968097],[8.465112511251126,46.984057605760576],[8.467380738073809,46.99679487948795],[8.482804680468048,46.99679487948795],[8.508662466246626,47.0037605760576],[8.513652565256526,47.02187138713872],[8.49641404140414,47.02883708370837],[8.440615661566158,47.06286948694869],[8.429728172817283,47.0648596859686],[8.391168316831685,47.06107830783078],[8.388900090009002,47.0708302830283],[8.409767776777679,47.08297049704971],[8.408860486048606,47.091926392639266],[8.423830783078309,47.104066606660666],[8.449688568856887,47.11381858185818],[8.474185418541856,47.112027402740274],[8.49278487848785,47.099887188718874],[8.520457245724574,47.089737173717374],[8.562646264626464,47.093916591659166],[8.567182718271829,47.08078127812781],[8.589411341134115,47.08595579557956],[8.608918091809182,47.094911691169116],[8.63341494149415,47.093916591659166],[8.671521152115211,47.11580878087808],[8.686945094509452,47.13491469146915],[8.683769576957697,47.14088528852885],[8.701008100810082,47.150836283628365],[8.691481548154815,47.163971597159716],[8.681047704770478,47.18387358735873],[8.703729972997301,47.201785378537856],[8.74092889288929,47.211935393539356],[8.793098109810982,47.223080508050806],[8.808068406840686,47.220891289128915],[8.828482448244825,47.20875107510751],[8.841184518451847,47.20775597559756],[8.940986498649867,47.217706970697066],[8.969566156615663,47.217706970697066],[8.965029702970298,47.19800400040004],[8.958225022502251,47.198800080008],[8.961854185418543,47.18009220922092],[8.981814581458147,47.18287848784878],[9.003589558955897,47.17272847284728],[9.003589558955897,47.17272847284728],[8.966390639063906,47.13690489048905],[8.965029702970298,47.12177937793779],[8.974102610261028,47.11481368136813],[8.970473447344736,47.104066606660666],[8.954142214221424,47.090732273227324],[8.9750099009901,47.08595579557956],[8.965936993699371,47.081776377637766],[8.950513051305132,47.06107830783078],[8.947337533753377,47.04893809380938],[8.921026102610263,47.037792979297926],[8.901972997299731,47.037792979297926],[8.903787578757877,47.02704590459046],[8.895168316831684,47.02087628762876],[8.909684968496851,47.01709490949095],[8.910592259225924,47.00893509350935],[8.940986498649867,46.984853685368535],[8.931913591359137,46.982067406740676],[8.945976597659767,46.966742874287426],[8.970473447344736,46.95878207820782],[8.955049504950496,46.93907910791079],[8.963215121512153,46.9267398739874],[8.935089108910892,46.919973197319734],[8.901065706570659,46.90783298329833],[8.87384698469847,46.89489668966897],[8.862052205220524,46.89609080908091],[8.852979297929794,46.88474667466747],[8.847989198919894,46.89071727172717],[8.847989198919894,46.913007500750076],[8.836194419441945,46.90783298329833],[8.82802880288029,46.91877907790779],[8.82666786678668,46.935894789478944],[8.810790279027904,46.94106930693069],[8.788108010801082,46.92992419241924],[8.768601260126013,46.94007420742074],[8.736846084608462,46.9327104710471],[8.707812781278129,46.916788878887886],[8.696925292529254,46.92892909290929],[8.69238883888389,46.9470399039904],[8.670160216021603,46.94385558555855],[8.623888388838886,46.95281148114812],[8.603927992799282,46.95181638163816],[8.602567056705672,46.986843884388435],[8.581699369936995,46.993013501350134],[8.568997299729974,46.990028202820284]]]}},{type:"Feature",properties:{abbr:"OW",name:"Obwalden",no:6,centroid:[8.243185555987871,46.85245963030377]},geometry:{type:"MultiPolygon",coordinates:[[[[8.368939693969399,46.78782398239824],[8.35986678667867,46.782848484848486],[8.333101710171018,46.78085828582858],[8.283200720072008,46.75279647964796],[8.269137713771379,46.75379157915791],[8.259157515751577,46.76374257425743],[8.239197119711973,46.76971317131713],[8.22150495049505,46.76095629562956],[8.207895589558957,46.76891709170917],[8.190203420342035,46.76971317131713],[8.145746174617463,46.75478667866786],[8.121702970297031,46.76971317131713],[8.104918091809182,46.77289748974897],[8.089494149414943,46.78782398239824],[8.04866606660666,46.78782398239824],[8.063636363636364,46.80792499249925],[8.041861386138615,46.83698189818982],[8.065904590459047,46.859869186918694],[8.071801980198021,46.873800580058],[8.069533753375339,46.89609080908091],[8.083143114311433,46.89987218721872],[8.09493789378938,46.912012401240126],[8.10900090009001,46.90783298329833],[8.11036183618362,46.89270747074708],[8.134858685868588,46.921963396339635],[8.164799279927994,46.93907910791079],[8.149375337533755,46.95798599859986],[8.18702790279028,46.971917391739176],[8.202905490549057,46.966742874287426],[8.22921692169217,46.972912491249126],[8.25235283528353,46.979878187818784],[8.281386138613861,46.97609680968097],[8.30089288928893,46.97788798879888],[8.30996579657966,46.96873307330733],[8.30996579657966,46.95181638163816],[8.287737173717373,46.93370557055705],[8.30996579657966,46.923953595359535],[8.33809180918092,46.92892909290929],[8.34308190819082,46.91499769976998],[8.338545454545455,46.89708590859086],[8.32765796579658,46.8779799979998],[8.334462646264628,46.861063306330635],[8.32765796579658,46.84593779377938],[8.335823582358238,46.83280248024803],[8.322214221422144,46.82006520652065],[8.34444284428443,46.799964196419644],[8.368939693969399,46.78782398239824]]],[[[8.471917191719173,46.85509270927093],[8.497321332133215,46.85409760976098],[8.506394239423944,46.84494269426943],[8.489609360936095,46.83598679867987],[8.482804680468048,46.81688088808881],[8.47736093609361,46.78881908190819],[8.490970297029705,46.77289748974897],[8.448781278127814,46.76473767376738],[8.446513051305132,46.76971317131713],[8.413850585058507,46.77389258925893],[8.396158415841585,46.76473767376738],[8.39434383438344,46.77170337033703],[8.416572457245724,46.77807200720072],[8.426099009900991,46.77508670867087],[8.418387038703871,46.78881908190819],[8.39661206120612,46.794988698869886],[8.384363636363638,46.803944594459445],[8.387539153915393,46.813099509950995],[8.373929792979299,46.81588578857885],[8.378012601260128,46.82285148514851],[8.37120792079208,46.83499169916992],[8.369846984698471,46.858874087408736],[8.360774077407742,46.862058405840585],[8.373022502250226,46.87479567956795],[8.384363636363638,46.865839783978394],[8.374383438343836,46.857878987898786],[8.374383438343836,46.847728972897286],[8.398426642664267,46.864844684468444],[8.412943294329434,46.87001920192019],[8.418387038703871,46.852903490349036],[8.471917191719173,46.85509270927093]]]]}},{type:"Feature",properties:{abbr:"NW",name:"Nidwalden",no:7,centroid:[8.405343061072784,46.92618107731872]},geometry:{type:"Polygon",coordinates:[[[8.22921692169217,46.972912491249126],[8.217875787578759,46.981072307230725],[8.22921692169217,46.992018401840184],[8.243733573357336,46.985848784878485],[8.264601260126014,46.99798899889989],[8.281386138613861,46.99480468046804],[8.318585058505851,46.99997919791979],[8.334462646264628,46.989033103310334],[8.368939693969399,47.01908510851085],[8.3839099909991,47.0180900090009],[8.384363636363638,46.99798899889989],[8.396158415841585,47.00097429742974],[8.426099009900991,46.99798899889989],[8.4274599459946,47.01709490949095],[8.468741674167418,47.00893509350935],[8.467380738073809,46.99679487948795],[8.465112511251126,46.984057605760576],[8.49641404140414,46.97609680968097],[8.54268586858686,46.979878187818784],[8.568997299729974,46.990028202820284],[8.573533753375338,46.982067406740676],[8.554934293429344,46.96296149614962],[8.559017101710172,46.94007420742074],[8.54404680468047,46.93907910791079],[8.54404680468047,46.92773497349735],[8.519549954995501,46.922958495849585],[8.502765076507652,46.91400260026003],[8.485980198019803,46.917783978397836],[8.480536453645366,46.90882808280828],[8.458761476147615,46.89907610761076],[8.474185418541856,46.89270747074708],[8.478721872187219,46.88275647564756],[8.466473447344736,46.87479567956795],[8.471917191719173,46.85509270927093],[8.418387038703871,46.852903490349036],[8.412943294329434,46.87001920192019],[8.398426642664267,46.864844684468444],[8.374383438343836,46.847728972897286],[8.374383438343836,46.857878987898786],[8.384363636363638,46.865839783978394],[8.373022502250226,46.87479567956795],[8.360774077407742,46.862058405840585],[8.369846984698471,46.858874087408736],[8.37120792079208,46.83499169916992],[8.378012601260128,46.82285148514851],[8.373929792979299,46.81588578857885],[8.387539153915393,46.813099509950995],[8.384363636363638,46.803944594459445],[8.39661206120612,46.794988698869886],[8.418387038703871,46.78881908190819],[8.426099009900991,46.77508670867087],[8.416572457245724,46.77807200720072],[8.39434383438344,46.77170337033703],[8.368939693969399,46.78782398239824],[8.34444284428443,46.799964196419644],[8.322214221422144,46.82006520652065],[8.335823582358238,46.83280248024803],[8.32765796579658,46.84593779377938],[8.334462646264628,46.861063306330635],[8.32765796579658,46.8779799979998],[8.338545454545455,46.89708590859086],[8.34308190819082,46.91499769976998],[8.33809180918092,46.92892909290929],[8.30996579657966,46.923953595359535],[8.287737173717373,46.93370557055705],[8.30996579657966,46.95181638163816],[8.30996579657966,46.96873307330733],[8.30089288928893,46.97788798879888],[8.281386138613861,46.97609680968097],[8.25235283528353,46.979878187818784],[8.22921692169217,46.972912491249126]]]}},{type:"Feature",properties:{abbr:"GL",name:"Glarus",no:8,centroid:[9.065751666238693,46.98114438926425]},geometry:{type:"Polygon",coordinates:[[[9.249011701170119,46.915793779377935],[9.226783078307832,46.90604180418042],[9.203647164716472,46.88275647564756],[9.187769576957697,46.87579077907791],[9.152385238523854,46.8799701970197],[9.14013681368137,46.862058405840585],[9.111103510351036,46.849719171917194],[9.094772277227724,46.871014301430144],[9.061202520252026,46.873800580058],[9.045778577857787,46.866834883488345],[9.045778577857787,46.849719171917194],[9.039427542754277,46.846733873387336],[9.009033303330334,46.8109102910291],[8.952781278127814,46.8047406740674],[8.927377137713773,46.795784778477845],[8.915128712871288,46.7987700770077],[8.915128712871288,46.8109102910291],[8.87656885688569,46.813099509950995],[8.882012601260127,46.82902110211021],[8.870671467146716,46.841758375837586],[8.892900090009002,46.84872407240724],[8.908324032403241,46.862058405840585],[8.91739693969397,46.861063306330635],[8.958225022502251,46.8799701970197],[8.952781278127814,46.89808100810081],[8.935089108910892,46.919973197319734],[8.963215121512153,46.9267398739874],[8.955049504950496,46.93907910791079],[8.970473447344736,46.95878207820782],[8.945976597659767,46.966742874287426],[8.931913591359137,46.982067406740676],[8.940986498649867,46.984853685368535],[8.910592259225924,47.00893509350935],[8.909684968496851,47.01709490949095],[8.895168316831684,47.02087628762876],[8.903787578757877,47.02704590459046],[8.901972997299731,47.037792979297926],[8.921026102610263,47.037792979297926],[8.947337533753377,47.04893809380938],[8.950513051305132,47.06107830783078],[8.965936993699371,47.081776377637766],[8.9750099009901,47.08595579557956],[8.954142214221424,47.090732273227324],[8.970473447344736,47.104066606660666],[8.974102610261028,47.11481368136813],[8.965029702970298,47.12177937793779],[8.966390639063906,47.13690489048905],[9.003589558955897,47.17272847284728],[9.004950495049506,47.17272847284728],[9.009033303330334,47.171932393239324],[9.068914491449146,47.1297401740174],[9.10157695769577,47.13272547254726],[9.136054005400542,47.1317303730373],[9.19003780378038,47.12376957695769],[9.185501350135015,47.09789698969897],[9.19139873987399,47.0728204820482],[9.181418541854185,47.05809300930093],[9.137868586858687,47.03878807880788],[9.163726372637264,47.02704590459046],[9.18096489648965,47.02605080508051],[9.20137893789379,47.03500670067007],[9.221339333933393,47.03301650165017],[9.243114311431144,47.01490569056906],[9.249918991899191,46.99480468046804],[9.244475247524754,46.95599579957996],[9.235855985598562,46.94485068506851],[9.249918991899191,46.935894789478944],[9.249011701170119,46.915793779377935]]]}},{type:"Feature",properties:{abbr:"ZG",name:"Zug",no:9,centroid:[8.537489988894073,47.15682372405097]},geometry:{type:"Polygon",coordinates:[[[8.49278487848785,47.099887188718874],[8.49414581458146,47.11381858185818],[8.480536453645366,47.12595879587959],[8.45195679567957,47.11381858185818],[8.447420342034205,47.1297401740174],[8.417933393339336,47.12177937793779],[8.412036003600361,47.14088528852885],[8.415211521152116,47.165762776277624],[8.40205580558056,47.17690789078908],[8.406138613861387,47.19501870187019],[8.39434383438344,47.225866786678665],[8.411128712871289,47.24795799579958],[8.422016201620163,47.223080508050806],[8.440615661566158,47.22507070707071],[8.460576057605762,47.21392559255926],[8.484165616561658,47.20775597559756],[8.553573357335734,47.223080508050806],[8.581699369936995,47.212930493049306],[8.594855085508552,47.211935393539356],[8.597123312331235,47.20397459745975],[8.615722772277229,47.198800080008],[8.627971197119713,47.17909710971097],[8.626156615661568,47.171932393239324],[8.661087308730874,47.170937293729374],[8.661540954095411,47.160986298629865],[8.674696669666968,47.15879707970797],[8.691481548154815,47.163971597159716],[8.701008100810082,47.150836283628365],[8.683769576957697,47.14088528852885],[8.686945094509452,47.13491469146915],[8.671521152115211,47.11580878087808],[8.63341494149415,47.093916591659166],[8.608918091809182,47.094911691169116],[8.589411341134115,47.08595579557956],[8.567182718271829,47.08078127812781],[8.562646264626464,47.093916591659166],[8.520457245724574,47.089737173717374],[8.49278487848785,47.099887188718874]]]}},{type:"Feature",properties:{abbr:"FR",name:"Fribourg",no:10,centroid:[7.077054877693406,46.71817056663422]},geometry:{type:"MultiPolygon",coordinates:[[[[7.237094509450946,46.553975597559756],[7.223031503150316,46.547805980598056],[7.20715391539154,46.53287948794879],[7.1917299729973,46.5470099009901],[7.158613861386139,46.52690889088909],[7.145004500450046,46.52690889088909],[7.135931593159317,46.50780298029803],[7.105083708370838,46.48889608960896],[7.066070207020703,46.48889608960896],[7.027963996399641,46.46700390039004],[7.016622862286229,46.44789798979898],[6.983506750675068,46.43774797479748],[6.992126012601261,46.44889308930893],[6.979877587758777,46.45904310431043],[6.972165616561657,46.490886288628865],[6.953566156615662,46.502031403140315],[6.934966696669668,46.501036303630364],[6.924986498649866,46.50780298029803],[6.9009432943294335,46.51277847784778],[6.896406840684069,46.51894809480948],[6.881436543654366,46.51277847784778],[6.862837083708372,46.494070607060706],[6.836525652565257,46.49984218421842],[6.811121512151216,46.52491869186919],[6.825184518451846,46.542830483048306],[6.831535553555356,46.53705890589059],[6.855125112511252,46.5408402840284],[6.861022502250226,46.53088928892889],[6.870095409540955,46.54402460246025],[6.887787578757877,46.55775697569757],[6.900036003600361,46.559946194619464],[6.898221422142215,46.571091309130914],[6.885065706570658,46.561936393639364],[6.873724572457246,46.56472267226722],[6.863744374437444,46.57805700570057],[6.848320432043205,46.58283348334833],[6.835164716471648,46.57487268726872],[6.811575157515752,46.58004720472047],[6.794790279027904,46.57487268726872],[6.803409540954096,46.608706070607056],[6.801141314131414,46.63000120012001],[6.803409540954096,46.64592279227923],[6.815204320432044,46.64691789178918],[6.837886588658867,46.662839483948396],[6.853764176417642,46.65607280728073],[6.865105310531054,46.65806300630063],[6.871456345634564,46.672989498949896],[6.862837083708372,46.680950295029504],[6.890055805580559,46.69388658865886],[6.903665166516652,46.71378857885789],[6.916367236723673,46.71796799679968],[6.9358739873987405,46.73309350935094],[6.9408640864086415,46.744835683568354],[6.928615661566157,46.75379157915791],[6.919996399639965,46.75100530053005],[6.908201620162017,46.75797099709971],[6.919996399639965,46.75996119611961],[6.934966696669668,46.77070827082708],[6.942225022502251,46.78404260426043],[6.956741674167417,46.78702790279028],[6.966721872187219,46.802949494949495],[6.958102610261027,46.8109102910291],[6.9658145814581465,46.82802600260026],[6.984414041404141,46.82205540554055],[6.992126012601261,46.83081228122812],[6.988043204320433,46.84394759475948],[6.976702070207021,46.849719171917194],[6.976702070207021,46.861063306330635],[6.988496849684969,46.873004500450044],[6.973526552655266,46.88693589358936],[6.958102610261027,46.88096529652965],[6.964453645364538,46.864844684468444],[6.933152115211522,46.89171237123712],[6.929976597659767,46.89907610761076],[6.8959531953195325,46.924749674967494],[6.928615661566157,46.95281148114812],[6.964453645364538,46.923953595359535],[6.988043204320433,46.917783978397836],[6.988043204320433,46.90405160516052],[7.008457245724573,46.88892609260926],[6.99348694869487,46.87897509750975],[7.008003600360037,46.873004500450044],[7.016169216921693,46.88096529652965],[7.035222322232224,46.873004500450044],[7.029778577857787,46.865839783978394],[7.040212421242125,46.861063306330635],[7.028417641764177,46.850913291329135],[7.042934293429344,46.846733873387336],[7.071060306030604,46.873800580058],[7.061987398739875,46.88375157515752],[7.082855085508552,46.89609080908091],[7.091020702070208,46.90285748574858],[7.057904590459047,46.93907910791079],[7.056543654365437,46.95977717771777],[7.062894689468948,46.970723272327234],[7.052007200720073,46.976892889288926],[7.093742574257426,46.97609680968097],[7.153623762376238,46.985848784878485],[7.217134113411342,47.00694489448945],[7.223031503150316,46.993013501350134],[7.236187218721873,46.984853685368535],[7.20715391539154,46.96395659565957],[7.209422142214222,46.9428604860486],[7.203071107110712,46.9368898889889],[7.208061206120613,46.90882808280828],[7.188100810081009,46.89987218721872],[7.208061206120613,46.90285748574858],[7.217134113411342,46.89808100810081],[7.259323132313232,46.89808100810081],[7.282912691269128,46.88972217221722],[7.288356435643565,46.89390159015902],[7.327823582358237,46.89390159015902],[7.351413141314132,46.88793099309931],[7.358671467146715,46.862058405840585],[7.351413141314132,46.85409760976098],[7.33508190819082,46.849719171917194],[7.330999099909992,46.857878987898786],[7.316028802880289,46.863053505350535],[7.301512151215122,46.851908390839085],[7.330999099909992,46.83379757975798],[7.320111611161117,46.82583678367837],[7.32101890189019,46.8148906890689],[7.311038703870388,46.80991519151915],[7.301512151215122,46.793993599359936],[7.303780378037804,46.782848484848486],[7.290171017101711,46.77289748974897],[7.302873087308732,46.75996119611961],[7.296068406840685,46.736874887488746],[7.305141314131414,46.71796799679968],[7.348691269126913,46.71179837983798],[7.344608460846086,46.69906110611061],[7.36320792079208,46.69906110611061],[7.376363636363637,46.693090509050904],[7.378178217821783,46.68373657365736],[7.368198019801981,46.65507770777078],[7.358671467146715,46.64373357335734],[7.344608460846086,46.65507770777078],[7.32101890189019,46.65507770777078],[7.330091809180919,46.64174337433743],[7.312853285328534,46.63696689668967],[7.317843384338435,46.61885608560856],[7.315121512151216,46.5997501750175],[7.32101890189019,46.59178937893789],[7.298790279027903,46.57905210521052],[7.281551755175518,46.58482368236824],[7.259323132313232,46.562931493149314],[7.237094509450946,46.553975597559756]]],[[[6.779366336633664,46.852903490349036],[6.866012601260127,46.90882808280828],[6.8959531953195325,46.88275647564756],[6.9109234923492355,46.88096529652965],[6.9209036903690375,46.871014301430144],[6.891416741674168,46.864844684468444],[6.913191719171918,46.865839783978394],[6.9308838883888395,46.852903490349036],[6.918635463546355,46.846733873387336],[6.903211521152116,46.82802600260026],[6.9109234923492355,46.802949494949495],[6.919996399639965,46.80991519151915],[6.9308838883888395,46.803944594459445],[6.916367236723673,46.78503770377038],[6.880075607560757,46.77508670867087],[6.858754275427543,46.78782398239824],[6.825184518451846,46.77289748974897],[6.805224122412242,46.78603280328033],[6.797965796579659,46.782848484848486],[6.778459045904591,46.793993599359936],[6.778459045904591,46.800959295929594],[6.741713771377138,46.82703090309031],[6.779366336633664,46.852903490349036]]]]}},{type:"Feature",properties:{abbr:"SO",name:"Solothurn",no:11,centroid:[7.638972980845362,47.30448118709367]},geometry:{type:"MultiPolygon",coordinates:[[[[7.557821782178219,47.32179437943795],[7.572792079207922,47.3287600760076],[7.551470747074708,47.3450797079708],[7.536500450045005,47.350055205520555],[7.540129612961297,47.36000620062006],[7.521983798379839,47.36478267826783],[7.523344734473448,47.37174837483748],[7.49113591359136,47.36995719571957],[7.458019801980199,47.37075327532753],[7.436698469846985,47.37970917091709],[7.443503150315032,47.38886408640864],[7.4407812781278135,47.401004300430046],[7.453029702970298,47.403989598959896],[7.477980198019803,47.399810181018104],[7.477980198019803,47.38985918591859],[7.492043204320433,47.38508270827083],[7.518354635463547,47.38806800680068],[7.531056705670568,47.403989598959896],[7.526066606660667,47.411950395039504],[7.579596759675969,47.41473667366736],[7.567801980198021,47.42289648964896],[7.568709270927093,47.43603180318032],[7.578689468946895,47.43006120612061],[7.615888388838885,47.43284748474847],[7.615888388838885,47.44498769876988],[7.625868586858687,47.46309850985099],[7.60500090009001,47.471059305930595],[7.605908190819083,47.48897109710971],[7.64083888388839,47.48280148014801],[7.65490189018902,47.48698089808981],[7.651726372637264,47.49593679367937],[7.665789378937895,47.49693189318932],[7.669418541854186,47.48479167916792],[7.699359135913592,47.4810103010301],[7.709339333933394,47.4688700870087],[7.684842484248426,47.44777397739774],[7.686203420342035,47.43603180318032],[7.679398739873988,47.41692589258926],[7.657170117011702,47.408965096509654],[7.63312691269127,47.409960196019604],[7.643560756075608,47.36697189718972],[7.699359135913592,47.37174837483748],[7.727938793879389,47.36896209620962],[7.733382538253826,47.35801600160016],[7.75334293429343,47.3430895089509],[7.768766876687669,47.33871107110711],[7.793717371737174,47.33871107110711],[7.801429342934294,47.36100130013001],[7.833638163816382,47.36697189718972],[7.836360036003601,47.37274347434744],[7.875827182718273,47.38508270827083],[7.869022502250226,47.39503370337034],[7.888075607560757,47.406775877587755],[7.909850585058507,47.3978199819982],[7.932986498649866,47.404785678567855],[7.934347434743475,47.411950395039504],[7.962019801980199,47.42170237023702],[7.946595859585959,47.44279847984799],[7.956576057605761,47.45493869386939],[7.967917191719173,47.46309850985099],[7.98107290729073,47.44876907690769],[7.986516651665167,47.42807100710071],[7.962927092709272,47.42170237023702],[8.00647704770477,47.406775877587755],[8.009652565256527,47.39503370337034],[8.026437443744374,47.39602880288029],[8.030520252025203,47.38289348934894],[8.026437443744374,47.36896209620962],[8.009652565256527,47.35682188218822],[8.00647704770477,47.33871107110711],[7.976082808280829,47.3227894789479],[7.947956795679569,47.31801300130013],[7.947956795679569,47.3329394939494],[7.9189234923492355,47.33393459345935],[7.906675067506751,47.342094409440946],[7.886714671467147,47.31184338433843],[7.859949594959497,47.30487768776877],[7.844072007200721,47.277810981098106],[7.824565256525654,47.26606880688069],[7.818214221422143,47.26188938893889],[7.800975697569758,47.26805900590059],[7.785098109810982,47.25591879187919],[7.77375697569757,47.26706390639064],[7.756972097209722,47.25790899089909],[7.73292889288929,47.25870507050705],[7.72521692169217,47.2698501850185],[7.711607560756076,47.2740296029603],[7.701173717371738,47.286766876687665],[7.684842484248426,47.29373257325732],[7.648550855085509,47.281990399039906],[7.613166516651666,47.280995299529955],[7.579596759675969,47.2760198019802],[7.593659765976598,47.26606880688069],[7.595927992799281,47.24596779677968],[7.625868586858687,47.225866786678665],[7.639477947794781,47.230046204620464],[7.648097209720973,47.21870207020702],[7.6471899189919,47.201785378537856],[7.661706570657066,47.2007902790279],[7.678037803780379,47.18287848784878],[7.673047704770478,47.16775297529753],[7.659438343834384,47.16775297529753],[7.644921692169218,47.14884608460846],[7.639477947794781,47.15402060206021],[7.593206120612062,47.15302550255026],[7.585947794779479,47.14785098509851],[7.581411341134114,47.15879707970797],[7.558729072907291,47.16775297529753],[7.520169216921693,47.15979217921792],[7.528788478847885,47.14884608460846],[7.510189018901891,47.12595879587959],[7.492043204320433,47.11680388038804],[7.461195319531954,47.10784798479848],[7.474351035103511,47.08695089508951],[7.468000000000001,47.07879107910791],[7.4407812781278135,47.07381558155816],[7.433069306930694,47.099887188718874],[7.395870387038705,47.092921492149216],[7.381353735373538,47.095707770777075],[7.370012601260127,47.12098329832983],[7.386343834383439,47.12595879587959],[7.403582358235824,47.11799799979998],[7.436698469846985,47.12277447744774],[7.422181818181819,47.1359097909791],[7.439873987398741,47.1440696069607],[7.449854185418543,47.15601080108011],[7.468000000000001,47.150836283628365],[7.492950495049506,47.162976497649765],[7.496579657965797,47.16994219421942],[7.481155715571558,47.171932393239324],[7.471175517551756,47.18108730873087],[7.474351035103511,47.19083928392839],[7.448039603960397,47.18904810481048],[7.446225022502251,47.18108730873087],[7.4308010801080115,47.18287848784878],[7.432162016201621,47.17571377137714],[7.410840684068408,47.161981398139815],[7.383168316831684,47.15979217921792],[7.39133393339334,47.165762776277624],[7.380900090009002,47.18387358735873],[7.365929792979299,47.19382458245825],[7.353681368136814,47.19183438343834],[7.340072007200721,47.217706970697066],[7.36320792079208,47.219896189618964],[7.42082088208821,47.24278347834783],[7.415830783078309,47.25173937393739],[7.439873987398741,47.26288448844885],[7.468000000000001,47.26507370737074],[7.484331233123313,47.283980598059806],[7.521076507650766,47.29373257325732],[7.531963996399641,47.29373257325732],[7.546480648064807,47.30587278727873],[7.557821782178219,47.32179437943795]]],[[[7.375909990999101,47.41374157415741],[7.380900090009002,47.43185238523852],[7.399953195319533,47.43483768376838],[7.42082088208821,47.44598279827983],[7.438059405940595,47.44598279827983],[7.454390639063907,47.42588178817882],[7.446678667866787,47.41473667366736],[7.413562556255626,47.410955295529554],[7.375909990999101,47.41374157415741]]],[[[7.444410441044105,47.461904390439045],[7.456205220522053,47.472054405440545],[7.422181818181819,47.48379657965796],[7.434430243024303,47.49792699269927],[7.471175517551756,47.48001520152015],[7.487960396039605,47.482005400540054],[7.511096309630964,47.50290249024903],[7.531963996399641,47.49693189318932],[7.536500450045005,47.48479167916792],[7.526520252025203,47.473845584558454],[7.531056705670568,47.460909290929095],[7.495218721872188,47.459914191419145],[7.454390639063907,47.449764176417645],[7.444410441044105,47.461904390439045]]]]}},{type:"Feature",properties:{abbr:"BS",name:"Basel-Stadt",no:12,centroid:[7.615071303770259,47.56462832136231]},geometry:{type:"Polygon",coordinates:[[[7.633580558055806,47.56081728172817],[7.618156615661567,47.55902610261026],[7.619517551755177,47.53892509250925],[7.613620162016202,47.53892509250925],[7.593206120612062,47.519819181918194],[7.58322592259226,47.532954495449545],[7.586401440144015,47.54171137113711],[7.555099909991,47.54370157015701],[7.56281188118812,47.55803100310031],[7.555099909991,47.56499669966997],[7.565987398739875,47.576738873887386],[7.585040504050406,47.57594279427943],[7.588669666966697,47.590073207320735],[7.60500090009001,47.58509770977098],[7.60500090009001,47.577733973397336],[7.619517551755177,47.576738873887386],[7.643107110711072,47.591068306830685],[7.645828982898291,47.5968398839884],[7.674862286228624,47.592063406340635],[7.686203420342035,47.56698689868987],[7.648097209720973,47.55982218221822],[7.633580558055806,47.56081728172817]]]}},{type:"Feature",properties:{abbr:"BL",name:"Basel-Landschaft",no:13,centroid:[7.702698349131468,47.4513567170881]},geometry:{type:"MultiPolygon",coordinates:[[[[7.436698469846985,47.37970917091709],[7.413562556255626,47.37970917091709],[7.4144698469847,47.39403860386039],[7.398592259225923,47.39682488248825],[7.375909990999101,47.41374157415741],[7.413562556255626,47.410955295529554],[7.446678667866787,47.41473667366736],[7.454390639063907,47.42588178817882],[7.438059405940595,47.44598279827983],[7.42082088208821,47.44598279827983],[7.429893789378939,47.4587200720072],[7.444410441044105,47.461904390439045],[7.454390639063907,47.449764176417645],[7.495218721872188,47.459914191419145],[7.531056705670568,47.460909290929095],[7.526520252025203,47.473845584558454],[7.536500450045005,47.48479167916792],[7.531963996399641,47.49693189318932],[7.511096309630964,47.50290249024903],[7.506106210621063,47.51404760476048],[7.523344734473448,47.51504270427043],[7.531056705670568,47.526784878487845],[7.518354635463547,47.53474567456745],[7.502023402340235,47.5277799779978],[7.498394239423943,47.5399201920192],[7.518354635463547,47.54589078907891],[7.555099909991,47.56499669966997],[7.56281188118812,47.55803100310031],[7.555099909991,47.54370157015701],[7.586401440144015,47.54171137113711],[7.58322592259226,47.532954495449545],[7.593206120612062,47.519819181918194],[7.613620162016202,47.53892509250925],[7.619517551755177,47.53892509250925],[7.618156615661567,47.55902610261026],[7.633580558055806,47.56081728172817],[7.648550855085509,47.5480800080008],[7.661706570657066,47.54489568956895],[7.676223222322233,47.532954495449545],[7.693008100810082,47.531959395939595],[7.713422142214222,47.53892509250925],[7.737011701170118,47.526784878487845],[7.762869486948696,47.524794679467945],[7.790088208820883,47.51882408240824],[7.792810081008102,47.50071327132713],[7.806419441944195,47.49693189318932],[7.8313699369937,47.51504270427043],[7.833184518451846,47.5337505750575],[7.851330333033304,47.53474567456745],[7.864032403240325,47.51882408240824],[7.874466246624664,47.51782898289829],[7.893972997299731,47.50608680868087],[7.9039531953195326,47.48698089808981],[7.932986498649866,47.4810103010301],[7.944327632763277,47.48598579857986],[7.939791179117913,47.461904390439045],[7.9488640864086415,47.46409360936094],[7.956576057605761,47.45493869386939],[7.946595859585959,47.44279847984799],[7.962019801980199,47.42170237023702],[7.934347434743475,47.411950395039504],[7.932986498649866,47.404785678567855],[7.909850585058507,47.3978199819982],[7.888075607560757,47.406775877587755],[7.869022502250226,47.39503370337034],[7.875827182718273,47.38508270827083],[7.836360036003601,47.37274347434744],[7.833638163816382,47.36697189718972],[7.801429342934294,47.36100130013001],[7.793717371737174,47.33871107110711],[7.768766876687669,47.33871107110711],[7.75334293429343,47.3430895089509],[7.733382538253826,47.35801600160016],[7.727938793879389,47.36896209620962],[7.699359135913592,47.37174837483748],[7.643560756075608,47.36697189718972],[7.63312691269127,47.409960196019604],[7.657170117011702,47.408965096509654],[7.679398739873988,47.41692589258926],[7.686203420342035,47.43603180318032],[7.684842484248426,47.44777397739774],[7.709339333933394,47.4688700870087],[7.699359135913592,47.4810103010301],[7.669418541854186,47.48479167916792],[7.665789378937895,47.49693189318932],[7.651726372637264,47.49593679367937],[7.65490189018902,47.48698089808981],[7.64083888388839,47.48280148014801],[7.605908190819083,47.48897109710971],[7.60500090009001,47.471059305930595],[7.625868586858687,47.46309850985099],[7.615888388838885,47.44498769876988],[7.615888388838885,47.43284748474847],[7.578689468946895,47.43006120612061],[7.568709270927093,47.43603180318032],[7.567801980198021,47.42289648964896],[7.579596759675969,47.41473667366736],[7.526066606660667,47.411950395039504],[7.531056705670568,47.403989598959896],[7.518354635463547,47.38806800680068],[7.492043204320433,47.38508270827083],[7.477980198019803,47.38985918591859],[7.477980198019803,47.399810181018104],[7.453029702970298,47.403989598959896],[7.4407812781278135,47.401004300430046],[7.443503150315032,47.38886408640864],[7.436698469846985,47.37970917091709]]],[[[7.375909990999101,47.41374157415741],[7.356403240324033,47.41473667366736],[7.340072007200721,47.43006120612061],[7.326009000900091,47.43185238523852],[7.326009000900091,47.43981318131813],[7.346423042304231,47.43483768376838],[7.380900090009002,47.43185238523852],[7.375909990999101,47.41374157415741]]]]}},{type:"Feature",properties:{abbr:"SH",name:"Schaffhausen",no:14,centroid:[8.592669293253277,47.71360897867118]},geometry:{type:"MultiPolygon",coordinates:[[[[8.662448244824484,47.68600080008001],[8.64248784878488,47.69495669566957],[8.624795679567958,47.69197139713972],[8.62706390639064,47.6780400040004],[8.613454545454546,47.6780400040004],[8.606196219621964,47.66908410841084],[8.598030603060307,47.67286548654865],[8.579431143114313,47.6617203720372],[8.564007200720074,47.67007920792079],[8.526354635463548,47.65992919291929],[8.531798379837985,47.645798779877985],[8.49278487848785,47.646793879387936],[8.466473447344736,47.641022302230226],[8.466019801980199,47.65674487448745],[8.456493249324932,47.652963496349635],[8.436532853285328,47.65674487448745],[8.423830783078309,47.66709390939094],[8.412036003600361,47.665899789979],[8.406138613861387,47.67485568556856],[8.420655265526554,47.68401060106011],[8.403870387038705,47.69774297429743],[8.445152115211522,47.72281948194819],[8.455132313231324,47.722023402340234],[8.449688568856887,47.73794499449945],[8.456039603960397,47.74889108910891],[8.485980198019803,47.771977397739775],[8.509569756975699,47.77575877587759],[8.519549954995501,47.769987198719875],[8.52590099009901,47.77794799479948],[8.553119711971199,47.78471467146715],[8.565821782178219,47.77794799479948],[8.57716291629163,47.78172937293729],[8.561738973897391,47.79287448744874],[8.568090009000901,47.808],[8.574894689468948,47.7998401840184],[8.611186318631864,47.8018303830383],[8.621620162016203,47.79486468646865],[8.614815481548156,47.78272447244724],[8.622527452745276,47.77675387538754],[8.618898289828984,47.766802880288026],[8.627971197119713,47.75884208420842],[8.652921692169219,47.772972497249725],[8.644756075607562,47.78690389038904],[8.657004500450046,47.7998401840184],[8.666984698469848,47.78809800980098],[8.681047704770478,47.78690389038904],[8.682408640864088,47.770982298229825],[8.69238883888389,47.75605580558056],[8.71144194419442,47.76501170117012],[8.725958595859588,47.76302150215022],[8.740021602160217,47.75307050705071],[8.739114311431145,47.74590579057906],[8.723690369036905,47.74590579057906],[8.710988298829884,47.72998419841984],[8.717792979297931,47.722023402340234],[8.735485148514853,47.715853785378535],[8.727773177317733,47.69296649664967],[8.717792979297931,47.690777277727776],[8.701461746174619,47.714858685868585],[8.690120612061207,47.708888088808884],[8.663809180918093,47.713067506750676],[8.67696489648965,47.69774297429743],[8.660180018001801,47.690777277727776],[8.662448244824484,47.68600080008001]]],[[[8.795366336633665,47.6760498049805],[8.796727272727274,47.702917491749176],[8.768601260126013,47.706897889788976],[8.771323132313231,47.71784398439844],[8.795366336633665,47.7349596959696],[8.806707470747076,47.7369498949895],[8.804439243924394,47.72580478047805],[8.82394599459946,47.711077307730775],[8.846174617461747,47.711077307730775],[8.84844284428443,47.702917491749176],[8.870671467146716,47.704708670867085],[8.87520792079208,47.69396159615962],[8.862052205220524,47.69296649664967],[8.84980378037804,47.68082628262826],[8.863866786678669,47.67903510351035],[8.872939693969398,47.67007920792079],[8.87520792079208,47.654754675467544],[8.857515751575159,47.64878407840784],[8.844360036003602,47.652963496349635],[8.853886588658867,47.66092429242924],[8.836194419441945,47.6718703870387],[8.816687668766878,47.6780400040004],[8.795366336633665,47.6760498049805]]],[[[8.562646264626464,47.59902910291029],[8.581699369936995,47.595844784478444],[8.595762376237625,47.60579577957796],[8.594855085508552,47.5968398839884],[8.578070207020703,47.58887908790879],[8.579431143114313,47.57594279427943],[8.56945094509451,47.57196239623963],[8.559470747074709,47.55285648564856],[8.550851485148517,47.55703590359036],[8.53497389738974,47.586888888888886],[8.562646264626464,47.59902910291029]]]]}},{type:"Feature",properties:{abbr:"AR",name:"Appenzell Ausserrhoden",no:15,centroid:[9.36701599748908,47.365427898323425]},geometry:{type:"Polygon",coordinates:[[[9.617825382538255,47.43702690269027],[9.558851485148516,47.43384258425843],[9.582441044104412,47.41991119111911],[9.582441044104412,47.409960196019604],[9.554768676867688,47.39682488248825],[9.541612961296131,47.40777097709771],[9.573368136813682,47.406775877587755],[9.576997299729975,47.41473667366736],[9.558851485148516,47.41792099209921],[9.554768676867688,47.42707590759076],[9.538891089108912,47.43185238523852],[9.5225598559856,47.42090629062906],[9.53299369936994,47.410955295529554],[9.515755175517553,47.405780778077805],[9.508950495049506,47.39503370337034],[9.498970297029704,47.36896209620962],[9.502599459945996,47.346870887088706],[9.487175517551757,47.350055205520555],[9.465854185418543,47.346870887088706],[9.43818181818182,47.355826782678264],[9.430923492349237,47.37075327532753],[9.411870387038705,47.36896209620962],[9.400529252925294,47.37791799179918],[9.371949594959498,47.38408760876088],[9.349720972097211,47.38289348934894],[9.36378397839784,47.35801600160016],[9.343823582358237,47.352045404540455],[9.328853285328535,47.330750275027505],[9.314336633663368,47.32696889688969],[9.31796579657966,47.30905710571057],[9.312975697569758,47.291941394139414],[9.332936093609362,47.2698501850185],[9.342916291629164,47.24895309530953],[9.31796579657966,47.24795799579958],[9.273962196219623,47.2698501850185],[9.255816381638166,47.26288448844885],[9.236763276327634,47.26507370737074],[9.205461746174619,47.276815881588156],[9.224061206120613,47.29273747374737],[9.209998199819983,47.32079927992799],[9.233134113411342,47.33194439443945],[9.22451485148515,47.342094409440946],[9.205461746174619,47.33871107110711],[9.19139873987399,47.36179737973797],[9.207729972997301,47.36179737973797],[9.220885688568858,47.37274347434744],[9.218617461746176,47.38508270827083],[9.23086588658866,47.38707290729073],[9.233134113411342,47.3978199819982],[9.272147614761478,47.401004300430046],[9.303902790279029,47.39503370337034],[9.325224122412243,47.401004300430046],[9.35743294329433,47.401999399939996],[9.382837083708372,47.406775877587755],[9.401890189018903,47.401004300430046],[9.425933393339335,47.406775877587755],[9.435006300630064,47.42090629062906],[9.435913591359137,47.43483768376838],[9.449522952295231,47.43085728572857],[9.531179117911792,47.45394359435944],[9.526189018901892,47.461904390439045],[9.542520252025204,47.4688700870087],[9.546149414941496,47.46309850985099],[9.583801980198022,47.461904390439045],[9.62100090009001,47.44777397739774],[9.63007380738074,47.43981318131813],[9.617825382538255,47.43702690269027]]]}},{type:"Feature",properties:{abbr:"SG",name:"St. Gallen",no:17,centroid:[9.27517713240211,47.2337565774484]},geometry:{type:"MultiPolygon",coordinates:[[[[9.004950495049506,47.17272847284728],[9.003589558955897,47.17272847284728],[8.981814581458147,47.18287848784878],[8.961854185418543,47.18009220922092],[8.958225022502251,47.198800080008],[8.965029702970298,47.19800400040004],[8.969566156615663,47.217706970697066],[8.940986498649867,47.217706970697066],[8.841184518451847,47.20775597559756],[8.828482448244825,47.20875107510751],[8.808068406840686,47.220891289128915],[8.795366336633665,47.23900210021002],[8.803078307830784,47.24696289628963],[8.826214221422143,47.25074427442744],[8.837555355535555,47.24696289628963],[8.869764176417643,47.24477367736774],[8.872939693969398,47.25173937393739],[8.93282088208821,47.25870507050705],[8.944162016201622,47.26885508550855],[8.947337533753377,47.281990399039906],[8.93418181818182,47.28776197619762],[8.948698469846985,47.291941394139414],[8.956410441044106,47.30487768776877],[8.9750099009901,47.30706690669067],[8.984990099009902,47.31900810081008],[8.97637083708371,47.32696889688969],[8.978639063906392,47.337715971597156],[8.971834383438345,47.352045404540455],[8.96094689468947,47.355826782678264],[8.944162016201622,47.37592779277928],[8.971834383438345,47.390854285428546],[8.97637083708371,47.410955295529554],[8.98907290729073,47.410955295529554],[8.989526552655267,47.42906610661066],[9.011755175517553,47.43284748474847],[9.021735373537355,47.44180338033804],[9.028086408640865,47.43702690269027],[9.063017101710173,47.44598279827983],[9.027179117911793,47.457724972497246],[9.02491089108911,47.4688700870087],[9.010394239423944,47.472054405440545],[9.003589558955897,47.4810103010301],[9.009486948694871,47.48797599759976],[9.043056705670569,47.49494169416942],[9.056212421242126,47.48698089808981],[9.081616561656165,47.49494169416942],[9.089328532853287,47.482005400540054],[9.141497749774977,47.48379657965796],[9.1591899189919,47.48996619661966],[9.16554095409541,47.50389758975898],[9.18232583258326,47.49076227622762],[9.209998199819983,47.48897109710971],[9.21816381638164,47.48379657965796],[9.263074707470748,47.474840684068404],[9.278045004500452,47.4790201020102],[9.303902790279029,47.4790201020102],[9.319780378037805,47.49693189318932],[9.307531953195321,47.49792699269927],[9.311161116111613,47.50986818681868],[9.302995499549956,47.51603780378038],[9.28076687668767,47.50608680868087],[9.28212781278128,47.521013301330136],[9.316604860486049,47.530964296429644],[9.337926192619264,47.528974097409744],[9.342916291629164,47.519819181918194],[9.356072007200721,47.519819181918194],[9.340648064806482,47.50389758975898],[9.37421782178218,47.49971817181718],[9.37285688568857,47.48996619661966],[9.396446444644464,47.474840684068404],[9.405972997299731,47.49374757475748],[9.428655265526555,47.50290249024903],[9.502599459945996,47.54688588858886],[9.51484788478848,47.53673587358736],[9.551139513951396,47.53673587358736],[9.5661098109811,47.49175737573757],[9.58017281728173,47.48379657965796],[9.594689468946896,47.46309850985099],[9.60693789378938,47.470064206420645],[9.624630063006302,47.456729872987296],[9.643683168316834,47.455734773477346],[9.659107110711073,47.44876907690769],[9.643683168316834,47.43483768376838],[9.650941494149416,47.404785678567855],[9.674077407740775,47.390854285428546],[9.673170117011702,47.380704270427046],[9.657746174617463,47.36896209620962],[9.62372277227723,47.36577777777778],[9.601494149414943,47.34886108610861],[9.590153015301532,47.32179437943795],[9.57881188118812,47.30905710571057],[9.553407740774079,47.29373257325732],[9.547056705670569,47.279801180118014],[9.529364536453647,47.270845284528455],[9.518930693069308,47.24178837883788],[9.503960396039606,47.22507070707071],[9.489443744374439,47.19800400040004],[9.485814581458147,47.17790299029903],[9.494887488748876,47.156806880688066],[9.513033303330335,47.1317303730373],[9.519384338433845,47.103071507150716],[9.515755175517553,47.08774697469747],[9.474927092709272,47.06585478547855],[9.475834383438345,47.05192339233923],[9.508043204320433,47.01709490949095],[9.518930693069308,46.99997919791979],[9.546149414941496,46.976892889288926],[9.519384338433845,46.970723272327234],[9.518023402340235,46.95599579957996],[9.504867686768678,46.95380658065807],[9.479463546354637,46.925744774477444],[9.48808280828083,46.912012401240126],[9.467215121512153,46.89987218721872],[9.467215121512153,46.88594079407941],[9.453605760576059,46.88594079407941],[9.449069306930694,46.873004500450044],[9.43319171917192,46.88474667466747],[9.3819297929793,46.89808100810081],[9.360608460846086,46.89708590859086],[9.3383798379838,46.90186238623862],[9.27441584158416,46.90703690369037],[9.26670387038704,46.90405160516052],[9.249011701170119,46.915793779377935],[9.249918991899191,46.935894789478944],[9.235855985598562,46.94485068506851],[9.244475247524754,46.95599579957996],[9.249918991899191,46.99480468046804],[9.243114311431144,47.01490569056906],[9.221339333933393,47.03301650165017],[9.20137893789379,47.03500670067007],[9.18096489648965,47.02605080508051],[9.163726372637264,47.02704590459046],[9.137868586858687,47.03878807880788],[9.181418541854185,47.05809300930093],[9.19139873987399,47.0728204820482],[9.185501350135015,47.09789698969897],[9.19003780378038,47.12376957695769],[9.136054005400542,47.1317303730373],[9.10157695769577,47.13272547254726],[9.068914491449146,47.1297401740174],[9.009033303330334,47.171932393239324],[9.004950495049506,47.17272847284728]],[[9.342916291629164,47.24895309530953],[9.36378397839784,47.24377857785778],[9.3819297929793,47.23382758275827],[9.401890189018903,47.23800700070007],[9.41867506750675,47.24795799579958],[9.43818181818182,47.25074427442744],[9.473112511251127,47.27303450345035],[9.48808280828083,47.28776197619762],[9.488990099009902,47.302091409140914],[9.501692169216923,47.32975517551755],[9.502599459945996,47.346870887088706],[9.498970297029704,47.36896209620962],[9.508950495049506,47.39503370337034],[9.542520252025204,47.399810181018104],[9.554768676867688,47.39682488248825],[9.582441044104412,47.409960196019604],[9.604669666966698,47.41374157415741],[9.58788478847885,47.42488668866886],[9.617825382538255,47.43702690269027],[9.63007380738074,47.43981318131813],[9.62100090009001,47.44777397739774],[9.583801980198022,47.461904390439045],[9.546149414941496,47.46309850985099],[9.542520252025204,47.4688700870087],[9.526189018901892,47.461904390439045],[9.531179117911792,47.45394359435944],[9.449522952295231,47.43085728572857],[9.435913591359137,47.43483768376838],[9.435006300630064,47.42090629062906],[9.425933393339335,47.406775877587755],[9.401890189018903,47.401004300430046],[9.382837083708372,47.406775877587755],[9.35743294329433,47.401999399939996],[9.325224122412243,47.401004300430046],[9.303902790279029,47.39503370337034],[9.272147614761478,47.401004300430046],[9.233134113411342,47.3978199819982],[9.23086588658866,47.38707290729073],[9.218617461746176,47.38508270827083],[9.220885688568858,47.37274347434744],[9.207729972997301,47.36179737973797],[9.19139873987399,47.36179737973797],[9.205461746174619,47.33871107110711],[9.22451485148515,47.342094409440946],[9.233134113411342,47.33194439443945],[9.209998199819983,47.32079927992799],[9.224061206120613,47.29273747374737],[9.205461746174619,47.276815881588156],[9.236763276327634,47.26507370737074],[9.255816381638166,47.26288448844885],[9.273962196219623,47.2698501850185],[9.31796579657966,47.24795799579958],[9.342916291629164,47.24895309530953]]]]}},{type:"Feature",properties:{abbr:"AI",name:"Appenzell Innerrhoden",no:16,centroid:[9.416055917697568,47.317434224349675]},geometry:{type:"MultiPolygon",coordinates:[[[[9.502599459945996,47.346870887088706],[9.501692169216923,47.32975517551755],[9.488990099009902,47.302091409140914],[9.48808280828083,47.28776197619762],[9.473112511251127,47.27303450345035],[9.43818181818182,47.25074427442744],[9.41867506750675,47.24795799579958],[9.401890189018903,47.23800700070007],[9.3819297929793,47.23382758275827],[9.36378397839784,47.24377857785778],[9.342916291629164,47.24895309530953],[9.332936093609362,47.2698501850185],[9.312975697569758,47.291941394139414],[9.31796579657966,47.30905710571057],[9.314336633663368,47.32696889688969],[9.328853285328535,47.330750275027505],[9.343823582358237,47.352045404540455],[9.36378397839784,47.35801600160016],[9.349720972097211,47.38289348934894],[9.371949594959498,47.38408760876088],[9.400529252925294,47.37791799179918],[9.411870387038705,47.36896209620962],[9.430923492349237,47.37075327532753],[9.43818181818182,47.355826782678264],[9.465854185418543,47.346870887088706],[9.487175517551757,47.350055205520555],[9.502599459945996,47.346870887088706]]],[[[9.554768676867688,47.39682488248825],[9.542520252025204,47.399810181018104],[9.508950495049506,47.39503370337034],[9.515755175517553,47.405780778077805],[9.53299369936994,47.410955295529554],[9.5225598559856,47.42090629062906],[9.538891089108912,47.43185238523852],[9.554768676867688,47.42707590759076],[9.558851485148516,47.41792099209921],[9.576997299729975,47.41473667366736],[9.573368136813682,47.406775877587755],[9.541612961296131,47.40777097709771],[9.554768676867688,47.39682488248825]]],[[[9.617825382538255,47.43702690269027],[9.58788478847885,47.42488668866886],[9.604669666966698,47.41374157415741],[9.582441044104412,47.409960196019604],[9.582441044104412,47.41991119111911],[9.558851485148516,47.43384258425843],[9.617825382538255,47.43702690269027]]]]}},{type:"Feature",properties:{abbr:"AG",name:"Aargau",no:19,centroid:[8.156747028479444,47.40928349990171]},geometry:{type:"Polygon",coordinates:[[[8.411128712871289,47.24795799579958],[8.39434383438344,47.225866786678665],[8.406138613861387,47.19501870187019],[8.40205580558056,47.17690789078908],[8.415211521152116,47.165762776277624],[8.412036003600361,47.14088528852885],[8.376198019801981,47.13909410941094],[8.362135013501351,47.1460598059806],[8.358052205220524,47.156806880688066],[8.33809180918092,47.17909710971097],[8.325389738973898,47.21492069206921],[8.314502250225024,47.231041304130414],[8.314502250225024,47.23999719971997],[8.29590279027903,47.25870507050705],[8.299985598559857,47.270845284528455],[8.2868298829883,47.278806080608064],[8.25099189918992,47.285771777177715],[8.241465346534653,47.2720394039404],[8.227855985598561,47.27303450345035],[8.220144014401441,47.25273447344735],[8.207895589558957,47.24795799579958],[8.204720072007202,47.225866786678665],[8.176140414041406,47.222085408540856],[8.156180018001802,47.23900210021002],[8.174779477947796,47.23999719971997],[8.174779477947796,47.25273447344735],[8.131683168316833,47.24596779677968],[8.124878487848786,47.24099229922992],[8.10900090009001,47.24477367736774],[8.099020702070208,47.25989918991899],[8.088133213321333,47.26288448844885],[8.072709270927094,47.25492369236924],[8.055924392439245,47.25591879187919],[8.063182718271829,47.24696289628963],[8.029612961296131,47.24178837883788],[8.015096309630964,47.24377857785778],[8.016003600360037,47.25989918991899],[7.99513591359136,47.281990399039906],[7.986516651665167,47.2760198019802],[7.956122412241225,47.276815881588156],[7.9488640864086415,47.27303450345035],[7.961112511251126,47.2537295729573],[7.932986498649866,47.23581778177818],[7.909850585058507,47.24377857785778],[7.868115211521153,47.23681288128813],[7.854052205220523,47.232036403640365],[7.83908190819082,47.23382758275827],[7.825926192619263,47.24596779677968],[7.824565256525654,47.26606880688069],[7.844072007200721,47.277810981098106],[7.859949594959497,47.30487768776877],[7.886714671467147,47.31184338433843],[7.906675067506751,47.342094409440946],[7.9189234923492355,47.33393459345935],[7.947956795679569,47.3329394939494],[7.947956795679569,47.31801300130013],[7.976082808280829,47.3227894789479],[8.00647704770477,47.33871107110711],[8.009652565256527,47.35682188218822],[8.026437443744374,47.36896209620962],[8.030520252025203,47.38289348934894],[8.026437443744374,47.39602880288029],[8.009652565256527,47.39503370337034],[8.00647704770477,47.406775877587755],[7.962927092709272,47.42170237023702],[7.986516651665167,47.42807100710071],[7.98107290729073,47.44876907690769],[7.967917191719173,47.46309850985099],[7.956576057605761,47.45493869386939],[7.9488640864086415,47.46409360936094],[7.939791179117913,47.461904390439045],[7.944327632763277,47.48598579857986],[7.932986498649866,47.4810103010301],[7.9039531953195326,47.48698089808981],[7.893972997299731,47.50608680868087],[7.874466246624664,47.51782898289829],[7.864032403240325,47.51882408240824],[7.851330333033304,47.53474567456745],[7.833184518451846,47.5337505750575],[7.8313699369937,47.51504270427043],[7.806419441944195,47.49693189318932],[7.792810081008102,47.50071327132713],[7.790088208820883,47.51882408240824],[7.762869486948696,47.524794679467945],[7.737011701170118,47.526784878487845],[7.713422142214222,47.53892509250925],[7.751074707470748,47.54370157015701],[7.758786678667867,47.54907510751075],[7.783737173717372,47.55285648564856],[7.810048604860487,47.56778297829783],[7.818214221422143,47.586888888888886],[7.846340234023403,47.581913391339135],[7.86085688568857,47.587883988398836],[7.892158415841585,47.587883988398836],[7.911211521152116,47.570768276827685],[7.906675067506751,47.55902610261026],[7.918016201620163,47.54688588858886],[7.946595859585959,47.54370157015701],[7.956122412241225,47.55803100310031],[7.972907290729074,47.55484668466847],[8.00284788478848,47.55604080408041],[8.018725472547256,47.5500702070207],[8.046397839783978,47.55484668466847],[8.069080108010802,47.56499669966997],[8.083143114311433,47.55703590359036],[8.099474347434745,47.56280748074808],[8.103103510351037,47.576738873887386],[8.112630063006302,47.583903590359036],[8.13712691269127,47.583903590359036],[8.138034203420343,47.591068306830685],[8.165706570657067,47.594053605360536],[8.183398739873988,47.60380558055805],[8.201544554455445,47.62072227222722],[8.220144014401441,47.61793599359936],[8.223319531953196,47.60579577957796],[8.237836183618363,47.61276147614761],[8.26006480648065,47.61495069506951],[8.264601260126014,47.6089800980098],[8.2868298829883,47.61077127712771],[8.298171017101712,47.60480068006801],[8.29454185418542,47.593058505850586],[8.323121512151216,47.57295749574958],[8.376198019801981,47.56778297829783],[8.3839099909991,47.56499669966997],[8.39434383438344,47.576738873887386],[8.426099009900991,47.56778297829783],[8.417933393339336,47.56400160016002],[8.402963096309632,47.532954495449545],[8.380734473447346,47.524794679467945],[8.376651665166518,47.511858385838586],[8.360774077407742,47.50986818681868],[8.358052205220524,47.49693189318932],[8.363949594959497,47.4810103010301],[8.373022502250226,47.4810103010301],[8.366217821782179,47.470064206420645],[8.38663186318632,47.44876907690769],[8.384363636363638,47.43702690269027],[8.374383438343836,47.43006120612061],[8.387539153915393,47.42807100710071],[8.392075607560757,47.41991119111911],[8.384363636363638,47.405780778077805],[8.366217821782179,47.401999399939996],[8.392075607560757,47.39602880288029],[8.393890189018903,47.380704270427046],[8.406592259225924,47.36995719571957],[8.403870387038705,47.346870887088706],[8.416572457245724,47.33393459345935],[8.416118811881189,47.32398359835984],[8.449688568856887,47.32975517551755],[8.446059405940595,47.31980418041804],[8.431996399639965,47.31184338433843],[8.4274599459946,47.301096309630964],[8.415211521152116,47.29273747374737],[8.388900090009002,47.289951195119514],[8.40205580558056,47.2740296029603],[8.402963096309632,47.2537295729573],[8.411128712871289,47.24795799579958]]]}},{type:"Feature",properties:{abbr:"GR",name:"Graubünden/Grigioni",no:18,centroid:[9.627882879545327,46.656113814899264]},geometry:{type:"Polygon",coordinates:[[[9.1591899189919,46.17006620662066],[9.131517551755177,46.18399759975998],[9.111103510351036,46.204894689468944],[9.08887488748875,46.21205940594059],[9.07617281728173,46.23773297329733],[9.077987398739875,46.260023202320234],[9.063470747074708,46.2727604760476],[9.053944194419444,46.29186638663866],[9.07481188118812,46.314952695269525],[9.063470747074708,46.326893889388934],[9.071182718271828,46.34381058105811],[9.087967596759677,46.34978117811781],[9.094772277227724,46.373066506650666],[9.087060306030605,46.38898809880988],[9.096133213321334,46.39993419341934],[9.089328532853287,46.40709890989099],[9.10157695769577,46.4108802880288],[9.08887488748875,46.431976397639765],[9.087060306030605,46.44371857185718],[9.094772277227724,46.46003820382038],[9.084792079207922,46.47496469646965],[9.073904590459048,46.47974117411741],[9.061202520252026,46.4759597959796],[9.044871287128714,46.480736273627365],[9.03262286228623,46.502031403140315],[9.0235499549955,46.50780298029803],[9.01719891989199,46.53188438843884],[9.019013501350136,46.547805980598056],[9.029447344734475,46.571091309130914],[9.043056705670569,46.58900310031003],[9.005857785778579,46.610895289528955],[8.995877587758777,46.611890389038905],[8.972741674167418,46.60293449344935],[8.961854185418543,46.60293449344935],[8.963215121512153,46.617860986098606],[8.956410441044106,46.63000120012001],[8.94189378937894,46.61885608560856],[8.922840684068408,46.623035503550355],[8.905148514851486,46.611890389038905],[8.916489648964898,46.59696389638964],[8.907416741674169,46.58701290129013],[8.876115211521153,46.57487268726872],[8.853886588658867,46.570096209620964],[8.842999099909992,46.562931493149314],[8.829843384338435,46.571091309130914],[8.800810081008102,46.562931493149314],[8.750909090909092,46.57586778677867],[8.739114311431145,46.572086408640864],[8.727773177317733,46.57686288628863],[8.717792979297931,46.571091309130914],[8.697832583258327,46.58104230423042],[8.678779477947796,46.57905210521052],[8.681501350135015,46.58900310031003],[8.67696489648965,46.61885608560856],[8.657911791179119,46.625821782178214],[8.651107110711072,46.63577277727773],[8.654736273627364,46.64970417041704],[8.678779477947796,46.66403360336034],[8.673335733573358,46.670800280028004],[8.673335733573358,46.692095409540954],[8.70010081008101,46.70383758375837],[8.709173717371739,46.69906110611061],[8.717792979297931,46.70602680268027],[8.748187218721874,46.71796799679968],[8.748187218721874,46.73607880788079],[8.765879387938796,46.744835683568354],[8.782210621062108,46.727719971997196],[8.813058505850586,46.736874887488746],[8.809882988298831,46.744039603960395],[8.81759495949595,46.76175237523752],[8.833926192619263,46.76692689268927],[8.82802880288029,46.792003400340036],[8.847989198919894,46.797774977497745],[8.87656885688569,46.813099509950995],[8.915128712871288,46.8109102910291],[8.915128712871288,46.7987700770077],[8.927377137713773,46.795784778477845],[8.952781278127814,46.8047406740674],[9.009033303330334,46.8109102910291],[9.039427542754277,46.846733873387336],[9.045778577857787,46.849719171917194],[9.045778577857787,46.866834883488345],[9.061202520252026,46.873800580058],[9.094772277227724,46.871014301430144],[9.111103510351036,46.849719171917194],[9.14013681368137,46.862058405840585],[9.152385238523854,46.8799701970197],[9.187769576957697,46.87579077907791],[9.203647164716472,46.88275647564756],[9.226783078307832,46.90604180418042],[9.249011701170119,46.915793779377935],[9.26670387038704,46.90405160516052],[9.27441584158416,46.90703690369037],[9.3383798379838,46.90186238623862],[9.360608460846086,46.89708590859086],[9.3819297929793,46.89808100810081],[9.43319171917192,46.88474667466747],[9.449069306930694,46.873004500450044],[9.453605760576059,46.88594079407941],[9.467215121512153,46.88594079407941],[9.467215121512153,46.89987218721872],[9.48808280828083,46.912012401240126],[9.479463546354637,46.925744774477444],[9.504867686768678,46.95380658065807],[9.518023402340235,46.95599579957996],[9.519384338433845,46.970723272327234],[9.546149414941496,46.976892889288926],[9.518930693069308,46.99997919791979],[9.508043204320433,47.01709490949095],[9.475834383438345,47.05192339233923],[9.491711971197121,47.05689888988899],[9.511672367236725,47.05689888988899],[9.539344734473449,47.0648596859686],[9.553407740774079,47.05092829282928],[9.581080108010802,47.05271947194719],[9.602401440144016,47.06207340734073],[9.625990999099912,47.05092829282928],[9.644590459045906,47.06008320832083],[9.659107110711073,47.05809300930093],[9.681789378937895,47.06207340734073],[9.7067398739874,47.04774397439744],[9.744392439243926,47.040977297729775],[9.749836183618363,47.036797879787976],[9.77977677767777,47.03878807880788],[9.811985598559858,47.02187138713872],[9.83602880288029,47.01271647164717],[9.859164716471648,47.02286648664867],[9.87821782178218,47.02087628762876],[9.872774077407742,47.0059497949795],[9.889105310531054,47.00097429742974],[9.890466246624664,46.98783898389839],[9.87050585058506,46.96296149614962],[9.879125112511252,46.95699089908991],[9.875949594959497,46.934899689968994],[9.911787578757878,46.925744774477444],[9.923582358235825,46.917783978397836],[9.963049504950497,46.912012401240126],[9.978927092709272,46.91499769976998],[9.981195319531954,46.90604180418042],[10.005692169216923,46.89907610761076],[10.017940594059407,46.90086728672867],[10.032003600360037,46.88793099309931],[10.052417641764178,46.87579077907791],[10.05196399639964,46.864048604860486],[10.092338433843386,46.858874087408736],[10.091884788478849,46.851908390839085],[10.105040504050407,46.84076327632763],[10.125000900090011,46.84872407240724],[10.15675607560756,46.847728972897286],[10.177170117011702,46.85409760976098],[10.193954995499551,46.865839783978394],[10.232968496849686,46.865839783978394],[10.233875787578759,46.88474667466747],[10.22616381638164,46.89708590859086],[10.240680468046806,46.919973197319734],[10.240680468046806,46.93191439143914],[10.262909090909092,46.92992419241924],[10.29375697569757,46.921963396339635],[10.315985598559857,46.925744774477444],[10.306005400540055,46.94007420742074],[10.307366336633665,46.9490301030103],[10.322790279027904,46.95181638163816],[10.349101710171018,46.991023302330234],[10.370876687668769,46.991023302330234],[10.385846984698471,47.00097429742974],[10.399002700270028,46.99679487948795],[10.410797479747977,46.983062506250626],[10.428036003600361,46.973907590759076],[10.422592259225924,46.95878207820782],[10.455708370837085,46.95181638163816],[10.487917191719173,46.93788498849885],[10.486102610261028,46.91400260026003],[10.478844284428444,46.90982318231823],[10.475668766876689,46.89390159015902],[10.464781278127814,46.88375157515752],[10.470225022502252,46.8799701970197],[10.46795679567957,46.859869186918694],[10.472039603960397,46.84872407240724],[10.459791179117914,46.83499169916992],[10.457976597659767,46.81688088808881],[10.447996399639965,46.800959295929594],[10.42939693969397,46.796779877987795],[10.426221422142216,46.78881908190819],[10.442099009900991,46.77170337033703],[10.442099009900991,46.752000400040004],[10.434840684068408,46.75279647964796],[10.399909990999102,46.73408860886089],[10.41805580558056,46.71876407640764],[10.414880288028805,46.70901210121012],[10.40263186318632,46.70602680268027],[10.393105310531055,46.68990619061906],[10.381764176417644,46.68572677267726],[10.389022502250226,46.676770877087705],[10.391744374437444,46.65507770777078],[10.401724572457248,46.63696689668967],[10.442552655265528,46.63895709570957],[10.462513051305132,46.63278747874787],[10.492,46.61507470747075],[10.484741674167417,46.60492469246925],[10.484741674167417,46.57686288628863],[10.473400540054007,46.562931493149314],[10.472039603960397,46.54402460246025],[10.45888388838884,46.5408402840284],[10.452079207920793,46.53088928892889],[10.41805580558056,46.550791279127914],[10.397188118811883,46.54402460246025],[10.362711071107112,46.555766776677665],[10.3513699369937,46.555766776677665],[10.338214221422144,46.542830483048306],[10.325058505850587,46.551985398539856],[10.319161116111612,46.547805980598056],[10.296025202520253,46.549796179617964],[10.286952295229524,46.570096209620964],[10.269713771377138,46.57805700570057],[10.253836183618363,46.571091309130914],[10.240680468046806,46.58900310031003],[10.258372637263728,46.609900190019],[10.239773177317733,46.626816881688164],[10.238412241224124,46.63577277727773],[10.224802880288031,46.63000120012001],[10.21436903690369,46.616865886588656],[10.183067506750676,46.624030603060305],[10.164014401440145,46.6160698069807],[10.136342034203421,46.610895289528955],[10.12772277227723,46.60492469246925],[10.10186498649865,46.610895289528955],[10.096421242124213,46.59397859785979],[10.10322592259226,46.58601780178018],[10.095967596759678,46.57686288628863],[10.078729072907292,46.57487268726872],[10.085080108010803,46.56671287128713],[10.061944194419443,46.54601480148015],[10.04697389738974,46.54402460246025],[10.053778577857788,46.53188438843884],[10.051056705670568,46.51277847784778],[10.041983798379839,46.50999219921992],[10.048788478847886,46.49984218421842],[10.042891089108913,46.4779499949995],[10.05196399639964,46.46003820382038],[10.038808280828084,46.44670387038704],[10.05604680468047,46.440932293229324],[10.064212421242125,46.42600580058006],[10.074192619261927,46.428792079207916],[10.080997299729974,46.42083128312831],[10.100957695769578,46.42083128312831],[10.129083708370839,46.431976397639765],[10.143146714671468,46.427796979697966],[10.149951395139515,46.4128704870487],[10.159931593159317,46.41605480548055],[10.166736273627365,46.40709890989099],[10.164014401440145,46.39097829782978],[10.12772277227723,46.377842984298425],[10.129990999099912,46.360727272727274],[10.109123312331235,46.352766476647666],[10.105040504050407,46.33306350635063],[10.116381638163817,46.313957595759575],[10.124093609360937,46.311967396739675],[10.15675607560756,46.2890801080108],[10.163107110711072,46.27096929692969],[10.171726372637265,46.2667898789879],[10.174448244824482,46.255047704770476],[10.150858685868588,46.23972317231723],[10.14541494149415,46.22977217721772],[10.123186318631864,46.22380158015802],[10.094606660666066,46.22897609760976],[10.071017101710172,46.21683588358836],[10.043344734473449,46.22977217721772],[10.06103690369037,46.24788298829883],[10.053778577857788,46.2667898789879],[10.02792079207921,46.27793499349935],[9.996165616561658,46.28490069006901],[9.992082808280829,46.29604580458046],[9.999341134113411,46.312962496249625],[9.979380738073807,46.322913491349134],[9.996165616561658,46.35077627762776],[9.984824482448246,46.35177137713771],[9.963503150315033,46.363911591159116],[9.952615661566158,46.37883808380838],[9.934016201620164,46.375056705670566],[9.924943294329434,46.36590179017902],[9.908158415841585,46.381027302730274],[9.867330333033305,46.362916491649166],[9.831945994599462,46.360727272727274],[9.817429342934295,46.34978117811781],[9.785220522052207,46.34102430243024],[9.777508550855087,46.33485468546854],[9.762084608460848,46.33903410341034],[9.743031503150316,46.35177137713771],[9.723071107110712,46.34102430243024],[9.728061206120614,46.33306350635063],[9.717627362736275,46.32191839183918],[9.725792979297932,46.31992819281928],[9.713998199819983,46.29286148614862],[9.688594059405942,46.29286148614862],[9.675438343834385,46.30301150115012],[9.668633663366338,46.29604580458046],[9.635517551755177,46.28589578957896],[9.619186318631865,46.2870899089909],[9.610113411341136,46.29505070507051],[9.582441044104412,46.29385658565857],[9.549324932493251,46.301817381738175],[9.533447344734475,46.311967396739675],[9.511218721872188,46.33684488448845],[9.508043204320433,46.35077627762776],[9.493526552655267,46.364906690669066],[9.462678667866788,46.374061606160616],[9.468122412241225,46.38998319831983],[9.464039603960398,46.40590479047905],[9.453605760576059,46.42083128312831],[9.460410441044106,46.441927392739274],[9.459049504950496,46.46282448244824],[9.464039603960398,46.47874607460746],[9.460410441044106,46.50481768176817],[9.433645364536455,46.497851985198515],[9.425026102610262,46.48889608960896],[9.42411881188119,46.4759597959796],[9.412777677767778,46.46700390039004],[9.38964176417642,46.472775477547756],[9.371042304230425,46.48889608960896],[9.37285688568857,46.504021602160215],[9.361969396939696,46.50999219921992],[9.355164716471648,46.504021602160215],[9.311161116111613,46.504021602160215],[9.283035103510352,46.496856885688565],[9.273962196219623,46.48392059205921],[9.278045004500452,46.46103330333033],[9.264435643564358,46.45108230823082],[9.246743474347436,46.44670387038704],[9.247650765076509,46.432971497149715],[9.279859585958597,46.4150597059706],[9.283035103510352,46.4049096909691],[9.27577677767777,46.39475967596759],[9.283942394239425,46.38580378037803],[9.27577677767777,46.36789198919892],[9.283035103510352,46.35774197419742],[9.29619081908191,46.35595079507951],[9.299819981998201,46.34381058105811],[9.293015301530154,46.33803900390039],[9.298459045904591,46.32788898889889],[9.28212781278128,46.308783078307826],[9.283942394239425,46.29803600360036],[9.258538253825384,46.27793499349935],[9.252187218721874,46.26579477947794],[9.245382538253827,46.23176237623762],[9.220885688568858,46.22897609760976],[9.218617461746176,46.2138505850585],[9.20137893789379,46.2078799879988],[9.194574257425744,46.193948594859485],[9.194574257425744,46.17882308230823],[9.181418541854185,46.17006620662066],[9.1591899189919,46.17006620662066]]]}},{type:"Feature",properties:{abbr:"TI",name:"Ticino",no:21,centroid:[8.808973068362766,46.29486184302371]},geometry:{type:"Polygon",coordinates:[[[8.384363636363638,46.452077407740774],[8.382095409540955,46.46003820382038],[8.392075607560757,46.46799899989999],[8.386178217821783,46.4759597959796],[8.40069486948695,46.492080408040806],[8.431996399639965,46.496856885688565],[8.44288388838884,46.49506570657066],[8.47736093609361,46.52790399039904],[8.482804680468048,46.53188438843884],[8.519549954995501,46.5388500850085],[8.513198919891991,46.55875207520752],[8.520457245724574,46.57686288628863],[8.539056705670568,46.58701290129013],[8.548129612961297,46.58183838383838],[8.573080108010803,46.58382858285828],[8.589411341134115,46.573081508150814],[8.61935193519352,46.57805700570057],[8.63477587758776,46.56372757275727],[8.653375337533754,46.56790699069907],[8.678779477947796,46.57905210521052],[8.697832583258327,46.58104230423042],[8.717792979297931,46.571091309130914],[8.727773177317733,46.57686288628863],[8.739114311431145,46.572086408640864],[8.750909090909092,46.57586778677867],[8.800810081008102,46.562931493149314],[8.829843384338435,46.571091309130914],[8.842999099909992,46.562931493149314],[8.853886588658867,46.570096209620964],[8.876115211521153,46.57487268726872],[8.907416741674169,46.58701290129013],[8.916489648964898,46.59696389638964],[8.905148514851486,46.611890389038905],[8.922840684068408,46.623035503550355],[8.94189378937894,46.61885608560856],[8.956410441044106,46.63000120012001],[8.963215121512153,46.617860986098606],[8.961854185418543,46.60293449344935],[8.972741674167418,46.60293449344935],[8.995877587758777,46.611890389038905],[9.005857785778579,46.610895289528955],[9.043056705670569,46.58900310031003],[9.029447344734475,46.571091309130914],[9.019013501350136,46.547805980598056],[9.01719891989199,46.53188438843884],[9.0235499549955,46.50780298029803],[9.03262286228623,46.502031403140315],[9.044871287128714,46.480736273627365],[9.061202520252026,46.4759597959796],[9.073904590459048,46.47974117411741],[9.084792079207922,46.47496469646965],[9.094772277227724,46.46003820382038],[9.087060306030605,46.44371857185718],[9.08887488748875,46.431976397639765],[9.10157695769577,46.4108802880288],[9.089328532853287,46.40709890989099],[9.096133213321334,46.39993419341934],[9.087060306030605,46.38898809880988],[9.094772277227724,46.373066506650666],[9.087967596759677,46.34978117811781],[9.071182718271828,46.34381058105811],[9.063470747074708,46.326893889388934],[9.07481188118812,46.314952695269525],[9.053944194419444,46.29186638663866],[9.063470747074708,46.2727604760476],[9.077987398739875,46.260023202320234],[9.07617281728173,46.23773297329733],[9.08887488748875,46.21205940594059],[9.111103510351036,46.204894689468944],[9.131517551755177,46.18399759975998],[9.1591899189919,46.17006620662066],[9.156921692169218,46.16170737073707],[9.134693069306932,46.15275147514751],[9.121083708370838,46.135038703870386],[9.071636363636365,46.117723972397236],[9.08887488748875,46.0900602060206],[9.073904590459048,46.061799379937995],[9.049407740774079,46.061799379937995],[9.01719891989199,46.05005720572057],[9.009033303330334,46.02677187718772],[9.023096309630965,46.015825782578254],[9.028086408640865,45.99393359335934],[9.010394239423944,45.98278847884788],[8.994970297029704,45.98000220022002],[8.994063006300632,45.96587178717871],[9.014023402340236,45.961095309530954],[9.011755175517553,45.943979597959796],[9.021735373537355,45.93800900090009],[9.019013501350136,45.92805800580058],[9.043056705670569,45.92805800580058],[9.058934293429344,45.91691289128913],[9.077080108010803,45.91094229422942],[9.077080108010803,45.89880208020802],[9.087060306030605,45.90198639863986],[9.077987398739875,45.8850697069707],[9.06573897389739,45.8749196919692],[9.054851485148516,45.87392459245925],[9.051222322232224,45.85203240324032],[9.035798379837985,45.842081408140814],[9.031715571557157,45.820786278627864],[9.018106210621063,45.818],[8.994063006300632,45.821781378137814],[8.996331233123314,45.83471767176717],[8.98635103510351,45.83889708970897],[8.972741674167418,45.831931393139314],[8.948698469846985,45.844071607160714],[8.92873807380738,45.832926492649264],[8.911953195319533,45.830936293629364],[8.914221422142216,45.842081408140814],[8.936450045004502,45.86795399539954],[8.931913591359137,45.8850697069707],[8.921026102610263,45.896811881188114],[8.92510891089109,45.90298149814981],[8.914221422142216,45.91790799079908],[8.896075607560757,45.92706290629063],[8.893807380738075,45.95890609060906],[8.882012601260127,45.95671687168716],[8.84844284428443,45.97283748374837],[8.832111611161118,45.98796299629963],[8.793098109810982,45.991744374437445],[8.7858397839784,45.98895809580958],[8.793098109810982,46.007864986498646],[8.805800180018004,46.021995399539954],[8.819863186318633,46.02478167816781],[8.82802880288029,46.03373757375737],[8.82802880288029,46.04707190719072],[8.843906390639065,46.04806700670067],[8.854340234023404,46.061799379937995],[8.852072007200722,46.075730773077304],[8.83301890189019,46.083094509450945],[8.805800180018004,46.10100630063006],[8.78311791179118,46.09384158415841],[8.760889288928894,46.10100630063006],[8.741382538253827,46.121903390339035],[8.723690369036905,46.10976317631763],[8.714617461746176,46.09702590259026],[8.68603780378038,46.10180238023802],[8.681047704770478,46.10976317631763],[8.657911791179119,46.112748474847486],[8.647931593159317,46.122898489848986],[8.611639963996401,46.121903390339035],[8.609371737173719,46.133048504850485],[8.593494149414942,46.14678087808781],[8.602567056705672,46.15573677367737],[8.588050405040505,46.15693089308931],[8.573080108010803,46.16489168916892],[8.56945094509451,46.17703190319032],[8.535881188118813,46.204098609860985],[8.533159315931595,46.2180300030003],[8.467380738073809,46.232757475747576],[8.464205220522054,46.24509670967097],[8.443791179117913,46.24887808780878],[8.456039603960397,46.264003600360034],[8.4274599459946,46.29803600360036],[8.440615661566158,46.30400660066007],[8.440615661566158,46.315748774877484],[8.454225022502252,46.32092329232923],[8.465112511251126,46.33385958595859],[8.461936993699371,46.35396059605961],[8.469648964896491,46.361722372237224],[8.460576057605762,46.38679887988799],[8.4710099009901,46.39575477547755],[8.462844284428444,46.40590479047905],[8.467380738073809,46.41187538753875],[8.457400540054007,46.41983618361836],[8.458761476147615,46.436752875287524],[8.466019801980199,46.442922492249224],[8.449688568856887,46.46182938293829],[8.43789378937894,46.46381958195819],[8.384363636363638,46.452077407740774]]]}},{type:"Feature",properties:{abbr:"TG",name:"Thurgau",no:20,centroid:[9.090522451365876,47.568848191389634]},geometry:{type:"Polygon",coordinates:[[[8.944162016201622,47.37592779277928],[8.944162016201622,47.38508270827083],[8.919665166516653,47.399810181018104],[8.903787578757877,47.401999399939996],[8.915128712871288,47.41891609160916],[8.907416741674169,47.43085728572857],[8.930552655265528,47.43185238523852],[8.910592259225924,47.43702690269027],[8.902880288028804,47.44399259925993],[8.89063186318632,47.4688700870087],[8.883827182718273,47.470064206420645],[8.892900090009002,47.48797599759976],[8.898797479747977,47.523998599859986],[8.8829198919892,47.528974097409744],[8.841184518451847,47.532954495449545],[8.82802880288029,47.55604080408041],[8.850711071107112,47.56400160016002],[8.838916291629165,47.56499669966997],[8.830750675067508,47.57395259525953],[8.806707470747076,47.57196239623963],[8.805800180018004,47.582908490849086],[8.764064806480649,47.593058505850586],[8.748187218721874,47.592063406340635],[8.740021602160217,47.61176637663766],[8.745918991899192,47.62171737173718],[8.788108010801082,47.60997519751975],[8.800810081008102,47.602014401440144],[8.813058505850586,47.62709090909091],[8.82802880288029,47.639828182818285],[8.826214221422143,47.646793879387936],[8.804439243924394,47.651968396839685],[8.804439243924394,47.66470567056706],[8.788561656165617,47.66470567056706],[8.7858397839784,47.654754675467544],[8.764518451845186,47.64878407840784],[8.746826282628264,47.63883308330833],[8.721422142214223,47.641022302230226],[8.689213321332135,47.64878407840784],[8.681047704770478,47.65674487448745],[8.670160216021603,47.68500570057006],[8.687852385238525,47.69495669566957],[8.717792979297931,47.690777277727776],[8.727773177317733,47.69296649664967],[8.750909090909092,47.690777277727776],[8.788561656165617,47.67485568556856],[8.795366336633665,47.6760498049805],[8.816687668766878,47.6780400040004],[8.836194419441945,47.6718703870387],[8.853886588658867,47.66092429242924],[8.844360036003602,47.652963496349635],[8.857515751575159,47.64878407840784],[8.87520792079208,47.654754675467544],[8.901065706570659,47.64778897889789],[8.940986498649867,47.6557497749775],[8.97637083708371,47.6718703870387],[9.019467146714673,47.68699589958996],[9.054851485148516,47.68500570057006],[9.071182718271828,47.67903510351035],[9.096133213321334,47.67903510351035],[9.121083708370838,47.66709390939094],[9.141497749774977,47.66371057105711],[9.154653465346536,47.66709390939094],[9.170077407740775,47.654754675467544],[9.203193519351936,47.654754675467544],[9.255816381638166,47.65893409340934],[9.267611161116113,47.6557497749775],[9.444986498649866,47.594849684968494],[9.453152115211523,47.590073207320735],[9.502599459945996,47.54688588858886],[9.428655265526555,47.50290249024903],[9.405972997299731,47.49374757475748],[9.396446444644464,47.474840684068404],[9.37285688568857,47.48996619661966],[9.37421782178218,47.49971817181718],[9.340648064806482,47.50389758975898],[9.356072007200721,47.519819181918194],[9.342916291629164,47.519819181918194],[9.337926192619264,47.528974097409744],[9.316604860486049,47.530964296429644],[9.28212781278128,47.521013301330136],[9.28076687668767,47.50608680868087],[9.302995499549956,47.51603780378038],[9.311161116111613,47.50986818681868],[9.307531953195321,47.49792699269927],[9.319780378037805,47.49693189318932],[9.303902790279029,47.4790201020102],[9.278045004500452,47.4790201020102],[9.263074707470748,47.474840684068404],[9.21816381638164,47.48379657965796],[9.209998199819983,47.48897109710971],[9.18232583258326,47.49076227622762],[9.16554095409541,47.50389758975898],[9.1591899189919,47.48996619661966],[9.141497749774977,47.48379657965796],[9.089328532853287,47.482005400540054],[9.081616561656165,47.49494169416942],[9.056212421242126,47.48698089808981],[9.043056705670569,47.49494169416942],[9.009486948694871,47.48797599759976],[9.003589558955897,47.4810103010301],[9.010394239423944,47.472054405440545],[9.02491089108911,47.4688700870087],[9.027179117911793,47.457724972497246],[9.063017101710173,47.44598279827983],[9.028086408640865,47.43702690269027],[9.021735373537355,47.44180338033804],[9.011755175517553,47.43284748474847],[8.989526552655267,47.42906610661066],[8.98907290729073,47.410955295529554],[8.97637083708371,47.410955295529554],[8.971834383438345,47.390854285428546],[8.944162016201622,47.37592779277928]]]}},{type:"Feature",properties:{abbr:"VS",name:"Valais/Wallis",no:23,centroid:[7.6045101050356205,46.20955542046745]},geometry:{type:"Polygon",coordinates:[[[6.821101710171018,46.42700090009001],[6.871456345634564,46.383017501750174],[6.882797479747976,46.377842984298425],[6.886426642664267,46.364906690669066],[6.881436543654366,46.35396059605961],[6.898221422142215,46.33903410341034],[6.916367236723673,46.34002920292029],[6.929976597659767,46.33007820782078],[6.9358739873987405,46.29883208320832],[6.953566156615662,46.2890801080108],[6.963546354635464,46.26897909790979],[6.986682268226823,46.252062406240626],[7.009818181818183,46.22101530153015],[7.012993699369938,46.204894689468944],[7.032046804680469,46.187778977897786],[7.071060306030604,46.20091429142914],[7.087845184518453,46.20190939093909],[7.11506390639064,46.21683588358836],[7.125044104410442,46.23693689368937],[7.15090189018902,46.243902590259026],[7.178120612061207,46.26778497849785],[7.188554455445545,46.27096929692969],[7.1858325832583265,46.28271147114711],[7.197173717371738,46.2890801080108],[7.188554455445545,46.30400660066007],[7.22121692169217,46.32888408840884],[7.252972097209722,46.33107330733073],[7.261591359135914,46.33803900390039],[7.261591359135914,46.35774197419742],[7.310131413141315,46.375056705670566],[7.307863186318633,46.35177137713771],[7.315121512151216,46.34381058105811],[7.347783978397841,46.35077627762776],[7.380900090009002,46.363911591159116],[7.399953195319533,46.376847884788475],[7.428079207920793,46.381027302730274],[7.438059405940595,46.38580378037803],[7.462102610261027,46.375852785278525],[7.473443744374438,46.384012601260125],[7.48342394239424,46.382022402240224],[7.484331233123313,46.372071407140716],[7.502023402340235,46.36988218821882],[7.506559855985599,46.375852785278525],[7.526066606660667,46.374061606160616],[7.555099909991,46.38898809880988],[7.528788478847885,46.39993419341934],[7.533778577857786,46.41008420842084],[7.58322592259226,46.4170499049905],[7.593659765976598,46.4108802880288],[7.609537353735375,46.428792079207916],[7.609537353735375,46.436752875287524],[7.625868586858687,46.44471367136713],[7.693008100810082,46.42501070107011],[7.708432043204321,46.41386558655866],[7.73156795679568,46.421826382638265],[7.777839783978399,46.442922492249224],[7.797800180018003,46.45804800480048],[7.82365796579658,46.46700390039004],[7.843164716471648,46.4779499949995],[7.869022502250226,46.4779499949995],[7.894426642664267,46.481731373137315],[7.932986498649866,46.497851985198515],[7.942059405940595,46.50780298029803],[7.9538541854185425,46.50780298029803],[7.971092709270928,46.51695789578958],[7.962927092709272,46.53705890589059],[7.969731773177319,46.5450197019702],[7.986063006300631,46.547805980598056],[7.992867686768678,46.555766776677665],[8.016003600360037,46.562931493149314],[8.034149414941496,46.561936393639364],[8.060914491449147,46.550791279127914],[8.075884788478849,46.555766776677665],[8.113990999099912,46.5470099009901],[8.125785778577859,46.53705890589059],[8.154819081908192,46.53088928892889],[8.173872187218723,46.53088928892889],[8.181130513051306,46.52073927392739],[8.257796579657967,46.52909810981098],[8.303161116111612,46.54601480148015],[8.316770477047706,46.55875207520752],[8.33673087308731,46.560941294129414],[8.364403240324034,46.58283348334833],[8.360774077407742,46.59795899589959],[8.37120792079208,46.6140796079608],[8.368939693969399,46.62900610061006],[8.39434383438344,46.64592279227923],[8.398426642664267,46.65388358835884],[8.409767776777679,46.65288848884888],[8.422016201620163,46.64791299129913],[8.419747974797481,46.6160698069807],[8.406138613861387,46.58601780178018],[8.419747974797481,46.56571777177717],[8.42882088208821,46.542830483048306],[8.457400540054007,46.53287948794879],[8.465112511251126,46.53606380638064],[8.47736093609361,46.52790399039904],[8.44288388838884,46.49506570657066],[8.431996399639965,46.496856885688565],[8.40069486948695,46.492080408040806],[8.386178217821783,46.4759597959796],[8.392075607560757,46.46799899989999],[8.382095409540955,46.46003820382038],[8.384363636363638,46.452077407740774],[8.366671467146716,46.452077407740774],[8.325389738973898,46.42501070107011],[8.307697569756977,46.42600580058006],[8.289098109810983,46.40908910891089],[8.316770477047706,46.39475967596759],[8.313141314131414,46.376847884788475],[8.301346534653465,46.375852785278525],[8.283200720072008,46.363911591159116],[8.273674167416743,46.36709590959096],[8.260972097209722,46.360727272727274],[8.262333033303332,46.34599979998],[8.236021602160218,46.34102430243024],[8.223319531953196,46.33385958595859],[8.224680468046806,46.325898789878984],[8.211524752475249,46.30977817781778],[8.198822682268228,46.301817381738175],[8.161170117011702,46.29604580458046],[8.138034203420343,46.301817381738175],[8.119434743474349,46.29186638663866],[8.112630063006302,46.28072127212721],[8.08087488748875,46.261018301830184],[8.088133213321333,46.254052605260526],[8.109454545454547,46.24987318731873],[8.112630063006302,46.23872807280728],[8.138941494149416,46.22599079907991],[8.1511899189919,46.20290449044904],[8.15255085508551,46.190963296329635],[8.164799279927994,46.181808380838085],[8.1511899189919,46.16489168916892],[8.154819081908192,46.14777597759776],[8.138941494149416,46.135038703870386],[8.113990999099912,46.129864186418644],[8.107186318631864,46.11075827582758],[8.034149414941496,46.10100630063006],[8.028705670567057,46.08090529052905],[8.021900990099011,46.07473567356735],[8.035056705670568,46.04388758875887],[8.01192079207921,46.03095129512951],[8.017364536453647,46.02478167816781],[8.01192079207921,46.012044404440445],[8.001033303330335,46.012044404440445],[7.9887848784878495,45.99592379237924],[7.9089432943294335,45.99691889188919],[7.893972997299731,45.97900710071007],[7.878095409540955,45.97283748374837],[7.868115211521153,45.93701390139014],[7.876734473447345,45.92706290629063],[7.864032403240325,45.91691289128913],[7.818667866786679,45.92706290629063],[7.800068406840685,45.91691289128913],[7.768766876687669,45.93701390139014],[7.747899189918993,45.940795279527954],[7.735197119711972,45.92387858785878],[7.719319531953196,45.92387858785878],[7.707978397839785,45.93502370237024],[7.709339333933394,45.947760976097605],[7.68166696669667,45.95671687168716],[7.668057605760577,45.97383258325832],[7.655809180918093,45.97701690169017],[7.637209720972098,45.97005120512051],[7.586401440144015,45.97104630463046],[7.575060306030604,45.98696789678968],[7.550109810981099,45.98597279727973],[7.541944194419443,45.97582278227823],[7.542851485148516,45.95671687168716],[7.496126012601261,45.95771197119712],[7.472082808280829,45.947760976097605],[7.472082808280829,45.933829582958296],[7.446225022502251,45.93183938393839],[7.426718271827183,45.91472367236724],[7.402221422142215,45.91094229422942],[7.383168316831684,45.896811881188114],[7.360939693969398,45.90298149814981],[7.343701170117012,45.91472367236724],[7.323740774077408,45.90994719471947],[7.316028802880289,45.91691289128913],[7.295161116111612,45.92188838883888],[7.277015301530154,45.90099129912991],[7.25705490549055,45.887855985598556],[7.248435643564357,45.893030503050305],[7.228475247524753,45.892035403540355],[7.199441944194421,45.87591479147915],[7.2008028802880295,45.86277947794779],[7.1908226822682275,45.85899809980998],[7.161335733573358,45.8707402740274],[7.158160216021603,45.878900090009],[7.136385238523853,45.87392459245925],[7.117785778577859,45.85999319931993],[7.097825382538255,45.86178437843784],[7.093742574257426,45.87591479147915],[7.063348334833484,45.89999619961996],[7.061080108010802,45.91273347334733],[7.045202520252026,45.92188838883888],[7.036129612961297,45.93800900090009],[7.035222322232224,45.95572177217721],[7.017983798379839,45.95990119011901],[7.009818181818183,45.97283748374837],[7.02297389738974,45.98000220022002],[7.012086408640865,45.98696789678968],[7.011179117911792,45.99691889188919],[6.9857749774977504,46.00408360836084],[6.9807848784878495,46.02000520052005],[6.963092709270928,46.03095129512951],[6.949936993699371,46.05184838483848],[6.934966696669668,46.05602780278028],[6.938142214221423,46.063988598859886],[6.923625562556256,46.064983698369836],[6.9109234923492355,46.05184838483848],[6.8909630963096316,46.04189738973897],[6.875992799279929,46.04806700670067],[6.872817281728174,46.05602780278028],[6.8909630963096316,46.073939593959395],[6.891416741674168,46.08488568856885],[6.882797479747976,46.09384158415841],[6.89504590459046,46.10797199719972],[6.900036003600361,46.122898489848986],[6.880075607560757,46.122898489848986],[6.842876687668768,46.128869086908686],[6.838340234023403,46.133048504850485],[6.815204320432044,46.128869086908686],[6.797965796579659,46.136829882988295],[6.789346534653466,46.15374657465746],[6.791614761476148,46.16270247024702],[6.811575157515752,46.18081328132813],[6.803409540954096,46.20290449044904],[6.83108190819082,46.23395159515952],[6.840154815481549,46.24788298829883],[6.85149594959496,46.252062406240626],[6.865105310531054,46.27992519251925],[6.858754275427543,46.29087128712871],[6.846505850585059,46.29007520752075],[6.828360036003601,46.30082228222822],[6.825184518451846,46.311967396739675],[6.799326732673268,46.32092329232923],[6.795697569756976,46.33306350635063],[6.787985598559857,46.33206840684068],[6.769386138613862,46.35495569556956],[6.780727272727273,46.36590179017902],[6.803409540954096,46.376847884788475],[6.80159495949595,46.38679887988799],[6.821101710171018,46.42700090009001]]]}},{type:"Feature",properties:{abbr:"VD",name:"Vaud",no:22,centroid:[6.657498407681689,46.57069109142927]},geometry:{type:"MultiPolygon",coordinates:[[[[6.821101710171018,46.42700090009001],[6.68137893789379,46.45386858685868],[6.518520252025203,46.45585878587859],[6.4259765976597665,46.41605480548055],[6.33479387938794,46.40371557155716],[6.253137713771378,46.35973217321732],[6.220021602160217,46.311967396739675],[6.198700270027003,46.28370657065707],[6.140633663366337,46.30500170017002],[6.125663366336634,46.316743874387434],[6.136550855085509,46.3358497849785],[6.1578721872187225,46.35077627762776],[6.170120612061207,46.36590179017902],[6.160140414041405,46.37883808380838],[6.150160216021603,46.376847884788475],[6.135643564356436,46.38779397939794],[6.097990999099911,46.40908910891089],[6.06351395139514,46.41605480548055],[6.085742574257426,46.442922492249224],[6.074855085508552,46.453072507250724],[6.073040504050406,46.46600880088009],[6.096630063006301,46.481731373137315],[6.112961296129614,46.50999219921992],[6.137911791179119,46.53088928892889],[6.143355535553556,46.52790399039904],[6.15560396039604,46.5450197019702],[6.110693069306931,46.57686288628863],[6.125663366336634,46.58900310031003],[6.160594059405941,46.609900190019],[6.178739873987399,46.6160698069807],[6.203690369036904,46.63577277727773],[6.228187218721873,46.64791299129913],[6.23363096309631,46.65507770777078],[6.268108010801081,46.675775777577755],[6.269922592259227,46.682940494049404],[6.323452745274528,46.70602680268027],[6.341598559855986,46.71000720072007],[6.370631863186319,46.728715071507146],[6.38333393339334,46.730904290429045],[6.387870387038705,46.743044504450445],[6.4010261026102615,46.75100530053005],[6.423708370837084,46.75379157915791],[6.451380738073808,46.77389258925893],[6.458185418541855,46.78782398239824],[6.435049504950496,46.800959295929594],[6.4309666966696675,46.81190539053905],[6.4409468946894695,46.81588578857885],[6.443215121512152,46.83180738073807],[6.460000000000001,46.851908390839085],[6.481321332133214,46.846733873387336],[6.523056705670568,46.856883888388836],[6.551636363636364,46.873004500450044],[6.586567056705671,46.88375157515752],[6.626487848784879,46.88892609260926],[6.646448244824483,46.910818281828185],[6.685008100810082,46.925744774477444],[6.7208460846084614,46.935894789478944],[6.71721692169217,46.90604180418042],[6.739445544554456,46.89489668966897],[6.739445544554456,46.872009400940094],[6.753508550855086,46.871014301430144],[6.779366336633664,46.852903490349036],[6.741713771377138,46.82703090309031],[6.778459045904591,46.800959295929594],[6.778459045904591,46.793993599359936],[6.797965796579659,46.782848484848486],[6.805224122412242,46.78603280328033],[6.825184518451846,46.77289748974897],[6.858754275427543,46.78782398239824],[6.880075607560757,46.77508670867087],[6.916367236723673,46.78503770377038],[6.9308838883888395,46.803944594459445],[6.919996399639965,46.80991519151915],[6.9109234923492355,46.802949494949495],[6.903211521152116,46.82802600260026],[6.918635463546355,46.846733873387336],[6.9308838883888395,46.852903490349036],[6.913191719171918,46.865839783978394],[6.891416741674168,46.864844684468444],[6.9209036903690375,46.871014301430144],[6.9109234923492355,46.88096529652965],[6.8959531953195325,46.88275647564756],[6.866012601260127,46.90882808280828],[6.8959531953195325,46.924749674967494],[6.929976597659767,46.89907610761076],[6.933152115211522,46.89171237123712],[6.964453645364538,46.864844684468444],[6.958102610261027,46.88096529652965],[6.973526552655266,46.88693589358936],[6.988496849684969,46.873004500450044],[6.976702070207021,46.861063306330635],[6.976702070207021,46.849719171917194],[6.988043204320433,46.84394759475948],[6.992126012601261,46.83081228122812],[6.984414041404141,46.82205540554055],[6.9658145814581465,46.82802600260026],[6.958102610261027,46.8109102910291],[6.966721872187219,46.802949494949495],[6.956741674167417,46.78702790279028],[6.942225022502251,46.78404260426043],[6.934966696669668,46.77070827082708],[6.919996399639965,46.75996119611961],[6.908201620162017,46.75797099709971],[6.919996399639965,46.75100530053005],[6.928615661566157,46.75379157915791],[6.9408640864086415,46.744835683568354],[6.9358739873987405,46.73309350935094],[6.916367236723673,46.71796799679968],[6.903665166516652,46.71378857885789],[6.890055805580559,46.69388658865886],[6.862837083708372,46.680950295029504],[6.871456345634564,46.672989498949896],[6.865105310531054,46.65806300630063],[6.853764176417642,46.65607280728073],[6.837886588658867,46.662839483948396],[6.815204320432044,46.64691789178918],[6.803409540954096,46.64592279227923],[6.801141314131414,46.63000120012001],[6.803409540954096,46.608706070607056],[6.794790279027904,46.57487268726872],[6.811575157515752,46.58004720472047],[6.835164716471648,46.57487268726872],[6.848320432043205,46.58283348334833],[6.863744374437444,46.57805700570057],[6.873724572457246,46.56472267226722],[6.885065706570658,46.561936393639364],[6.898221422142215,46.571091309130914],[6.900036003600361,46.559946194619464],[6.887787578757877,46.55775697569757],[6.870095409540955,46.54402460246025],[6.861022502250226,46.53088928892889],[6.855125112511252,46.5408402840284],[6.831535553555356,46.53705890589059],[6.825184518451846,46.542830483048306],[6.811121512151216,46.52491869186919],[6.836525652565257,46.49984218421842],[6.862837083708372,46.494070607060706],[6.881436543654366,46.51277847784778],[6.896406840684069,46.51894809480948],[6.9009432943294335,46.51277847784778],[6.924986498649866,46.50780298029803],[6.934966696669668,46.501036303630364],[6.953566156615662,46.502031403140315],[6.972165616561657,46.490886288628865],[6.979877587758777,46.45904310431043],[6.992126012601261,46.44889308930893],[6.983506750675068,46.43774797479748],[7.016622862286229,46.44789798979898],[7.027963996399641,46.46700390039004],[7.066070207020703,46.48889608960896],[7.105083708370838,46.48889608960896],[7.135931593159317,46.50780298029803],[7.145004500450046,46.52690889088909],[7.158613861386139,46.52690889088909],[7.1917299729973,46.5470099009901],[7.20715391539154,46.53287948794879],[7.223031503150316,46.547805980598056],[7.237094509450946,46.553975597559756],[7.246167416741675,46.53805400540054],[7.248435643564357,46.51795299529953],[7.243445544554456,46.49984218421842],[7.223485148514852,46.486706870687065],[7.231197119711972,46.46600880088009],[7.223031503150316,46.441927392739274],[7.194905490549056,46.440932293229324],[7.19309090909091,46.433966596659666],[7.209422142214222,46.41605480548055],[7.193544554455446,46.37883808380838],[7.208061206120613,46.37883808380838],[7.223031503150316,46.34898509850985],[7.22121692169217,46.32888408840884],[7.188554455445545,46.30400660066007],[7.197173717371738,46.2890801080108],[7.1858325832583265,46.28271147114711],[7.188554455445545,46.27096929692969],[7.178120612061207,46.26778497849785],[7.15090189018902,46.243902590259026],[7.125044104410442,46.23693689368937],[7.11506390639064,46.21683588358836],[7.087845184518453,46.20190939093909],[7.071060306030604,46.20091429142914],[7.032046804680469,46.187778977897786],[7.012993699369938,46.204894689468944],[7.009818181818183,46.22101530153015],[6.986682268226823,46.252062406240626],[6.963546354635464,46.26897909790979],[6.953566156615662,46.2890801080108],[6.9358739873987405,46.29883208320832],[6.929976597659767,46.33007820782078],[6.916367236723673,46.34002920292029],[6.898221422142215,46.33903410341034],[6.881436543654366,46.35396059605961],[6.886426642664267,46.364906690669066],[6.882797479747976,46.377842984298425],[6.871456345634564,46.383017501750174],[6.821101710171018,46.42700090009001]]],[[[7.052007200720073,46.976892889288926],[7.062894689468948,46.970723272327234],[7.056543654365437,46.95977717771777],[7.057904590459047,46.93907910791079],[7.091020702070208,46.90285748574858],[7.082855085508552,46.89609080908091],[7.061987398739875,46.88375157515752],[7.071060306030604,46.873800580058],[7.042934293429344,46.846733873387336],[7.028417641764177,46.850913291329135],[7.040212421242125,46.861063306330635],[7.029778577857787,46.865839783978394],[7.035222322232224,46.873004500450044],[7.016169216921693,46.88096529652965],[7.008003600360037,46.873004500450044],[6.99348694869487,46.87897509750975],[7.008457245724573,46.88892609260926],[6.988043204320433,46.90405160516052],[6.988043204320433,46.917783978397836],[6.964453645364538,46.923953595359535],[6.928615661566157,46.95281148114812],[7.002106210621063,46.986843884388435],[7.040212421242125,46.979878187818784],[7.052007200720073,46.976892889288926]]]]}},{type:"Feature",properties:{abbr:"GE",name:"Genève",no:25,centroid:[6.131090584714894,46.21657264516906]},geometry:{type:"Polygon",coordinates:[[[6.125663366336634,46.316743874387434],[6.140633663366337,46.30500170017002],[6.198700270027003,46.28370657065707],[6.220021602160217,46.311967396739675],[6.248601260126013,46.301817381738175],[6.253137713771378,46.29007520752075],[6.238167416741675,46.27574577457746],[6.267200720072008,46.24788298829883],[6.278541854185419,46.250868286828684],[6.294873087308732,46.26479967996799],[6.294873087308732,46.255843784378435],[6.309843384338435,46.255843784378435],[6.309843384338435,46.243902590259026],[6.291697569756976,46.22280648064806],[6.248601260126013,46.204894689468944],[6.23363096309631,46.205889788978894],[6.1859981998199824,46.17802700270027],[6.188720072007201,46.16608580858086],[6.175110711071108,46.15792599259926],[6.151521152115212,46.15195539553955],[6.126570657065707,46.14001420142014],[6.098444644464447,46.14379557955795],[6.0916399639964,46.15195539553955],[6.075762376237624,46.1489700970097],[6.051719171917192,46.1509602960296],[6.033573357335734,46.135834783478344],[6.023139513951396,46.142004400440044],[5.991384338433844,46.14379557955795],[5.975960396039604,46.133048504850485],[5.956453645364537,46.127873987398736],[5.96507290729073,46.1447906790679],[5.995013501350136,46.183002500250026],[5.96371197119712,46.196734873487344],[5.97777497749775,46.21683588358836],[5.99319891989199,46.21484568456845],[6.013159315931594,46.23076727672767],[6.033573357335734,46.23773297329733],[6.045821782178218,46.23076727672767],[6.059884788478849,46.24509670967097],[6.069864986498651,46.240718271827184],[6.088010801080109,46.24609180918092],[6.101620162016202,46.23773297329733],[6.123395139513952,46.250868286828684],[6.101620162016202,46.28490069006901],[6.116590459045905,46.29385658565857],[6.125663366336634,46.316743874387434]]]}},{type:"Feature",properties:{abbr:"NE",name:"Neuchâtel",no:24,centroid:[6.779945336999951,46.99553143445798]},geometry:{type:"Polygon",coordinates:[[[7.040212421242125,46.979878187818784],[7.002106210621063,46.986843884388435],[6.928615661566157,46.95281148114812],[6.8959531953195325,46.924749674967494],[6.866012601260127,46.90882808280828],[6.779366336633664,46.852903490349036],[6.753508550855086,46.871014301430144],[6.739445544554456,46.872009400940094],[6.739445544554456,46.89489668966897],[6.71721692169217,46.90604180418042],[6.7208460846084614,46.935894789478944],[6.685008100810082,46.925744774477444],[6.646448244824483,46.910818281828185],[6.626487848784879,46.88892609260926],[6.586567056705671,46.88375157515752],[6.551636363636364,46.873004500450044],[6.523056705670568,46.856883888388836],[6.481321332133214,46.846733873387336],[6.460000000000001,46.851908390839085],[6.463629162916292,46.88972217221722],[6.458185418541855,46.90086728672867],[6.4327812781278135,46.92773497349735],[6.445029702970298,46.9327104710471],[6.480867686768677,46.96395659565957],[6.496745274527453,46.973907590759076],[6.50491089108911,46.96594679467947],[6.518520252025203,46.970723272327234],[6.572957695769578,46.982067406740676],[6.596093609360937,46.993013501350134],[6.617868586858687,46.992018401840184],[6.633746174617462,46.99798899889989],[6.657789378937895,47.02605080508051],[6.678203420342035,47.03500670067007],[6.696349234923493,47.036797879787976],[6.719938793879389,47.05192339233923],[6.691359135913592,47.06585478547855],[6.7058757875787585,47.07381558155816],[6.70315391539154,47.08078127812781],[6.721753375337534,47.08874207420742],[6.743074707470748,47.091926392639266],[6.739445544554456,47.10884308430843],[6.764849684968498,47.11998819881988],[6.797965796579659,47.12894409440944],[6.840154815481549,47.14984118411841],[6.858754275427543,47.164767676767674],[6.861022502250226,47.165762776277624],[6.888694869486949,47.13073527352735],[6.88098289828983,47.10784798479848],[6.871002700270028,47.102076407640766],[6.866466246624663,47.08496069606961],[6.926347434743475,47.10884308430843],[6.996662466246625,47.11899309930993],[7.008003600360037,47.12376957695769],[7.040212421242125,47.12376957695769],[7.02297389738974,47.112027402740274],[7.028417641764177,47.104066606660666],[7.041119711971198,47.10884308430843],[7.056543654365437,47.099887188718874],[7.076050405040505,47.095707770777075],[7.086484248424843,47.08595579557956],[7.076504050405041,47.07600480048005],[7.088752475247525,47.05908810881088],[7.062894689468948,47.043962596259625],[7.051099909991,47.042967496749675],[7.032954095409542,47.030827282728275],[7.033407740774078,47.01709490949095],[7.024334833483349,47.0059497949795],[7.040212421242125,46.979878187818784]]]}},{type:"Feature",properties:{abbr:"JU",name:"Jura",no:26,centroid:[7.1559970715181755,47.35090437597201]},geometry:{type:"Polygon",coordinates:[[[7.436698469846985,47.37970917091709],[7.458019801980199,47.37075327532753],[7.49113591359136,47.36995719571957],[7.523344734473448,47.37174837483748],[7.521983798379839,47.36478267826783],[7.540129612961297,47.36000620062006],[7.536500450045005,47.350055205520555],[7.551470747074708,47.3450797079708],[7.533778577857786,47.33393459345935],[7.527881188118813,47.3227894789479],[7.557821782178219,47.32179437943795],[7.521983798379839,47.31383358335834],[7.500208820882089,47.30288748874887],[7.442142214221423,47.30905710571057],[7.42082088208821,47.30706690669067],[7.412201620162017,47.31283848384838],[7.374549054905492,47.31383358335834],[7.350052205220523,47.30487768776877],[7.336442844284429,47.30487768776877],[7.316482448244825,47.289951195119514],[7.280190819081909,47.283980598059806],[7.24299189918992,47.284776677667764],[7.193544554455446,47.29572277227723],[7.168594059405941,47.290946294629464],[7.168594059405941,47.27502470247025],[7.15090189018902,47.2698501850185],[7.1431899189919,47.25591879187919],[7.1558919891989206,47.24795799579958],[7.112795679567958,47.24178837883788],[7.096010801080109,47.23681288128813],[7.078772277227723,47.24795799579958],[7.057904590459047,47.24178837883788],[7.058358235823583,47.231041304130414],[7.046563456345635,47.226861886188615],[7.02297389738974,47.19601380138014],[6.996208820882089,47.19282948294829],[6.979877587758777,47.17372357235723],[6.969897389738975,47.18108730873087],[6.9408640864086415,47.18486868686868],[6.938142214221423,47.17471867186718],[6.9059333933393345,47.156806880688066],[6.883704770477048,47.14984118411841],[6.871456345634564,47.17372357235723],[6.861022502250226,47.165762776277624],[6.858754275427543,47.164767676767674],[6.841062106210622,47.170937293729374],[6.875085508550856,47.18486868686868],[6.88098289828983,47.19979517951795],[6.939956795679569,47.231041304130414],[6.9558343834383445,47.24377857785778],[6.946761476147615,47.2537295729573],[6.952205220522053,47.26885508550855],[6.9408640864086415,47.285771777177715],[6.953112511251126,47.291941394139414],[6.974433843384339,47.290946294629464],[6.976702070207021,47.29572277227723],[6.996662466246625,47.29572277227723],[7.008003600360037,47.301096309630964],[7.016169216921693,47.31383358335834],[7.009818181818183,47.32398359835984],[7.042934293429344,47.32597379737974],[7.056543654365437,47.33393459345935],[7.061987398739875,47.34408460846085],[7.050192619261927,47.346870887088706],[7.050192619261927,47.36100130013001],[7.032954095409542,47.36995719571957],[7.011179117911792,47.37274347434744],[6.996208820882089,47.36279247924792],[6.9209036903690375,47.354831683168314],[6.9059333933393345,47.35901110111011],[6.880075607560757,47.352045404540455],[6.883704770477048,47.37274347434744],[6.911377137713772,47.38607780778078],[6.910016201620163,47.39602880288029],[6.918635463546355,47.405780778077805],[6.938595859585959,47.405780778077805],[6.938595859585959,47.43384258425843],[6.958102610261027,47.43384258425843],[6.969897389738975,47.44697789778978],[6.994394239423943,47.44876907690769],[6.999837983798381,47.466879887988796],[6.992126012601261,47.465884788478846],[6.983053105310532,47.49275247524753],[7.023427542754276,47.50389758975898],[7.036583258325833,47.49693189318932],[7.071060306030604,47.49175737573757],[7.111434743474348,47.49494169416942],[7.128219621962197,47.50389758975898],[7.1708622862286235,47.48897109710971],[7.1958127812781285,47.49374757475748],[7.178120612061207,47.467874987498746],[7.169501350135015,47.44279847984799],[7.2057929792979305,47.43483768376838],[7.226207020702071,47.43981318131813],[7.238455445544555,47.43384258425843],[7.246167416741675,47.41991119111911],[7.270210621062107,47.42707590759076],[7.282912691269128,47.43483768376838],[7.326009000900091,47.43981318131813],[7.326009000900091,47.43185238523852],[7.340072007200721,47.43006120612061],[7.356403240324033,47.41473667366736],[7.375909990999101,47.41374157415741],[7.398592259225923,47.39682488248825],[7.4144698469847,47.39403860386039],[7.413562556255626,47.37970917091709],[7.436698469846985,47.37970917091709]]]}},{type:"Feature",properties:{abbr:"BE",name:"Bern/Berne",no:2,centroid:[7.625278926431738,46.82205040654653]},geometry:{type:"MultiPolygon",coordinates:[[[[7.824565256525654,47.26606880688069],[7.825926192619263,47.24596779677968],[7.83908190819082,47.23382758275827],[7.836360036003601,47.224075607560756],[7.846340234023403,47.216711871187115],[7.859949594959497,47.19183438343834],[7.874466246624664,47.18387358735873],[7.883085508550856,47.17272847284728],[7.874466246624664,47.161981398139815],[7.878095409540955,47.150836283628365],[7.889890189018903,47.14088528852885],[7.885807380738075,47.12794899489949],[7.873105310531054,47.12476467646765],[7.869022502250226,47.112027402740274],[7.882178217821783,47.08874207420742],[7.874012601260127,47.06207340734073],[7.865846984698471,47.05271947194719],[7.882178217821783,47.040977297729775],[7.899870387038705,47.0180900090009],[7.902138613861387,47.0059497949795],[7.924367236723673,47.00973117311731],[7.932986498649866,47.0037605760576],[7.952039603960397,47.0059497949795],[7.947956795679569,46.99380958095809],[7.952039603960397,46.981072307230725],[7.946142214221423,46.96873307330733],[7.932079207920793,46.961767376737676],[7.932079207920793,46.95082128212821],[7.922099009900991,46.9470399039904],[7.912118811881189,46.9327104710471],[7.898055805580559,46.934899689968994],[7.872198019801981,46.923953595359535],[7.866754275427543,46.91400260026003],[7.883085508550856,46.90405160516052],[7.873105310531054,46.88972217221722],[7.859042304230424,46.88474667466747],[7.856320432043205,46.871014301430144],[7.869929792979299,46.864048604860486],[7.866754275427543,46.850913291329135],[7.876734473447345,46.83698189818982],[7.922099009900991,46.82006520652065],[7.946595859585959,46.8047406740674],[7.9538541854185425,46.792003400340036],[7.9837947794779485,46.77508670867087],[8.020993699369939,46.78881908190819],[8.04866606660666,46.78782398239824],[8.089494149414943,46.78782398239824],[8.104918091809182,46.77289748974897],[8.121702970297031,46.76971317131713],[8.145746174617463,46.75478667866786],[8.190203420342035,46.76971317131713],[8.207895589558957,46.76891709170917],[8.22150495049505,46.76095629562956],[8.239197119711973,46.76971317131713],[8.259157515751577,46.76374257425743],[8.269137713771379,46.75379157915791],[8.283200720072008,46.75279647964796],[8.333101710171018,46.78085828582858],[8.35986678667867,46.782848484848486],[8.368939693969399,46.78782398239824],[8.39434383438344,46.77170337033703],[8.396158415841585,46.76473767376738],[8.413850585058507,46.77389258925893],[8.446513051305132,46.76971317131713],[8.448781278127814,46.76473767376738],[8.440615661566158,46.736874887488746],[8.448781278127814,46.71179837983798],[8.454225022502252,46.71080328032803],[8.45195679567957,46.68891109110911],[8.415211521152116,46.68672187218722],[8.399787578757877,46.693090509050904],[8.397972997299732,46.673984598459846],[8.407499549954997,46.66701890189019],[8.409767776777679,46.65288848884888],[8.398426642664267,46.65388358835884],[8.39434383438344,46.64592279227923],[8.368939693969399,46.62900610061006],[8.37120792079208,46.6140796079608],[8.360774077407742,46.59795899589959],[8.364403240324034,46.58283348334833],[8.33673087308731,46.560941294129414],[8.316770477047706,46.55875207520752],[8.303161116111612,46.54601480148015],[8.257796579657967,46.52909810981098],[8.181130513051306,46.52073927392739],[8.173872187218723,46.53088928892889],[8.154819081908192,46.53088928892889],[8.125785778577859,46.53705890589059],[8.113990999099912,46.5470099009901],[8.075884788478849,46.555766776677665],[8.060914491449147,46.550791279127914],[8.034149414941496,46.561936393639364],[8.016003600360037,46.562931493149314],[7.992867686768678,46.555766776677665],[7.986063006300631,46.547805980598056],[7.969731773177319,46.5450197019702],[7.962927092709272,46.53705890589059],[7.971092709270928,46.51695789578958],[7.9538541854185425,46.50780298029803],[7.942059405940595,46.50780298029803],[7.932986498649866,46.497851985198515],[7.894426642664267,46.481731373137315],[7.869022502250226,46.4779499949995],[7.843164716471648,46.4779499949995],[7.82365796579658,46.46700390039004],[7.797800180018003,46.45804800480048],[7.777839783978399,46.442922492249224],[7.73156795679568,46.421826382638265],[7.708432043204321,46.41386558655866],[7.693008100810082,46.42501070107011],[7.625868586858687,46.44471367136713],[7.609537353735375,46.436752875287524],[7.609537353735375,46.428792079207916],[7.593659765976598,46.4108802880288],[7.58322592259226,46.4170499049905],[7.533778577857786,46.41008420842084],[7.528788478847885,46.39993419341934],[7.555099909991,46.38898809880988],[7.526066606660667,46.374061606160616],[7.506559855985599,46.375852785278525],[7.502023402340235,46.36988218821882],[7.484331233123313,46.372071407140716],[7.48342394239424,46.382022402240224],[7.473443744374438,46.384012601260125],[7.462102610261027,46.375852785278525],[7.438059405940595,46.38580378037803],[7.428079207920793,46.381027302730274],[7.399953195319533,46.376847884788475],[7.380900090009002,46.363911591159116],[7.347783978397841,46.35077627762776],[7.315121512151216,46.34381058105811],[7.307863186318633,46.35177137713771],[7.310131413141315,46.375056705670566],[7.261591359135914,46.35774197419742],[7.261591359135914,46.33803900390039],[7.252972097209722,46.33107330733073],[7.22121692169217,46.32888408840884],[7.223031503150316,46.34898509850985],[7.208061206120613,46.37883808380838],[7.193544554455446,46.37883808380838],[7.209422142214222,46.41605480548055],[7.19309090909091,46.433966596659666],[7.194905490549056,46.440932293229324],[7.223031503150316,46.441927392739274],[7.231197119711972,46.46600880088009],[7.223485148514852,46.486706870687065],[7.243445544554456,46.49984218421842],[7.248435643564357,46.51795299529953],[7.246167416741675,46.53805400540054],[7.237094509450946,46.553975597559756],[7.259323132313232,46.562931493149314],[7.281551755175518,46.58482368236824],[7.298790279027903,46.57905210521052],[7.32101890189019,46.59178937893789],[7.315121512151216,46.5997501750175],[7.317843384338435,46.61885608560856],[7.312853285328534,46.63696689668967],[7.330091809180919,46.64174337433743],[7.32101890189019,46.65507770777078],[7.344608460846086,46.65507770777078],[7.358671467146715,46.64373357335734],[7.368198019801981,46.65507770777078],[7.378178217821783,46.68373657365736],[7.376363636363637,46.693090509050904],[7.36320792079208,46.69906110611061],[7.344608460846086,46.69906110611061],[7.348691269126913,46.71179837983798],[7.305141314131414,46.71796799679968],[7.296068406840685,46.736874887488746],[7.302873087308732,46.75996119611961],[7.290171017101711,46.77289748974897],[7.303780378037804,46.782848484848486],[7.301512151215122,46.793993599359936],[7.311038703870388,46.80991519151915],[7.32101890189019,46.8148906890689],[7.320111611161117,46.82583678367837],[7.330999099909992,46.83379757975798],[7.301512151215122,46.851908390839085],[7.316028802880289,46.863053505350535],[7.330999099909992,46.857878987898786],[7.33508190819082,46.849719171917194],[7.351413141314132,46.85409760976098],[7.358671467146715,46.862058405840585],[7.351413141314132,46.88793099309931],[7.327823582358237,46.89390159015902],[7.288356435643565,46.89390159015902],[7.282912691269128,46.88972217221722],[7.259323132313232,46.89808100810081],[7.217134113411342,46.89808100810081],[7.208061206120613,46.90285748574858],[7.188100810081009,46.89987218721872],[7.208061206120613,46.90882808280828],[7.203071107110712,46.9368898889889],[7.209422142214222,46.9428604860486],[7.20715391539154,46.96395659565957],[7.236187218721873,46.984853685368535],[7.223031503150316,46.993013501350134],[7.217134113411342,47.00694489448945],[7.153623762376238,46.985848784878485],[7.093742574257426,46.97609680968097],[7.052007200720073,46.976892889288926],[7.040212421242125,46.979878187818784],[7.024334833483349,47.0059497949795],[7.033407740774078,47.01709490949095],[7.032954095409542,47.030827282728275],[7.051099909991,47.042967496749675],[7.062894689468948,47.043962596259625],[7.088752475247525,47.05908810881088],[7.076504050405041,47.07600480048005],[7.086484248424843,47.08595579557956],[7.076050405040505,47.095707770777075],[7.056543654365437,47.099887188718874],[7.041119711971198,47.10884308430843],[7.028417641764177,47.104066606660666],[7.02297389738974,47.112027402740274],[7.040212421242125,47.12376957695769],[7.008003600360037,47.12376957695769],[6.996662466246625,47.11899309930993],[6.926347434743475,47.10884308430843],[6.866466246624663,47.08496069606961],[6.871002700270028,47.102076407640766],[6.88098289828983,47.10784798479848],[6.888694869486949,47.13073527352735],[6.861022502250226,47.165762776277624],[6.871456345634564,47.17372357235723],[6.883704770477048,47.14984118411841],[6.9059333933393345,47.156806880688066],[6.938142214221423,47.17471867186718],[6.9408640864086415,47.18486868686868],[6.969897389738975,47.18108730873087],[6.979877587758777,47.17372357235723],[6.996208820882089,47.19282948294829],[7.02297389738974,47.19601380138014],[7.046563456345635,47.226861886188615],[7.058358235823583,47.231041304130414],[7.057904590459047,47.24178837883788],[7.078772277227723,47.24795799579958],[7.096010801080109,47.23681288128813],[7.112795679567958,47.24178837883788],[7.1558919891989206,47.24795799579958],[7.1431899189919,47.25591879187919],[7.15090189018902,47.2698501850185],[7.168594059405941,47.27502470247025],[7.168594059405941,47.290946294629464],[7.193544554455446,47.29572277227723],[7.24299189918992,47.284776677667764],[7.280190819081909,47.283980598059806],[7.316482448244825,47.289951195119514],[7.336442844284429,47.30487768776877],[7.350052205220523,47.30487768776877],[7.374549054905492,47.31383358335834],[7.412201620162017,47.31283848384838],[7.42082088208821,47.30706690669067],[7.442142214221423,47.30905710571057],[7.500208820882089,47.30288748874887],[7.521983798379839,47.31383358335834],[7.557821782178219,47.32179437943795],[7.546480648064807,47.30587278727873],[7.531963996399641,47.29373257325732],[7.521076507650766,47.29373257325732],[7.484331233123313,47.283980598059806],[7.468000000000001,47.26507370737074],[7.439873987398741,47.26288448844885],[7.415830783078309,47.25173937393739],[7.42082088208821,47.24278347834783],[7.36320792079208,47.219896189618964],[7.340072007200721,47.217706970697066],[7.353681368136814,47.19183438343834],[7.365929792979299,47.19382458245825],[7.380900090009002,47.18387358735873],[7.39133393339334,47.165762776277624],[7.383168316831684,47.15979217921792],[7.410840684068408,47.161981398139815],[7.432162016201621,47.17571377137714],[7.4308010801080115,47.18287848784878],[7.446225022502251,47.18108730873087],[7.448039603960397,47.18904810481048],[7.474351035103511,47.19083928392839],[7.471175517551756,47.18108730873087],[7.481155715571558,47.171932393239324],[7.496579657965797,47.16994219421942],[7.492950495049506,47.162976497649765],[7.468000000000001,47.150836283628365],[7.449854185418543,47.15601080108011],[7.439873987398741,47.1440696069607],[7.422181818181819,47.1359097909791],[7.436698469846985,47.12277447744774],[7.403582358235824,47.11799799979998],[7.386343834383439,47.12595879587959],[7.370012601260127,47.12098329832983],[7.381353735373538,47.095707770777075],[7.395870387038705,47.092921492149216],[7.433069306930694,47.099887188718874],[7.4407812781278135,47.07381558155816],[7.468000000000001,47.07879107910791],[7.474351035103511,47.08695089508951],[7.461195319531954,47.10784798479848],[7.492043204320433,47.11680388038804],[7.510189018901891,47.12595879587959],[7.528788478847885,47.14884608460846],[7.520169216921693,47.15979217921792],[7.558729072907291,47.16775297529753],[7.581411341134114,47.15879707970797],[7.585947794779479,47.14785098509851],[7.593206120612062,47.15302550255026],[7.639477947794781,47.15402060206021],[7.644921692169218,47.14884608460846],[7.659438343834384,47.16775297529753],[7.673047704770478,47.16775297529753],[7.678037803780379,47.18287848784878],[7.661706570657066,47.2007902790279],[7.6471899189919,47.201785378537856],[7.648097209720973,47.21870207020702],[7.639477947794781,47.230046204620464],[7.625868586858687,47.225866786678665],[7.595927992799281,47.24596779677968],[7.593659765976598,47.26606880688069],[7.579596759675969,47.2760198019802],[7.613166516651666,47.280995299529955],[7.648550855085509,47.281990399039906],[7.684842484248426,47.29373257325732],[7.701173717371738,47.286766876687665],[7.711607560756076,47.2740296029603],[7.72521692169217,47.2698501850185],[7.73292889288929,47.25870507050705],[7.756972097209722,47.25790899089909],[7.77375697569757,47.26706390639064],[7.785098109810982,47.25591879187919],[7.800975697569758,47.26805900590059],[7.818214221422143,47.26188938893889],[7.824565256525654,47.26606880688069]]],[[[7.557821782178219,47.32179437943795],[7.527881188118813,47.3227894789479],[7.533778577857786,47.33393459345935],[7.551470747074708,47.3450797079708],[7.572792079207922,47.3287600760076],[7.557821782178219,47.32179437943795]]]]}}]}}]);